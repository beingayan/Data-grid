(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var JR={exports:{}},tg={},e4={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),H8=Symbol.for("react.portal"),j8=Symbol.for("react.fragment"),$8=Symbol.for("react.strict_mode"),z8=Symbol.for("react.profiler"),W8=Symbol.for("react.provider"),U8=Symbol.for("react.context"),G8=Symbol.for("react.forward_ref"),K8=Symbol.for("react.suspense"),q8=Symbol.for("react.memo"),X8=Symbol.for("react.lazy"),eE=Symbol.iterator;function Y8(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var t4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r4=Object.assign,n4={};function bc(t,e,r){this.props=t,this.context=e,this.refs=n4,this.updater=r||t4}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i4(){}i4.prototype=bc.prototype;function Ww(t,e,r){this.props=t,this.context=e,this.refs=n4,this.updater=r||t4}var Uw=Ww.prototype=new i4;Uw.constructor=Ww;r4(Uw,bc.prototype);Uw.isPureReactComponent=!0;var tE=Array.isArray,a4=Object.prototype.hasOwnProperty,Gw={current:null},o4={key:!0,ref:!0,__self:!0,__source:!0};function s4(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)a4.call(e,n)&&!o4.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),p=0;p<s;p++)l[p]=arguments[p+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Uh,type:t,key:a,ref:o,props:i,_owner:Gw.current}}function Z8(t,e){return{$$typeof:Uh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uh}function Q8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rE=/\/+/g;function g_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q8(""+t.key):e.toString(36)}function um(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uh:case H8:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+g_(o,0):n,tE(i)?(r="",t!=null&&(r=t.replace(rE,"$&/")+"/"),um(i,e,r,"",function(p){return p})):i!=null&&(Kw(i)&&(i=Z8(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",tE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+g_(a,s);o+=um(a,e,r,l,i)}else if(l=Y8(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+g_(a,s++),o+=um(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vf(t,e,r){if(t==null)return t;var n=[],i=0;return um(t,n,"","",function(a){return e.call(r,a,i++)}),n}function J8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},cm={transition:null},eN={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:cm,ReactCurrentOwner:Gw};Zt.Children={map:Vf,forEach:function(t,e,r){Vf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vf(t,function(){e++}),e},toArray:function(t){return Vf(t,function(e){return e})||[]},only:function(t){if(!Kw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Zt.Component=bc;Zt.Fragment=j8;Zt.Profiler=z8;Zt.PureComponent=Ww;Zt.StrictMode=$8;Zt.Suspense=K8;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eN;Zt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=r4({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Gw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)a4.call(e,l)&&!o4.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var p=0;p<l;p++)s[p]=arguments[p+2];n.children=s}return{$$typeof:Uh,type:t.type,key:i,ref:a,props:n,_owner:o}};Zt.createContext=function(t){return t={$$typeof:U8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W8,_context:t},t.Consumer=t};Zt.createElement=s4;Zt.createFactory=function(t){var e=s4.bind(null,t);return e.type=t,e};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(t){return{$$typeof:G8,render:t}};Zt.isValidElement=Kw;Zt.lazy=function(t){return{$$typeof:X8,_payload:{_status:-1,_result:t},_init:J8}};Zt.memo=function(t,e){return{$$typeof:q8,type:t,compare:e===void 0?null:e}};Zt.startTransition=function(t){var e=cm.transition;cm.transition={};try{t()}finally{cm.transition=e}};Zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Zt.useCallback=function(t,e){return Xn.current.useCallback(t,e)};Zt.useContext=function(t){return Xn.current.useContext(t)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};Zt.useEffect=function(t,e){return Xn.current.useEffect(t,e)};Zt.useId=function(){return Xn.current.useId()};Zt.useImperativeHandle=function(t,e,r){return Xn.current.useImperativeHandle(t,e,r)};Zt.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};Zt.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};Zt.useMemo=function(t,e){return Xn.current.useMemo(t,e)};Zt.useReducer=function(t,e,r){return Xn.current.useReducer(t,e,r)};Zt.useRef=function(t){return Xn.current.useRef(t)};Zt.useState=function(t){return Xn.current.useState(t)};Zt.useSyncExternalStore=function(t,e,r){return Xn.current.useSyncExternalStore(t,e,r)};Zt.useTransition=function(){return Xn.current.useTransition()};Zt.version="18.2.0";e4.exports=Zt;var pr=e4.exports;const Na=V8(pr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN=pr,rN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),iN=Object.prototype.hasOwnProperty,aN=tN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oN={key:!0,ref:!0,__self:!0,__source:!0};function l4(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)iN.call(e,n)&&!oN.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:rN,type:t,key:a,ref:o,props:i,_owner:aN.current}}tg.Fragment=nN;tg.jsx=l4;tg.jsxs=l4;JR.exports=tg;var We=JR.exports,Cb={},u4={exports:{}},Ti={},c4={exports:{}},d4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,M){var N=I.length;I.push(M);e:for(;0<N;){var j=N-1>>>1,H=I[j];if(0<i(H,M))I[j]=M,I[N]=H,N=j;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var M=I[0],N=I.pop();if(N!==M){I[0]=N;e:for(var j=0,H=I.length,U=H>>>1;j<U;){var W=2*(j+1)-1,G=I[W],K=W+1,Q=I[K];if(0>i(G,N))K<H&&0>i(Q,G)?(I[j]=Q,I[K]=N,j=K):(I[j]=G,I[W]=N,j=W);else if(K<H&&0>i(Q,N))I[j]=Q,I[K]=N,j=K;else break e}}return M}function i(I,M){var N=I.sortIndex-M.sortIndex;return N!==0?N:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],p=[],h=1,m=null,v=3,f=!1,u=!1,c=!1,d=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var M=r(p);M!==null;){if(M.callback===null)n(p);else if(M.startTime<=I)n(p),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(p)}}function b(I){if(c=!1,y(I),!u)if(r(l)!==null)u=!0,R(C);else{var M=r(p);M!==null&&T(b,M.startTime-I)}}function C(I,M){u=!1,c&&(c=!1,_(A),A=-1),f=!0;var N=v;try{for(y(M),m=r(l);m!==null&&(!(m.expirationTime>M)||I&&!k());){var j=m.callback;if(typeof j=="function"){m.callback=null,v=m.priorityLevel;var H=j(m.expirationTime<=M);M=t.unstable_now(),typeof H=="function"?m.callback=H:m===r(l)&&n(l),y(M)}else n(l);m=r(l)}if(m!==null)var U=!0;else{var W=r(p);W!==null&&T(b,W.startTime-M),U=!1}return U}finally{m=null,v=N,f=!1}}var w=!1,x=null,A=-1,D=5,P=-1;function k(){return!(t.unstable_now()-P<D)}function B(){if(x!==null){var I=t.unstable_now();P=I;var M=!0;try{M=x(!0,I)}finally{M?E():(w=!1,x=null)}}else w=!1}var E;if(typeof g=="function")E=function(){g(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,S=O.port2;O.port1.onmessage=B,E=function(){S.postMessage(null)}}else E=function(){d(B,0)};function R(I){x=I,w||(w=!0,E())}function T(I,M){A=d(function(){I(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){u||f||(u=!0,R(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var M=3;break;default:M=v}var N=v;v=M;try{return I()}finally{v=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var N=v;v=I;try{return M()}finally{v=N}},t.unstable_scheduleCallback=function(I,M,N){var j=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?j+N:j):N=j,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=N+H,I={id:h++,callback:M,priorityLevel:I,startTime:N,expirationTime:H,sortIndex:-1},N>j?(I.sortIndex=N,e(p,I),r(l)===null&&I===r(p)&&(c?(_(A),A=-1):c=!0,T(b,N-j))):(I.sortIndex=H,e(l,I),u||f||(u=!0,R(C))),I},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(I){var M=v;return function(){var N=v;v=M;try{return I.apply(this,arguments)}finally{v=N}}}})(d4);c4.exports=d4;var sN=c4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4=pr,xi=sN;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f4=new Set,ah={};function Bl(t,e){tc(t,e),tc(t+"Capture",e)}function tc(t,e){for(ah[t]=e,t=0;t<e.length;t++)f4.add(e[t])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wb=Object.prototype.hasOwnProperty,lN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nE={},iE={};function uN(t){return wb.call(iE,t)?!0:wb.call(nE,t)?!1:lN.test(t)?iE[t]=!0:(nE[t]=!0,!1)}function cN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dN(t,e,r,n){if(e===null||typeof e>"u"||cN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qw=/[\-:]([a-z])/g;function Xw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qw,Xw);Tn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qw,Xw);Tn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qw,Xw);Tn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yw(t,e,r,n){var i=Tn.hasOwnProperty(e)?Tn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dN(e,r,i,n)&&(r=null),n||i===null?uN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Oo=h4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),Ou=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),xb=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),m4=Symbol.for("react.context"),Qw=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),Eb=Symbol.for("react.suspense_list"),Jw=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),v4=Symbol.for("react.offscreen"),aE=Symbol.iterator;function Rc(t){return t===null||typeof t!="object"?null:(t=aE&&t[aE]||t["@@iterator"],typeof t=="function"?t:null)}var $r=Object.assign,__;function yd(t){if(__===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);__=e&&e[1]||""}return`
`+__+t}var y_=!1;function b_(t,e){if(!t||y_)return"";y_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var n=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){n=p}t.call(e.prototype)}else{try{throw Error()}catch(p){n=p}t()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{y_=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yd(t):""}function hN(t){switch(t.tag){case 5:return yd(t.type);case 16:return yd("Lazy");case 13:return yd("Suspense");case 19:return yd("SuspenseList");case 0:case 2:case 15:return t=b_(t.type,!1),t;case 11:return t=b_(t.type.render,!1),t;case 1:return t=b_(t.type,!0),t;default:return""}}function Ib(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ku:return"Fragment";case Ou:return"Portal";case xb:return"Profiler";case Zw:return"StrictMode";case Sb:return"Suspense";case Eb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m4:return(t.displayName||"Context")+".Consumer";case p4:return(t._context.displayName||"Context")+".Provider";case Qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jw:return e=t.displayName||null,e!==null?e:Ib(t.type)||"Memo";case jo:e=t._payload,t=t._init;try{return Ib(t(e))}catch{}}return null}function fN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ib(e);case 8:return e===Zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pN(t){var e=g4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jf(t){t._valueTracker||(t._valueTracker=pN(t))}function _4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=g4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tb(t,e){var r=e.checked;return $r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y4(t,e){e=e.checked,e!=null&&Yw(t,"checked",e,!1)}function Ob(t,e){y4(t,e);var r=fs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kb(t,e.type,r):e.hasOwnProperty("defaultValue")&&kb(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function kb(t,e,r){(e!=="number"||Gm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var bd=Array.isArray;function Gu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ab(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return $r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(He(92));if(bd(r)){if(1<r.length)throw Error(He(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fs(r)}}function b4(t,e){var r=fs(e.value),n=fs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Db(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $f,w4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($f=$f||document.createElement("div"),$f.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$f.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mN=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(t){mN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Md[e]=Md[t]})});function x4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Md.hasOwnProperty(t)&&Md[t]?(""+e).trim():e+"px"}function S4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=x4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var vN=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rb(t,e){if(e){if(vN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function Pb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mb=null;function e1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bb=null,Ku=null,qu=null;function cE(t){if(t=qh(t)){if(typeof Bb!="function")throw Error(He(280));var e=t.stateNode;e&&(e=og(e),Bb(t.stateNode,t.type,e))}}function E4(t){Ku?qu?qu.push(t):qu=[t]:Ku=t}function I4(){if(Ku){var t=Ku,e=qu;if(qu=Ku=null,cE(t),e)for(t=0;t<e.length;t++)cE(e[t])}}function T4(t,e){return t(e)}function O4(){}var C_=!1;function k4(t,e,r){if(C_)return t(e,r);C_=!0;try{return T4(t,e,r)}finally{C_=!1,(Ku!==null||qu!==null)&&(O4(),I4())}}function sh(t,e){var r=t.stateNode;if(r===null)return null;var n=og(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(He(231,e,typeof r));return r}var Lb=!1;if(bo)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Lb=!1}function gN(t,e,r,n,i,a,o,s,l){var p=Array.prototype.slice.call(arguments,3);try{e.apply(r,p)}catch(h){this.onError(h)}}var Bd=!1,Km=null,qm=!1,Fb=null,_N={onError:function(t){Bd=!0,Km=t}};function yN(t,e,r,n,i,a,o,s,l){Bd=!1,Km=null,gN.apply(_N,arguments)}function bN(t,e,r,n,i,a,o,s,l){if(yN.apply(this,arguments),Bd){if(Bd){var p=Km;Bd=!1,Km=null}else throw Error(He(198));qm||(qm=!0,Fb=p)}}function Ll(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function A4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dE(t){if(Ll(t)!==t)throw Error(He(188))}function CN(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(He(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return dE(i),t;if(a===n)return dE(i),e;a=a.sibling}throw Error(He(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?t:e}function D4(t){return t=CN(t),t!==null?R4(t):null}function R4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R4(t);if(e!==null)return e;t=t.sibling}return null}var P4=xi.unstable_scheduleCallback,hE=xi.unstable_cancelCallback,wN=xi.unstable_shouldYield,xN=xi.unstable_requestPaint,Zr=xi.unstable_now,SN=xi.unstable_getCurrentPriorityLevel,t1=xi.unstable_ImmediatePriority,M4=xi.unstable_UserBlockingPriority,Xm=xi.unstable_NormalPriority,EN=xi.unstable_LowPriority,B4=xi.unstable_IdlePriority,rg=null,Ma=null;function IN(t){if(Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(rg,t,void 0,(t.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:kN,TN=Math.log,ON=Math.LN2;function kN(t){return t>>>=0,t===0?32:31-(TN(t)/ON|0)|0}var zf=64,Wf=4194304;function Cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ym(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Cd(s):(a&=o,a!==0&&(n=Cd(a)))}else o=r&~i,o!==0?n=Cd(o):a!==0&&(n=Cd(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-aa(e),i=1<<r,n|=t[r],e&=~i;return n}function AN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-aa(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=AN(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Nb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L4(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function w_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-aa(e),t[e]=r}function RN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-aa(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function r1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-aa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var gr=0;function F4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N4,n1,V4,H4,j4,Vb=!1,Uf=[],es=null,ts=null,rs=null,lh=new Map,uh=new Map,Uo=[],PN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fE(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function Mc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=qh(e),e!==null&&n1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MN(t,e,r,n,i){switch(e){case"focusin":return es=Mc(es,t,e,r,n,i),!0;case"dragenter":return ts=Mc(ts,t,e,r,n,i),!0;case"mouseover":return rs=Mc(rs,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return lh.set(a,Mc(lh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,uh.set(a,Mc(uh.get(a)||null,t,e,r,n,i)),!0}return!1}function $4(t){var e=Zs(t.target);if(e!==null){var r=Ll(e);if(r!==null){if(e=r.tag,e===13){if(e=A4(r),e!==null){t.blockedOn=e,j4(t.priority,function(){V4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Hb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Mb=n,r.target.dispatchEvent(n),Mb=null}else return e=qh(r),e!==null&&n1(e),t.blockedOn=r,!1;e.shift()}return!0}function pE(t,e,r){dm(t)&&r.delete(e)}function BN(){Vb=!1,es!==null&&dm(es)&&(es=null),ts!==null&&dm(ts)&&(ts=null),rs!==null&&dm(rs)&&(rs=null),lh.forEach(pE),uh.forEach(pE)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,Vb||(Vb=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,BN)))}function ch(t){function e(i){return Bc(i,t)}if(0<Uf.length){Bc(Uf[0],t);for(var r=1;r<Uf.length;r++){var n=Uf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(es!==null&&Bc(es,t),ts!==null&&Bc(ts,t),rs!==null&&Bc(rs,t),lh.forEach(e),uh.forEach(e),r=0;r<Uo.length;r++)n=Uo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Uo.length&&(r=Uo[0],r.blockedOn===null);)$4(r),r.blockedOn===null&&Uo.shift()}var Xu=Oo.ReactCurrentBatchConfig,Zm=!0;function LN(t,e,r,n){var i=gr,a=Xu.transition;Xu.transition=null;try{gr=1,i1(t,e,r,n)}finally{gr=i,Xu.transition=a}}function FN(t,e,r,n){var i=gr,a=Xu.transition;Xu.transition=null;try{gr=4,i1(t,e,r,n)}finally{gr=i,Xu.transition=a}}function i1(t,e,r,n){if(Zm){var i=Hb(t,e,r,n);if(i===null)R_(t,e,n,Qm,r),fE(t,n);else if(MN(i,t,e,r,n))n.stopPropagation();else if(fE(t,n),e&4&&-1<PN.indexOf(t)){for(;i!==null;){var a=qh(i);if(a!==null&&N4(a),a=Hb(t,e,r,n),a===null&&R_(t,e,n,Qm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else R_(t,e,n,null,r)}}var Qm=null;function Hb(t,e,r,n){if(Qm=null,t=e1(n),t=Zs(t),t!==null)if(e=Ll(t),e===null)t=null;else if(r=e.tag,r===13){if(t=A4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qm=t,null}function z4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SN()){case t1:return 1;case M4:return 4;case Xm:case EN:return 16;case B4:return 536870912;default:return 16}default:return 16}}var Yo=null,a1=null,hm=null;function W4(){if(hm)return hm;var t,e=a1,r=e.length,n,i="value"in Yo?Yo.value:Yo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return hm=i.slice(t,1<n?1-n:void 0)}function fm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gf(){return!0}function mE(){return!1}function Oi(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gf:mE,this.isPropagationStopped=mE,this}return $r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),e}var Cc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o1=Oi(Cc),Kh=$r({},Cc,{view:0,detail:0}),NN=Oi(Kh),x_,S_,Lc,ng=$r({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(x_=t.screenX-Lc.screenX,S_=t.screenY-Lc.screenY):S_=x_=0,Lc=t),x_)},movementY:function(t){return"movementY"in t?t.movementY:S_}}),vE=Oi(ng),VN=$r({},ng,{dataTransfer:0}),HN=Oi(VN),jN=$r({},Kh,{relatedTarget:0}),E_=Oi(jN),$N=$r({},Cc,{animationName:0,elapsedTime:0,pseudoElement:0}),zN=Oi($N),WN=$r({},Cc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UN=Oi(WN),GN=$r({},Cc,{data:0}),gE=Oi(GN),KN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XN[t])?!!e[t]:!1}function s1(){return YN}var ZN=$r({},Kh,{key:function(t){if(t.key){var e=KN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s1,charCode:function(t){return t.type==="keypress"?fm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QN=Oi(ZN),JN=$r({},ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_E=Oi(JN),eV=$r({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s1}),tV=Oi(eV),rV=$r({},Cc,{propertyName:0,elapsedTime:0,pseudoElement:0}),nV=Oi(rV),iV=$r({},ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aV=Oi(iV),oV=[9,13,27,32],l1=bo&&"CompositionEvent"in window,Ld=null;bo&&"documentMode"in document&&(Ld=document.documentMode);var sV=bo&&"TextEvent"in window&&!Ld,U4=bo&&(!l1||Ld&&8<Ld&&11>=Ld),yE=String.fromCharCode(32),bE=!1;function G4(t,e){switch(t){case"keyup":return oV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Au=!1;function lV(t,e){switch(t){case"compositionend":return K4(e);case"keypress":return e.which!==32?null:(bE=!0,yE);case"textInput":return t=e.data,t===yE&&bE?null:t;default:return null}}function uV(t,e){if(Au)return t==="compositionend"||!l1&&G4(t,e)?(t=W4(),hm=a1=Yo=null,Au=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U4&&e.locale!=="ko"?null:e.data;default:return null}}var cV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cV[t.type]:e==="textarea"}function q4(t,e,r,n){E4(n),e=Jm(e,"onChange"),0<e.length&&(r=new o1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Fd=null,dh=null;function dV(t){aP(t,0)}function ig(t){var e=Pu(t);if(_4(e))return t}function hV(t,e){if(t==="change")return e}var X4=!1;if(bo){var I_;if(bo){var T_="oninput"in document;if(!T_){var wE=document.createElement("div");wE.setAttribute("oninput","return;"),T_=typeof wE.oninput=="function"}I_=T_}else I_=!1;X4=I_&&(!document.documentMode||9<document.documentMode)}function xE(){Fd&&(Fd.detachEvent("onpropertychange",Y4),dh=Fd=null)}function Y4(t){if(t.propertyName==="value"&&ig(dh)){var e=[];q4(e,dh,t,e1(t)),k4(dV,e)}}function fV(t,e,r){t==="focusin"?(xE(),Fd=e,dh=r,Fd.attachEvent("onpropertychange",Y4)):t==="focusout"&&xE()}function pV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ig(dh)}function mV(t,e){if(t==="click")return ig(e)}function vV(t,e){if(t==="input"||t==="change")return ig(e)}function gV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sa=typeof Object.is=="function"?Object.is:gV;function hh(t,e){if(sa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!wb.call(e,i)||!sa(t[i],e[i]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function EE(t,e){var r=SE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SE(r)}}function Z4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q4(){for(var t=window,e=Gm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gm(t.document)}return e}function u1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _V(t){var e=Q4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Z4(r.ownerDocument.documentElement,r)){if(n!==null&&u1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=EE(r,a);var o=EE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yV=bo&&"documentMode"in document&&11>=document.documentMode,Du=null,jb=null,Nd=null,$b=!1;function IE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$b||Du==null||Du!==Gm(n)||(n=Du,"selectionStart"in n&&u1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nd&&hh(Nd,n)||(Nd=n,n=Jm(jb,"onSelect"),0<n.length&&(e=new o1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Du)))}function Kf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ru={animationend:Kf("Animation","AnimationEnd"),animationiteration:Kf("Animation","AnimationIteration"),animationstart:Kf("Animation","AnimationStart"),transitionend:Kf("Transition","TransitionEnd")},O_={},J4={};bo&&(J4=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function ag(t){if(O_[t])return O_[t];if(!Ru[t])return t;var e=Ru[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in J4)return O_[t]=e[r];return t}var eP=ag("animationend"),tP=ag("animationiteration"),rP=ag("animationstart"),nP=ag("transitionend"),iP=new Map,TE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){iP.set(t,e),Bl(e,[t])}for(var k_=0;k_<TE.length;k_++){var A_=TE[k_],bV=A_.toLowerCase(),CV=A_[0].toUpperCase()+A_.slice(1);xs(bV,"on"+CV)}xs(eP,"onAnimationEnd");xs(tP,"onAnimationIteration");xs(rP,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(nP,"onTransitionEnd");tc("onMouseEnter",["mouseout","mouseover"]);tc("onMouseLeave",["mouseout","mouseover"]);tc("onPointerEnter",["pointerout","pointerover"]);tc("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wV=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function OE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bN(n,e,void 0,t),t.currentTarget=null}function aP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,p=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;OE(i,s,p),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,p=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;OE(i,s,p),a=l}}}if(qm)throw t=Fb,qm=!1,Fb=null,t}function kr(t,e){var r=e[Kb];r===void 0&&(r=e[Kb]=new Set);var n=t+"__bubble";r.has(n)||(oP(e,t,2,!1),r.add(n))}function D_(t,e,r){var n=0;e&&(n|=4),oP(r,t,n,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function fh(t){if(!t[qf]){t[qf]=!0,f4.forEach(function(r){r!=="selectionchange"&&(wV.has(r)||D_(r,!1,t),D_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qf]||(e[qf]=!0,D_("selectionchange",!1,e))}}function oP(t,e,r,n){switch(z4(e)){case 1:var i=LN;break;case 4:i=FN;break;default:i=i1}r=i.bind(null,e,r,t),i=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function R_(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Zs(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}k4(function(){var p=a,h=e1(r),m=[];e:{var v=iP.get(t);if(v!==void 0){var f=o1,u=t;switch(t){case"keypress":if(fm(r)===0)break e;case"keydown":case"keyup":f=QN;break;case"focusin":u="focus",f=E_;break;case"focusout":u="blur",f=E_;break;case"beforeblur":case"afterblur":f=E_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tV;break;case eP:case tP:case rP:f=zN;break;case nP:f=nV;break;case"scroll":f=NN;break;case"wheel":f=aV;break;case"copy":case"cut":case"paste":f=UN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_E}var c=(e&4)!==0,d=!c&&t==="scroll",_=c?v!==null?v+"Capture":null:v;c=[];for(var g=p,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,_!==null&&(b=sh(g,_),b!=null&&c.push(ph(g,b,y)))),d)break;g=g.return}0<c.length&&(v=new f(v,u,null,r,h),m.push({event:v,listeners:c}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",v&&r!==Mb&&(u=r.relatedTarget||r.fromElement)&&(Zs(u)||u[Co]))break e;if((f||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,f?(u=r.relatedTarget||r.toElement,f=p,u=u?Zs(u):null,u!==null&&(d=Ll(u),u!==d||u.tag!==5&&u.tag!==6)&&(u=null)):(f=null,u=p),f!==u)){if(c=vE,b="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(c=_E,b="onPointerLeave",_="onPointerEnter",g="pointer"),d=f==null?v:Pu(f),y=u==null?v:Pu(u),v=new c(b,g+"leave",f,r,h),v.target=d,v.relatedTarget=y,b=null,Zs(h)===p&&(c=new c(_,g+"enter",u,r,h),c.target=y,c.relatedTarget=d,b=c),d=b,f&&u)t:{for(c=f,_=u,g=0,y=c;y;y=ru(y))g++;for(y=0,b=_;b;b=ru(b))y++;for(;0<g-y;)c=ru(c),g--;for(;0<y-g;)_=ru(_),y--;for(;g--;){if(c===_||_!==null&&c===_.alternate)break t;c=ru(c),_=ru(_)}c=null}else c=null;f!==null&&kE(m,v,f,c,!1),u!==null&&d!==null&&kE(m,d,u,c,!0)}}e:{if(v=p?Pu(p):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var C=hV;else if(CE(v))if(X4)C=vV;else{C=pV;var w=fV}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=mV);if(C&&(C=C(t,p))){q4(m,C,r,h);break e}w&&w(t,v,p),t==="focusout"&&(w=v._wrapperState)&&w.controlled&&v.type==="number"&&kb(v,"number",v.value)}switch(w=p?Pu(p):window,t){case"focusin":(CE(w)||w.contentEditable==="true")&&(Du=w,jb=p,Nd=null);break;case"focusout":Nd=jb=Du=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,IE(m,r,h);break;case"selectionchange":if(yV)break;case"keydown":case"keyup":IE(m,r,h)}var x;if(l1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Au?G4(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(U4&&r.locale!=="ko"&&(Au||A!=="onCompositionStart"?A==="onCompositionEnd"&&Au&&(x=W4()):(Yo=h,a1="value"in Yo?Yo.value:Yo.textContent,Au=!0)),w=Jm(p,A),0<w.length&&(A=new gE(A,t,null,r,h),m.push({event:A,listeners:w}),x?A.data=x:(x=K4(r),x!==null&&(A.data=x)))),(x=sV?lV(t,r):uV(t,r))&&(p=Jm(p,"onBeforeInput"),0<p.length&&(h=new gE("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:p}),h.data=x))}aP(m,e)})}function ph(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Jm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=sh(t,r),a!=null&&n.unshift(ph(t,a,i)),a=sh(t,e),a!=null&&n.push(ph(t,a,i))),t=t.return}return n}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,p=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&p!==null&&(s=p,i?(l=sh(r,a),l!=null&&o.unshift(ph(r,l,s))):i||(l=sh(r,a),l!=null&&o.push(ph(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var xV=/\r\n?/g,SV=/\u0000|\uFFFD/g;function AE(t){return(typeof t=="string"?t:""+t).replace(xV,`
`).replace(SV,"")}function Xf(t,e,r){if(e=AE(e),AE(t)!==e&&r)throw Error(He(425))}function ev(){}var zb=null,Wb=null;function Ub(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gb=typeof setTimeout=="function"?setTimeout:void 0,EV=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,IV=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(t){return DE.resolve(null).then(t).catch(TV)}:Gb;function TV(t){setTimeout(function(){throw t})}function P_(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ch(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ch(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wc=Math.random().toString(36).slice(2),ka="__reactFiber$"+wc,mh="__reactProps$"+wc,Co="__reactContainer$"+wc,Kb="__reactEvents$"+wc,OV="__reactListeners$"+wc,kV="__reactHandles$"+wc;function Zs(t){var e=t[ka];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Co]||r[ka]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=RE(t);t!==null;){if(r=t[ka])return r;t=RE(t)}return e}t=r,r=t.parentNode}return null}function qh(t){return t=t[ka]||t[Co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function og(t){return t[mh]||null}var qb=[],Mu=-1;function Ss(t){return{current:t}}function Ar(t){0>Mu||(t.current=qb[Mu],qb[Mu]=null,Mu--)}function Ir(t,e){Mu++,qb[Mu]=t.current,t.current=e}var ps={},Vn=Ss(ps),li=Ss(!1),gl=ps;function rc(t,e){var r=t.type.contextTypes;if(!r)return ps;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function tv(){Ar(li),Ar(Vn)}function PE(t,e,r){if(Vn.current!==ps)throw Error(He(168));Ir(Vn,e),Ir(li,r)}function sP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(He(108,fN(t)||"Unknown",i));return $r({},r,n)}function rv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,gl=Vn.current,Ir(Vn,t),Ir(li,li.current),!0}function ME(t,e,r){var n=t.stateNode;if(!n)throw Error(He(169));r?(t=sP(t,e,gl),n.__reactInternalMemoizedMergedChildContext=t,Ar(li),Ar(Vn),Ir(Vn,t)):Ar(li),Ir(li,r)}var to=null,sg=!1,M_=!1;function lP(t){to===null?to=[t]:to.push(t)}function AV(t){sg=!0,lP(t)}function Es(){if(!M_&&to!==null){M_=!0;var t=0,e=gr;try{var r=to;for(gr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}to=null,sg=!1}catch(i){throw to!==null&&(to=to.slice(t+1)),P4(t1,Es),i}finally{gr=e,M_=!1}}return null}var Bu=[],Lu=0,nv=null,iv=0,Bi=[],Li=0,_l=null,io=1,ao="";function zs(t,e){Bu[Lu++]=iv,Bu[Lu++]=nv,nv=t,iv=e}function uP(t,e,r){Bi[Li++]=io,Bi[Li++]=ao,Bi[Li++]=_l,_l=t;var n=io;t=ao;var i=32-aa(n)-1;n&=~(1<<i),r+=1;var a=32-aa(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,io=1<<32-aa(e)+i|r<<i|n,ao=a+t}else io=1<<a|r<<i|n,ao=t}function c1(t){t.return!==null&&(zs(t,1),uP(t,1,0))}function d1(t){for(;t===nv;)nv=Bu[--Lu],Bu[Lu]=null,iv=Bu[--Lu],Bu[Lu]=null;for(;t===_l;)_l=Bi[--Li],Bi[Li]=null,ao=Bi[--Li],Bi[Li]=null,io=Bi[--Li],Bi[Li]=null}var bi=null,_i=null,Pr=!1,na=null;function cP(t,e){var r=Ni(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function BE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bi=t,_i=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bi=t,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=_l!==null?{id:io,overflow:ao}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ni(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bi=t,_i=null,!0):!1;default:return!1}}function Xb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yb(t){if(Pr){var e=_i;if(e){var r=e;if(!BE(t,e)){if(Xb(t))throw Error(He(418));e=ns(r.nextSibling);var n=bi;e&&BE(t,e)?cP(n,r):(t.flags=t.flags&-4097|2,Pr=!1,bi=t)}}else{if(Xb(t))throw Error(He(418));t.flags=t.flags&-4097|2,Pr=!1,bi=t}}}function LE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bi=t}function Yf(t){if(t!==bi)return!1;if(!Pr)return LE(t),Pr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ub(t.type,t.memoizedProps)),e&&(e=_i)){if(Xb(t))throw dP(),Error(He(418));for(;e;)cP(t,e),e=ns(e.nextSibling)}if(LE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){_i=ns(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}_i=null}}else _i=bi?ns(t.stateNode.nextSibling):null;return!0}function dP(){for(var t=_i;t;)t=ns(t.nextSibling)}function nc(){_i=bi=null,Pr=!1}function h1(t){na===null?na=[t]:na.push(t)}var DV=Oo.ReactCurrentBatchConfig;function ea(t,e){if(t&&t.defaultProps){e=$r({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var av=Ss(null),ov=null,Fu=null,f1=null;function p1(){f1=Fu=ov=null}function m1(t){var e=av.current;Ar(av),t._currentValue=e}function Zb(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yu(t,e){ov=t,f1=Fu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oi=!0),t.firstContext=null)}function Wi(t){var e=t._currentValue;if(f1!==t)if(t={context:t,memoizedValue:e,next:null},Fu===null){if(ov===null)throw Error(He(308));Fu=t,ov.dependencies={lanes:0,firstContext:t}}else Fu=Fu.next=t;return e}var Qs=null;function v1(t){Qs===null?Qs=[t]:Qs.push(t)}function hP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,v1(e)):(r.next=i.next,i.next=r),e.interleaved=r,wo(t,n)}function wo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $o=!1;function g1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ir&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,wo(t,r)}return i=n.interleaved,i===null?(e.next=e,v1(n)):(e.next=i.next,i.next=e),n.interleaved=e,wo(t,r)}function pm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,r1(t,r)}}function FE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sv(t,e,r,n){var i=t.updateQueue;$o=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,p=l.next;l.next=null,o===null?a=p:o.next=p,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=p:s.next=p,h.lastBaseUpdate=l))}if(a!==null){var m=i.baseState;o=0,h=p=l=null,s=a;do{var v=s.lane,f=s.eventTime;if((n&v)===v){h!==null&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var u=t,c=s;switch(v=e,f=r,c.tag){case 1:if(u=c.payload,typeof u=="function"){m=u.call(f,m,v);break e}m=u;break e;case 3:u.flags=u.flags&-65537|128;case 0:if(u=c.payload,v=typeof u=="function"?u.call(f,m,v):u,v==null)break e;m=$r({},m,v);break e;case 2:$o=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else f={eventTime:f,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(p=h=f,l=m):h=h.next=f,o|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=p,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);bl|=o,t.lanes=o,t.memoizedState=m}}function NE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(He(191,i));i.call(n)}}}var pP=new h4.Component().refs;function Qb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$r({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var lg={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Un(),i=os(t),a=so(n,i);a.payload=e,r!=null&&(a.callback=r),e=is(t,a,i),e!==null&&(oa(e,t,i,n),pm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Un(),i=os(t),a=so(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=is(t,a,i),e!==null&&(oa(e,t,i,n),pm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Un(),n=os(t),i=so(r,n);i.tag=2,e!=null&&(i.callback=e),e=is(t,i,n),e!==null&&(oa(e,t,n,r),pm(e,t,n))}};function VE(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!hh(r,n)||!hh(i,a):!0}function mP(t,e,r){var n=!1,i=ps,a=e.contextType;return typeof a=="object"&&a!==null?a=Wi(a):(i=ui(e)?gl:Vn.current,n=e.contextTypes,a=(n=n!=null)?rc(t,i):ps),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function HE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function Jb(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=pP,g1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Wi(a):(a=ui(e)?gl:Vn.current,i.context=rc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Qb(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lg.enqueueReplaceState(i,i.state,null),sv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;s===pP&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,t))}return t}function Zf(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jE(t){var e=t._init;return e(t._payload)}function vP(t){function e(_,g){if(t){var y=_.deletions;y===null?(_.deletions=[g],_.flags|=16):y.push(g)}}function r(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function n(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=ss(_,g),_.index=0,_.sibling=null,_}function a(_,g,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<g?(_.flags|=2,g):y):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,g,y,b){return g===null||g.tag!==6?(g=j_(y,_.mode,b),g.return=_,g):(g=i(g,y),g.return=_,g)}function l(_,g,y,b){var C=y.type;return C===ku?h(_,g,y.props.children,b,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jo&&jE(C)===g.type)?(b=i(g,y.props),b.ref=Fc(_,g,y),b.return=_,b):(b=bm(y.type,y.key,y.props,null,_.mode,b),b.ref=Fc(_,g,y),b.return=_,b)}function p(_,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=$_(y,_.mode,b),g.return=_,g):(g=i(g,y.children||[]),g.return=_,g)}function h(_,g,y,b,C){return g===null||g.tag!==7?(g=ll(y,_.mode,b,C),g.return=_,g):(g=i(g,y),g.return=_,g)}function m(_,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=j_(""+g,_.mode,y),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hf:return y=bm(g.type,g.key,g.props,null,_.mode,y),y.ref=Fc(_,null,g),y.return=_,y;case Ou:return g=$_(g,_.mode,y),g.return=_,g;case jo:var b=g._init;return m(_,b(g._payload),y)}if(bd(g)||Rc(g))return g=ll(g,_.mode,y,null),g.return=_,g;Zf(_,g)}return null}function v(_,g,y,b){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:s(_,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hf:return y.key===C?l(_,g,y,b):null;case Ou:return y.key===C?p(_,g,y,b):null;case jo:return C=y._init,v(_,g,C(y._payload),b)}if(bd(y)||Rc(y))return C!==null?null:h(_,g,y,b,null);Zf(_,y)}return null}function f(_,g,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(y)||null,s(g,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hf:return _=_.get(b.key===null?y:b.key)||null,l(g,_,b,C);case Ou:return _=_.get(b.key===null?y:b.key)||null,p(g,_,b,C);case jo:var w=b._init;return f(_,g,y,w(b._payload),C)}if(bd(b)||Rc(b))return _=_.get(y)||null,h(g,_,b,C,null);Zf(g,b)}return null}function u(_,g,y,b){for(var C=null,w=null,x=g,A=g=0,D=null;x!==null&&A<y.length;A++){x.index>A?(D=x,x=null):D=x.sibling;var P=v(_,x,y[A],b);if(P===null){x===null&&(x=D);break}t&&x&&P.alternate===null&&e(_,x),g=a(P,g,A),w===null?C=P:w.sibling=P,w=P,x=D}if(A===y.length)return r(_,x),Pr&&zs(_,A),C;if(x===null){for(;A<y.length;A++)x=m(_,y[A],b),x!==null&&(g=a(x,g,A),w===null?C=x:w.sibling=x,w=x);return Pr&&zs(_,A),C}for(x=n(_,x);A<y.length;A++)D=f(x,_,A,y[A],b),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?A:D.key),g=a(D,g,A),w===null?C=D:w.sibling=D,w=D);return t&&x.forEach(function(k){return e(_,k)}),Pr&&zs(_,A),C}function c(_,g,y,b){var C=Rc(y);if(typeof C!="function")throw Error(He(150));if(y=C.call(y),y==null)throw Error(He(151));for(var w=C=null,x=g,A=g=0,D=null,P=y.next();x!==null&&!P.done;A++,P=y.next()){x.index>A?(D=x,x=null):D=x.sibling;var k=v(_,x,P.value,b);if(k===null){x===null&&(x=D);break}t&&x&&k.alternate===null&&e(_,x),g=a(k,g,A),w===null?C=k:w.sibling=k,w=k,x=D}if(P.done)return r(_,x),Pr&&zs(_,A),C;if(x===null){for(;!P.done;A++,P=y.next())P=m(_,P.value,b),P!==null&&(g=a(P,g,A),w===null?C=P:w.sibling=P,w=P);return Pr&&zs(_,A),C}for(x=n(_,x);!P.done;A++,P=y.next())P=f(x,_,A,P.value,b),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?A:P.key),g=a(P,g,A),w===null?C=P:w.sibling=P,w=P);return t&&x.forEach(function(B){return e(_,B)}),Pr&&zs(_,A),C}function d(_,g,y,b){if(typeof y=="object"&&y!==null&&y.type===ku&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hf:e:{for(var C=y.key,w=g;w!==null;){if(w.key===C){if(C=y.type,C===ku){if(w.tag===7){r(_,w.sibling),g=i(w,y.props.children),g.return=_,_=g;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jo&&jE(C)===w.type){r(_,w.sibling),g=i(w,y.props),g.ref=Fc(_,w,y),g.return=_,_=g;break e}r(_,w);break}else e(_,w);w=w.sibling}y.type===ku?(g=ll(y.props.children,_.mode,b,y.key),g.return=_,_=g):(b=bm(y.type,y.key,y.props,null,_.mode,b),b.ref=Fc(_,g,y),b.return=_,_=b)}return o(_);case Ou:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(_,g.sibling),g=i(g,y.children||[]),g.return=_,_=g;break e}else{r(_,g);break}else e(_,g);g=g.sibling}g=$_(y,_.mode,b),g.return=_,_=g}return o(_);case jo:return w=y._init,d(_,g,w(y._payload),b)}if(bd(y))return u(_,g,y,b);if(Rc(y))return c(_,g,y,b);Zf(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(_,g.sibling),g=i(g,y),g.return=_,_=g):(r(_,g),g=j_(y,_.mode,b),g.return=_,_=g),o(_)):r(_,g)}return d}var ic=vP(!0),gP=vP(!1),Xh={},Ba=Ss(Xh),vh=Ss(Xh),gh=Ss(Xh);function Js(t){if(t===Xh)throw Error(He(174));return t}function _1(t,e){switch(Ir(gh,e),Ir(vh,t),Ir(Ba,Xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Db(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Db(e,t)}Ar(Ba),Ir(Ba,e)}function ac(){Ar(Ba),Ar(vh),Ar(gh)}function _P(t){Js(gh.current);var e=Js(Ba.current),r=Db(e,t.type);e!==r&&(Ir(vh,t),Ir(Ba,r))}function y1(t){vh.current===t&&(Ar(Ba),Ar(vh))}var Nr=Ss(0);function lv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var B_=[];function b1(){for(var t=0;t<B_.length;t++)B_[t]._workInProgressVersionPrimary=null;B_.length=0}var mm=Oo.ReactCurrentDispatcher,L_=Oo.ReactCurrentBatchConfig,yl=0,jr=null,sn=null,yn=null,uv=!1,Vd=!1,_h=0,RV=0;function An(){throw Error(He(321))}function C1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!sa(t[r],e[r]))return!1;return!0}function w1(t,e,r,n,i,a){if(yl=a,jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mm.current=t===null||t.memoizedState===null?LV:FV,t=r(n,i),Vd){a=0;do{if(Vd=!1,_h=0,25<=a)throw Error(He(301));a+=1,yn=sn=null,e.updateQueue=null,mm.current=NV,t=r(n,i)}while(Vd)}if(mm.current=cv,e=sn!==null&&sn.next!==null,yl=0,yn=sn=jr=null,uv=!1,e)throw Error(He(300));return t}function x1(){var t=_h!==0;return _h=0,t}function Ia(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?jr.memoizedState=yn=t:yn=yn.next=t,yn}function Ui(){if(sn===null){var t=jr.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=yn===null?jr.memoizedState:yn.next;if(e!==null)yn=e,sn=t;else{if(t===null)throw Error(He(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},yn===null?jr.memoizedState=yn=t:yn=yn.next=t}return yn}function yh(t,e){return typeof e=="function"?e(t):e}function F_(t){var e=Ui(),r=e.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=t;var n=sn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,p=a;do{var h=p.lane;if((yl&h)===h)l!==null&&(l=l.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:t(n,p.action);else{var m={lane:h,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};l===null?(s=l=m,o=n):l=l.next=m,jr.lanes|=h,bl|=h}p=p.next}while(p!==null&&p!==a);l===null?o=n:l.next=s,sa(n,e.memoizedState)||(oi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,jr.lanes|=a,bl|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function N_(t){var e=Ui(),r=e.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);sa(a,e.memoizedState)||(oi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function yP(){}function bP(t,e){var r=jr,n=Ui(),i=e(),a=!sa(n.memoizedState,i);if(a&&(n.memoizedState=i,oi=!0),n=n.queue,S1(xP.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||yn!==null&&yn.memoizedState.tag&1){if(r.flags|=2048,bh(9,wP.bind(null,r,n,i,e),void 0,null),wn===null)throw Error(He(349));yl&30||CP(r,e,i)}return i}function CP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wP(t,e,r,n){e.value=r,e.getSnapshot=n,SP(e)&&EP(t)}function xP(t,e,r){return r(function(){SP(e)&&EP(t)})}function SP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!sa(t,r)}catch{return!0}}function EP(t){var e=wo(t,1);e!==null&&oa(e,t,1,-1)}function $E(t){var e=Ia();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},e.queue=t,t=t.dispatch=BV.bind(null,jr,t),[e.memoizedState,t]}function bh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function IP(){return Ui().memoizedState}function vm(t,e,r,n){var i=Ia();jr.flags|=t,i.memoizedState=bh(1|e,r,void 0,n===void 0?null:n)}function ug(t,e,r,n){var i=Ui();n=n===void 0?null:n;var a=void 0;if(sn!==null){var o=sn.memoizedState;if(a=o.destroy,n!==null&&C1(n,o.deps)){i.memoizedState=bh(e,r,a,n);return}}jr.flags|=t,i.memoizedState=bh(1|e,r,a,n)}function zE(t,e){return vm(8390656,8,t,e)}function S1(t,e){return ug(2048,8,t,e)}function TP(t,e){return ug(4,2,t,e)}function OP(t,e){return ug(4,4,t,e)}function kP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AP(t,e,r){return r=r!=null?r.concat([t]):null,ug(4,4,kP.bind(null,e,t),r)}function E1(){}function DP(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&C1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function RP(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&C1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function PP(t,e,r){return yl&21?(sa(r,e)||(r=L4(),jr.lanes|=r,bl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oi=!0),t.memoizedState=r)}function PV(t,e){var r=gr;gr=r!==0&&4>r?r:4,t(!0);var n=L_.transition;L_.transition={};try{t(!1),e()}finally{gr=r,L_.transition=n}}function MP(){return Ui().memoizedState}function MV(t,e,r){var n=os(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BP(t))LP(e,r);else if(r=hP(t,e,r,n),r!==null){var i=Un();oa(r,t,n,i),FP(r,e,n)}}function BV(t,e,r){var n=os(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BP(t))LP(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,sa(s,o)){var l=e.interleaved;l===null?(i.next=i,v1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=hP(t,e,i,n),r!==null&&(i=Un(),oa(r,t,n,i),FP(r,e,n))}}function BP(t){var e=t.alternate;return t===jr||e!==null&&e===jr}function LP(t,e){Vd=uv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,r1(t,r)}}var cv={readContext:Wi,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},LV={readContext:Wi,useCallback:function(t,e){return Ia().memoizedState=[t,e===void 0?null:e],t},useContext:Wi,useEffect:zE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vm(4194308,4,kP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return vm(4,2,t,e)},useMemo:function(t,e){var r=Ia();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ia();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=MV.bind(null,jr,t),[n.memoizedState,t]},useRef:function(t){var e=Ia();return t={current:t},e.memoizedState=t},useState:$E,useDebugValue:E1,useDeferredValue:function(t){return Ia().memoizedState=t},useTransition:function(){var t=$E(!1),e=t[0];return t=PV.bind(null,t[1]),Ia().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=jr,i=Ia();if(Pr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=e(),wn===null)throw Error(He(349));yl&30||CP(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,zE(xP.bind(null,n,a,t),[t]),n.flags|=2048,bh(9,wP.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Ia(),e=wn.identifierPrefix;if(Pr){var r=ao,n=io;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=_h++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RV++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FV={readContext:Wi,useCallback:DP,useContext:Wi,useEffect:S1,useImperativeHandle:AP,useInsertionEffect:TP,useLayoutEffect:OP,useMemo:RP,useReducer:F_,useRef:IP,useState:function(){return F_(yh)},useDebugValue:E1,useDeferredValue:function(t){var e=Ui();return PP(e,sn.memoizedState,t)},useTransition:function(){var t=F_(yh)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:yP,useSyncExternalStore:bP,useId:MP,unstable_isNewReconciler:!1},NV={readContext:Wi,useCallback:DP,useContext:Wi,useEffect:S1,useImperativeHandle:AP,useInsertionEffect:TP,useLayoutEffect:OP,useMemo:RP,useReducer:N_,useRef:IP,useState:function(){return N_(yh)},useDebugValue:E1,useDeferredValue:function(t){var e=Ui();return sn===null?e.memoizedState=t:PP(e,sn.memoizedState,t)},useTransition:function(){var t=N_(yh)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:yP,useSyncExternalStore:bP,useId:MP,unstable_isNewReconciler:!1};function oc(t,e){try{var r="",n=e;do r+=hN(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function V_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function eC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var VV=typeof WeakMap=="function"?WeakMap:Map;function NP(t,e,r){r=so(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){hv||(hv=!0,cC=n),eC(t,e)},r}function VP(t,e,r){r=so(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){eC(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){eC(t,e),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function WE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new VV;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JV.bind(null,t,e,r),e.then(t,t))}function UE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=so(-1,1),e.tag=2,is(r,e,1))),r.lanes|=1),t)}var HV=Oo.ReactCurrentOwner,oi=!1;function $n(t,e,r,n){e.child=t===null?gP(e,null,r,n):ic(e,t.child,r,n)}function KE(t,e,r,n,i){r=r.render;var a=e.ref;return Yu(e,i),n=w1(t,e,r,n,a,i),r=x1(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xo(t,e,i)):(Pr&&r&&c1(e),e.flags|=1,$n(t,e,n,i),e.child)}function qE(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!P1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,HP(t,e,a,n,i)):(t=bm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:hh,r(o,n)&&t.ref===e.ref)return xo(t,e,i)}return e.flags|=1,t=ss(a,n),t.ref=e.ref,t.return=e,e.child=t}function HP(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(hh(a,n)&&t.ref===e.ref)if(oi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,xo(t,e,i)}return tC(t,e,r,n,i)}function jP(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Vu,vi),vi|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ir(Vu,vi),vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ir(Vu,vi),vi|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ir(Vu,vi),vi|=n;return $n(t,e,i,r),e.child}function $P(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tC(t,e,r,n,i){var a=ui(r)?gl:Vn.current;return a=rc(e,a),Yu(e,i),r=w1(t,e,r,n,a,i),n=x1(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xo(t,e,i)):(Pr&&n&&c1(e),e.flags|=1,$n(t,e,r,i),e.child)}function XE(t,e,r,n,i){if(ui(r)){var a=!0;rv(e)}else a=!1;if(Yu(e,i),e.stateNode===null)gm(t,e),mP(e,r,n),Jb(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,p=r.contextType;typeof p=="object"&&p!==null?p=Wi(p):(p=ui(r)?gl:Vn.current,p=rc(e,p));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==p)&&HE(e,o,n,p),$o=!1;var v=e.memoizedState;o.state=v,sv(e,n,o,i),l=e.memoizedState,s!==n||v!==l||li.current||$o?(typeof h=="function"&&(Qb(e,r,h,n),l=e.memoizedState),(s=$o||VE(e,r,s,n,v,l,p))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=p,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,fP(t,e),s=e.memoizedProps,p=e.type===e.elementType?s:ea(e.type,s),o.props=p,m=e.pendingProps,v=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=ui(r)?gl:Vn.current,l=rc(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==m||v!==l)&&HE(e,o,n,l),$o=!1,v=e.memoizedState,o.state=v,sv(e,n,o,i);var u=e.memoizedState;s!==m||v!==u||li.current||$o?(typeof f=="function"&&(Qb(e,r,f,n),u=e.memoizedState),(p=$o||VE(e,r,p,n,v,u,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,u,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,u,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=p):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return rC(t,e,r,n,a,i)}function rC(t,e,r,n,i,a){$P(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ME(e,r,!1),xo(t,e,a);n=e.stateNode,HV.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ic(e,t.child,null,a),e.child=ic(e,null,s,a)):$n(t,e,s,a),e.memoizedState=n.state,i&&ME(e,r,!0),e.child}function zP(t){var e=t.stateNode;e.pendingContext?PE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(t,e.context,!1),_1(t,e.containerInfo)}function YE(t,e,r,n,i){return nc(),h1(i),e.flags|=256,$n(t,e,r,n),e.child}var nC={dehydrated:null,treeContext:null,retryLane:0};function iC(t){return{baseLanes:t,cachePool:null,transitions:null}}function WP(t,e,r){var n=e.pendingProps,i=Nr.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ir(Nr,i&1),t===null)return Yb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=hg(o,n,0,null),t=ll(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=iC(r),e.memoizedState=nC,t):I1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return jV(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ss(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ss(s,a):(a=ll(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?iC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=nC,n}return a=t.child,t=a.sibling,n=ss(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function I1(t,e){return e=hg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,r,n){return n!==null&&h1(n),ic(e,t.child,null,r),t=I1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jV(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=V_(Error(He(422))),Qf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=hg({mode:"visible",children:n.children},i,0,null),a=ll(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ic(e,t.child,null,o),e.child.memoizedState=iC(o),e.memoizedState=nC,a);if(!(e.mode&1))return Qf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(He(419)),n=V_(a,n,void 0),Qf(t,e,o,n)}if(s=(o&t.childLanes)!==0,oi||s){if(n=wn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,wo(t,i),oa(n,t,i,-1))}return R1(),n=V_(Error(He(421))),Qf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,_i=ns(i.nextSibling),bi=e,Pr=!0,na=null,t!==null&&(Bi[Li++]=io,Bi[Li++]=ao,Bi[Li++]=_l,io=t.id,ao=t.overflow,_l=e),e=I1(e,n.children),e.flags|=4096,e)}function ZE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zb(t.return,e,r)}function H_(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function UP(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if($n(t,e,n.children,r),n=Nr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZE(t,r,e);else if(t.tag===19)ZE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ir(Nr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&lv(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),H_(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lv(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}H_(e,!0,r,null,a);break;case"together":H_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,r=ss(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $V(t,e,r){switch(e.tag){case 3:zP(e),nc();break;case 5:_P(e);break;case 1:ui(e.type)&&rv(e);break;case 4:_1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ir(av,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ir(Nr,Nr.current&1),e.flags|=128,null):r&e.child.childLanes?WP(t,e,r):(Ir(Nr,Nr.current&1),t=xo(t,e,r),t!==null?t.sibling:null);Ir(Nr,Nr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return UP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ir(Nr,Nr.current),n)break;return null;case 22:case 23:return e.lanes=0,jP(t,e,r)}return xo(t,e,r)}var GP,aC,KP,qP;GP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};aC=function(){};KP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Js(Ba.current);var a=null;switch(r){case"input":i=Tb(t,i),n=Tb(t,n),a=[];break;case"select":i=$r({},i,{value:void 0}),n=$r({},n,{value:void 0}),a=[];break;case"textarea":i=Ab(t,i),n=Ab(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ev)}Rb(r,n);var o;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var s=i[p];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ah.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var l=n[p];if(s=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&l!==s&&(l!=null||s!=null))if(p==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(p,r)),r=l;else p==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(p,l)):p==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(p,""+l):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ah.hasOwnProperty(p)?(l!=null&&p==="onScroll"&&kr("scroll",t),a||s===l||(a=[])):(a=a||[]).push(p,l))}r&&(a=a||[]).push("style",r);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};qP=function(t,e,r,n){r!==n&&(e.flags|=4)};function Nc(t,e){if(!Pr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zV(t,e,r){var n=e.pendingProps;switch(d1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return ui(e.type)&&tv(),Dn(e),null;case 3:return n=e.stateNode,ac(),Ar(li),Ar(Vn),b1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,na!==null&&(fC(na),na=null))),aC(t,e),Dn(e),null;case 5:y1(e);var i=Js(gh.current);if(r=e.type,t!==null&&e.stateNode!=null)KP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(He(166));return Dn(e),null}if(t=Js(Ba.current),Yf(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ka]=e,n[mh]=a,t=(e.mode&1)!==0,r){case"dialog":kr("cancel",n),kr("close",n);break;case"iframe":case"object":case"embed":kr("load",n);break;case"video":case"audio":for(i=0;i<wd.length;i++)kr(wd[i],n);break;case"source":kr("error",n);break;case"img":case"image":case"link":kr("error",n),kr("load",n);break;case"details":kr("toggle",n);break;case"input":oE(n,a),kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},kr("invalid",n);break;case"textarea":lE(n,a),kr("invalid",n)}Rb(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Xf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Xf(n.textContent,s,t),i=["children",""+s]):ah.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&kr("scroll",n)}switch(r){case"input":jf(n),sE(n,a,!0);break;case"textarea":jf(n),uE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ev)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ka]=e,t[mh]=n,GP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pb(r,n),r){case"dialog":kr("cancel",t),kr("close",t),i=n;break;case"iframe":case"object":case"embed":kr("load",t),i=n;break;case"video":case"audio":for(i=0;i<wd.length;i++)kr(wd[i],t);i=n;break;case"source":kr("error",t),i=n;break;case"img":case"image":case"link":kr("error",t),kr("load",t),i=n;break;case"details":kr("toggle",t),i=n;break;case"input":oE(t,n),i=Tb(t,n),kr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$r({},n,{value:void 0}),kr("invalid",t);break;case"textarea":lE(t,n),i=Ab(t,n),kr("invalid",t);break;default:i=n}Rb(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?S4(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w4(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oh(t,l):typeof l=="number"&&oh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ah.hasOwnProperty(a)?l!=null&&a==="onScroll"&&kr("scroll",t):l!=null&&Yw(t,a,l,o))}switch(r){case"input":jf(t),sE(t,n,!1);break;case"textarea":jf(t),uE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fs(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Gu(t,!!n.multiple,a,!1):n.defaultValue!=null&&Gu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ev)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)qP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(He(166));if(r=Js(gh.current),Js(Ba.current),Yf(e)){if(n=e.stateNode,r=e.memoizedProps,n[ka]=e,(a=n.nodeValue!==r)&&(t=bi,t!==null))switch(t.tag){case 3:Xf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ka]=e,e.stateNode=n}return Dn(e),null;case 13:if(Ar(Nr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pr&&_i!==null&&e.mode&1&&!(e.flags&128))dP(),nc(),e.flags|=98560,a=!1;else if(a=Yf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(He(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(He(317));a[ka]=e}else nc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),a=!1}else na!==null&&(fC(na),na=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Nr.current&1?un===0&&(un=3):R1())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return ac(),aC(t,e),t===null&&fh(e.stateNode.containerInfo),Dn(e),null;case 10:return m1(e.type._context),Dn(e),null;case 17:return ui(e.type)&&tv(),Dn(e),null;case 19:if(Ar(Nr),a=e.memoizedState,a===null)return Dn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Nc(a,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lv(t),o!==null){for(e.flags|=128,Nc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ir(Nr,Nr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Zr()>sc&&(e.flags|=128,n=!0,Nc(a,!1),e.lanes=4194304)}else{if(!n)if(t=lv(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Nc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Pr)return Dn(e),null}else 2*Zr()-a.renderingStartTime>sc&&r!==1073741824&&(e.flags|=128,n=!0,Nc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zr(),e.sibling=null,r=Nr.current,Ir(Nr,n?r&1|2:r&1),e):(Dn(e),null);case 22:case 23:return D1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?vi&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function WV(t,e){switch(d1(e),e.tag){case 1:return ui(e.type)&&tv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ac(),Ar(li),Ar(Vn),b1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return y1(e),null;case 13:if(Ar(Nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));nc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ar(Nr),null;case 4:return ac(),null;case 10:return m1(e.type._context),null;case 22:case 23:return D1(),null;case 24:return null;default:return null}}var Jf=!1,Ln=!1,UV=typeof WeakSet=="function"?WeakSet:Set,st=null;function Nu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ur(t,e,n)}else r.current=null}function oC(t,e,r){try{r()}catch(n){Ur(t,e,n)}}var QE=!1;function GV(t,e){if(zb=Zm,t=Q4(),u1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,p=0,h=0,m=t,v=null;t:for(;;){for(var f;m!==r||i!==0&&m.nodeType!==3||(s=o+i),m!==a||n!==0&&m.nodeType!==3||(l=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)v=m,m=f;for(;;){if(m===t)break t;if(v===r&&++p===i&&(s=o),v===a&&++h===n&&(l=o),(f=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wb={focusedElem:t,selectionRange:r},Zm=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var u=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var c=u.memoizedProps,d=u.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?c:ea(e.type,c),d);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(b){Ur(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return u=QE,QE=!1,u}function Hd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&oC(e,r,a)}i=i.next}while(i!==n)}}function cg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function XP(t){var e=t.alternate;e!==null&&(t.alternate=null,XP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ka],delete e[mh],delete e[Kb],delete e[OV],delete e[kV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YP(t){return t.tag===5||t.tag===3||t.tag===4}function JE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ev));else if(n!==4&&(t=t.child,t!==null))for(lC(t,e,r),t=t.sibling;t!==null;)lC(t,e,r),t=t.sibling}function uC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(uC(t,e,r),t=t.sibling;t!==null;)uC(t,e,r),t=t.sibling}var Sn=null,ra=!1;function Bo(t,e,r){for(r=r.child;r!==null;)ZP(t,e,r),r=r.sibling}function ZP(t,e,r){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(rg,r)}catch{}switch(r.tag){case 5:Ln||Nu(r,e);case 6:var n=Sn,i=ra;Sn=null,Bo(t,e,r),Sn=n,ra=i,Sn!==null&&(ra?(t=Sn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Sn.removeChild(r.stateNode));break;case 18:Sn!==null&&(ra?(t=Sn,r=r.stateNode,t.nodeType===8?P_(t.parentNode,r):t.nodeType===1&&P_(t,r),ch(t)):P_(Sn,r.stateNode));break;case 4:n=Sn,i=ra,Sn=r.stateNode.containerInfo,ra=!0,Bo(t,e,r),Sn=n,ra=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&oC(r,e,o),i=i.next}while(i!==n)}Bo(t,e,r);break;case 1:if(!Ln&&(Nu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ur(r,e,s)}Bo(t,e,r);break;case 21:Bo(t,e,r);break;case 22:r.mode&1?(Ln=(n=Ln)||r.memoizedState!==null,Bo(t,e,r),Ln=n):Bo(t,e,r);break;default:Bo(t,e,r)}}function eI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UV),e.forEach(function(n){var i=t9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Sn=s.stateNode,ra=!1;break e;case 3:Sn=s.stateNode.containerInfo,ra=!0;break e;case 4:Sn=s.stateNode.containerInfo,ra=!0;break e}s=s.return}if(Sn===null)throw Error(He(160));ZP(a,o,i),Sn=null,ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(p){Ur(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QP(e,t),e=e.sibling}function QP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yi(e,t),_a(t),n&4){try{Hd(3,t,t.return),cg(3,t)}catch(c){Ur(t,t.return,c)}try{Hd(5,t,t.return)}catch(c){Ur(t,t.return,c)}}break;case 1:Yi(e,t),_a(t),n&512&&r!==null&&Nu(r,r.return);break;case 5:if(Yi(e,t),_a(t),n&512&&r!==null&&Nu(r,r.return),t.flags&32){var i=t.stateNode;try{oh(i,"")}catch(c){Ur(t,t.return,c)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&y4(i,a),Pb(s,o);var p=Pb(s,a);for(o=0;o<l.length;o+=2){var h=l[o],m=l[o+1];h==="style"?S4(i,m):h==="dangerouslySetInnerHTML"?w4(i,m):h==="children"?oh(i,m):Yw(i,h,m,p)}switch(s){case"input":Ob(i,a);break;case"textarea":b4(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Gu(i,!!a.multiple,f,!1):v!==!!a.multiple&&(a.defaultValue!=null?Gu(i,!!a.multiple,a.defaultValue,!0):Gu(i,!!a.multiple,a.multiple?[]:"",!1))}i[mh]=a}catch(c){Ur(t,t.return,c)}}break;case 6:if(Yi(e,t),_a(t),n&4){if(t.stateNode===null)throw Error(He(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(c){Ur(t,t.return,c)}}break;case 3:if(Yi(e,t),_a(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(c){Ur(t,t.return,c)}break;case 4:Yi(e,t),_a(t);break;case 13:Yi(e,t),_a(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(k1=Zr())),n&4&&eI(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ln=(p=Ln)||h,Yi(e,t),Ln=p):Yi(e,t),_a(t),n&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!h&&t.mode&1)for(st=t,h=t.child;h!==null;){for(m=st=h;st!==null;){switch(v=st,f=v.child,v.tag){case 0:case 11:case 14:case 15:Hd(4,v,v.return);break;case 1:Nu(v,v.return);var u=v.stateNode;if(typeof u.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,u.props=e.memoizedProps,u.state=e.memoizedState,u.componentWillUnmount()}catch(c){Ur(n,r,c)}}break;case 5:Nu(v,v.return);break;case 22:if(v.memoizedState!==null){rI(m);continue}}f!==null?(f.return=v,st=f):rI(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=x4("display",o))}catch(c){Ur(t,t.return,c)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(c){Ur(t,t.return,c)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yi(e,t),_a(t),n&4&&eI(t);break;case 21:break;default:Yi(e,t),_a(t)}}function _a(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YP(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oh(i,""),n.flags&=-33);var a=JE(t);uC(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=JE(t);lC(t,s,o);break;default:throw Error(He(161))}}catch(l){Ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KV(t,e,r){st=t,JP(t)}function JP(t,e,r){for(var n=(t.mode&1)!==0;st!==null;){var i=st,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Jf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ln;s=Jf;var p=Ln;if(Jf=o,(Ln=l)&&!p)for(st=i;st!==null;)o=st,l=o.child,o.tag===22&&o.memoizedState!==null?nI(i):l!==null?(l.return=o,st=l):nI(i);for(;a!==null;)st=a,JP(a),a=a.sibling;st=i,Jf=s,Ln=p}tI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,st=a):tI(t)}}function tI(t){for(;st!==null;){var e=st;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||cg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ln)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ea(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&NE(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}NE(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var h=p.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ch(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Ln||e.flags&512&&sC(e)}catch(v){Ur(e,e.return,v)}}if(e===t){st=null;break}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}}function rI(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var r=e.sibling;if(r!==null){r.return=e.return,st=r;break}st=e.return}}function nI(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{cg(4,e)}catch(l){Ur(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ur(e,i,l)}}var a=e.return;try{sC(e)}catch(l){Ur(e,a,l)}break;case 5:var o=e.return;try{sC(e)}catch(l){Ur(e,o,l)}}}catch(l){Ur(e,e.return,l)}if(e===t){st=null;break}var s=e.sibling;if(s!==null){s.return=e.return,st=s;break}st=e.return}}var qV=Math.ceil,dv=Oo.ReactCurrentDispatcher,T1=Oo.ReactCurrentOwner,ji=Oo.ReactCurrentBatchConfig,ir=0,wn=null,en=null,In=0,vi=0,Vu=Ss(0),un=0,Ch=null,bl=0,dg=0,O1=0,jd=null,ii=null,k1=0,sc=1/0,eo=null,hv=!1,cC=null,as=null,ep=!1,Zo=null,fv=0,$d=0,dC=null,_m=-1,ym=0;function Un(){return ir&6?Zr():_m!==-1?_m:_m=Zr()}function os(t){return t.mode&1?ir&2&&In!==0?In&-In:DV.transition!==null?(ym===0&&(ym=L4()),ym):(t=gr,t!==0||(t=window.event,t=t===void 0?16:z4(t.type)),t):1}function oa(t,e,r,n){if(50<$d)throw $d=0,dC=null,Error(He(185));Gh(t,r,n),(!(ir&2)||t!==wn)&&(t===wn&&(!(ir&2)&&(dg|=r),un===4&&Go(t,In)),ci(t,n),r===1&&ir===0&&!(e.mode&1)&&(sc=Zr()+500,sg&&Es()))}function ci(t,e){var r=t.callbackNode;DN(t,e);var n=Ym(t,t===wn?In:0);if(n===0)r!==null&&hE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hE(r),e===1)t.tag===0?AV(iI.bind(null,t)):lP(iI.bind(null,t)),IV(function(){!(ir&6)&&Es()}),r=null;else{switch(F4(n)){case 1:r=t1;break;case 4:r=M4;break;case 16:r=Xm;break;case 536870912:r=B4;break;default:r=Xm}r=s3(r,e3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function e3(t,e){if(_m=-1,ym=0,ir&6)throw Error(He(327));var r=t.callbackNode;if(Zu()&&t.callbackNode!==r)return null;var n=Ym(t,t===wn?In:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=pv(t,n);else{e=n;var i=ir;ir|=2;var a=r3();(wn!==t||In!==e)&&(eo=null,sc=Zr()+500,sl(t,e));do try{ZV();break}catch(s){t3(t,s)}while(1);p1(),dv.current=a,ir=i,en!==null?e=0:(wn=null,In=0,e=un)}if(e!==0){if(e===2&&(i=Nb(t),i!==0&&(n=i,e=hC(t,i))),e===1)throw r=Ch,sl(t,0),Go(t,n),ci(t,Zr()),r;if(e===6)Go(t,n);else{if(i=t.current.alternate,!(n&30)&&!XV(i)&&(e=pv(t,n),e===2&&(a=Nb(t),a!==0&&(n=a,e=hC(t,a))),e===1))throw r=Ch,sl(t,0),Go(t,n),ci(t,Zr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(He(345));case 2:Ws(t,ii,eo);break;case 3:if(Go(t,n),(n&130023424)===n&&(e=k1+500-Zr(),10<e)){if(Ym(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gb(Ws.bind(null,t,ii,eo),e);break}Ws(t,ii,eo);break;case 4:if(Go(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-aa(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qV(n/1960))-n,10<n){t.timeoutHandle=Gb(Ws.bind(null,t,ii,eo),n);break}Ws(t,ii,eo);break;case 5:Ws(t,ii,eo);break;default:throw Error(He(329))}}}return ci(t,Zr()),t.callbackNode===r?e3.bind(null,t):null}function hC(t,e){var r=jd;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=pv(t,e),t!==2&&(e=ii,ii=r,e!==null&&fC(e)),t}function fC(t){ii===null?ii=t:ii.push.apply(ii,t)}function XV(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!sa(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Go(t,e){for(e&=~O1,e&=~dg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-aa(e),n=1<<r;t[r]=-1,e&=~n}}function iI(t){if(ir&6)throw Error(He(327));Zu();var e=Ym(t,0);if(!(e&1))return ci(t,Zr()),null;var r=pv(t,e);if(t.tag!==0&&r===2){var n=Nb(t);n!==0&&(e=n,r=hC(t,n))}if(r===1)throw r=Ch,sl(t,0),Go(t,e),ci(t,Zr()),r;if(r===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,ii,eo),ci(t,Zr()),null}function A1(t,e){var r=ir;ir|=1;try{return t(e)}finally{ir=r,ir===0&&(sc=Zr()+500,sg&&Es())}}function Cl(t){Zo!==null&&Zo.tag===0&&!(ir&6)&&Zu();var e=ir;ir|=1;var r=ji.transition,n=gr;try{if(ji.transition=null,gr=1,t)return t()}finally{gr=n,ji.transition=r,ir=e,!(ir&6)&&Es()}}function D1(){vi=Vu.current,Ar(Vu)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,EV(r)),en!==null)for(r=en.return;r!==null;){var n=r;switch(d1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tv();break;case 3:ac(),Ar(li),Ar(Vn),b1();break;case 5:y1(n);break;case 4:ac();break;case 13:Ar(Nr);break;case 19:Ar(Nr);break;case 10:m1(n.type._context);break;case 22:case 23:D1()}r=r.return}if(wn=t,en=t=ss(t.current,null),In=vi=e,un=0,Ch=null,O1=dg=bl=0,ii=jd=null,Qs!==null){for(e=0;e<Qs.length;e++)if(r=Qs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Qs=null}return t}function t3(t,e){do{var r=en;try{if(p1(),mm.current=cv,uv){for(var n=jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uv=!1}if(yl=0,yn=sn=jr=null,Vd=!1,_h=0,T1.current=null,r===null||r.return===null){un=1,Ch=e,en=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=In,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=l,h=s,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=UE(o);if(f!==null){f.flags&=-257,GE(f,o,s,a,e),f.mode&1&&WE(a,p,e),e=f,l=p;var u=e.updateQueue;if(u===null){var c=new Set;c.add(l),e.updateQueue=c}else u.add(l);break e}else{if(!(e&1)){WE(a,p,e),R1();break e}l=Error(He(426))}}else if(Pr&&s.mode&1){var d=UE(o);if(d!==null){!(d.flags&65536)&&(d.flags|=256),GE(d,o,s,a,e),h1(oc(l,s));break e}}a=l=oc(l,s),un!==4&&(un=2),jd===null?jd=[a]:jd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=NP(a,l,e);FE(a,_);break e;case 1:s=l;var g=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=VP(a,s,e);FE(a,b);break e}}a=a.return}while(a!==null)}i3(r)}catch(C){e=C,en===r&&r!==null&&(en=r=r.return);continue}break}while(1)}function r3(){var t=dv.current;return dv.current=cv,t===null?cv:t}function R1(){(un===0||un===3||un===2)&&(un=4),wn===null||!(bl&268435455)&&!(dg&268435455)||Go(wn,In)}function pv(t,e){var r=ir;ir|=2;var n=r3();(wn!==t||In!==e)&&(eo=null,sl(t,e));do try{YV();break}catch(i){t3(t,i)}while(1);if(p1(),ir=r,dv.current=n,en!==null)throw Error(He(261));return wn=null,In=0,un}function YV(){for(;en!==null;)n3(en)}function ZV(){for(;en!==null&&!wN();)n3(en)}function n3(t){var e=o3(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?i3(t):en=e,T1.current=null}function i3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=WV(r,e),r!==null){r.flags&=32767,en=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,en=null;return}}else if(r=zV(r,e,vi),r!==null){en=r;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);un===0&&(un=5)}function Ws(t,e,r){var n=gr,i=ji.transition;try{ji.transition=null,gr=1,QV(t,e,r,n)}finally{ji.transition=i,gr=n}return null}function QV(t,e,r,n){do Zu();while(Zo!==null);if(ir&6)throw Error(He(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(RN(t,a),t===wn&&(en=wn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ep||(ep=!0,s3(Xm,function(){return Zu(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ji.transition,ji.transition=null;var o=gr;gr=1;var s=ir;ir|=4,T1.current=null,GV(t,r),QP(r,t),_V(Wb),Zm=!!zb,Wb=zb=null,t.current=r,KV(r),xN(),ir=s,gr=o,ji.transition=a}else t.current=r;if(ep&&(ep=!1,Zo=t,fv=i),a=t.pendingLanes,a===0&&(as=null),IN(r.stateNode),ci(t,Zr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(hv)throw hv=!1,t=cC,cC=null,t;return fv&1&&t.tag!==0&&Zu(),a=t.pendingLanes,a&1?t===dC?$d++:($d=0,dC=t):$d=0,Es(),null}function Zu(){if(Zo!==null){var t=F4(fv),e=ji.transition,r=gr;try{if(ji.transition=null,gr=16>t?16:t,Zo===null)var n=!1;else{if(t=Zo,Zo=null,fv=0,ir&6)throw Error(He(331));var i=ir;for(ir|=4,st=t.current;st!==null;){var a=st,o=a.child;if(st.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var p=s[l];for(st=p;st!==null;){var h=st;switch(h.tag){case 0:case 11:case 15:Hd(8,h,a)}var m=h.child;if(m!==null)m.return=h,st=m;else for(;st!==null;){h=st;var v=h.sibling,f=h.return;if(XP(h),h===p){st=null;break}if(v!==null){v.return=f,st=v;break}st=f}}}var u=a.alternate;if(u!==null){var c=u.child;if(c!==null){u.child=null;do{var d=c.sibling;c.sibling=null,c=d}while(c!==null)}}st=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,st=o;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hd(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,st=_;break e}st=a.return}}var g=t.current;for(st=g;st!==null;){o=st;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,st=y;else e:for(o=g;st!==null;){if(s=st,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:cg(9,s)}}catch(C){Ur(s,s.return,C)}if(s===o){st=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,st=b;break e}st=s.return}}if(ir=i,Es(),Ma&&typeof Ma.onPostCommitFiberRoot=="function")try{Ma.onPostCommitFiberRoot(rg,t)}catch{}n=!0}return n}finally{gr=r,ji.transition=e}}return!1}function aI(t,e,r){e=oc(r,e),e=NP(t,e,1),t=is(t,e,1),e=Un(),t!==null&&(Gh(t,1,e),ci(t,e))}function Ur(t,e,r){if(t.tag===3)aI(t,t,r);else for(;e!==null;){if(e.tag===3){aI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){t=oc(r,t),t=VP(e,t,1),e=is(e,t,1),t=Un(),e!==null&&(Gh(e,1,t),ci(e,t));break}}e=e.return}}function JV(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&r,wn===t&&(In&r)===r&&(un===4||un===3&&(In&130023424)===In&&500>Zr()-k1?sl(t,0):O1|=r),ci(t,e)}function a3(t,e){e===0&&(t.mode&1?(e=Wf,Wf<<=1,!(Wf&130023424)&&(Wf=4194304)):e=1);var r=Un();t=wo(t,e),t!==null&&(Gh(t,e,r),ci(t,r))}function e9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),a3(t,r)}function t9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(e),a3(t,r)}var o3;o3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||li.current)oi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return oi=!1,$V(t,e,r);oi=!!(t.flags&131072)}else oi=!1,Pr&&e.flags&1048576&&uP(e,iv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gm(t,e),t=e.pendingProps;var i=rc(e,Vn.current);Yu(e,r),i=w1(null,e,n,t,i,r);var a=x1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(n)?(a=!0,rv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g1(e),i.updater=lg,e.stateNode=i,i._reactInternals=e,Jb(e,n,t,r),e=rC(null,e,n,!0,a,r)):(e.tag=0,Pr&&a&&c1(e),$n(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=n9(n),t=ea(n,t),i){case 0:e=tC(null,e,n,t,r);break e;case 1:e=XE(null,e,n,t,r);break e;case 11:e=KE(null,e,n,t,r);break e;case 14:e=qE(null,e,n,ea(n.type,t),r);break e}throw Error(He(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ea(n,i),tC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ea(n,i),XE(t,e,n,i,r);case 3:e:{if(zP(e),t===null)throw Error(He(387));n=e.pendingProps,a=e.memoizedState,i=a.element,fP(t,e),sv(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=oc(Error(He(423)),e),e=YE(t,e,n,r,i);break e}else if(n!==i){i=oc(Error(He(424)),e),e=YE(t,e,n,r,i);break e}else for(_i=ns(e.stateNode.containerInfo.firstChild),bi=e,Pr=!0,na=null,r=gP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nc(),n===i){e=xo(t,e,r);break e}$n(t,e,n,r)}e=e.child}return e;case 5:return _P(e),t===null&&Yb(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ub(n,i)?o=null:a!==null&&Ub(n,a)&&(e.flags|=32),$P(t,e),$n(t,e,o,r),e.child;case 6:return t===null&&Yb(e),null;case 13:return WP(t,e,r);case 4:return _1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ic(e,null,n,r):$n(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ea(n,i),KE(t,e,n,i,r);case 7:return $n(t,e,e.pendingProps,r),e.child;case 8:return $n(t,e,e.pendingProps.children,r),e.child;case 12:return $n(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ir(av,n._currentValue),n._currentValue=o,a!==null)if(sa(a.value,o)){if(a.children===i.children&&!li.current){e=xo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=so(-1,r&-r),l.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var h=p.pending;h===null?l.next=l:(l.next=h.next,h.next=l),p.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Zb(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(He(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Zb(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}$n(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Yu(e,r),i=Wi(i),n=n(i),e.flags|=1,$n(t,e,n,r),e.child;case 14:return n=e.type,i=ea(n,e.pendingProps),i=ea(n.type,i),qE(t,e,n,i,r);case 15:return HP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ea(n,i),gm(t,e),e.tag=1,ui(n)?(t=!0,rv(e)):t=!1,Yu(e,r),mP(e,n,i),Jb(e,n,i,r),rC(null,e,n,!0,t,r);case 19:return UP(t,e,r);case 22:return jP(t,e,r)}throw Error(He(156,e.tag))};function s3(t,e){return P4(t,e)}function r9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(t,e,r,n){return new r9(t,e,r,n)}function P1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function n9(t){if(typeof t=="function")return P1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qw)return 11;if(t===Jw)return 14}return 2}function ss(t,e){var r=t.alternate;return r===null?(r=Ni(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bm(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")P1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ku:return ll(r.children,i,a,e);case Zw:o=8,i|=8;break;case xb:return t=Ni(12,r,e,i|2),t.elementType=xb,t.lanes=a,t;case Sb:return t=Ni(13,r,e,i),t.elementType=Sb,t.lanes=a,t;case Eb:return t=Ni(19,r,e,i),t.elementType=Eb,t.lanes=a,t;case v4:return hg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p4:o=10;break e;case m4:o=9;break e;case Qw:o=11;break e;case Jw:o=14;break e;case jo:o=16,n=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=Ni(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ll(t,e,r,n){return t=Ni(7,t,n,e),t.lanes=r,t}function hg(t,e,r,n){return t=Ni(22,t,n,e),t.elementType=v4,t.lanes=r,t.stateNode={isHidden:!1},t}function j_(t,e,r){return t=Ni(6,t,null,e),t.lanes=r,t}function $_(t,e,r){return e=Ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M1(t,e,r,n,i,a,o,s,l){return t=new i9(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ni(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},g1(a),t}function a9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ou,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function l3(t){if(!t)return ps;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var r=t.type;if(ui(r))return sP(t,r,e)}return e}function u3(t,e,r,n,i,a,o,s,l){return t=M1(r,n,!0,t,i,a,o,s,l),t.context=l3(null),r=t.current,n=Un(),i=os(r),a=so(n,i),a.callback=e??null,is(r,a,i),t.current.lanes=i,Gh(t,i,n),ci(t,n),t}function fg(t,e,r,n){var i=e.current,a=Un(),o=os(i);return r=l3(r),e.context===null?e.context=r:e.pendingContext=r,e=so(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=is(i,e,o),t!==null&&(oa(t,i,o,a),pm(t,i,o)),o}function mv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function B1(t,e){oI(t,e),(t=t.alternate)&&oI(t,e)}function o9(){return null}var c3=typeof reportError=="function"?reportError:function(t){console.error(t)};function L1(t){this._internalRoot=t}pg.prototype.render=L1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));fg(t,e,null,null)};pg.prototype.unmount=L1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cl(function(){fg(null,t,null,null)}),e[Co]=null}};function pg(t){this._internalRoot=t}pg.prototype.unstable_scheduleHydration=function(t){if(t){var e=H4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Uo.length&&e!==0&&e<Uo[r].priority;r++);Uo.splice(r,0,t),r===0&&$4(t)}};function F1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sI(){}function s9(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=mv(o);a.call(p)}}var o=u3(e,n,t,0,null,!1,!1,"",sI);return t._reactRootContainer=o,t[Co]=o.current,fh(t.nodeType===8?t.parentNode:t),Cl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var p=mv(l);s.call(p)}}var l=M1(t,0,!1,null,null,!1,!1,"",sI);return t._reactRootContainer=l,t[Co]=l.current,fh(t.nodeType===8?t.parentNode:t),Cl(function(){fg(e,l,r,n)}),l}function vg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=mv(o);s.call(l)}}fg(e,o,t,i)}else o=s9(r,e,t,i,n);return mv(o)}N4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cd(e.pendingLanes);r!==0&&(r1(e,r|1),ci(e,Zr()),!(ir&6)&&(sc=Zr()+500,Es()))}break;case 13:Cl(function(){var n=wo(t,1);if(n!==null){var i=Un();oa(n,t,1,i)}}),B1(t,1)}};n1=function(t){if(t.tag===13){var e=wo(t,134217728);if(e!==null){var r=Un();oa(e,t,134217728,r)}B1(t,134217728)}};V4=function(t){if(t.tag===13){var e=os(t),r=wo(t,e);if(r!==null){var n=Un();oa(r,t,e,n)}B1(t,e)}};H4=function(){return gr};j4=function(t,e){var r=gr;try{return gr=t,e()}finally{gr=r}};Bb=function(t,e,r){switch(e){case"input":if(Ob(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=og(n);if(!i)throw Error(He(90));_4(n),Ob(n,i)}}}break;case"textarea":b4(t,r);break;case"select":e=r.value,e!=null&&Gu(t,!!r.multiple,e,!1)}};T4=A1;O4=Cl;var l9={usingClientEntryPoint:!1,Events:[qh,Pu,og,E4,I4,A1]},Vc={findFiberByHostInstance:Zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},u9={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D4(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||o9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{rg=tp.inject(u9),Ma=tp}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l9;Ti.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F1(e))throw Error(He(200));return a9(t,e,null,r)};Ti.createRoot=function(t,e){if(!F1(t))throw Error(He(299));var r=!1,n="",i=c3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M1(t,1,!1,null,null,r,!1,n,i),t[Co]=e.current,fh(t.nodeType===8?t.parentNode:t),new L1(e)};Ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=D4(e),t=t===null?null:t.stateNode,t};Ti.flushSync=function(t){return Cl(t)};Ti.hydrate=function(t,e,r){if(!mg(e))throw Error(He(200));return vg(null,t,e,!0,r)};Ti.hydrateRoot=function(t,e,r){if(!F1(t))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=c3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=u3(e,null,t,1,r??null,i,!1,a,o),t[Co]=e.current,fh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new pg(e)};Ti.render=function(t,e,r){if(!mg(e))throw Error(He(200));return vg(null,t,e,!1,r)};Ti.unmountComponentAtNode=function(t){if(!mg(t))throw Error(He(40));return t._reactRootContainer?(Cl(function(){vg(null,null,t,!1,function(){t._reactRootContainer=null,t[Co]=null})}),!0):!1};Ti.unstable_batchedUpdates=A1;Ti.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mg(r))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return vg(t,e,r,!1,n)};Ti.version="18.2.0-next-9e3b772b8-20220608";function d3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d3)}catch(t){console.error(t)}}d3(),u4.exports=Ti;var N1=u4.exports,lI=N1;Cb.createRoot=lI.createRoot,Cb.hydrateRoot=lI.hydrateRoot;var h3={exports:{}},c9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",d9=c9,h9=d9;function f3(){}function p3(){}p3.resetWarningCache=f3;var f9=function(){function t(n,i,a,o,s,l){if(l!==h9){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p3,resetWarningCache:f3};return r.PropTypes=r,r};h3.exports=f9();var V1=h3.exports;function H1(t){return e=>!!e.type&&e.type.tabsRole===t}const gg=H1("Tab"),j1=H1("TabList"),$1=H1("TabPanel");function p9(t){return gg(t)||j1(t)||$1(t)}function pC(t,e){return pr.Children.map(t,r=>r===null?null:p9(r)?e(r):r.props&&r.props.children&&typeof r.props.children=="object"?pr.cloneElement(r,{...r.props,children:pC(r.props.children,e)}):r)}function m3(t,e){return pr.Children.forEach(t,r=>{r!==null&&(gg(r)||$1(r)?e(r):r.props&&r.props.children&&typeof r.props.children=="object"&&(j1(r)&&e(r),m3(r.props.children,e)))})}function v3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=v3(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function _g(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=v3(t))&&(n&&(n+=" "),n+=e);return n}function g3(t){let e=0;return m3(t,r=>{gg(r)&&e++}),e}function _3(t){return t&&"getAttribute"in t}function uI(t){return _3(t)&&t.getAttribute("data-rttab")}function Ms(t){return _3(t)&&t.getAttribute("aria-disabled")==="true"}let vv;function m9(t){const e=t||(typeof window<"u"?window:void 0);try{vv=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{vv=!1}}const v9={className:"react-tabs",focus:!1},y3=t=>{let e=pr.useRef([]),r=pr.useRef([]);const n=pr.useRef();function i(E,O){if(E<0||E>=p())return;const{onSelect:S,selectedIndex:R}=t;S(E,R,O)}function a(E){const O=p();for(let S=E+1;S<O;S++)if(!Ms(h(S)))return S;for(let S=0;S<E;S++)if(!Ms(h(S)))return S;return E}function o(E){let O=E;for(;O--;)if(!Ms(h(O)))return O;for(O=p();O-- >E;)if(!Ms(h(O)))return O;return E}function s(){const E=p();for(let O=0;O<E;O++)if(!Ms(h(O)))return O;return null}function l(){let E=p();for(;E--;)if(!Ms(h(E)))return E;return null}function p(){const{children:E}=t;return g3(E)}function h(E){return e.current[`tabs-${E}`]}function m(){let E=0;const{children:O,disabledTabClassName:S,focus:R,forceRenderTabPanel:T,selectedIndex:I,selectedTabClassName:M,selectedTabPanelClassName:N,environment:j}=t;r.current=r.current||[];let H=r.current.length-p();const U=pr.useId();for(;H++<0;)r.current.push(`${U}${r.current.length}`);return pC(O,W=>{let G=W;if(j1(W)){let K=0,Q=!1;vv==null&&m9(j);const $=j||(typeof window<"u"?window:void 0);vv&&$&&(Q=Na.Children.toArray(W.props.children).filter(gg).some((L,F)=>$.document.activeElement===h(F))),G=pr.cloneElement(W,{children:pC(W.props.children,L=>{const F=`tabs-${K}`,z=I===K,Z={tabRef:J=>{e.current[F]=J},id:r.current[K],selected:z,focus:z&&(R||Q)};return M&&(Z.selectedClassName=M),S&&(Z.disabledClassName=S),K++,pr.cloneElement(L,Z)})})}else if($1(W)){const K={id:r.current[E],selected:I===E};T&&(K.forceRender=T),N&&(K.selectedClassName=N),E++,G=pr.cloneElement(W,K)}return G})}function v(E){const{direction:O,disableUpDownKeys:S,disableLeftRightKeys:R}=t;if(u(E.target)){let{selectedIndex:T}=t,I=!1,M=!1;(E.code==="Space"||E.keyCode===32||E.code==="Enter"||E.keyCode===13)&&(I=!0,M=!1,f(E)),!R&&(E.keyCode===37||E.code==="ArrowLeft")||!S&&(E.keyCode===38||E.code==="ArrowUp")?(O==="rtl"?T=a(T):T=o(T),I=!0,M=!0):!R&&(E.keyCode===39||E.code==="ArrowRight")||!S&&(E.keyCode===40||E.code==="ArrowDown")?(O==="rtl"?T=o(T):T=a(T),I=!0,M=!0):E.keyCode===35||E.code==="End"?(T=l(),I=!0,M=!0):(E.keyCode===36||E.code==="Home")&&(T=s(),I=!0,M=!0),I&&E.preventDefault(),M&&i(T,E)}}function f(E){let O=E.target;do if(u(O)){if(Ms(O))return;const S=[].slice.call(O.parentNode.children).filter(uI).indexOf(O);i(S,E);return}while((O=O.parentNode)!=null)}function u(E){if(!uI(E))return!1;let O=E.parentElement;do{if(O===n.current)return!0;if(O.getAttribute("data-rttabs"))break;O=O.parentElement}while(O);return!1}const{children:c,className:d,disabledTabClassName:_,domRef:g,focus:y,forceRenderTabPanel:b,onSelect:C,selectedIndex:w,selectedTabClassName:x,selectedTabPanelClassName:A,environment:D,disableUpDownKeys:P,disableLeftRightKeys:k,...B}={...v9,...t};return Na.createElement("div",Object.assign({},B,{className:_g(d),onClick:f,onKeyDown:v,ref:E=>{n.current=E,g&&g(E)},"data-rttabs":!0}),m())};y3.propTypes={};const g9=0,Cm=1,_9={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},y9=t=>t.selectedIndex===null?Cm:g9,z1=t=>{const{children:e,defaultFocus:r,defaultIndex:n,focusTabOnClick:i,onSelect:a,...o}={..._9,...t},[s,l]=pr.useState(r),[p]=pr.useState(y9(o)),[h,m]=pr.useState(p===Cm?n||0:null);if(pr.useEffect(()=>{l(!1)},[]),p===Cm){const u=g3(e);pr.useEffect(()=>{if(h!=null){const c=Math.max(0,u-1);m(Math.min(h,c))}},[u])}const v=(u,c,d)=>{typeof a=="function"&&a(u,c,d)===!1||(i&&l(!0),p===Cm&&m(u))};let f={...t,...o};return f.focus=s,f.onSelect=v,h!=null&&(f.selectedIndex=h),delete f.defaultFocus,delete f.defaultIndex,delete f.focusTabOnClick,Na.createElement(y3,f,e)};z1.propTypes={};z1.tabsRole="Tabs";const b9={className:"react-tabs__tab-list"},W1=t=>{const{children:e,className:r,...n}={...b9,...t};return Na.createElement("ul",Object.assign({},n,{className:_g(r),role:"tablist"}),e)};W1.tabsRole="TabList";W1.propTypes={};const z_="react-tabs__tab",C9={className:z_,disabledClassName:`${z_}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${z_}--selected`},Ks=t=>{let e=pr.useRef();const{children:r,className:n,disabled:i,disabledClassName:a,focus:o,id:s,selected:l,selectedClassName:p,tabIndex:h,tabRef:m,...v}={...C9,...t};return pr.useEffect(()=>{l&&o&&e.current.focus()},[l,o]),Na.createElement("li",Object.assign({},v,{className:_g(n,{[p]:l,[a]:i}),ref:f=>{e.current=f,m&&m(f)},role:"tab",id:`tab${s}`,"aria-selected":l?"true":"false","aria-disabled":i?"true":"false","aria-controls":`panel${s}`,tabIndex:h||(l?"0":null),"data-rttab":!0}),r)};Ks.propTypes={};Ks.tabsRole="Tab";const cI="react-tabs__tab-panel",w9={className:cI,forceRender:!1,selectedClassName:`${cI}--selected`},qs=t=>{const{children:e,className:r,forceRender:n,id:i,selected:a,selectedClassName:o,...s}={...w9,...t};return Na.createElement("div",Object.assign({},s,{className:_g(r,{[o]:a}),role:"tabpanel",id:`panel${i}`,"aria-labelledby":`tab${i}`}),n||a?e:null)};qs.tabsRole="TabPanel";qs.propTypes={};var ve={},x9={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},Si=function(t){if(t===null)return"null";var e=Object.prototype.toString.call(t);return typeof t=="object"?x9[e]||"object":typeof t},wh=function(t){return typeof t=="boolean"},dI=function(t){return qt(t)&&t.toString().indexOf("e")!==-1},Kn=function(t){return Si(t)==="date"},q=function(t){return t!=null},Me=function(t){return typeof t=="function"},tt=function(t){return typeof t=="string"},qt=function(t){return typeof t=="number"&&isFinite(t)||!isNaN(t-parseFloat(t))},rt=function(t){return Si(t)==="object"},di=function(t){var e;for(e in t)return!1;return!0},yt=function(t){if(!t||Si(t)!=="object")return!1;var e=Object.getPrototypeOf(t);if(!e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&Object.toString.call(r)===Object.toString.call(Object)},zd=function(t){return["object","array","function"].indexOf(Si(t))===-1},Dr=function(t){return t!=null&&t===t.window},Ei=function(t){return!!t&&!!(t.jquery||t.dxRenderer)},xc=function(t){return!!t&&Me(t.then)},yg=function(t){return!!t&&Me(t.done)&&Me(t.fail)},S9=function(t){return!!(t&&t.preventDefault)},E9=function(t,e,r){t=t||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];(!(n in t)||r)&&(t[n]=i)}return t},Y=function t(e){e=e||{};var r=1,n=!1;for(typeof e=="boolean"&&(n=e,e=arguments[1]||{},r++);r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a in i){var o=e[a],s=i[a],l=!1,p=void 0;a==="__proto__"||a==="constructor"||e===s||(n&&s&&(yt(s)||(l=Array.isArray(s)))?(l?p=o&&Array.isArray(o)?o:[]:p=o&&yt(o)?o:{},e[a]=t(n,p,s)):s!==void 0&&(e[a]=s))}}return e},Xr=(t,e)=>{if(Array.isArray(t))return t.map(e);var r=[];for(var n in t)r.push(e(t[n],n));return r},te=(t,e)=>{if(t){if("length"in t)for(var r=0;r<t.length&&e.call(t[r],r,t[r])!==!1;r++);else for(var n in t)if(e.call(t[n],n,t[n])===!1)break;return t}},I9=function(){},rp=function(t){return typeof console>"u"||!Me(console[t])?I9:console[t].bind(console)},bg={log:rp("log"),info:rp("info"),warn:rp("warn"),error:rp("error")},b3=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}(),T9=function(t){switch(typeof t){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}},O9=function(t){var e=T9(t),r=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),i=parseInt(e&&e[2],10),a=parseInt(e&&e[3],10);return isFinite(r)||(r=0),isFinite(n)||(n=r),isFinite(i)||(i=r),isFinite(a)||(a=n),{top:n,right:i,bottom:a,left:r}};function la(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Me(t)?t(...r):(r.forEach((i,a)=>{tt(i)&&(i=i.replace(/\$/g,"$$$$"));var o=new RegExp("\\{"+a+"\\}","gm");t=t.replace(o,i)}),t)}var wm=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}(),k9="23.1.5",A9="http://js.devexpress.com/error/"+k9.split(".").slice(0,2).join("_")+"/";function U1(t,e){var r={ERROR_MESSAGES:Y(e,t),Error:function(){return o([].slice.call(arguments))},log:function(l){var p="log";/^E\d+$/.test(l)?p="error":/^W\d+$/.test(l)&&(p="warn"),bg[p](p==="log"?l:n([].slice.call(arguments)))}};function n(l){var p=l[0];return l=l.slice(1),a(p,i(p,l))}function i(l,p){return p=[r.ERROR_MESSAGES[l]].concat(p),la.apply(this,p).replace(/\.*\s*?$/,"")}function a(l,p){return la.apply(this,[`{0} - {1}. See:
{2}`,l,p,s(l)])}function o(l){var p=l[0];l=l.slice(1);var h=i(p,l),m=s(p),v=a(p,h);return Y(new Error(v),{__id:p,__details:h,url:m})}function s(l){return A9+l}return r}const Yt=U1({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'});var D9=function(t,e,r){return function(){var n=this.callBase;this.callBase=t[e];try{return r.apply(this,arguments)}finally{this.callBase=n}}},R9=function(t){var e=function(){};return e.prototype=t.prototype,new e},P9=function(t){var e,r,n;if(!t)return this;for(r in t)n=t[r],e=typeof this.prototype[r]=="function"&&typeof n=="function",this.prototype[r]=e?D9(this.parent.prototype,r,n):n;return this},M9=function(){var t=this,e,r,n,i=Object.prototype.hasOwnProperty.bind(t),a=!i("_includedCtors")&&!i("_includedPostCtors");for(a&&(t._includedCtors=t._includedCtors.slice(0),t._includedPostCtors=t._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&t._includedCtors.push(e.ctor),e.postCtor&&t._includedPostCtors.push(e.postCtor);for(r in e)r==="ctor"||r==="postCtor"||r==="default"||(t.prototype[r]=e[r])}return t},B9=function(t){var e=Object.prototype.hasOwnProperty.bind(this)("parent"),r=!e&&this.parent;if(r){var n=Object.getPrototypeOf(this);return n===t||n.subclassOf(t)}else return this.parent===t?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(t)},C3=function(){throw Yt.Error("E0001")},L9=function(){var t=Object.prototype.hasOwnProperty;return function(e,r){for(var n in e){if(!t.call(e,n))return;r[n]=e[n]}}}(),Ft=function(){};Ft.inherit=function(t){var e=function(){if(!this||Dr(this)||typeof this.constructor!="function")throw Yt.Error("E0003");var r=this,n=r.ctor,i=r.constructor._includedCtors,a=r.constructor._includedPostCtors,o;for(o=0;o<i.length;o++)i[o].call(r);for(n&&n.apply(r,arguments),o=0;o<a.length;o++)a[o].call(r)};return e.prototype=R9(this),L9(this,e),e.inherit=this.inherit,e.abstract=C3,e.redefine=P9,e.include=M9,e.subclassOf=B9,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e};Ft.abstract=C3;function Gi(t){var e=Ft.inherit(t),r=e,n=new r(t),i={},a=function(o,s){te(o,function(l){Me(n[l])?(s||!t[l])&&(t[l]=function(){return n[l].apply(t,arguments)}):(s&&(i[l]=t[l]),t[l]=n[l])})};return a(t,!0),t.inject=function(o){r=r.inherit(o),n=new r,a(o)},t.resetInjection=function(){Y(t,i),r=e,n=new e},t}function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},we.apply(this,arguments)}var hI={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:t=>{t.trim().charAt(0)!=="{"&&(t="{"+t+"}");try{return JSON.parse(t)}catch(e){try{return JSON.parse(F9(t))}catch{throw Yt.Error("E3018",e,t)}}}},F9=t=>t.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),N9=["decimalSeparator","thousandsSeparator"],ur=function(){if(!arguments.length)return hI;var t=arguments.length<=0?void 0:arguments[0];N9.forEach(e=>{if(t[e]){var r="Now, the ".concat(e," is selected based on the specified locale.");Yt.log("W0003","config",e,"19.2",r)}}),Y(hI,t)};typeof DevExpress<"u"&&DevExpress.config&&ur(DevExpress.config);var Lr=Ft.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),ko=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};ko.prototype._fireCore=function(t,e){var r=this._firingIndexes,n=this._list,i=this._options.stopOnFalse,a=r.length;for(r[a]=0;r[a]<n.length;r[a]++){var o=n[r[a]].apply(t,e);if(o===!1&&i)break}r.pop()};ko.prototype.add=function(t){return typeof t=="function"&&(!this._options.unique||!this.has(t))&&this._list.push(t),this};ko.prototype.remove=function(t){var e=this._list,r=this._firingIndexes,n=e.indexOf(t);if(n>-1&&(e.splice(n,1),this._firing&&r.length))for(var i=0;i<r.length;i++)n<=r[i]&&r[i]--;return this};ko.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length};ko.prototype.empty=function(t){return this._list=[],this};ko.prototype.fireWith=function(t,e){var r=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(r.push([t,e]),this._firing)return;for(this._firing=!0;r.length;){var n=r.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};ko.prototype.fire=function(){this.fireWith(this,arguments)};ko.prototype.fired=function(){return this._fired};var Ht=function(t){return new ko(t)},w3=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],lc=function(){var t=this;this._state="pending",this._promise={},w3.forEach((function(e){var r=e.method;this[r+"Callbacks"]=Ht(),this[r]=(function(){return this[r+"With"](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;var i=t[r+"Callbacks"];return i.fired()?n.apply(t[r+"Context"],t[r+"Args"]):i.add((function(a,o){n.apply(a,o)}).bind(this)),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,r){var n=new lc;return["done","fail"].forEach((function(i){var a=i==="done"?e:r;this[i](function(){if(!a){n[i==="done"?"resolve":"reject"].apply(this,arguments);return}var o=a&&a.apply(this,arguments);yg(o)?o.done(n.resolve).fail(n.reject):xc(o)?o.then(n.resolve,n.reject):n.resolve.apply(this,q(o)?[o]:arguments)})}).bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?Y(e,t._promise):t._promise},this._promise.promise(this)};w3.forEach(function(t){var e=t.method,r=t.state;lc.prototype[e+"With"]=function(n,i){var a=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=i,this[e+"Context"]=n,r&&(this._state=r),a.fire(n,i)),this}});function cn(t,e){if(yg(t))return t;if(xc(t)){var r=new lc;return t.then(function(){r.resolveWith.apply(r,[e].concat([[].slice.call(arguments)]))},function(){r.rejectWith.apply(r,[e].concat([[].slice.call(arguments)]))}),r}return new lc().resolveWith(e,[t])}var V9=function(){if(arguments.length===1)return cn(arguments[0]);for(var t=[].slice.call(arguments),e=[],r=0,n=new lc,i=function(o){return function(s){e[o]=this,t[o]=arguments.length>1?[].slice.call(arguments):s,r++,r===t.length&&n.resolveWith(e,t)}},a=0;a<t.length;a++)yg(t[a])?t[a].promise().done(i(a)).fail(n.reject):r++;return r===t.length&&n.resolveWith(e,t),n.promise()};function ae(){return new lc}function Ve(){return V9.apply(this,arguments)}const Fn=Gi({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){bg.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var mC=function(t,e){var r=[],n,i;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);for(r.sort(function(a,o){var s=qt(a),l=qt(o);return s&&l?a-o:s&&!l?-1:!s&&l?1:a<o?-1:a>o?1:0}),i=0;i<r.length;i++)n=r[i],e(n,t[n])},H9=function(t,e,r,n){!n&&Fn.isWrapped(t[e])?Fn.assign(t[e],r):t[e]=r},Fi=function t(e,r,n,i){var a,o;for(var s in r)if(a=e[s],o=r[s],!(s==="__proto__"||s==="constructor"||e===o)){if(yt(o)){var l=n?rt(a):yt(a);o=t(l?a:{},o,n,i)}o!==void 0&&a!==o&&H9(e,s,o,i)}return e},j9=Fn.unwrap,x3=Fn.isWrapped,$9=Fn.assign,z9=function(t){return t.replace(/\[/g,".").replace(/\]/g,"")},Fl=function(t){return z9(t).split(".")},W9=function(t,e,r){return r=r||{},xh(e==="this"?t:t[e],r)},S3=function(t,e,r,n){if(e==="this")throw new Yt.Error("E4016");var i=t[e];n.unwrapObservables&&x3(i)?$9(i,r):t[e]=r},E3=function(t){return t=t||{},t.unwrapObservables=t.unwrapObservables!==void 0?t.unwrapObservables:!0,t};function xh(t,e){return e.unwrapObservables?j9(t):t}var er=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||t==="this")return function(r){return r};if(typeof t=="string"){var e=Fl(t);return function(r,n){n=E3(n);for(var i=n.functionsAsIs,a=("defaultValue"in n),o=xh(r,n),s=0;s<e.length;s++){if(!o){if(o==null&&a)return n.defaultValue;break}var l=e[s];if(a&&rt(o)&&!(l in o))return n.defaultValue;var p=xh(o[l],n);!i&&Me(p)&&(p=p.call(o)),o=p}return o}}if(Array.isArray(t))return U9(t);if(Me(t))return t};function U9(t){for(var e={},r=0,n=t.length;r<n;r++){var i=t[r];e[i]=er(i)}return function(a,o){var s;return te(e,function(l){var p=this(a,o);if(p!==void 0){for(var h=s||(s={}),m=l.split("."),v=m.length-1,f=0;f<v;f++){var u=m[f];u in h||(h[u]={}),h=h[u]}h[m[v]]=p}}),s}}var fI=function(t,e,r,n){if(q(r))return r;var i={};return S3(t,e,i,n),i},G1=function(t){t=Fl(t||"this");var e=t.length-1;return function(r,n,i){i=E3(i);var a=xh(r,i);t.forEach(function(o,s){var l=W9(a,o,i),p=!i.functionsAsIs&&Me(l)&&!x3(l);s===e?i.merge&&yt(n)&&(!q(l)||yt(l))?(l=fI(a,o,l,i),Fi(l,n,!1,!0)):p?a[o](n):S3(a,o,n,i):(l=fI(a,o,l,i),p&&(l=l.call(a)),a=l)})}},Cn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t instanceof Date)return t.getTime();if(t&&t instanceof Ft&&t.valueOf)return t.valueOf();if(!e&&typeof t=="string"){var n;if((r==null||(n=r.collatorOptions)===null||n===void 0?void 0:n.sensitivity)==="base"){var i=/[\u0300-\u036f]/g;t=t.normalize("NFD").replace(i,"")}return r!=null&&r.locale?t.toLocaleLowerCase(r.locale):t.toLowerCase()}return t},vr=function(t,e){return q(t)?t:e},Cg=function(t,e){var r=new ae,n=e||this,i={promise:r.promise(),abort:function(){clearTimeout(o),r.rejectWith(n)}},a=function(){var s=t.call(n);s&&s.done&&Me(s.done)?s.done(function(){r.resolveWith(n)}):r.resolveWith(n)},o=(arguments[2]||setTimeout)(a,typeof e=="number"?e:0);return i},W_=[],pI=[],Hc=[],nu,wg=function(t,e,r){if(nu&&nu!==t)return W_.push(e),pI.push(t),r=r||new ae,Hc.push(r),r;var n=nu,i=Hc.length;nu=t;var a=e();return a||(Hc.length>i?a=Ve.apply(this,Hc.slice(i)):r&&r.resolve()),nu=n,r&&a&&a.done&&a.done(r.resolve).fail(r.reject),!nu&&W_.length&&(pI.shift()==="render"?Gr:Mn)(W_.shift(),Hc.shift()),a||Ve()},Gr=function(t,e){return wg("render",t,e)},Mn=function(t,e){return wg("update",t,e)},ul=function(t){return function(){var e=this;return wg("render",function(){return t.call(e)})}},vC=function(t){return function(){var e=this;return wg("update",function(){return t.call(e)})}},K1=function(t,e,r){var n=[],i=0;return te(e,(a,o)=>{var s=0,l=r?r(o):o;te(t,(p,h)=>{var m=l[p];if(m!==void 0){if(G9(m,h)){s++;return}return s=-1,!1}}),!(s<i)&&(s>i&&(n.length=0,i=s),n.push(o))}),n},G9=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var r=!1;return te(t,(n,i)=>{if(i!==e[n])return r=!0,!1}),!r}return t===e},Nl=function(t){var e,r;switch(Si(t)){case"string":return t.split(/\s+/,2);case"object":return[(e=t.x)!==null&&e!==void 0?e:t.h,(r=t.y)!==null&&r!==void 0?r:t.v];case"number":return[t];case"array":return t;default:return null}},K9=function(t){var e=tt(t)?t:t.toString(),r=e.match(/[^a-zA-Z0-9_]/g);return r&&te(r,(n,i)=>{e=e.replace(i,"__"+i.charCodeAt()+"__")}),e},q9=function(t){var e=t.match(/__\d+__/g);return e&&e.forEach(r=>{var n=parseInt(r.replace("__",""));t=t.replace(r,String.fromCharCode(n))}),t},q1=function(t,e){var r=Nl(t),n=e?parseFloat(r&&r[0]):parseInt(r&&r[0],10),i=e?parseFloat(r&&r[1]):parseInt(r&&r[1],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),{h:n,v:i}},ua=function(t){if(t instanceof Lr)return t.toString();if(rt(t)||Array.isArray(t))try{var e=JSON.stringify(t);return e==="{}"?t:e}catch{return t}return t},lo=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},I3=function(t){var e=ur().serverDecimalSeparator;return q(t)&&(t=t.toString().replace(".",e)),t},oe=function(){},X1=function(){return new ae().resolve().promise()},Nn=function(t,e,r){for(var n=[],i,a=!r,o=0;o<t.length;o++)i=!!e(t[o],o),i===a&&n.push(t[o]);return n},X9=(t,e,r,n)=>t.length!==e.length?!1:!t.some((i,a)=>!Y1(i,e[a],r+1,we({},n,{strict:!0}))),Y9=(t,e,r,n)=>{var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;var o=new Set(a);return!i.some(s=>!o.has(s)||!Y1(t[s],e[s],r+1,n))},mI={maxDepth:3,strict:!0},Y1=(t,e,r,n)=>{var{strict:i,maxDepth:a}=n,o=Cn(t,!0),s=Cn(e,!0),l=i?o===s:o==s;switch(!0){case l:case r>=a:return!0;case(rt(o)&&rt(s)):return Y9(o,s,r,n);case(Array.isArray(o)&&Array.isArray(s)):return X9(o,s,r,n);default:return!1}},Jt=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mI,n=we({},mI,r);return Y1(t,e,0,n)};const Z9=Object.freeze(Object.defineProperty({__proto__:null,applyServerDecimalSeparator:I3,asyncNoop:X1,deferRender:Gr,deferRenderer:ul,deferUpdate:Mn,deferUpdater:vC,denormalizeKey:q9,ensureDefined:vr,equalByValue:Jt,escapeRegExp:lo,executeAsync:Cg,findBestMatches:K1,getKeyHash:ua,grep:Nn,noop:oe,normalizeKey:K9,pairToObject:q1,splitPair:Nl},Symbol.toStringTag,{value:"Module"}));var U_="dx-",np=null;function vI(t){try{return new CSSStyleSheet}catch{var e=t.ownerDocument.createElement("style");return t.appendChild(e),e.sheet}}function gI(t,e,r){for(var n=0;n<e.length;n++){var i=e[n];try{for(var a=0;a<i.cssRules.length;a++)Q9(t,i.cssRules[a],r)}catch{}}}function Q9(t,e,r){var n,i,a,o,s,l,p=r||((n=e.selectorText)===null||n===void 0?void 0:n.includes(U_))||((i=e.cssRules)===null||i===void 0||(a=i[0])===null||a===void 0||(o=a.selectorText)===null||o===void 0?void 0:o.includes(U_))||((s=e.name)===null||s===void 0?void 0:s.startsWith(U_))||((l=e.style)===null||l===void 0?void 0:l.fontFamily)==="DXIcons";p&&t.insertRule(e.cssText,t.cssRules.length)}function J9(t){var e,r=t.get(0),n=(e=r.getRootNode)===null||e===void 0?void 0:e.call(r);if(n!=null&&n.host){np||(np=vI(n),gI(np,r.ownerDocument.styleSheets,!1));var i=vI(n);gI(i,n.styleSheets,!0),n.adoptedStyleSheets=[np,i]}}function e7(t,e,r){var n=t.getBoundingClientRect();return n&&e>=n.left&&e<n.right&&r>=n.top&&r<n.bottom}function t7(){var t=0,e=[];return{push(r){return e.push(r),this},shift(){return t++,e[t-1]},get length(){return e.length-t},get items(){return e}}}function r7(t,e,r){for(var n=t7().push(r);n.length;)for(var i=n.shift(),a=0;a<i.childNodes.length;a++){var o=i.childNodes[a];o.nodeType===Node.ELEMENT_NODE&&e7(o,t,e)&&getComputedStyle(o).pointerEvents!=="none"&&n.push(o)}var s=n.items.reverse();return s.pop(),s}var n7=1,i7=3,a7=9,o7=11,s7={querySelectorAll:(t,e)=>t.querySelectorAll(e),elementMatches(t,e){var r=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||(n=>{var i=t.document||t.ownerDocument;if(!i)return!1;for(var a=this.querySelectorAll(i,n),o=0;o<a.length;o++)if(a[o]===t)return!0});return r.call(t,e)},createElement(t,e){return e=e||this._document,e.createElement(t)},createElementNS(t,e,r){return r=r||this._document,r.createElementNS(t,e)},createTextNode(t,e){return e=e||this._document,e.createTextNode(t)},createAttribute(t,e){return e=e||this._document,e.createAttribute(t)},isNode:t=>t&&typeof t=="object"&&"nodeType"in t&&"nodeName"in t,isElementNode:t=>t&&t.nodeType===n7,isTextNode:t=>t&&t.nodeType===i7,isDocument:t=>t&&t.nodeType===a7,isDocumentFragment:t=>t&&t.nodeType===o7,removeElement(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement(t,e,r){t&&e&&t!==e&&(r?t.insertBefore(e,r):t.appendChild(e))},getAttribute:(t,e)=>t.getAttribute(e),setAttribute(t,e,r){e==="style"?t.style.cssText=r:t.setAttribute(e,r)},removeAttribute(t,e){t.removeAttribute(e)},setProperty(t,e,r){t[e]=r},setText(t,e){t&&(t.textContent=e)},setClass(t,e,r){t.nodeType===1&&e&&(r?t.classList.add(e):t.classList.remove(e))},setStyle(t,e,r){t.style[e]=r||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(t){var e=this.getRootNode(t);return e.activeElement},getRootNode(t){var e,r;return(e=t==null||(r=t.getRootNode)===null||r===void 0?void 0:r.call(t))!==null&&e!==void 0?e:this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(t){return t in this._document},listen(t,e,r,n){return!t||!("addEventListener"in t)?oe:(t.addEventListener(e,r,n),()=>{t.removeEventListener(e,r)})},elementsFromPoint(t,e,r){var n=this.getRootNode(r);return n.host?r7(t,e,n):n.elementsFromPoint(t,e)}};const Ce=Gi(s7);class Z1{constructor(){this.memory=[],this.callbacks=Ht()}add(e){te(this.memory,(r,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.memory.push(r),this.callbacks.fire.apply(this.callbacks,r)}}const Q1=new Z1;var l7=typeof window<"u",lt=()=>l7,el=lt()?window:void 0;el||(el={},el.window=el);var pt=()=>el,T3=t=>lt()&&t in el,J1=t=>t<768?"xs":t<992?"sm":t<1200?"md":"lg",O3=t=>{var e=t||J1,r=Ce.getDocumentElement().clientWidth;return e(r)},Yh=()=>lt()?el.navigator:{userAgent:""},u7=["pageX","pageY","screenX","screenY","clientX","clientY"],c7=function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var r=e.touches.length?e.touches:e.changedTouches;if(r.length)return r[0][t]};function d7(t){u7.forEach(function(e){t(e,function(r){return c7(e,r)})},this)}var Ao=function(t){var e,r=function(){return e=t.apply(this,arguments),r=function(){return e},e};return function(){return r.apply(this,arguments)}},ex=pt(),ip="dxEmptyEventType",_I={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},h7={focusin:"focus",focusout:"blur"},f7=["blur","focus","load"],k3=["touchmove","wheel","mousewheel","touchstart"],p7=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function m7(t,e){return!Dr(t)&&t.nodeName!=="#document"&&Ce.elementMatches(t,e)}var G_=new WeakMap,A3=0,gv,Ko=function(){var t={};return Q1.add(function(e,r){t[e]=r}),{getField:function(e,r){return t[e]&&t[e][r]},callMethod:function(e,r,n,i){return t[e]&&t[e][r]&&t[e][r].apply(n,i)}}}(),X=Gi({on:jc(gC(CI(function(t,e,r,n,i){var a=Cu(t,e);a.addHandler(i,r,n)}))),one:jc(gC(function(t,e,r,n,i){X.on(t,e,r,n,function a(){X.off(t,e,r,a),i.apply(this,arguments)})})),off:jc(_7(CI(function(t,e,r,n){var i=Cu(t,e);i.removeHandler(n,r)}))),trigger:jc(bI(function(t,e,r){var n=e.type,i=Cu(t,e.type);Ko.callMethod(n,"trigger",t,[e,r]),i.callHandlers(e,r);var a=Ko.getField(n,"noBubble")||e.isPropagationStopped()||f7.indexOf(n)!==-1;if(!a){var o=[];(function p(h){var m,v=(m=h.parentNode)!==null&&m!==void 0?m:h.host;v&&(o.push(v),p(v))})(t),o.push(ex);for(var s=0;o[s]&&!e.isPropagationStopped();){var l=Cu(o[s],e.type);l.callHandlers(Y(e,{currentTarget:o[s]}),r),s++}}(t.nodeType||Dr(t))&&(Ko.callMethod(n,"_default",t,[e,r]),b7(n,t))})),triggerHandler:jc(bI(function(t,e,r){var n=Cu(t,e.type);n.callHandlers(e,r)}))});function tx(t,e){var r=t[0];if(r)if(Ce.isNode(r)||Dr(r))e.apply(X,t);else if(!tt(r)&&"length"in r){var n=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(r,function(i){n[0]=i,tx(n,e)})}else throw Yt.Error("E0025")}function jc(t){return function(){tx(arguments,t)}}function v7(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});ex.addEventListener("test",null,e)}catch{}return t}var D3=Ao(v7),R3=(t,e)=>Dr(t)?R3(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS);function Cu(t,e){var r=G_.get(t);e=e||"";var n=e.split("."),i=n.slice(1),a=!!n[0];e=n[0]||ip,r||(r={},G_.set(t,r)),r[e]||(r[e]={handleObjects:[],nativeHandler:null});var o=r[e];return{addHandler:function(s,l,p){var h=function(c,d){var _=[c],g=c.currentTarget,y=c.relatedTarget,b,C;e in _I&&(b=y&&g&&(y===g||R3(g,y))),d!==void 0&&_.push(d),Ko.callMethod(e,"handle",t,[c,p]),b||(C=s.apply(g,_)),C===!1&&(c.preventDefault(),c.stopPropagation())},m={handler:s,wrappedHandler:function(c,d){if(!(gv&&c.type===gv))if(c.data=p,c.delegateTarget=t,l)for(var _=c.target;_&&_!==t;)m7(_,l)&&(c.currentTarget=_,h(c,d)),_=_.parentNode;else c.currentTarget=c.delegateTarget||c.target,h(c,d)},selector:l,type:e,data:p,namespace:i.join("."),namespaces:i,guid:++A3};o.handleObjects.push(m);var v=o.handleObjects.length===1,f=v&&a,u;f&&(f=!Ko.callMethod(e,"setup",t,[p,i,s])),f&&(o.nativeHandler=g7(e),D3()&&k3.indexOf(e)>-1&&(u={passive:!1}),o.removeListener=Ce.listen(t,_I[e]||e,o.nativeHandler,u)),Ko.callMethod(e,"add",t,[m])},removeHandler:function(s,l){var p=function(v){var f=r[v];if(!f.handleObjects.length){delete r[v];return}var u;f.handleObjects=f.handleObjects.filter(function(_){var g=i.length&&!yI(_.namespaces,i)||s&&_.handler!==s||l&&_.selector!==l;return g||(u=_.handler,Ko.callMethod(v,"remove",t,[_])),g});var c=!f.handleObjects.length,d=c&&v!==ip;d&&(Ko.callMethod(v,"teardown",t,[i,u]),f.nativeHandler&&f.removeListener(),delete r[v])};if(a)p(e);else for(var h in r)p(h);var m=Object.keys(r).length===0;m&&G_.delete(t)},callHandlers:function(s,l){var p=!1,h=function(m){p||(!i.length||yI(m.namespaces,i))&&(m.wrappedHandler(s,l),p=s.isImmediatePropagationStopped())};o.handleObjects.forEach(h),i.length&&r[ip]&&r[ip].handleObjects.forEach(h)}}}function g7(t){return function(e,r){var n=Cu(this,t);e=X.Event(e),n.callHandlers(e,r)}}function yI(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])<0)return!1;return!0}function gC(t){return function(e,r,n,i,a){a||(a=i,i=void 0),typeof n!="string"&&(i=n,n=void 0),!a&&typeof r=="string"&&(a=i||n,n=void 0,i=void 0),t(e,r,n,i,a)}}function _7(t){return function(e,r,n,i){typeof n=="function"&&(i=n,n=void 0),t(e,r,n,i)}}function bI(t){return function(e,r,n){typeof r=="string"&&(r={type:r}),r.target||(r.target=e),r.currentTarget=e,r.delegateTarget||(r.delegateTarget=e),!r.type&&r.originalEvent&&(r.type=r.originalEvent.type),t(e,r instanceof X.Event?r:X.Event(r),n)}}function y7(t){return X.Event=function(e,r){if(!(this instanceof X.Event))return new X.Event(e,r);e||(e={}),typeof e=="string"&&(e={type:e}),r||(r={}),t.call(this,e,r)},we(X.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),X.Event}function CI(t){var e=function(r,n){if(n&&n.indexOf(" ")>-1){var i=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(a){i[1]=a,t.apply(this,i)})}else t.apply(this,arguments)};return function(r,n){if(typeof n=="object"){var i=Array.prototype.slice.call(arguments,0);for(var a in n)i[1]=a,i[i.length-1]=n[a],e.apply(this,i)}else e.apply(this,arguments)}}function b7(t,e){var r=h7[t]||t;(function(n,i){return n==="click"&&i.localName==="a"})(t,e)||Me(e[r])&&(gv=t,e[r](),gv=void 0)}function C7(t){return function(e){return e.which==null&&e.type.indexOf("key")===0}(t)?t.charCode!=null?t.charCode:t.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(t)?{1:1,2:3,3:1,4:2}[t.button]:t.which}function P3(t){t&&(X.Event=t,X.Event.prototype=t.prototype)}P3(y7(function(t,e){var r,n=t instanceof X.Event||lt()&&t instanceof ex.Event||((r=t.view)===null||r===void 0?void 0:r.Event)&&t instanceof t.view.Event;n?(this.originalEvent=t,this.type=t.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(t,"isTrusted")&&(this.isTrusted=t.isTrusted),this.timeStamp=t.timeStamp||Date.now()):we(this,t),rx("which",C7,this),t.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),we(this,e),this.guid=++A3}));function rx(t,e,r){Object.defineProperty(r||X.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}p7.forEach(t=>rx(t,e=>e[t]));d7(rx);var M3=Ht(),B3=Ht();X.set=function(t){M3.fire(),X.inject(t),P3(t.Event),B3.fire()};X.subscribeGlobal=function(){tx(arguments,gC(function(){var t=arguments;X.on.apply(this,t),M3.add(function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),X.off.apply(this,e)}),B3.add(function(){X.on.apply(this,t)})}))};X.forcePassiveFalseEventNames=k3;X.passiveEventHandlersSupported=D3;var $c=new WeakMap,cl,w7=new Z1,L3=function(){},x7=function(t){w7.fire(t),cl=t;var e=cl.cleanData;cl.cleanData=function(r){L3(r);var n=e.call(this,r);return n}};x7({data:function(){var t=arguments[0],e=arguments[1],r=arguments[2];if(t){var n=$c.get(t);return n||(n={},$c.set(t,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=r,r)}},removeData:function(t,e){if(t)if(e===void 0)$c.delete(t);else{var r=$c.get(t);r&&delete r[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)X.off(t[e]),$c.delete(t[e])}});function br(){return cl.data.apply(this,arguments)}function S7(t){L3=t}function xg(t,e){return cl.removeData.call(this,t,e)}function Zh(t,e){if(Ce.isElementNode(t)){var r=t.getElementsByTagName("*");cl.cleanData(r),e&&cl.cleanData([t])}}var F3=function(t){return t==null?"":String(t)},nx=function(t){return F3(t).charAt(0).toUpperCase()+t.substr(1)},ix=function(t){return F3(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},ax=function(t){return Xr(ix(t),function(e){return e.toLowerCase()}).join("-")},Sh=function(t,e){return Xr(ix(t),function(r,n){return r=r.toLowerCase(),(e||n>0)&&(r=nx(r)),r}).join("")},E7=function(t){return nx(ax(t).replace(/-/g," "))},Eh=function(t){return Xr(ix(t),function(e){return nx(e.toLowerCase())}).join(" ")},I7=["0","1","2","3","4","5","6","7","8","9"],wl=function(t){var e=[],r,n,i=!1,a=!1;for(r=0;r<t.length;r++)n=t.charAt(r),a=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in I7,n==="_"||n==="."?(n=" ",a=!0):r===0?(n=n.toUpperCase(),a=!0):!i&&a&&e.length>0&&e.push(" "),e.push(n),i=a;return e.join("")},_v=["","Webkit","Moz","O","Ms"],T7={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},_C=Ao(function(){return Ce.createElement("dx").style}),O7=function(t,e){t=Sh(t,!0);for(var r,n=0,i=_v.length;n<i;n++){var a=_v[n],o=a+t,s=Sh(o);if(r=e(s,a),r===void 0&&(r=e(o,a)),r!==void 0)break}return r||""},Vl=function(t){if(t in _C())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var r=1;r<_v.length;r++){var n=_v[r].toLowerCase()+t;if(n in _C())return n}return e},xm=function(t){return O7(t,function(e,r){if(e in _C())return T7[r]})},k7=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],uc=function(t,e){return qt(e)&&k7.indexOf(t)===-1&&(e+="px"),e},N3=function(t,e,r){if(t){r=qt(r)?r+="px":r;for(var n=0;n<t.length;++n)t[n].style[e]=r}},yC=function(t,e){N3(t,"width",e)},K_=function(t,e){N3(t,"height",e)},V3=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(r){var n=[].slice.call(t.style);n.forEach(i=>{t.style.removeProperty(i)})}e.split(";").forEach(i=>{var a=i.split(":").map(l=>l.trim());if(a.length===2){var[o,s]=a;t.style[o]=s}})},yv=pt(),A7=["auto","none","inherit","initial"],q_=function(t,e){var r=0;return e.forEach(function(n){r+=parseFloat(t[n])||0}),r},H3=function(t,e){var r=t==="width"?"Left":"Top",n=t==="width"?"Right":"Bottom";return{padding:q_(e,["padding"+r,"padding"+n]),border:q_(e,["border"+r+"Width","border"+n+"Width"]),margin:q_(e,["margin"+r,"margin"+n])}},j3=function(t){var e,r=(t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||yv;return r.getComputedStyle&&r.getComputedStyle(t)},bC=function(t,e,r,n){var i;return(e==null?void 0:e[r])||((i=t.style)===null||i===void 0?void 0:i[r])||n},iu={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},wI={width:["left","right"],height:["top","bottom"]};function zc(t,e,r,n){var i=(o,s,l)=>parseFloat(bC(o,s,l,"0"))||0,a=r==="border"?"-width":"";return i(t,n,"".concat(r,"-").concat(wI[e][0]).concat(a))+i(t,n,"".concat(r,"-").concat(wI[e][1]).concat(a))}var D7=function(t,e,r){var n=e==="width"?"offsetWidth":"offsetHeight",i=j3(t),a=bC(t,i,e);(a===""||a==="auto")&&(a=t[n]),a=parseFloat(a)||0;var o=bC(t,i,"boxSizing","content-box"),s=r||o,l=iu[s],p=iu[o];if(l===void 0||p===void 0)throw new Error;if(p===l)return a;var h=Math.sign(l-p),m=!1,v=!1,f=!1,u=!1;h===1&&(l+=1,p+=1);for(var c=p;c!==l;c+=h)switch(c){case iu.content:break;case iu.padding:m=h*zc(t,e,"padding",i);break;case iu.border:v=h*zc(t,e,"border",i);break;case iu.margin:f=h*zc(t,e,"margin",i)}if(m||v){var d=(m===!1?h*zc(t,e,"padding",i):m)+(v===!1?h*zc(t,e,"border",i):v);u=h*Math.max(0,Math.floor(t[n]-a-h*d))||0}return a+f+m+v+u},R7=function(t){return Dr(t)?t.innerHeight:t.offsetHeight},P7=function(t,e,r){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*R7(e)/100:isNaN(t)?t.indexOf("vh")>0?t=yv.innerHeight/100*parseInt(t.replace("vh","")):r&&t.indexOf("em")>0&&(t=parseFloat(t.replace("em",""))*parseFloat(yv.getComputedStyle(r).fontSize)):t=parseInt(t),t},$3=function(t,e,r){if(!t)return null;if(A7.indexOf(t)>-1)return e?null:t;if(tt(t)&&(t=P7(t,r)),qt(t))return Math.max(0,t+e);var n=e<0?" - ":" ";return"calc("+t+n+Math.abs(e)+"px)"},M7=function(t,e,r){var n=$3(t,e,r);return n!==null?n:"none"},B7=function(t,e,r){var n=$3(t,e,r);return n!==null?n:0},X_=function(t,e){if(!t)return 0;var r=H3("height",yv.getComputedStyle(t));return r.padding+r.border+(e?r.margin:0)},xI=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0},ja={getWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("width",...e)},setWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("width",...e)},getHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("height",...e)},setHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("height",...e)},getOuterWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("outerWidth",...e)},setOuterWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("outerWidth",...e)},getOuterHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("outerHeight",...e)},setOuterHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("outerHeight",...e)},getInnerWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("innerWidth",...e)},setInnerWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("innerWidth",...e)},getInnerHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("innerHeight",...e)},setInnerHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ai("innerHeight",...e)}};function Ai(t,e,r){return arguments.length===2?II(e,t):II(e,t,r)}var ot=t=>ja.getWidth(t),ox=(t,e)=>ja.setWidth(t,e),vt=t=>ja.getHeight(t),ms=(t,e)=>ja.setHeight(t,e),Pt=(t,e)=>ja.getOuterWidth(t,e||!1),SI=(t,e)=>ja.setOuterWidth(t,e),xt=(t,e)=>ja.getOuterHeight(t,e||!1),EI=(t,e)=>ja.setOuterHeight(t,e),CC=t=>ja.getInnerWidth(t),bv=t=>ja.getInnerHeight(t),II=function t(e,r,n){var i=r.toLowerCase().indexOf("width")>=0?"Width":"Height",a=i.toLowerCase(),o=r.indexOf("outer")===0,s=r.indexOf("inner")===0,l=arguments.length===2||typeof n=="boolean";if(Ei(e)){if(e.length>1&&!l){for(var p=0;p<e.length;p++)t(e[p],r,n);return}e=e[0]}if(e){if(Dr(e))return o?e["inner"+i]:Ce.getDocumentElement()["client"+i];if(Ce.isDocument(e)){var h=Ce.getDocumentElement(),m=Ce.getBody();return Math.max(m["scroll"+i],m["offset"+i],h["scroll"+i],h["offset"+i],h["client"+i])}if(l){var v="content";return o&&(v=n?"margin":"border"),s&&(v="padding"),D7(e,a,v)}if(qt(n)){var f=j3(e),u=H3(a,f),c=f.boxSizing==="border-box";n=Number(n),o?n-=c?0:u.border+u.padding:s?n+=c?u.border:-u.padding:c&&(n+=u.border+u.padding)}return n+=qt(n)?"px":"",Ce.setStyle(e,a,n),null}},z3=t=>Dr(t)?t:t.defaultView,wC=t=>{if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),r=z3(t.ownerDocument),n=t.ownerDocument.documentElement;return{top:e.top+r.pageYOffset-n.clientTop,left:e.left+r.pageXOffset-n.clientLeft}},W3=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,Aa={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};Aa.tbody=Aa.colgroup=Aa.caption=Aa.tfoot=Aa.thead;Aa.th=Aa.td;var sx=function(t){if(typeof t!="string")return null;var e=Ce.createDocumentFragment(),r=e.appendChild(Ce.createElement("div")),n=W3.exec(t),i=n&&n[1].toLowerCase(),a=Aa[i]||Aa.default;r.innerHTML=a.startTags+t+a.endTags;for(var o=0;o<a.tagsCount;o++)r=r.lastChild;return[...r.childNodes]},L7=function(t){var e=W3.exec(t);return e&&e[1]in Aa},F7=pt(),Bt,ht=function(t,e){return t?typeof t=="string"?t==="body"?(this[0]=e?e.body:Ce.getBody(),this.length=1,this):(e=e||Ce.getDocument(),t[0]==="<"?(this[0]=Ce.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,Ce.querySelectorAll(e,t)),this)):Ce.isNode(t)||Dr(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):Bt(t.toArray?t.toArray():[t]):(this.length=0,this)};Bt=function(t,e){return new ht(t,e)};Bt.fn={dxRenderer:!0};ht.prototype=Bt.fn;var Sc=function(t,e){for(var r=0;r<this.length;r++){var n=Bt(this[r]);n[t].apply(n,e)}return this},xC=function(t,e,r){r!=null&&r!==!1?Ce.setAttribute(t,e,r):Ce.removeAttribute(t,e)};ht.prototype.show=function(){return this.toggle(!0)};ht.prototype.hide=function(){return this.toggle(!1)};ht.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this};ht.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return Sc.call(this,"attr",arguments);if(!this[0])return rt(t)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if(typeof t=="string"&&arguments.length===1){var r=this[0].getAttribute(t);return r??void 0}else if(yt(t))for(var n in t)this.attr(n,t[n]);else xC(this[0],t,e);return this};ht.prototype.removeAttr=function(t){return this[0]&&Ce.removeAttribute(this[0],t),this};ht.prototype.prop=function(t,e){if(!this[0])return this;if(typeof t=="string"&&arguments.length===1)return this[0][t];if(yt(t))for(var r in t)this.prop(r,t[r]);else Ce.setProperty(this[0],t,e);return this};ht.prototype.addClass=function(t){return this.toggleClass(t,!0)};ht.prototype.removeClass=function(t){return this.toggleClass(t,!1)};ht.prototype.hasClass=function(t){if(!this[0]||this[0].className===void 0)return!1;for(var e=t.split(" "),r=0;r<e.length;r++)if(this[0].classList){if(this[0].classList.contains(e[r]))return!0}else{var n=tt(this[0].className)?this[0].className:Ce.getAttribute(this[0],"class");if((n||"").split(" ").indexOf(e[r])>=0)return!0}return!1};ht.prototype.toggleClass=function(t,e){if(this.length>1)return Sc.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=e===void 0?!this.hasClass(t):e;for(var r=t.split(" "),n=0;n<r.length;n++)Ce.setClass(this[0],r[n],e);return this};ht.prototype.html=function(t){return arguments.length?(this.empty(),typeof t=="string"&&!L7(t)||typeof t=="number"?(this[0].innerHTML=t,this):this.append(sx(t))):this[0].innerHTML};var U3=function(t,e){if(!(!this[0]||!t)){typeof t=="string"?t=sx(t):t.nodeType?t=[t]:qt(t)&&(t=[Ce.createTextNode(t)]);for(var r=0;r<t.length;r++){var n=t[r],i=this[0],a=i.tagName==="TABLE"&&n.tagName==="TR";a&&i.tBodies&&i.tBodies.length&&(i=i.tBodies[0]),Ce.insertElement(i,n.nodeType?n:n[0],e)}}},TI=function(t,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){t=Vl(t);for(var r=0;r<this.length;r++)this[r].style[t]=uc(t,e)}};ht.prototype.css=function(t,e){if(tt(t))if(arguments.length===2)TI.call(this,t,e);else{if(!this[0])return;t=Vl(t);var r=F7.getComputedStyle(this[0])[t]||this[0].style[t];return qt(r)?r.toString():r}else if(yt(t))for(var n in t)TI.call(this,n,t[n]);return this};ht.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return U3.apply(this,[t,this[0].firstChild]),this};ht.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return U3.apply(this,[t]),this};ht.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)Bt(this[e]).prependTo(t);return this}return t=Bt(t),t[0]&&Ce.insertElement(t[0],this[0],t[0].firstChild),this};ht.prototype.appendTo=function(t){return this.length>1?Sc.call(this,"appendTo",arguments):(Ce.insertElement(Bt(t)[0],this[0]),this)};ht.prototype.insertBefore=function(t){return t&&t[0]&&Ce.insertElement(t[0].parentNode,this[0],t[0]),this};ht.prototype.insertAfter=function(t){return t&&t[0]&&Ce.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this};ht.prototype.before=function(t){return this[0]&&Ce.insertElement(this[0].parentNode,t[0],this[0]),this};ht.prototype.after=function(t){return this[0]&&Ce.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this};ht.prototype.wrap=function(t){if(this[0]){var e=Bt(t);e.insertBefore(this),e.append(this)}return this};ht.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this};ht.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)};ht.prototype.remove=function(){return this.length>1?Sc.call(this,"remove",arguments):(Zh(this[0],!0),Ce.removeElement(this[0]),this)};ht.prototype.detach=function(){return this.length>1?Sc.call(this,"detach",arguments):(Ce.removeElement(this[0]),this)};ht.prototype.empty=function(){return this.length>1?Sc.call(this,"empty",arguments):(Zh(this[0]),Ce.setText(this[0],""),this)};ht.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return Bt(t)};ht.prototype.text=function(t){if(!arguments.length){for(var e="",r=0;r<this.length;r++)e+=this[r]&&this[r].textContent||"";return e}var n=Me(t)?t():t;return Zh(this[0],!1),Ce.setText(this[0],q(n)?n:""),this};ht.prototype.val=function(t){return arguments.length===1?this.prop("value",q(t)?t:""):this.prop("value")};ht.prototype.contents=function(){if(!this[0])return Bt();var t=[];return t.push.apply(t,this[0].childNodes),Bt(t)};ht.prototype.find=function(t){var e=Bt();if(!t)return e;var r=[],n;if(typeof t=="string")for(t=t.trim(),n=0;n<this.length;n++){var i=this[n];if(Ce.isElementNode(i)){var a=i.getAttribute("id"),o=a||"dx-query-children";a||xC(i,"id",o),o="[id='"+o+"'] ";var s=o+t.replace(/([^\\])(,)/g,"$1, "+o);r.push.apply(r,Ce.querySelectorAll(i,s)),xC(i,"id",a)}else(Ce.isDocument(i)||Ce.isDocumentFragment(i))&&r.push.apply(r,Ce.querySelectorAll(i,t))}else for(n=0;n<this.length;n++)t=Ce.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&r.push(t);return e.add(r)};var OI=function(t,e){var r;return e=(r=e.host)!==null&&r!==void 0?r:e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};ht.prototype.filter=function(t){if(!t)return Bt();if(t===":visible")return this.filter(OI);if(t===":hidden")return this.filter(function(a,o){return!OI(a,o)});for(var e=[],r=0;r<this.length;r++){var n=this[r];if(Ce.isElementNode(n)&&Si(t)==="string")Ce.elementMatches(n,t)&&e.push(n);else if(Ce.isNode(t)||Dr(t))t===n&&e.push(n);else if(Me(t))t.call(n,r,n)&&e.push(n);else for(var i=0;i<t.length;i++)t[i]===n&&e.push(n)}return Bt(e)};ht.prototype.not=function(t){for(var e=[],r=this.filter(t).toArray(),n=0;n<this.length;n++)r.indexOf(this[n])===-1&&e.push(this[n]);return Bt(e)};ht.prototype.is=function(t){return!!this.filter(t).length};ht.prototype.children=function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r]?this[r].childNodes:[],i=0;i<n.length;i++)Ce.isElementNode(n[i])&&e.push(n[i]);return e=Bt(e),t?e.filter(t):e};ht.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return Bt();for(var e=[],r=t.parentNode.childNodes||[],n=0;n<r.length;n++){var i=r[n];Ce.isElementNode(i)&&i!==t&&e.push(i)}return Bt(e)};ht.prototype.each=function(t){for(var e=0;e<this.length&&t.call(this[e],e,this[e])!==!1;e++);};ht.prototype.index=function(t){return t?(t=Bt(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)};ht.prototype.get=function(t){return this[t<0?this.length+t:t]};ht.prototype.eq=function(t){return t=t<0?this.length+t:t,Bt(this[t])};ht.prototype.first=function(){return this.eq(0)};ht.prototype.last=function(){return this.eq(-1)};ht.prototype.select=function(){for(var t=0;t<this.length;t+=1)this[t].select&&this[t].select();return this};ht.prototype.parent=function(t){if(!this[0])return Bt();var e=Bt(this[0].parentNode);return!t||e.is(t)?e:Bt()};ht.prototype.parents=function(t){for(var e=[],r=this.parent();r&&r[0]&&!Ce.isDocument(r[0]);)Ce.isElementNode(r[0])&&(!t||r.is(t))&&e.push(r.get(0)),r=r.parent();return Bt(e)};ht.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return Bt()};ht.prototype.next=function(t){if(!this[0])return Bt();var e=Bt(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return Bt()};ht.prototype.prev=function(){return this[0]?Bt(this[0].previousSibling):Bt()};ht.prototype.add=function(t){for(var e=Bt(t),r=this.toArray(),n=0;n<e.length;n++){var i=e[n];r.indexOf(i)===-1&&r.push(i)}return Bt(r)};var lx=[];ht.prototype.splice=function(){return Bt(lx.splice.apply(this,arguments))};ht.prototype.slice=function(){return Bt(lx.slice.apply(this,arguments))};ht.prototype.toArray=function(){return lx.slice.call(this)};ht.prototype.offset=function(){if(this[0])return wC(this[0])};ht.prototype.offsetParent=function(){if(!this[0])return Bt();for(var t=Bt(this[0].offsetParent);t[0]&&t.css("position")==="static";)t=Bt(t[0].offsetParent);return t=t[0]?t:Bt(Ce.getDocumentElement()),t};ht.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),r=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return t=this[0].getBoundingClientRect(),{top:t.top-e,left:t.left-r};t=this.offset();var n=this.offsetParent(),i={top:0,left:0};return n[0].nodeName!=="HTML"&&(i=n.offset()),i={top:i.top+parseFloat(n.css("borderTopWidth")),left:i.left+parseFloat(n.css("borderLeftWidth"))},{top:t.top-i.top-e,left:t.left-i.left-r}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;ht.prototype[e]=function(r){if(this[0]){var n=z3(this[0]);return r===void 0?n?n[t.offsetProp]:this[0][e]:(n?t.scrollWindow(n,r):this[0][e]=r,this)}}});ht.prototype.data=function(t,e){if(this[0])return arguments.length<2?br.call(Bt,this[0],t):(br.call(Bt,this[0],t,e),this)};ht.prototype.removeData=function(t){return this[0]&&xg(this[0],t),this};var G3=function(){return Bt.apply(this,arguments)};Object.defineProperty(G3,"fn",{enumerable:!0,configurable:!0,get:function(){return Bt.fn},set:function(t){Bt.fn=t}});const N7={set:function(t){Bt=t},get:function(){return G3}},V=N7.get(),V7={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var H7="-";const j7=(t,e)=>{var r=t[e];return r?r!=="root"&&r:e.substr(0,e.lastIndexOf(H7))};var Y_="en";const Ii=Gi({locale:(()=>{var t=Y_;return e=>{if(!e)return t;t=e}})(),getValueByClosestLocale:function(t){for(var e=this.locale(),r=t(e),n;!r&&!n;)e=j7(V7,e),e?r=t(e):n=!0;return r===void 0&&e!==Y_?t(Y_):r}});var $7={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-ariaHotKeysInfo":"To navigate between views, press Control, and then Left Arrow or Right Arrow. To zoom in on a view, press Control, and then Down Arrow. To zoom out, press Control, and then Up Arrow.","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}},z7=Y(!0,{},$7),W7=(t,e)=>{var r;return t[e]||(e==null?void 0:e.toLowerCase)&&((r=Object.entries(t).find(n=>{var[i]=n;return i.toLowerCase()===e.toLowerCase()}))===null||r===void 0?void 0:r[1])||{}},Z_={},he=Gi({engine:function(){return"base"},_dictionary:z7,load:function(t){Y(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,r=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return t.replace(r,(i,a,o,s)=>{var l=e._localizablePrefix+s,p;return o!==n&&(p=e.format(s)),p||(Z_[s]=E7(s)),a+(p||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?Z_:Y({},Z_,this.getMessagesByLocales()[Ii.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var r=Ii.getValueByClosestLocale(n=>W7(this._dictionary,n)[t]);if(r)return function(){var n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(r),la.apply(this,n)}},format:function(t){var e=this.getFormatter(t),r=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,r)||""}}),SC=(t,e)=>{if(!e)throw Yt.Error("E0017");return Array.isArray(t)?t.map(r=>SC(r,e)).join(" "):t.indexOf(" ")!==-1?SC(t.split(/\s+/g),e):"".concat(t,".").concat(e)},K3=function(t,e){if(!U7(t))return!1;var r=t.nodeName.toLowerCase(),n=!isNaN(e),i=t.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(r),o=r==="a",s,l=t.isContentEditable;return a||l?s=!i:o?s=t.href||n:s=n,s};function U7(t){var e=V(t);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var EC=function(t,e){return K3(e,V(e).attr("tabIndex"))},kI=function(t,e){var r=V(e).attr("tabIndex");return(isNaN(r)||r>=0)&&K3(e,r)},vs=function(t){var e=V(t).get(0);return Ce.getActiveElement(e)===e},G7={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},K7={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},q7={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},X7=t=>t,Y7=t=>X7(X.Event(t,t)),ux=t=>Qh(t)==="dx",Z7=t=>Qh(t)==="mouse",q3=t=>Qh(t)==="touch",Qh=t=>{var{type:e}=t,r="other";return te(q7,function(n){if(this.test(e))return r=n,!1}),r},X3=t=>Qh(t)==="pointer",xl=t=>Z7(t)||(X3(t)||ux(t))&&t.pointerType==="mouse",Wn=t=>t&&t.type==="dxmousewheel",Jh=t=>q3(t)||(X3(t)||ux(t))&&t.pointerType==="touch",Er=t=>{var{pageX:e,pageY:r,timeStamp:n}=t;return{x:e,y:r,time:n}},tl=(t,e)=>({x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}),Q7=t=>{var{originalEvent:e,pointers:r}=t;return q3(t)?(e.touches||[]).length:ux(t)?(r||[]).length:0},Y3=t=>{var{target:e}=t,r=V(e),n=(e==null?void 0:e.isContentEditable)||(e==null?void 0:e.hasAttribute("contenteditable")),i=r.is("input, textarea, select")||n;if(Wn(t)){var a=r.is("textarea")&&r.hasClass("dx-texteditor-input");if(a||n)return!1;var o=r.is("input[type='number'], textarea, select")&&r.is(":focus");return o}if(xl(t))return i||t.which>1;if(Jh(t))return i&&vs(r)},Qo=(t,e)=>{var r=Y7(t);return e&&Y(r,e),r},Is=t=>{var{originalEvent:e,delegateTarget:r}=t,n=Qo(e,t);return X.trigger(r||n.target,n),n},Cr=t=>{var{key:e,which:r}=t,n=G7[e==null?void 0:e.toLowerCase()]||e,i=K7[r];return i&&n===e?i:!n&&r?String.fromCharCode(r):n},IC=t=>{var{key:e,which:r}=t;return e||String.fromCharCode(r)},Ee=SC,tn=t=>{var{ctrlKey:e,metaKey:r}=t;return e||r},TC="dx-state-focused",J7="dx-cell-focus-disabled",eH=".dx-row-focused",Z3=".dx-datagrid-rowsview .dx-row",AI="".concat(Z3," > td"),Q3=".dx-treelist-rowsview .dx-row",DI="".concat(Q3," > td"),RI={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(eH),"".concat(Z3,"[tabindex]"),"".concat(AI,"[tabindex]"),"".concat(AI),"".concat(Q3,"[tabindex]"),"".concat(DI,"[tabindex]"),"".concat(DI)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},Q_=!1,Cv=!1,wu=null;function tH(t,e,r,n,i,a){var o=nH(e,r.originalEvent,a);if(!o){var s=Cr(r);s==="enter"||s==="space"?(J3(r.target,e),n&&n({event:r})):s==="tab"?i.addClass(TC):dx(t,e,r)}}function J3(t,e){var r=V(t),n=r.attr("aria-label"),i=eM(n,e.element()),a=i.index(r);wu=Y({},{ariaLabel:n,index:a},{viewInstance:e})}function eM(t,e){var r=V(e),n;return t?n=r.find('[aria-label="'.concat(t,'"][tabindex]')):n=r.find("[tabindex]"),n}function rH(t,e){var r=(e==null?void 0:e.getRootNode())||Ce.getDocument();for(var n in t){var i=t[n],a=V(r).find(i).first();if(a.length)return a}}function nH(t,e,r){var n={event:e,handled:!1};return r?r(n):t._createActionByOption("onKeyDown")(n),n.handled}function tM(){Cv=Ce.getDocument().visibilityState==="visible"}function iH(){X.on(Ce.getDocument(),"visibilitychange",tM)}function PI(){X.off(Ce.getDocument(),"visibilitychange",tM)}function aH(t,e){Cv=!0,t.focus({preventScroll:e}),Cv=!1}function rM(t,e,r,n,i,a){if(e.option("useLegacyKeyboardNavigation"))return oe;var o=()=>V(e.element()),s=h=>tH(t,e,h,i,o(),a),l=()=>{Q_=!0,o().removeClass(TC)},p=()=>{var h=!Q_&&!Cv;h&&o().addClass(TC),Q_=!1};return X.on(r,"keydown",n,s),X.on(r,"mousedown",n,l),X.on(r,"focusin",n,p),()=>{X.off(r,"keydown",n,s),X.off(r,"mousedown",n,l),X.off(r,"focusin",n,p)}}function cx(t){if(!t.option("useLegacyKeyboardNavigation")&&wu){var e=wu.viewInstance;if(e){var r=eM(wu.ariaLabel,e.element()),n=r.eq(wu.index);wu=null,X.trigger(n,"focus")}}}function dx(t,e,r){var n=Cr(r);if(r.ctrlKey&&(n==="upArrow"||n==="downArrow"))for(var i=Object.keys(RI),a=i.indexOf(t);a>=0&&a<i.length;){a=n==="upArrow"?--a:++a;var o=i[a],s=RI[o],l=rH(s,r.target);if(l&&l.length){l.attr("tabindex",e.option("tabindex")||0),X.trigger(l,"focus"),l.removeClass(J7);break}}}function oH(t,e){t.option("useLegacyKeyboardnavigation")||e.attr("tabindex",t.option("tabindex")||0)}var Wd=function(t,e,r,n,i){var a=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled()||(e.createAction("onKeyDown"),rM(t,e,r,n,i,o=>{e.executeAction("onKeyDown",o)}))},sH=function(t){return t&&t.get(0)};function et(t){return sH(t)}var lH=Yh(),uH=/(webkit)[ /]([\w.]+)/,cH=/(mozilla)(?:.*? rv:([\w.]+))/,MI=t=>{t=t.toLowerCase();var e={},r=uH.exec(t)||t.indexOf("compatible")<0&&cH.exec(t)||[],n=r[1],i=r[2];return n==="webkit"&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(n="chrome",i=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t),i=i&&i[1]):t.indexOf("fxios")>=0?(n="mozilla",i=/fxios\/(\d+\.\d+)/.exec(t),i=i&&i[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(n="safari",i=/(?:version|phantomjs)\/([0-9.]+)/.exec(t),i=i&&i[1]):(n="unknown",i=/applewebkit\/([0-9.]+)/.exec(t),i=i&&i[1])),n&&(e[n]=!0,e.version=i),e};const mr=Y({_fromUA:MI},MI(lH.userAgent));var Ts=t=>{var e=t??ur().rtlEnabled;return e?"right":"left"},Hr=t=>Dr(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect(),J_=[],dH=Ao(()=>{var t=Ce.listen(Ce.getDocument(),"DOMContentLoaded",()=>{nM.fire(),t()})}),nM={add:t=>{var e=lt();e&&Ce.getReadyState()!=="loading"?t():(J_.push(t),e&&dH())},fire:()=>{J_.forEach(t=>t()),J_=[]}};const $a=Gi(nM);var Sl=function(){var t,e=Ht(),r=e.add,n=e.remove;if(!lt())return e;var i=function(){var l=pt();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=i();if(!(l.width===t.width&&l.height===t.height)){var p;l.width===t.width&&(p="height"),l.height===t.height&&(p="width"),t=l,e.fire(p)}},o=Ao(function(){t=i()}),s;return e.add=function(){var l=r.apply(e,arguments);return o(),$a.add(function(){!s&&e.has()&&(s=Ce.listen(pt(),"resize",a))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&s&&(s(),s=void 0),l},e}();class Hl{constructor(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=r}static create(e,r){return r?Me(r)?r(e):r:new Hl(e)}hasEvent(e){var r=this._events[e];return r?r.has():!1}fireEvent(e,r){var n=this._events[e];return n&&n.fireWith(this._owner,r),this._owner}on(e,r){if(yt(e))te(e,(a,o)=>{this.on(a,o)});else{var n=this._events[e];n||(n=Ht({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var i=n.originalAdd||n.add;i.call(n,r)}}off(e,r){var n=this._events[e];n&&(Me(r)?n.remove(r):n.empty())}dispose(){te(this._events,(e,r)=>{r.empty()})}}var hH=pt(),iM=function(){var t;try{t=hH.sessionStorage}catch{}return t},fH=$a.add,Sg=Ht(),aM=V(),gs=function(){var t;return function(e){if(!arguments.length)return t;var r=V(e);aM=r;var n=!!r.length,i=gs();t=n?r:V("body"),Sg.fire(n?gs():V(),i)}}();fH(function(){gs(".dx-viewport")});function oM(){return aM}var sM=pt(),pH={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},BI={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},e0={generic(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),r=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),n=!e&&!r&&/msapphost/i.test(t),i=/((intel|ppc) mac os x)/.test(t.toLowerCase());return e||r||n||i?{deviceType:e?"phone":r?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:i}:null},appleTouchDevice(t){var e=Yh(),r=/Macintosh/i.test(t)&&(e==null?void 0:e.maxTouchPoints)>2,n=/ip(hone|od|ad)/i.test(t);if(!n&&!r)return null;var i=/ip(hone|od)/i.test(t),a=t.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),o=a?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[],s=sM.screen.height===480,l=s?"B":"A";return{deviceType:i?"phone":"tablet",platform:"ios",version:o,grade:l}},android(t){var e=/android|htc_|silk/i.test(t),r=/windows phone/i.test(t);if(!e||r)return null;var n=/mobile/i.test(t),i=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),a=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],o=a.length>1&&(a[0]<4||a[0]===4&&a[1]<4),s=o?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:a,grade:s}}},LI=[e0.appleTouchDevice,e0.android,e0.generic];class mH{constructor(e){this._window=(e==null?void 0:e.window)||sM,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Hl(this),this.changed=Ht(),lt()&&($a.add(this._recalculateOrientation.bind(this)),Sl.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return Y({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var r=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(r.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&r.push("dx-device-mobile")),r.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&r.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&r.push("dx-simulator"),ur().rtlEnabled&&r.push("dx-rtl"),r}attachCssClasses(e,r){this._deviceClasses=this._getCssClasses(r).join(" "),V(e).addClass(this._deviceClasses)}detachCssClasses(e){V(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||lt()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),yt(e))return this._fromConfig(e);var r;if(e){if(r=pH[e],!r)throw Yt.Error("E0005")}else{var n=Yh();r=n.userAgent}return this._fromUA(r)}_getDeviceOrNameFromWindowScope(){var e;return lt()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=iM();if(e){var r=e.getItem("dx-force-device");try{return JSON.parse(r)}catch{return r}}}_fromConfig(e){var r=Y({},BI,this._currentDevice,e),n={phone:r.deviceType==="phone",tablet:r.deviceType==="tablet",android:r.platform==="android",ios:r.platform==="ios",generic:r.platform==="generic"};return Y(r,n)}_fromUA(e){for(var r=0;r<LI.length;r+=1){var n=LI[r],i=n(e);if(i)return this._fromConfig(i)}return BI}_changeOrientation(){var e=V(this._window),r=vt(e)>ot(e)?"portrait":"landscape";this._currentOrientation!==r&&(this._currentOrientation=r,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:r}]))}_recalculateOrientation(){var e=ot(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,r){return this._eventsStrategy.on(e,r),this}off(e,r){return this._eventsStrategy.off(e,r),this}}var Ue=new mH,FI=gs();FI&&Ue.attachCssClasses(FI);Sg.add((t,e)=>{Ue.detachCssClasses(e),Ue.attachCssClasses(t)});var{maxTouchPoints:lM}=Yh(),vH={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},hx=function(t){return!!Vl(t)},gH=function(){var{platform:t,mac:e}=Ue.real(),r=t==="ios"||t==="android"||e;return r},Eg=function(t){if(t==="text")return!0;var e=Ce.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch{return!1}},_H=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},yH=function(t){return t("PointerEvent")},uM=_H(T3,lM),cM=yH(T3),bH=!!lM,El=uM||cM&&bH,OC=Ao(function(){return hx("transition")}),dM=Ao(function(){return vH[Vl("transition")]}),hM=Ao(function(){return hx("animation")}),Il=gH();const CH=Object.freeze(Object.defineProperty({__proto__:null,animation:hM,inputType:Eg,nativeScrolling:Il,pointerEvents:cM,styleProp:Vl,stylePropPrefix:xm,supportProp:hx,touch:El,touchEvents:uM,transition:OC,transitionEndEventName:dM},Symbol.toStringTag,{value:"Module"}));var fx=pt(),wH=t=>{if(t.getRootNode){var e=t.getRootNode().host;if(!tt(e))return e}},Ec=()=>{var t=Ce.getActiveElement();if(t&&t!==Ce.getBody()){var e;(e=t.blur)===null||e===void 0||e.call(t)}},xH=()=>{var t=fx.getSelection();if(t&&t.type!=="Caret"){if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch{}}},SH=(t,e)=>{var r=V(t),n=V(e);if(r[0]===n[0])return r[0];for(var i=r.parents(),a=n.parents(),o=Math.min(i.length,a.length),s=-o;s<0;s++)if(i.get(s)===a.get(s))return i.get(s)},Ig=t=>{var e=q(t)&&(t.nodeType||Ei(t))?V(t):V("<div>").html(t).contents();return e.length===1&&(e.is("script")?e=Ig(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},kC=(t,e)=>{var r=t.originalEvent&&t.originalEvent.clipboardData||fx.clipboardData;if(!e)return r&&r.getData("Text");r&&r.setData("Text",e)},uo=(t,e)=>e?Dr(t)?uo(t.document,e):t.contains(e)||uo(t,wH(e)):!1,EH=(t,e,r)=>{var n=fx.getComputedStyle(V(t).get(0)),i=r&&r.includePaddings;return V("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:i?n.paddingTop:"",paddingRight:i?n.paddingRight:"",paddingBottom:i?n.paddingBottom:"",paddingLeft:i?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},IH=(t,e)=>(e&&Ce.insertElement(t.parentNode,e,t),t),TH=(t,e)=>{if(e&&e[0])return e.is(t)?t:(te(e,(r,n)=>{IH(t[0],n)}),t.remove(),e)},Tg=t=>{var e=t==null?void 0:t.get(0),r=e==null?void 0:e.getRootNode().host;return!!V(r||e).closest(pt().document).length},Mi=lt()?pt():{},OH=1e3/60,fM=function(t){return setTimeout(t,OH)},pM=function(t){clearTimeout(t)},mM=Ao(function(){var t=Mi.requestAnimationFrame||Mi.webkitRequestAnimationFrame||Mi.mozRequestAnimationFrame||Mi.oRequestAnimationFrame||Mi.msRequestAnimationFrame,e=Mi.cancelAnimationFrame||Mi.webkitCancelAnimationFrame||Mi.mozCancelAnimationFrame||Mi.oCancelAnimationFrame||Mi.msCancelAnimationFrame;t&&e&&(fM=t,pM=e)});function Ih(){return mM(),fM.apply(Mi,arguments)}function Da(){mM(),pM.apply(Mi,arguments)}const kH=Object.freeze(Object.defineProperty({__proto__:null,cancelAnimationFrame:Da,requestAnimationFrame:Ih},Symbol.toStringTag,{value:"Module"}));var Ki=function(t,e){var r={};"noBubble"in e&&(r.noBubble=e.noBubble),"bindType"in e&&(r.bindType=e.bindType),"delegateType"in e&&(r.delegateType=e.delegateType),te(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,i){e[i]&&(r[i]=function(){var a=[].slice.call(arguments);return a.unshift(this),e[i].apply(e,a)})}),Q1.fire(t,r)};Ki.callbacks=Q1;var fa="dxremove",AC="dxRemoveEvent";S7(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var r=V(t[e]);r.prop(AC)&&(r[0][AC]=null,X.triggerHandler(r,fa))}});Ki(fa,{noBubble:!0,setup:function(t){V(t).prop(AC,!0)}});function vM(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(e=>!!e)}var AH=(t,e)=>{X.one(vM(t),fa,e)},DH=(t,e)=>{X.off(vM(t),fa,e)},NI="dxPointerEvents",px=Ft.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=Ee(e,NI),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return t==="dxpointerenter"||t==="dxpointerleave"},_handler:function(t){var e,r=this._getDelegateTarget(t),n={type:this._eventName,pointerType:t.pointerType||Qh(t),originalEvent:t,delegateTarget:r,timeStamp:mr.mozilla?new Date().getTime():t.timeStamp},i=t.originalEvent;if(i!=null&&(e=i.target)!==null&&e!==void 0&&e.shadowRoot){var a,o,s=(a=i.path)!==null&&a!==void 0?a:(o=i.composedPath)===null||o===void 0?void 0:o.call(i);n.target=s[0]}return this._fireEvent(n)},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return Is(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:Ce.getDocument(),this._setSelector(e);var r=this;X.on(t,this._originalEvents,this._getSelector(),function(n){r._handler(n)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:Ce.getDocument(),this._originalEvents!=="."+NI&&X.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:Ce.getDocument(),X.off(t,this._originalEvents)}}),RH={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},gM=function(t){var e=[];return te(t.touches,function(r,n){e.push(Y({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},PH=function(t){return Ue.real().platform==="ios"&&(t==="dxpointerdown"||t==="dxpointerup")},Og=px.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(PH(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(Y(gM(t.originalEvent),t))}});Og.map=RH;Og.normalize=gM;var ap=function(t,e){$a.add(function(){t.split(" ").forEach(function(r){Ce.listen(Ce.getDocument(),r,e,!0)})})},MH=function(t,e,r){r=r||function(){};var n=[],i=function(o){var s=-1;return te(n,function(l,p){return e(o,p)?(s=l,!1):!0}),s},a=function(o){var s=i(o);s>-1&&n.splice(s,1)};ap(t.dxpointerdown,function(o){i(o)===-1&&(r(o),n.push(o))}),ap(t.dxpointermove,function(o){n[i(o)]=o}),ap(t.dxpointerup,a),ap(t.dxpointercancel,a),this.pointers=function(){return n},this.reset=function(){n=[]}},_M={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},yM=function(t){return t.pointerId=1,{pointers:mx.pointers(),pointerId:1}},mx,VI=!1,bM=function(){VI||(mx=new MH(_M,function(){return!0}),VI=!0)},Os=px.inherit({ctor:function(){this.callBase.apply(this,arguments),bM()},_fireEvent:function(t){return this.callBase(Y(yM(t.originalEvent),t))}});Os.map=_M;Os.normalize=yM;Os.activate=bM;Os.resetObserver=function(){mx.reset()};var BH={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},HI=!1,LH=function(){HI||(Os.activate(),HI=!0)},vx=px.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),LH()},_handler:function(t){var e=xl(t);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var r=this;this._unlockMouseTimer=setTimeout(function(){r._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(t)}},_fireEvent:function(t){var e=xl(t.originalEvent)?Os.normalize:Og.normalize;return this.callBase(Y(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});vx.map=BH;vx.resetObserver=Os.resetObserver;var FH=(t,e)=>{var{tablet:r,phone:n}=e;return t.touch&&!(r||n)?vx:t.touch?Og:Os},jI=FH(CH,Ue.real());te(jI.map,(t,e)=>{Ki(t,new jI(t,e))});var Mt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},kg=Ft.inherit({ctor:function(t){this._$element=V(t),this._cancelCallback=Ht(),this._acceptCallback=Ht()},getElement:function(){return this._$element},validate:function(t){return!Wn(t)},validatePointers:function(t){return Q7(t)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){Y(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:oe,move:oe,end:oe,cancel:oe,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,r){var n=Y({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},r);return e=Is(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?V(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:oe}),ef="dxmousewheel",$I="dxWheel",NH="wheel",zI=0,VH=30,DC={setup:function(t){var e=V(t);X.on(e,Ee(NH,$I),DC._wheelHandler.bind(DC))},teardown:function(t){X.off(t,".".concat($I))},_wheelHandler:function(t){var{deltaMode:e,deltaY:r,deltaX:n,deltaZ:i}=t.originalEvent;Is({type:ef,originalEvent:t,delta:this._normalizeDelta(r,e),deltaX:n,deltaY:r,deltaZ:i,deltaMode:e,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zI;return e===zI?-t:-VH*t}};Ki(ef,DC);var op="dxEventManager",xd="dxEmitter",HH=Ft.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){$a.add((function(){var t=Ce.getDocument();X.subscribeGlobal(t,Ee(Mt.down,op),this._pointerDownHandler.bind(this)),X.subscribeGlobal(t,Ee(Mt.move,op),this._pointerMoveHandler.bind(this)),X.subscribeGlobal(t,Ee([Mt.up,Mt.cancel].join(" "),op),this._pointerUpHandler.bind(this)),X.subscribeGlobal(t,Ee(ef,op),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],r=0;e.length>r;){var n=e[r];if(t(n)===!1)break;e[r]===n&&r++}},_applyToEmitters:function(t,e){this._eachEmitter(function(r){r[t].call(r,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){xl(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){this._isSetChanged(t)&&(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),r=this._emittersSet||[],n=e.length!==r.length;return te(e,function(i,a){return n=n||r[i]!==a,!n}),this._emittersSet=e,n},_closestEmitter:function(t){var e=this,r=[],n=V(t.target);function i(o,s){s&&s.validatePointers(t)&&s.validate(t)&&(s.addCancelCallback(e._proxiedCancelHandler),s.addAcceptCallback(e._proxiedAcceptHandler),r.push(s))}for(;n.length;){var a=br(n.get(0),xd)||[];te(a,i),n=n.parent()}return r},_acceptHandler:function(t,e){var r=this;this._eachEmitter(function(n){n!==t&&r._cancelEmitter(n,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var r=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var n=r.indexOf(t);n>-1&&r.splice(n,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){this._allowInterruptionByMouseWheel()&&(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t,t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(a){if(a.gesture){var o=a.getDirection(t);if(o!=="horizontal"&&!t.shiftKey||o!=="vertical"&&t.shiftKey)return e=a,!1}}),!!e){var r=e.getDirection(t),n=r==="both"&&!t.shiftKey||r==="vertical",i=n?"pageY":"pageX";t[i]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(r){e=e||r.getElement().is(t)}),e}}),WI=new HH,t0="dxEmitterSubscription",Ic=function(t){var e=t.emitter,r=t.events[0],n=t.events;te(n,function(i,a){Ki(a,{noBubble:!t.bubble,setup:function(o){var s=br(o,t0)||{},l=br(o,xd)||{},p=l[r]||new e(o);s[a]=!0,l[r]=p,br(o,xd,l),br(o,t0,s)},add:function(o,s){var l=br(o,xd),p=l[r];p.configure(Y({delegateSelector:s.selector},s.data),s.type)},teardown:function(o){var s=br(o,t0),l=br(o,xd),p=l[r];delete s[a];var h=!0;te(n,function(m,v){return h=h&&!s[v],h}),h&&(WI.isActive(o)&&WI.resetEmitter(p),p&&p.dispose(),delete l[r])}})})},jt="dxclick",RC=null,Sd=null,UI=()=>{Sd=null},GI=function(t){var e=t.originalEvent,r=Sd===e||e&&e.DXCLICK_FIRED,n=!t.which||t.which===1;n&&!RC&&!r&&(e&&(e.DXCLICK_FIRED=!0),DH(Sd,UI),Sd=e,AH(Sd,UI),Is({type:jt,originalEvent:t}))},jH=kg.inherit({ctor:function(t){this.callBase(t),X.on(this.getElement(),"click",GI)},start:function(t){RC=null},cancel:function(){RC=!0},dispose:function(){X.off(this.getElement(),"click",GI)}});(function(){var t=Ue.real().generic;if(!t){var e=null,r=!1,n=Ce.getDocument();X.subscribeGlobal(n,Ee(Mt.down,"NATIVE_CLICK_FIXER"),function(i){e=i.target,r=i.isDefaultPrevented()}),X.subscribeGlobal(n,Ee("click","NATIVE_CLICK_FIXER"),function(i){var a=V(i.target);!r&&e&&!a.is(e)&&!V(e).is("label")&&(o=a,V(o).is("input, textarea, select, button ,:focus, :focus *"))&&Ec();var o;e=null,r=!1})}})();Ic({emitter:jH,bubble:!0,events:[jt]});var tf="dxdblclick",$H="dxDblClick",KI=Ee(jt,$H),qI=300,zH=Ft.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-qI},add:function(){this._handlerCount<=0&&X.on(Ce.getDocument(),KI,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var e=t.timeStamp||Date.now(),r=e-this._lastClickTimeStamp,n=r<0,i=!n&&r<qI;i?(Is({type:tf,target:SH(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),X.off(Ce.getDocument(),KI))}});Ki(tf,new zH);var XI="dx-column-indicators",WH="dx-group-panel-item";const UH={_applyColumnState(t){var e,r=this.option("rtlEnabled"),n=this._getColumnAlignment(t.column.alignment,r),i=Y(!0,{columnAlignment:n},t),a=i.rootElement.hasClass(WH),o=this._createIndicatorContainer(i,a),s=V("<span>").addClass(this._getIndicatorClassName(t.name)),l=(e=this.component)===null||e===void 0?void 0:e.getController("columns"),p=(l==null?void 0:l.getHeaderContentAlignment(n))||n;return i.container=o,i.indicator=s,this._renderIndicator(i),o[(a||!t.showColumnLines)&&p==="left"?"appendTo":"prependTo"](t.rootElement),s},_getIndicatorClassName:oe,_getColumnAlignment(t,e){return e=e||this.option("rtlEnabled"),t&&t!=="center"?t:Ts(e)},_createIndicatorContainer(t,e){var r=this._getIndicatorContainer(t.rootElement),n=t.columnAlignment==="left"?"right":"left";return r.length||(r=V("<div>").addClass(XI)),this.setAria("role","presentation",r),r.css("float",t.showColumnLines&&!e?n:null)},_getIndicatorContainer:t=>t&&t.find(".".concat(XI)),_getIndicatorElements(t){var e=this._getIndicatorContainer(t);return e&&e.children()},_renderIndicator(t){var e=t.container,r=t.indicator;e&&r&&e.append(r)},_updateIndicators(t){var e=this.getColumns(),r=this.getColumnElements(),n;if(!(!r||e.length!==r.length))for(var i=0;i<e.length;i++){n=r.eq(i),this._updateIndicator(n,e[i],t);var a=n.parent().data("options");a&&a.cells&&(a.cells[n.index()].column=e[i])}},_updateIndicator(t,e,r){if(!e.command)return this._applyColumnState({name:r,rootElement:t,column:e,showColumnLines:this.option("showColumnLines")})}},Et=U1(Yt.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function."});var GH="dxDataGrid",CM=Ft.inherit({_endUpdateCore(){},ctor(t){var e=this;e._updateLockCount=0,e.component=t,e._actions={},e._actionConfigs={},te(this.callbackNames()||[],function(r,n){var i=e.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,e[this]=Ht(i)})},init(){},callbackNames(){},callbackFlags(){},publicMethods(){},beginUpdate(){this._updateLockCount++},endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option(t){var{component:e}=this,r=e._optionCache;return arguments.length===1&&r?(t in r||(r[t]=e.option(t)),r[t]):e.option.apply(e,arguments)},_silentOption(t,e){var{component:r}=this,n=r._optionCache;return n&&(n[t]=e),r._setOptionWithoutOptionChange(t,e)},localize(t){var e=this.component._optionCache;return e?(t in e||(e[t]=he.format(t)),e[t]):he.format(t)},on(){return this.component.on.apply(this.component,arguments)},off(){return this.component.off.apply(this.component,arguments)},optionChanged(t){t.name in this._actions&&(this.createAction(t.name,this._actionConfigs[t.name]),t.handled=!0)},getAction(t){return this._actions[t]},setAria(t,e,r){var n=r.get(0),i=t!=="role"&&t!=="id"?"aria-":"";n.setAttribute?n.setAttribute(i+t,e):r.attr(i+t,e)},_createComponent(){return this.component._createComponent.apply(this.component,arguments)},getController(t){return this.component._controllers[t]},createAction(t,e){if(Me(t)){var r=this.component._createAction(t.bind(this),e);return function(n){r({event:n})}}this._actions[t]=this.component._createActionByOption(t,e),this._actionConfigs[t]=e},executeAction(t,e){var r=this._actions[t];return r&&r(e)},dispose(){var t=this;te(t.callbackNames()||[],function(){t[this].empty()})},addWidgetPrefix(t){var e=this.component.NAME;return"dx-".concat(e.slice(2).toLowerCase()).concat(t?"-".concat(t):"")},getWidgetContainerClass(){var t=this.component.NAME===GH?null:"container";return this.addWidgetPrefix(t)},elementIsInsideGrid(t){var e=t.closest(".".concat(this.getWidgetContainerClass())).parent();return e.is(this.component.$element())}}),gx=CM,KH=gx.inherit({getView(t){return this.component._views[t]},getViews(){return this.component._views}}),wM=CM.inherit({_isReady(){return this.component.isReady()},_endUpdateCore(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate(t,e){this._requireRender=!0,this.component._requireResize=lt()&&(this.component._requireResize||t),this._requireReady=this._requireReady||e},_renderCore(){},_resizeCore(){},_parentElement(){return this._$parent},ctor(t){this.callBase(t),this.renderCompleted=Ht(),this.resizeCompleted=Ht()},element(){return this._$element},getElementHeight(){var t=this.element();if(!t)return 0;var e=parseFloat(t.css("marginTop"))||0,r=parseFloat(t.css("marginBottom"))||0,{offsetHeight:n}=t.get(0);return n+e+r},isVisible:()=>!0,getTemplate(t){return this.component._getTemplate(t)},render(t,e){var r=this._$element,n=this.isVisible();if(!(!r&&!t)&&(this._requireReady=!1,r||(r=this._$element=V("<div>").appendTo(t),this._$parent=t),r.toggleClass("dx-hidden",!n),n)){this.component._optionCache={};var i=this._renderCore(e);this.component._optionCache=void 0,i?i.done(()=>{this.renderCompleted.fire(e)}):this.renderCompleted.fire(e)}},resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus(t){this.element().get(0).focus({preventScroll:t})}}),YI=1e6;function ZI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={};return Object.entries(e).forEach(n=>{var[i,a]=n,o=t[i];if(o)if(Me(a))r[i]=a(o);else{var s=o;r[i]=s.inherit(a)}}),r}function qH(t,e,r){var n=r.publicMethods();n&&te(n,(i,a)=>{if(r[a])if(!t[a])t[a]=function(){return r[a](...arguments)};else throw Et.Error("E1005",a);else throw Et.Error("E1006",e,a)})}function XH(t,e){var{modules:r}=e,{modulesOrder:n}=e;function i(h){var m={};return te(h,(v,f)=>{var u=new f(t);u.name=v,qH(t,v,u),m[v]=u}),m}n&&r.sort((h,m)=>{var v=n.indexOf(h.name),f=n.indexOf(m.name);return v<0&&(v=YI),f<0&&(f=YI),v-f});var a={},o={};r.forEach(h=>{var{name:m,controllers:v={},views:f={}}=h;Object.entries(v).forEach(u=>{var[c,d]=u,_;if(a[c])throw Et.Error("E1001",m,c);if(!(!((_=d==null?void 0:d.subclassOf)===null||_===void 0)&&_.call(d,gx)))throw Et.Error("E1002",m,c);a[c]=d}),Object.entries(f).forEach(u=>{var[c,d]=u,_;if(o[c])throw Et.Error("E1003",m,c);if(!(!((_=d==null?void 0:d.subclassOf)===null||_===void 0)&&_.call(d,wM)))throw Et.Error("E1004",m,c);o[c]=d})});var s=r.filter(h=>{var{extenders:m}=h;return!!m}),l=s.reduce((h,m)=>{var{extenders:v}=m;return we(we({},h),ZI(h,v==null?void 0:v.controllers))},a),p=s.reduce((h,m)=>{var{extenders:v}=m;return we(we({},h),ZI(h,v==null?void 0:v.views))},o);t._controllers=i(l),t._views=i(p)}var YH=function(t,e,r){r=r||[],t._controllers&&te(t._controllers,function(){this[e]&&this[e].apply(this,r)}),t._views&&te(t._views,function(){this[e]&&this[e].apply(this,r)})};const ar={modules:[],View:wM,ViewController:KH,Controller:gx,registerModule(t,e){for(var{modules:r}=this,n=0;n<r.length;n++)if(r[n].name===t)return;e.name=t,r.push(e)},registerModulesOrder(t){this.modulesOrder=t},unregisterModule(t){this.modules=Nn(this.modules,e=>e.name!==t)},processModules:XH,callModuleItemsMethod:YH};var ZH=$a.add,xM="DEVEXTREME_XHR_ERROR_UNLOAD",QH=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2?!0:t[t.length-1]]},So=function(t){return Array.isArray(t)||(t=[t]),Xr(t,function(e){var r={selector:Me(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(r.compare=e.compare),r})},JH=function(){var t={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return ZH(function(){var r=pt();Ce.listen(r,"beforeunload",function(){e=!0})}),function(r,n){return e?xM:r.status<400?function(i){var a=t[i];return a||i}(n):r.statusText}}(),_x={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},ej=function(){var t=0,e;return{obtain:function(){t===0&&(e=new ae),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){var r=t===0?new ae().resolve():e;return r.promise()},reset:function(){t=0,e&&e.resolve()}}}();function tj(t){return/^(and|&&|&)$/i.test(t)}var rf=function(t,e,r){if(Array.isArray(t)){for(var n=Xr(e,function(o,s){return s}),i,a=0;a<n.length;a++)if(i=n[a],!Jt(e[i],r[i],{strict:!1}))return!1;return!0}return Jt(e,r,{strict:!1})},rj=function(t){return t[0]==="!"&&Array.isArray(t[1])},nj=function(t){return t==="and"||t==="or"},ij=function(t){var e=t[0],r=t[1];return!!(Array.isArray(e)||Me(e)&&(Array.isArray(r)||Me(r)||nj(r)))},Qu=function(){var t=new ae;return t.resolve.apply(t,arguments).promise()},SM=function(){var t=new ae;return t.reject.apply(t,arguments).promise()};function aj(t,e){var r;return function(){return r||(r=setTimeout(()=>{r=void 0,t.call(this)},Me(e)?e():e)),r}}function oj(t,e){var r=[],n=aj(function(){t.call(this,r),r=[]},e);return function(i){return Array.isArray(i)&&r.push(...i),n.call(this,r)}}var qr=U1(Yt.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),sj=null,yx=function(t){var e;(e=sj)===null||e===void 0||e(t)};function lj(t,e){for(var r,n=typeof e=="string"?e.split():e.slice();n.length;)if(r=n.shift(),r in t)return!0;return!1}function EM(t,e,r,n){var i,a;if(n){for(var o=0;o<e.length;o++)if(i=e[o].items||e[o].collapsedItems||[],a=EM(t,i||[],r,n-1),a)return a}else if(Tl(t,e,r)>=0)return e}function uj(t,e,r,n){return n?EM(t,e,r,n)||[]:e}function cj(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var r={},n=e.length,i=0;i<n;i++)r[JSON.stringify(t.keyOf(e[i]))]=e[i];e._dataByKeyMap=r,e._dataByKeyMapLength=n}}function dj(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}function hj(t,e){return t._dataByKeyMap?t._dataByKeyMap[JSON.stringify(e)]:!0}function IM(t,e,r){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=r,t._dataByKeyMapLength+=r?1:-1)}function TM(t,e,r){r=r||new WeakMap;var n=t?Object.create(Object.getPrototypeOf(t)):{};t&&r.set(t,n);var i=we({},t);Fi(n,i,!0,!0);for(var a in i){var o=i[a],s=e==null?void 0:e[a];rt(o)&&!yt(o)&&rt(s)&&!r.has(o)&&(n[a]=TM(o,s,r))}for(var l in n){var p=n[l];rt(p)&&r.has(p)&&(n[l]=r.get(p))}return n}function Jo(t,e){var r=TM(t,e);return Fi(r,e,!0,!0)}function dl(t){var{keyInfo:e,data:r,changes:n,groupCount:i,useInsertIndex:a,immutable:o,disableCache:s,logError:l,skipCopying:p}=t,h=o===!0?[...r]:r;return n.forEach(m=>{var v=m.type==="insert"?h:uj(e,h,m.key,i);switch(!s&&cj(e,v),m.type){case"update":bx(e,v,m.key,m.data,!0,o,l);break;case"insert":Cx(e,v,m.data,a&&q(m.index)?m.index:-1,!0,l,p);break;case"remove":OM(e,v,m.key,!0,l)}}),h}function wv(t,e,r){return t?e&&qr.log(r):SM(qr.Error(r))}function bx(t,e,r,n,i,a,o){var s,l=t.key();if(l){if(lj(n,l)&&!rf(l,r,t.keyOf(n)))return wv(i,o,"E4017");if(s=dj(e,r),!s){var p=Tl(t,e,r);if(p<0)return wv(i,o,"E4009");if(s=e[p],a===!0&&q(s)){var h=Jo(s,n);return e[p]=h,!i&&Qu(h,r)}}}else s=r;if(Fi(s,n,!0),!i)return ur().useLegacyStoreResult?Qu(r,n):Qu(s,r)}function Cx(t,e,r,n,i,a,o){var s,l=t.key(),p=yt(r)&&!o?Y({},r):r;if(l){if(s=t.keyOf(p),s===void 0||typeof s=="object"&&di(s)){if(Array.isArray(l))throw qr.Error("E4007");s=p[l]=String(new Lr)}else if(e[Tl(t,e,s)]!==void 0)return wv(i,a,"E4008")}else s=p;if(n>=0?e.splice(n,0,p):e.push(p),IM(e,s,p),!i)return Qu(ur().useLegacyStoreResult?r:p,s)}function OM(t,e,r,n,i){var a=Tl(t,e,r);if(a>-1&&(e.splice(a,1),IM(e,r,null)),n){if(a<0)return wv(n,i,"E4009")}else return Qu(r)}function Tl(t,e,r){var n=t.key();if(!hj(e,r))return-1;for(var i=0,a=e.length;i<a;i++)if(rf(n,t.keyOf(e[i]),r))return i;return-1}var nf=Ft.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),wx=nf.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Ag=nf.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),r0=Ag.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),fj=function(t,e,r){return tt(t)&&tt(e)&&(r!=null&&r.locale||r!=null&&r.collatorOptions)?new Intl.Collator((r==null?void 0:r.locale)||void 0,(r==null?void 0:r.collatorOptions)||void 0).compare(t,e):(t=Cn(t,!1,r),e=Cn(e,!1,r),t===null&&e!==null?-1:t!==null&&e===null||t===void 0&&e!==void 0?1:t!==void 0&&e===void 0||t<e?-1:t>e?1:0)},PC=nf.inherit({ctor:function(t,e,r,n){this.langParams=t.langParams,t instanceof r0||(t=new r0(t,this._wrap),t.langParams=this.langParams),this.iter=t,this.rules=[{getter:e,desc:r,compare:n,langParams:this.langParams}]},thenBy:function(t,e,r){var n=new PC(this.sortedIter||this.iter,t,e,r);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(te(t.rules,function(){this.getter=er(this.getter)}),t.sortedIter=new r0(new wx(this.iter.toArray().sort(function(e,r){return t._compare(e,r)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_getDefaultCompare:t=>(e,r)=>fj(e,r,t),_compare:function(t,e){var r=t.index,n=e.index;if(t=t.value,e=e.value,t===e)return r-n;for(var i=0,a=this.rules.length;i<a;i++){var o=this.rules[i],s=o.getter(t),l=o.getter(e),p=o.compare||this._getDefaultCompare(o.langParams),h=p(s,l);if(h)return o.desc?-h:h}return r-n}}),MC=function(){var t={},e=i=>Cn(i,!1,t),r=function(i){var a;return q(i)?(a=t)!==null&&a!==void 0&&a.locale?i.toLocaleString(t.locale):i.toString():""};function n(i,a,o){return function(s){s=e(i(s));var l=function(p){return p===""||p===0||p===!1}(a)?s===a:s==a;return o&&(l=!l),l}}return function(i,a){return t=a||{},Me(i)?i:ij(i)?function(o){var s=[],l=!1,p=!1;return te(o,function(){if(Array.isArray(this)||Me(this)){if(s.length>1&&l!==p)throw new qr.Error("E4019");s.push(MC(this,t)),l=p,p=!0}else p=tj(this)}),function(h){for(var m=l,v=0;v<s.length;v++)if(s[v](h)!==l){m=!l;break}return m}}(i):rj(i)?function(o){var s=o[0],l=MC(o[1],t);if(s==="!")return function(p){return!l(p)};throw qr.Error("E4003",s)}(i):function(o){o=QH(o);var s=er(o[0]),l=o[1],p=o[2];p=e(p);var h=(m,v)=>(m=e(s(m)),(p==null||m==null)&&p!==m?!1:v(m,p));switch(l.toLowerCase()){case"=":return n(s,p);case"<>":return n(s,p,!0);case">":return m=>h(m,(v,f)=>v>f);case"<":return m=>h(m,(v,f)=>v<f);case">=":return m=>h(m,(v,f)=>v>=f);case"<=":return m=>h(m,(v,f)=>v<=f);case"startswith":return function(m){return e(r(s(m))).indexOf(p)===0};case"endswith":return function(m){var v=e(r(s(m))),f=r(p);if(v.length<f.length)return!1;var u=v.lastIndexOf(p);return u!==-1&&u===v.length-p.length};case"contains":return function(m){return e(r(s(m))).indexOf(p)>-1};case"notcontains":return function(m){return e(r(s(m))).indexOf(p)===-1}}throw qr.Error("E4003",l)}(i)}}(),pj=Ag.inherit({ctor:function(t,e){this.callBase(t),this.langParams=t.langParams,this.criteria=MC(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),mj=nf.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],r=this.iter,n=er(this.getter);for(r.reset();r.next();){var i=r.current(),a=n(i);a in t?t[a].push(i):(t[a]=[i],e.push(a))}this.groupedIter=new wx(Xr(e,function(o){return{key:o,items:t[o]}}))}}}),vj=Ag.inherit({ctor:function(t,e){this.callBase(t),this.getter=er(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),gj=Ag.inherit({ctor:function(t,e,r){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,r),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),Dg=function t(e,r){r=r||{},e instanceof nf||(e=new wx(e)),r.langParams&&(e.langParams=r.langParams);var n=function(p){var h=r.errorHandler;h&&h(p),yx(p)},i=function(p){var h=new ae().fail(n),m,v=p.step,f=p.finalize;try{e.reset(),"seed"in p?m=p.seed:m=e.next()?e.current():NaN;for(var u=m;e.next();)u=v(u,e.current());h.resolve(f?f(u):u)}catch(c){h.reject(c)}return h.promise()},a=function(p){return i(_x[p])},o=function(p){return!Me(p)&&!Array.isArray(p)&&(p=[].slice.call(arguments)),l(new vj(e,p))},s=function(p){return o(er(p))};function l(p){return t(p,r)}return{toArray:function(){return e.toArray()},enumerate:function(){var p=new ae().fail(n);try{p.resolve(e.toArray())}catch(h){p.reject(h)}return p.promise()},setLangParams(p){e.langParams=p},sortBy:function(p,h,m){return l(new PC(e,p,h,m))},thenBy:function(p,h,m){if(e instanceof PC)return l(e.thenBy(p,h,m));throw qr.Error("E4004")},filter:function(p){return Array.isArray(p)||(p=[].slice.call(arguments)),l(new pj(e,p))},slice:function(p,h){return h===void 0&&(h=Number.MAX_VALUE),l(new gj(e,p,h))},select:o,groupBy:function(p){return l(new mj(e,p))},aggregate:function(p,h,m){return arguments.length<2?i({step:arguments[0]}):i({seed:p,step:h,finalize:m})},count:function(){if(e.countable()){var p=new ae().fail(n);try{p.resolve(e.count())}catch(h){p.reject(h)}return p.promise()}return a("count")},sum:function(p){return p?s(p).sum():a("sum")},min:function(p){return p?s(p).min():a("min")},max:function(p){return p?s(p).max():a("max")},avg:function(p){return p?s(p).avg():a("avg")}}};function xx(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(r){return Y({},r,{items:xx(Dg(r.items),e.slice(1)).toArray()})})),t}function kM(t,e){var r=[];return te(t,function(n,i){var a=Nn(e,function(o){return i.selector===o.selector});a.length<1&&r.push(i)}),r.concat(e)}function _j(t,e,r){var n;e=e||{};var i=e.filter;if((n=e)!==null&&n!==void 0&&n.langParams){var a,o;(a=(o=t).setLangParams)===null||a===void 0||a.call(o,e.langParams)}if(i&&(t=t.filter(i)),r)return t;var s=e.sort,l=e.select,p=e.group,h=e.skip,m=e.take;return p&&(p=So(p),p.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(s||p)&&(s=So(s||[]),p&&!p.keepInitialKeyOrder&&(s=kM(p,s)),te(s,function(v){t=t[v?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(t=t.select(l)),p&&(t=xx(t,p)),(m||h)&&(t=t.slice(h||0,m)),t}const Eo={multiLevelGroup:xx,arrangeSortingInfo:kM,queryByOptions:_j};var Wc=Ft.abstract,QI=Eo.queryByOptions,BC={},La=Ft.inherit({_langParams:{},ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new Hl(this),te(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(r,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_clearCache:oe,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=er(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw qr.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(r){e._eventsStrategy.fireEvent("loaded",[r,t])})},_loadImpl:function(t){return di(this._langParams)||(t=t||{},t._langParams=we({},this._langParams,t._langParams)),QI(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new ae;return t.done(function(){var r=this,n=arguments;ej.promise().done(function(){e.resolveWith(r,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:Wc,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return QI(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:Wc,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(r,n){e._eventsStrategy.fireEvent("inserted",[r,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:Wc,update:function(t,e){var r=this;return r._eventsStrategy.fireEvent("modifying"),r._eventsStrategy.fireEvent("updating",[t,e]),r._addFailHandlers(r._updateImpl(t,e).done(function(){r._eventsStrategy.fireEvent("updated",[t,e]),r._eventsStrategy.fireEvent("modified")}))},_updateImpl:Wc,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[e]),Ve(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:oe,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(r){e._eventsStrategy.fireEvent("removed",[r]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:Wc,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(yx)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});La.create=function(t,e){if(!(t in BC))throw qr.Error("E4020",t);return new BC[t](e)};La.registerClass=function(t,e){return e&&(BC[e]=t),t};La.inherit=function(t){return function(e,r){var n=t.apply(this,[e]);return La.registerClass(n,r),n}}(La.inherit);var AM="totalCount",LC="load",DM="byKey",JI="insert",eT="update",tT="remove";function Ju(t){return t&&Me(t.then)}function hl(t){return new ae().resolve(t).promise()}function Ud(t,e){if(!Me(e))throw qr.Error("E4011",t)}function RM(t){throw qr.Error("E4012",t)}function Us(t){function e(r){var n=r[0],i=r[1];return!n||!n.getResponseHeader?null:JH(n,i)}return function(r){var n;r instanceof Error?n=r:n=new Error(e(arguments)||r&&String(r)||"Unknown error"),n.message!==xM&&t.reject(n)}}function PM(t,e){var r=t._loadFunc,n;return Ud(LC,r),n=r.apply(t,[e]),Array.isArray(n)?n=hl(n):n==null?n=hl([]):Ju(n)||RM(LC),cn(n)}function yj(t,e){var r=t._totalCountFunc,n;if(!Me(r))throw qr.Error("E4021");return n=r.apply(t,[e]),Ju(n)||(n=Number(n),isFinite(n)||RM(AM),n=hl(n)),cn(n)}function bj(t,e,r){var n=t._byKeyFunc,i;return Ud(DM,n),i=n.apply(t,[e,r]),Ju(i)||(i=hl(i)),cn(i)}function MM(t,e,r,n){if(e.__rawData)n(e.__rawData);else{var i=e.__rawDataPromise||PM(e,r);e._cacheRawData&&(e.__rawDataPromise=i),i.always(function(){delete e.__rawDataPromise}).done(function(a){e._cacheRawData&&(e.__rawData=a),n(a)}).fail(Us(t))}}function rT(t,e,r,n){r=r||{};var i={};"userData"in r&&(i.userData=r.userData),MM(t,e,i,function(a){var o=Dg(a,{errorHandler:e._errorHandler}),s,l,p=[],h,m;n||(s=Eo.queryByOptions(o,r),s===o?h=a.slice(0):p.push(s.enumerate().done(function(v){h=v}))),(r.requireTotalCount||n)&&(l=Eo.queryByOptions(o,r,!0),l===o?m=a.length:p.push(l.count().done(function(v){m=v}))),Ve.apply(V,p).done(function(){n?t.resolve(m):r.requireTotalCount?t.resolve(h,{totalCount:m}):t.resolve(h)}).fail(function(v){t.reject(v)})})}function Cj(t,e,r){MM(t,e,{},function(n){for(var i=e.key(),a,o=0,s=n.length;o<s;o++)if(a=n[o],rf(i,e.keyOf(n[o]),r)){t.resolve(a);return}t.reject(qr.Error("E4009"))})}var Rg=La.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||t.loadMode==="raw",this._loadMode=t.loadMode,this._cacheRawData=t.cacheRawData!==!1,this._loadFunc=t[LC],this._totalCountFunc=t[AM],this._byKeyFunc=t[DM],this._insertFunc=t[JI],this._updateFunc=t[eT],this._removeFunc=t[tT]},_clearCache(){delete this.__rawData},createQuery:function(){throw qr.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(t){var e=new ae;return this._loadMode==="raw"&&!this._totalCountFunc?rT(e,this,t,!0):(yj(this,t).done(function(r){e.resolve(Number(r))}).fail(Us(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(t){this.__rawData&&dl({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new ae;return this._loadMode==="raw"?rT(e,this,t,!1):(PM(this,t).done(function(r,n){e.resolve(r,n)}).fail(Us(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var r=new ae;return this._byKeyViaLoad()?(this._requireKey(),Cj(r,this,t)):bj(this,t,e).done(function(n){r.resolve(n)}).fail(Us(r)),r.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(t){var e=this,r=e._insertFunc,n,i=new ae;return Ud(JI,r),n=r.apply(e,[t]),Ju(n)||(n=hl(n)),cn(n).done(function(a){ur().useLegacyStoreResult?i.resolve(t,a):i.resolve(a||t,e.keyOf(a))}).fail(Us(i)),i.promise()},_updateImpl:function(t,e){var r=this._updateFunc,n,i=new ae;return Ud(eT,r),n=r.apply(this,[t,e]),Ju(n)||(n=hl(n)),cn(n).done(function(a){ur().useLegacyStoreResult?i.resolve(t,e):i.resolve(a||e,t)}).fail(Us(i)),i.promise()},_removeImpl:function(t){var e=this._removeFunc,r,n=new ae;return Ud(tT,e),r=e.apply(this,[t]),Ju(r)||(r=hl()),cn(r).done(function(){n.resolve(t)}).fail(Us(n)),n.promise()}});function wj(t){var e=[],r=!1;function n(){for(;e.length;){r=!0;var i=e.shift(),a=i();if(a!==void 0){if(a.then){Ve(a).always(n);return}throw Yt.Error("E0015")}}r=!1}return{add:function(i,a){t?(e[0]&&a&&a(e[0]),e=[i]):e.push(i),r||n()},busy:function(){return r}}}function _r(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var xj=pt(),Sj={getXhr:function(){return new xj.XMLHttpRequest}};const Ej=Gi(Sj);var Sx=pt(),Gd="success",n0="error",Ij="timeout",Tj="nocontent",Oj="parsererror",kj=function(t){return 200<=t&&t<300},Aj=function(t){return t!==204},Dj=function(t){var e=[];for(var r in t){var n=t[r];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(r)+"="+encodeURIComponent(n)))}return e.join("&")},BM=function(t){var e=Ce.createElement("script");for(var r in t)e[r]=t[r];return e},LM=function(t){t.parentNode.removeChild(t)},FM=function(t){return Ce.getHead().appendChild(t)},nT=function(t){var e=BM({text:t});FM(e),LM(e)},Rj=function(t){var e=BM({src:t});return new Promise(function(r,n){var i={load:r,error:n},a=function(s){i[s.type](),LM(e)};for(var o in i)Ce.listen(e,o,a);FM(e)})},Pj=function(t){var e=t.dataType||"*",r="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:r,script:r};return E9(n,t.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},Mj=function(t){var e;return t.data&&!t.upload&&Ex(t)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e},Bj=function(t){return t.responseType&&t.responseType!=="text"||typeof t.responseText!="string"?t.response:t.responseText},Lj=function(t,e,r){var n=Bj(e);switch(r){case"jsonp":nT(n);break;case"script":nT(n),t.resolve(n,Gd,e);break;case"json":try{t.resolve(JSON.parse(n),Gd,e)}catch(i){t.reject(e,Oj,i)}break;default:t.resolve(n,Gd,e)}},Fj=function(t){if(!lt())return!0;var e=!1,r=Ce.createElement("a"),n=Ce.createElement("a");r.href=Sx.location.href;try{n.href=t,n.href=n.href,e=r.protocol+"//"+r.host!=n.protocol+"//"+n.host}catch{e=!0}return e},Nj=function(t,e){return t&&setTimeout(function(){e.customStatus=Ij,e.abort()},t)},Vj=function(t){if(t.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),r=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=r,r}},Hj=function(t,e){var r=t.data,n=typeof r=="string",i=t.url||Sx.location.href;return!n&&!t.cache&&(r=r||{},r._=Date.now()),r&&!t.upload&&(n||(r=Dj(r)),Ex(t)==="GET"?(r!==""&&(i+=(i.indexOf("?")>-1?"&":"?")+r),r=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(r=r.replace(/%20/g,"+"))),{url:i,parameters:r}};function Ex(t){return(t.method||"GET").toUpperCase()}var jj=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||Mj(t),e.Accept=e.Accept||Pj(t),!t.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},$j=function(t){var e=Ej.getXhr(),r=new ae,n=r.promise(),i=q(t.async)?t.async:!0,a=t.dataType,o=t.timeout||0,s;t.crossDomain=Fj(t.url);var l=a==="jsonp"||a==="script";t.cache===void 0&&(t.cache=!l);var p=Vj(t),h=jj(t),m=Hj(t,h),v=m.url,f=m.parameters;if(p&&(Sx[p]=function(d){r.resolve(d,Gd,e)}),t.crossDomain&&l)return Rj(v).then(function(){a!=="jsonp"&&r.resolve(null,Gd,e)},function(){r.reject(e,n0)}),n;if(t.crossDomain&&!("withCredentials"in e))return r.reject(e,n0),n;if(e.open(Ex(t),v,i,t.username,t.password),i&&(e.timeout=o,s=Nj(o,e)),e.onreadystatechange=function(d){e.readyState===4&&(clearTimeout(s),kj(e.status)?Aj(e.status)?Lj(r,e,a):r.resolve(null,Tj,e):r.reject(e,e.customStatus||n0))},t.upload&&(e.upload.onprogress=t.upload.onprogress,e.upload.onloadstart=t.upload.onloadstart,e.upload.onabort=t.upload.onabort),t.xhrFields)for(var u in t.xhrFields)e[u]=t.xhrFields[u];t.responseType==="arraybuffer"&&(e.responseType=t.responseType);for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&q(h[c])&&e.setRequestHeader(c,h[c]);return t.beforeSend&&t.beforeSend(e),e.send(f),n.abort=function(){e.abort()},n};const zj=Gi({sendRequest:$j}),Wj={};var Uj=function t(e,r,n){n=n||[],r=r||{};var i=function(s,l){return{name:s,args:l}},a=function(s){var l=new ae,p,h,m,v,f,u=function(_){var g=r.errorHandler;g&&g(_),yx(_),l.reject(_)};function c(_){switch(_.name){case"sortBy":return f=[_.args],!0;case"thenBy":if(!f)throw qr.Error("E4004");return f.push(_.args),!0}return!1}try{p=r.adapter,Me(p)||(p=Wj[p]),h=p(r),m=[].concat(n).concat(s);var d=h.optimize;for(d&&d(m);m.length;){if(v=m[0],!c(v)){if(f){m.unshift(i("multiSort",[f])),f=null;continue}if(String(v.name)!=="enumerate"&&(!h[v.name]||h[v.name].apply(h,v.args)===!1))break}m.shift()}(function(){var _=m[0],g=[];_&&_.name==="multiSort"&&(m.shift(),te(_.args[0],function(){g.push(i(g.length?"thenBy":"sortBy",this))})),m=g.concat(m)})(),h.exec(e).done(function(_,g){if(!m.length)l.resolve(_,g);else{var y=Dg(_,{errorHandler:r.errorHandler});te(m,function(){y=y[this.name].apply(y,this.args)}),y.done(l.resolve).fail(l.reject)}}).fail(u)}catch(_){u(_)}return l.promise()},o={};return te(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var s=String(this);o[s]=function(){return t(e,r,n.concat(i(s,arguments)))}}),te(["count","min","max","sum","avg","aggregate","enumerate"],function(){var s=String(this);o[s]=function(){return a.call(this,i(s,arguments))}}),o},Gj={array:Dg,remote:Uj},Gn=function(){var t=Array.isArray(arguments[0])?"array":"remote";return Gj[t].apply(this,arguments)},Tc=La.inherit({ctor:function(t){Array.isArray(t)?t={data:t}:t=t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw qr.Error("E4006");this._array=e||[]},createQuery:function(){return Gn(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=Tl(this,this._array,t);return e===-1?SM(qr.Error("E4009")):Qu(this._array[e])},_insertImpl:function(t){return Cx(this,this._array,t)},_pushImpl:function(t){dl({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return bx(this,this._array,t,e)},_removeImpl:function(t){return OM(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),Kj=["items"],NM="canceled",iT=t=>t.state()==="pending",aT=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},qj=(t,e,r)=>Xr(t,n=>{var i=_r(n,Kj);return we({},i,{items:VM(n.items,e-1,r)})}),VM=(t,e,r)=>Array.isArray(t)?e?qj(t,e,r):Xr(t,r):t,Xj=(t,e,r)=>{var n=r?So(r).length:0;return VM(t,n,e)},HM=(t,e)=>{var r;return(r=t)!==null&&r!==void 0&&r.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},Yj=t=>{var e={};return te(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new Rg(e)},Zj=t=>{var e=t.type;return delete t.type,La.create(e,t)},Qj=(t,e)=>new Rg({load:()=>zj.sendRequest({url:t,dataType:"json"}),loadMode:e==null?void 0:e.fromUrlLoadMode}),Oc=(t,e)=>{var r;return typeof t=="string"&&(t={paginate:!1,store:Qj(t,e)}),t===void 0&&(t=[]),Array.isArray(t)||t instanceof La?t={store:t}:t=Y({},t),t.store===void 0&&(t.store=[]),r=t.store,"load"in t?r=Yj(t):Array.isArray(r)?r=new Tc(r):yt(r)&&(r=Zj(Y({},r))),t.store=r,t};class Jj{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(NM),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var Va=Ft.inherit({ctor(t){var e;t=Oc(t),this._eventsStrategy=new Hl(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0;var r=t.pushAggregationTimeout!==0;if(r){var n=t.pushAggregationTimeout===void 0?()=>5*this._changedTime:t.pushAggregationTimeout,i,a,o=oj(s=>{i.resolve();var l=Ve(...a);l.done(()=>this._onPush(s)),a=void 0,i=void 0},n);this._onPushHandler=s=>{this._aggregationTimeoutId=o(s.changes),i||(i=new ae),a=s.waitFor,s.waitFor.push(i.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=s=>this._onPush(s),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==void 0?t.pageIndex:0,this._pageSize=t.pageSize!==void 0?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=(e=t.reshapeOnPush)!==null&&e!==void 0?e:!1,te(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(s,l)=>{l in t&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),t[l])}),this._operationManager=new Jj,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,q(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(t=this._delayedLoadTask)===null||t===void 0||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},r=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(r=r.concat(n)),te(r,function(){e[this]=t[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!qt(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!wh(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!qt(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var r=aT(e);if(r===void 0)return this._storeLoadOptions[t];this._storeLoadOptions[t]=r}},sort(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=aT(arguments);if(t===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!wh(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!tt(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return(t=this._store)===null||t===void 0?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>wj(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var r=this.isLoading();e^r&&this._eventsStrategy.fireEvent("loadingChanged",[r])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]!==NM&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var r=new ae,n=this.key(),i=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(r),arguments.length<2&&(e=t,t=n),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>t===n||i instanceof Rg&&!i._byKeyViaLoad()?i.byKey(e,a):(a.take=1,a.filter=a.filter?[a.filter,[t,e]]:[t,e],i.load(a)))().fail(r.reject).done(o=>{var s=Array.isArray(o)&&!o.length;!q(o)||s?r.reject(new qr.Error("E4009")):(Array.isArray(o)||(o=[o]),r.resolve(this._applyMapFunction(o)[0]))}),r.promise()},load(){var t=new ae,e=()=>{if(!this._disposed&&iT(t))return this._loadFromStore(r,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var r=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[r]),this._loadQueue.add(()=>(typeof r.delay=="number"?this._delayedLoadTask=Cg(e,r.delay):e(),t.promise())),t.promise({operationId:r.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{var e={changes:t};this._eventsStrategy.fireEvent("changing",[e]);var r=this.group(),n=this.items(),i=0,a=this.paginate()||r?t.filter(o=>o.type==="update"):t;r&&(i=Array.isArray(r)?r.length:1),this._mapFunc&&a.forEach(o=>{o.type==="insert"&&(o.data=this._mapFunc(o.data))}),e.postProcessChanges&&(a=e.postProcessChanges(a)),dl({keyInfo:this.store(),data:n,changes:a,groupCount:i,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),r=this._createStoreLoadOptions();return this._store&&!di(r==null?void 0:r.langParams)&&(this._store._langParams=we({},this._store._langParams,r.langParams)),t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:r}},reload(){var t=this.store();return t._clearCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=Y({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,r=this._searchOperation,n=this._searchExpr,i=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),te(n,function(a,o){i.length&&i.push("or"),i.push([o,r,e])}),t.filter?t.filter=[i,t.filter]:t.filter=i)},_loadFromStore(t,e){var r=(n,i)=>{if(!this._disposed&&iT(e)){var a=Y(HM(n,i),t);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),Ve(a.data).done(o=>{a.data=o,this._processStoreLoadResult(a,e)}).fail(e.reject)}};return t.data?new ae().resolve(t.data).done(r):this.store().load(t.storeLoadOptions).done(r).fail(e.reject)},_processStoreLoadResult(t,e){var r=t.data,n=t.extra,i=t.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(r,n));this._disposed||(r=this._applyPostProcessFunction(this._applyMapFunction(r)),rt(n)||(n={}),this._items=r,(!r.length||!this._paginate||this._pageSize&&r.length<this._pageSize)&&(this._isLastPage=!0),i.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(i).done(function(o){n.totalCount=o,a()}).fail(e.reject):a())},_applyMapFunction(t){return this._mapFunc?Xj(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),cc=function(t){return t===0?0:t/Math.abs(t)},En=function(t,e,r){var n=!e&&e!==0,i=!r&&r!==0;return n&&(e=i?t:Math.min(t,r)),i&&(r=n?t:Math.max(t,e)),Math.min(Math.max(t,e),r)},co=function(t,e,r){return t>=e&&t<=r};function oT(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function e$(t){var e=t.toExponential().split("e"),r=parseFloat(e[0]),n=parseInt(e[1]);return{exponent:n,mantissa:r}}function jM(t,e){var r=e$(t);return parseFloat("".concat(r.mantissa,"e").concat(r.exponent+e))}function t$(){return 3e-4.toPrecision(3)!=="0.000300"}function $M(t,e){var r=r$(e||0)+2,n=t.toString().split("."),i=t,a=Math.abs(t),o,s=dI(t),l=a>1?10:0;return n.length===1?t:(s||(dI(e)&&(r=n[0].length+oT(e)),t=a,t=t-Math.floor(t)+l),r=t$()&&oT(t)>6||r>7?15:7,!s&&(o=parseFloat(t.toPrecision(r)).toString().split("."),o[0]===l.toString())?parseFloat(n[0]+"."+o[1]):parseFloat(i.toPrecision(r)))}function r$(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var r=e.split("."),n=r[1].indexOf("e");return n>=0?n:r[1].length}var n$={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function Pg(t){return n$[t]}var Th=7,sT=4,lT=7,uT=52,Ed=["millisecond","second","minute","hour","day","week","month","quarter","year"],i$=function(t,e,r){var n=e.getTime()-t.getTime(),i=Pg(r)||1;return Math.floor(n/i)},a$=function(t,e){var r=Mg(t);switch(r){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},zM=function(t){var e,r,n,i=["millisecond","second","minute","hour","day","month","year"],a={};for(e=i.length-1;e>=0;e--)n=i[e],r=Math.floor(t/Pg(n)),r>0&&(a[n+"s"]=r,t-=xv(n,r));return a},o$=function(t){var e=0;return rt(t)&&te(t,function(r,n){e+=xv(r.substr(0,r.length-1),n)}),tt(t)&&(e=xv(t,1)),e};function xv(t,e){return Pg(t)*e}function Mg(t){var e=-1,r;return tt(t)?t:rt(t)?(te(t,function(n,i){for(r=0;r<Ed.length;r++)i&&(n===Ed[r]+"s"||n===Ed[r])&&e<r&&(e=r)}),Ed[e]):""}var s$={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function l$(t){return s$[Mg(t)]||""}var WM=function(t){return Math.floor(t/3)},UM=function(t){return 3*WM(t)};function GM(t,e,r,n){t=new Date(t.getTime());var i=new Date(t.getTime()),a,o,s=Mg(e);switch(s){case"second":t=new Date(1e3*Math.floor(i.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(i.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(i.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":t=QM(t,n||0),t.setHours(0,0,0,0);break;case"quarter":a=UM(t.getMonth()),o=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),o!==a&&t.setMonth(a)}return r&&s!=="hour"&&s!=="minute"&&s!=="second"&&t6(i,t),t}function KM(t){return GM(t,"day")}var u$=function(t){var e=KM(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},c$=function(t,e){var r=0,n={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return te(n,function(i,a){a&&r++}),r===0&&r6(t,e)!==0&&(n.hour=!0,r++),n.count=r,n};function qM(t,e,r){var n=new Date(t.getTime()),i=tt(e)?YM(e.toLowerCase()):qt(e)?zM(e):e;return i.years&&n.setFullYear(n.getFullYear()+i.years*r),i.quarters&&n.setMonth(n.getMonth()+3*i.quarters*r),i.months&&n.setMonth(n.getMonth()+i.months*r),i.weeks&&n.setDate(n.getDate()+7*i.weeks*r),i.days&&n.setDate(n.getDate()+i.days*r),i.hours&&n.setTime(n.getTime()+36e5*i.hours*r),i.minutes&&n.setTime(n.getTime()+6e4*i.minutes*r),i.seconds&&n.setTime(n.getTime()+1e3*i.seconds*r),i.milliseconds&&n.setTime(n.getTime()+i.milliseconds*r),n}var XM=function(t,e,r){var n=r?-1:1;return Kn(t)?qM(t,e,n):$M(t+e*n,e)},d$=function(t,e,r){var n=[],i;for(n.push(Kn(t)?new Date(t.getTime()):t),i=t;i<e;)i=XM(i,r),n.push(i);return n},h$=function(t,e){if(t==="month")return yi(e.getFullYear(),e.getMonth(),1);if(t==="year")return yi(e.getFullYear(),0,e.getDate());if(t==="decade")return yi(of(e),e.getMonth(),e.getDate());if(t==="century")return yi(af(e),e.getMonth(),e.getDate())},f$=function(t,e){if(t==="month")return yi(e.getFullYear(),e.getMonth(),Sv(e));if(t==="year")return yi(e.getFullYear(),11,e.getDate());if(t==="decade")return yi(of(e)+9,e.getMonth(),e.getDate());if(t==="century")return yi(af(e)+90,e.getMonth(),e.getDate())},p$=function(t,e){var r=yi(e.getFullYear(),e.getMonth(),1);return t==="month"||(r.setMonth(0),t==="year")||(t==="decade"&&r.setFullYear(of(e)),t==="century"&&r.setFullYear(af(e))),r},m$=function(t,e){var r=new Date(e);return r.setDate(Sv(e)),t==="month"||(r.setMonth(11),r.setDate(Sv(r)),t==="year")||(t==="decade"&&r.setFullYear(of(e)+9),t==="century"&&r.setFullYear(af(e)+99)),r};function Sv(t){var e=yi(t.getFullYear(),t.getMonth()+1,0);return e.getDate()}var v$=function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},g$=function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},_$=function(t){var e=1;return t==="year"&&(e=12),t==="decade"&&(e=120),t==="century"&&(e=1200),e},y$=function(t){var e=1;return t==="decade"&&(e=12),t==="century"&&(e=120),e};function YM(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function b$(t,e){return FC(t,e)&&t.getDate()===e.getDate()}function FC(t,e){return ZM(t,e)&&t.getMonth()===e.getMonth()}function ZM(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function C$(t,e){return t&&e&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()}var w$=function(t,e){if(!(!q(t)||!q(e))){var r=t.getFullYear()-t.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return t&&e&&r===n}},x$=function(t,e){if(!(!q(t)||!q(e))){var r=t.getFullYear()-t.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return t&&e&&r===n}};function af(t){return t&&t.getFullYear()-t.getFullYear()%100}function of(t){return t&&t.getFullYear()-t.getFullYear()%10}var S$=function(){return"yyyy/MM/dd"},E$=function(t){if(q(t))return yi(t.getFullYear(),t.getMonth(),1)},I$=function(t){if(q(t))return yi(t.getFullYear(),t.getMonth()+1,0)};function QM(t,e){var r=(t.getDay()-e+Th)%Th,n=new Date(t);return n.setDate(t.getDate()-r),n}function cT(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function T$(t){var e=cT(t)-cT(JM(t.getFullYear()));return 1+Math.floor(e/Pg("day"))}function JM(t){return new Date(t,0,1)}function i0(t){return new Date(t,11,31)}function dT(t,e){var r=t.getDay()-e+1;return r<=0&&(r+=Th),r}function NC(t,e,r){var n=dT(JM(t.getFullYear()),e),i=dT(i0(t.getFullYear()),e),a=Th-n+1,o=Math.ceil((T$(t)-a)/7);switch(r){case"fullWeek":if(a===Th&&o++,o===0){var s=i0(t.getFullYear()-1);return NC(s,e,r)}return o;case"firstDay":a>0&&o++;var l=n===lT||i===lT;return(o>uT&&!l||o===54)&&(o=1),o;case"firstFourDays":a>3&&o++;var p=n===sT||i===sT;if(o>uT&&!p&&(o=1),o===0){var h=i0(t.getFullYear()-1);return NC(h,e,r)}return o}}var O$=function(t,e){var r=Ze.getDatesInterval(t,e,"day"),n=new Date(t);return r>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},k$=function(t,e,r,n){return n==="date"&&(e=e&&Ze.correctDateWithUnitBeginning(e,"day"),r=r&&Ze.correctDateWithUnitBeginning(r,"day"),t=t&&Ze.correctDateWithUnitBeginning(t,"day")),e6(t,e,r)===t},A$=function(t){var{firstMin:e,firstMax:r,secondMin:n,secondMax:i}=t;return e<=n&&n<=r||e>n&&e<i||e<i&&r>i},D$=function(t){var e=Math.floor(t),r=t%1*60;return{hours:e,minutes:r}},R$=function(t,e){var r=this.dateTimeFromDecimal(e),n=new Date(t);return(t.getHours()===r.hours&&t.getMinutes()<r.minutes||t.getHours()<r.hours)&&n.setHours(r.hours,r.minutes,0,0),n};function e6(t,e,r){var n=t;return q(t)?(q(e)&&t<e&&(n=e),q(r)&&t>r&&(n=r),n):t}function t6(t,e){if(q(t)){var r=e.getHours()-t.getHours();if(r!==0){var n=r===1||r===-23?-1:1,i=new Date(e.getTime()+36e5*n);(n>0||i.getDate()===e.getDate())&&e.setTime(i.getTime())}}}var P$=function(t){var e=new Date(t.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function r6(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var M$=function(t){return new Date(t)},B$=function(t,e,r){for(var n=[],i=new Date(t.getTime());i<e;)n.push(new Date(i.getTime())),i=this.addInterval(i,r);return n},yi=function(t){var e=new Date(...arguments);return e.setFullYear(t),e},Ze={dateUnitIntervals:Ed,convertMillisecondsToDateUnits:zM,dateToMilliseconds:o$,getNextDateUnit:a$,convertDateUnitToMilliseconds:xv,getDateUnitInterval:Mg,getDateFormatByTickInterval:l$,getDatesDifferences:c$,correctDateWithUnitBeginning:GM,trimTime:KM,setToDayEnd:u$,roundDateByStartDayHour:R$,dateTimeFromDecimal:D$,addDateInterval:qM,addInterval:XM,getSequenceByInterval:d$,getDateIntervalByString:YM,sameHoursAndMinutes:C$,sameDate:b$,sameMonthAndYear:FC,sameMonth:FC,sameYear:ZM,sameDecade:w$,sameCentury:x$,getDifferenceInMonth:_$,getDifferenceInMonthForCells:y$,getFirstYearInDecade:of,getFirstDecadeInCentury:af,getShortDateFormat:S$,getViewFirstCellDate:h$,getViewLastCellDate:f$,getViewDown:g$,getViewUp:v$,getLastMonthDay:Sv,getLastMonthDate:I$,getFirstMonthDate:E$,getFirstWeekDate:QM,getWeekNumber:NC,normalizeDateByWeek:O$,getQuarter:WM,getFirstQuarterMonth:UM,dateInRange:k$,intervalsOverlap:A$,roundToHour:P$,normalizeDate:e6,getViewMinBoundaryDate:p$,getViewMaxBoundaryDate:m$,fixTimezoneGap:t6,getTimezonesDifference:r6,makeDate:M$,getDatesInterval:i$,getDatesOfInterval:B$,createDateWithFullYear:yi};Ze.sameView=function(t,e,r){return Ze[Sh("same "+t)](e,r)};var L$=10;function F$(t){var e=cc(t);return e*Math.round(Math.abs(t))}function N$(t,e){var r=Math.pow(L$,e),n=jM(t,e);return F$(n)/r}function n6(t,e){var r=e||0,n=r>0?N$(...arguments):t;return n.toFixed(r)}var V$={thousandsSeparator:",",decimalSeparator:"."},hT="'",H$=15,j$=2;function $$(t){return t.split(",").slice(1).map(function(e){var r=0;return e.split("").filter(function(n,i){r+=n==="'";var a=n==="#"||n==="0",o=r%2;return a&&!o}).length})}function z$(t){var e=t.split(";");return e.length===1&&e.push("-"+e[0]),e}function a0(t){return t.toString().split("").reverse().join("")}function W$(t){return t.indexOf("%")!==-1&&!t.match(/'[^']*%[^']*'/g)}function i6(t){return t.replace(/'.+'/g,"")}function fT(t){if(!t)return 0;var e=i6(t);return e.length-e.replace(/[#]/g,"").length}function pT(t){if(!t)return 0;var e=i6(t);return e.length-e.replace(/[0]/g,"").length}function mT(t,e,r){if(!t)return"";for(t.length>r&&(t=t.substr(0,r));t.length>e&&t.slice(-1)==="0";)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function U$(t,e,r){if(!e.length)return t;for(var n=[],i=0;t;){var a=e[i];if(!a)break;n.push(t.slice(0,a)),t=t.slice(a),i<e.length-1&&i++}return n.join(r)}function vT(t,e){return t.split(hT).map(function(r,n){var i=n%2;return!r&&i?hT:i?r:r.replace(/[,#0]+/,e)}).join("")}function G$(t){for(var e=!1,r=0;r<t.length;r++)if(t[r]==="'"&&(e=!e),t[r]==="."&&!e)return r;return t.length}function K$(t,e){return e=e||V$,function(r){if(typeof r!="number"||isNaN(r))return"";var n=z$(t),i=1/r===1/0,a=r>0||i,o=n[a?0:1],s=G$(o),l=[o.substr(0,s),o.substr(s+1)],p=pT(l[1]),h=p+fT(l[1]);W$(o)&&(r=jM(r,j$)),a||(r=-r);var m=pT(l[0]),v=fT(l[0])||e.unlimitedIntegerDigits?void 0:m,f=Math.floor(r).toString().length,u=En(h,0,H$-f),c=$$(l[0]).reverse(),d=n6(r,u<0?0:u).split("."),_=mT(a0(d[0]),m,v),g=mT(d[1],p,h);_=U$(_,c,e.thousandsSeparator);var y=a0(vT(a0(l[0]),_)),b=h?vT(l[1],g):"",C=y+(b.match(/\d/)?e.decimalSeparator:"")+b;return C}}function Kd(t,e,r){var n=(e?.01:1)*parseFloat(t)||0;return r?-n:n}function gT(t,e,r,n){var i=t,a,o,s;do s&&(a=o.length===s.length?"0":"1",t=n?a+t:t+a),o=s||e(Kd(i,r)),i=n?"1"+i:i+"1",s=e(Kd(i,r));while(o!==s&&(n?o.length===s.length:o.length<=s.length));if(n&&s.length>o.length){var l=e(12345).indexOf("12345")===-1;do t="1"+t;while(l&&Kd(t,r)<1e5)}return t}function _T(t,e,r,n){var i=e(Kd(t,r,n)),a=t.split("."),o=a[0]+".3"+a[1].slice(1),s=Kd(o,r,n),l=e(s).indexOf("3")-1;return i=i.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(i=i.slice(0,l)+"."+i.slice(l+1)),i=i.replace(/1+/,"1").replace(/1/g,"#"),r||(i=i.replace("%","'%'")),i}function q$(t){var e=".",r=t(1).indexOf("100")>=0;e=gT(e,t,r,!0),e=gT(e,t,r,!1);var n=_T(e,t,r,!1),i=_T(e,t,r,!0);return i==="-"+n?n:n+";"+i}const X$={_formatNumberCore:function(t,e,r){if(e==="currency"){r.precision=r.precision||0;var n=this.format(t,Y({},r,{type:"fixedpoint"})),i=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+i+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},Y$=(t,e)=>{if(e){var r=t;if(typeof t=="string"){r="";for(var n=0;n<t.length;n++)t[n]!=="$"&&(r+="\\"),r+=t[n]}for(var i={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\¤":r},a=e.split(";"),o=0;o<a.length;o++)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[o]=a[o].replace(new RegExp(s,"g"),i[s]));return a.length===2?a[0]+"_);"+a[1]:a[0]}},Z$={af:"¤#,##0.00;(¤#,##0.00)","af-NA":"¤#,##0.00;(¤#,##0.00)",agq:"#,##0.00¤",ak:"¤#,##0.00",am:"¤#,##0.00;(¤#,##0.00)",ar:"¤#,##0.00;(¤#,##0.00)","ar-AE":"¤#,##0.00;(¤#,##0.00)","ar-BH":"¤#,##0.00;(¤#,##0.00)","ar-DJ":"¤#,##0.00;(¤#,##0.00)","ar-DZ":"¤#,##0.00;(¤#,##0.00)","ar-EG":"¤#,##0.00;(¤#,##0.00)","ar-EH":"¤#,##0.00;(¤#,##0.00)","ar-ER":"¤#,##0.00;(¤#,##0.00)","ar-IL":"¤#,##0.00;(¤#,##0.00)","ar-IQ":"¤#,##0.00;(¤#,##0.00)","ar-JO":"¤#,##0.00;(¤#,##0.00)","ar-KM":"¤#,##0.00;(¤#,##0.00)","ar-KW":"¤#,##0.00;(¤#,##0.00)","ar-LB":"¤#,##0.00;(¤#,##0.00)","ar-LY":"¤#,##0.00;(¤#,##0.00)","ar-MA":"¤#,##0.00;(¤#,##0.00)","ar-MR":"¤#,##0.00;(¤#,##0.00)","ar-OM":"¤#,##0.00;(¤#,##0.00)","ar-PS":"¤#,##0.00;(¤#,##0.00)","ar-QA":"¤#,##0.00;(¤#,##0.00)","ar-SA":"¤#,##0.00;(¤#,##0.00)","ar-SD":"¤#,##0.00;(¤#,##0.00)","ar-SO":"¤#,##0.00;(¤#,##0.00)","ar-SS":"¤#,##0.00;(¤#,##0.00)","ar-SY":"¤#,##0.00;(¤#,##0.00)","ar-TD":"¤#,##0.00;(¤#,##0.00)","ar-TN":"¤#,##0.00;(¤#,##0.00)","ar-YE":"¤#,##0.00;(¤#,##0.00)",as:"¤ #,##,##0.00",asa:"#,##0.00 ¤",ast:"#,##0.00 ¤",az:"#,##0.00 ¤","az-Cyrl":"#,##0.00 ¤","az-Latn":"#,##0.00 ¤",bas:"#,##0.00 ¤",be:"#,##0.00 ¤","be-tarask":"#,##0.00 ¤",bem:"¤#,##0.00;(¤#,##0.00)",bez:"#,##0.00¤",bg:"0.00 ¤;(0.00 ¤)",bm:"¤#,##0.00;(¤#,##0.00)",bn:"#,##,##0.00¤;(#,##,##0.00¤)","bn-IN":"#,##,##0.00¤;(#,##,##0.00¤)",bo:"¤ #,##0.00","bo-IN":"¤ #,##0.00",br:"#,##0.00 ¤",brx:"¤ #,##,##0.00",bs:"#,##0.00 ¤","bs-Cyrl":"#,##0.00 ¤","bs-Latn":"#,##0.00 ¤",ca:"#,##0.00 ¤;(#,##0.00 ¤)","ca-AD":"#,##0.00 ¤;(#,##0.00 ¤)","ca-ES-valencia":"#,##0.00 ¤;(#,##0.00 ¤)","ca-FR":"#,##0.00 ¤;(#,##0.00 ¤)","ca-IT":"#,##0.00 ¤;(#,##0.00 ¤)",ccp:"#,##,##0.00¤;(#,##,##0.00¤)","ccp-IN":"#,##,##0.00¤;(#,##,##0.00¤)",ce:"#,##0.00 ¤",ceb:"¤#,##0.00;(¤#,##0.00)",cgg:"¤#,##0.00",chr:"¤#,##0.00;(¤#,##0.00)",ckb:"¤ #,##0.00","ckb-IR":"¤ #,##0.00",cs:"#,##0.00 ¤",cy:"¤#,##0.00;(¤#,##0.00)",da:"#,##0.00 ¤","da-GL":"#,##0.00 ¤",dav:"¤#,##0.00;(¤#,##0.00)",de:"#,##0.00 ¤","de-AT":"#,##0.00 ¤","de-BE":"#,##0.00 ¤","de-CH":"#,##0.00 ¤","de-IT":"#,##0.00 ¤","de-LI":"#,##0.00 ¤","de-LU":"#,##0.00 ¤",dje:"#,##0.00¤",doi:"¤#,##0.00",dsb:"#,##0.00 ¤",dua:"#,##0.00 ¤",dyo:"#,##0.00 ¤",dz:"¤#,##,##0.00",ebu:"¤#,##0.00;(¤#,##0.00)",ee:"¤#,##0.00;(¤#,##0.00)","ee-TG":"¤#,##0.00;(¤#,##0.00)",el:"#,##0.00 ¤","el-CY":"#,##0.00 ¤",en:"¤#,##0.00;(¤#,##0.00)","en-001":"¤#,##0.00;(¤#,##0.00)","en-150":"#,##0.00 ¤","en-AE":"¤#,##0.00;(¤#,##0.00)","en-AG":"¤#,##0.00;(¤#,##0.00)","en-AI":"¤#,##0.00;(¤#,##0.00)","en-AS":"¤#,##0.00;(¤#,##0.00)","en-AT":"¤ #,##0.00","en-AU":"¤#,##0.00;(¤#,##0.00)","en-BB":"¤#,##0.00;(¤#,##0.00)","en-BE":"#,##0.00 ¤","en-BI":"¤#,##0.00;(¤#,##0.00)","en-BM":"¤#,##0.00;(¤#,##0.00)","en-BS":"¤#,##0.00;(¤#,##0.00)","en-BW":"¤#,##0.00;(¤#,##0.00)","en-BZ":"¤#,##0.00;(¤#,##0.00)","en-CA":"¤#,##0.00;(¤#,##0.00)","en-CC":"¤#,##0.00;(¤#,##0.00)","en-CH":"¤ #,##0.00;¤-#,##0.00","en-CK":"¤#,##0.00;(¤#,##0.00)","en-CM":"¤#,##0.00;(¤#,##0.00)","en-CX":"¤#,##0.00;(¤#,##0.00)","en-CY":"¤#,##0.00;(¤#,##0.00)","en-DE":"#,##0.00 ¤","en-DG":"¤#,##0.00;(¤#,##0.00)","en-DK":"#,##0.00 ¤","en-DM":"¤#,##0.00;(¤#,##0.00)","en-ER":"¤#,##0.00;(¤#,##0.00)","en-FI":"#,##0.00 ¤","en-FJ":"¤#,##0.00;(¤#,##0.00)","en-FK":"¤#,##0.00;(¤#,##0.00)","en-FM":"¤#,##0.00;(¤#,##0.00)","en-GB":"¤#,##0.00;(¤#,##0.00)","en-GD":"¤#,##0.00;(¤#,##0.00)","en-GG":"¤#,##0.00;(¤#,##0.00)","en-GH":"¤#,##0.00;(¤#,##0.00)","en-GI":"¤#,##0.00;(¤#,##0.00)","en-GM":"¤#,##0.00;(¤#,##0.00)","en-GU":"¤#,##0.00;(¤#,##0.00)","en-GY":"¤#,##0.00;(¤#,##0.00)","en-HK":"¤#,##0.00;(¤#,##0.00)","en-IE":"¤#,##0.00;(¤#,##0.00)","en-IL":"¤#,##0.00;(¤#,##0.00)","en-IM":"¤#,##0.00;(¤#,##0.00)","en-IN":"¤#,##0.00;(¤#,##0.00)","en-IO":"¤#,##0.00;(¤#,##0.00)","en-JE":"¤#,##0.00;(¤#,##0.00)","en-JM":"¤#,##0.00;(¤#,##0.00)","en-KE":"¤#,##0.00;(¤#,##0.00)","en-KI":"¤#,##0.00;(¤#,##0.00)","en-KN":"¤#,##0.00;(¤#,##0.00)","en-KY":"¤#,##0.00;(¤#,##0.00)","en-LC":"¤#,##0.00;(¤#,##0.00)","en-LR":"¤#,##0.00;(¤#,##0.00)","en-LS":"¤#,##0.00;(¤#,##0.00)","en-MG":"¤#,##0.00;(¤#,##0.00)","en-MH":"¤#,##0.00;(¤#,##0.00)","en-MO":"¤#,##0.00;(¤#,##0.00)","en-MP":"¤#,##0.00;(¤#,##0.00)","en-MS":"¤#,##0.00;(¤#,##0.00)","en-MT":"¤#,##0.00;(¤#,##0.00)","en-MU":"¤#,##0.00;(¤#,##0.00)","en-MV":"¤ #,##0.00","en-MW":"¤#,##0.00;(¤#,##0.00)","en-MY":"¤#,##0.00;(¤#,##0.00)","en-NA":"¤#,##0.00;(¤#,##0.00)","en-NF":"¤#,##0.00;(¤#,##0.00)","en-NG":"¤#,##0.00;(¤#,##0.00)","en-NL":"¤ #,##0.00;(¤ #,##0.00)","en-NR":"¤#,##0.00;(¤#,##0.00)","en-NU":"¤#,##0.00;(¤#,##0.00)","en-NZ":"¤#,##0.00;(¤#,##0.00)","en-PG":"¤#,##0.00;(¤#,##0.00)","en-PH":"¤#,##0.00;(¤#,##0.00)","en-PK":"¤#,##0.00;(¤#,##0.00)","en-PN":"¤#,##0.00;(¤#,##0.00)","en-PR":"¤#,##0.00;(¤#,##0.00)","en-PW":"¤#,##0.00;(¤#,##0.00)","en-RW":"¤#,##0.00;(¤#,##0.00)","en-SB":"¤#,##0.00;(¤#,##0.00)","en-SC":"¤#,##0.00;(¤#,##0.00)","en-SD":"¤#,##0.00;(¤#,##0.00)","en-SE":"#,##0.00 ¤","en-SG":"¤#,##0.00;(¤#,##0.00)","en-SH":"¤#,##0.00;(¤#,##0.00)","en-SI":"#,##0.00 ¤;(#,##0.00 ¤)","en-SL":"¤#,##0.00;(¤#,##0.00)","en-SS":"¤#,##0.00;(¤#,##0.00)","en-SX":"¤#,##0.00;(¤#,##0.00)","en-SZ":"¤#,##0.00;(¤#,##0.00)","en-TC":"¤#,##0.00;(¤#,##0.00)","en-TK":"¤#,##0.00;(¤#,##0.00)","en-TO":"¤#,##0.00;(¤#,##0.00)","en-TT":"¤#,##0.00;(¤#,##0.00)","en-TV":"¤#,##0.00;(¤#,##0.00)","en-TZ":"¤#,##0.00;(¤#,##0.00)","en-UG":"¤#,##0.00;(¤#,##0.00)","en-UM":"¤#,##0.00;(¤#,##0.00)","en-VC":"¤#,##0.00;(¤#,##0.00)","en-VG":"¤#,##0.00;(¤#,##0.00)","en-VI":"¤#,##0.00;(¤#,##0.00)","en-VU":"¤#,##0.00;(¤#,##0.00)","en-WS":"¤#,##0.00;(¤#,##0.00)","en-ZA":"¤#,##0.00;(¤#,##0.00)","en-ZM":"¤#,##0.00;(¤#,##0.00)","en-ZW":"¤#,##0.00;(¤#,##0.00)",eo:"¤ #,##0.00",es:"#,##0.00 ¤","es-419":"¤#,##0.00","es-AR":"¤ #,##0.00;(¤ #,##0.00)","es-BO":"¤#,##0.00","es-BR":"¤#,##0.00","es-BZ":"¤#,##0.00","es-CL":"¤#,##0.00","es-CO":"¤#,##0.00","es-CR":"¤#,##0.00","es-CU":"¤#,##0.00","es-DO":"¤#,##0.00;(¤#,##0.00)","es-EA":"#,##0.00 ¤","es-EC":"¤#,##0.00","es-GQ":"#,##0.00 ¤","es-GT":"¤#,##0.00","es-HN":"¤#,##0.00","es-IC":"#,##0.00 ¤","es-MX":"¤#,##0.00","es-NI":"¤#,##0.00","es-PA":"¤#,##0.00","es-PE":"¤#,##0.00","es-PH":"#,##0.00 ¤","es-PR":"¤#,##0.00","es-PY":"¤#,##0.00","es-SV":"¤#,##0.00","es-US":"¤#,##0.00","es-UY":"¤ #,##0.00;(¤ #,##0.00)","es-VE":"¤#,##0.00",et:"#,##0.00 ¤;(#,##0.00 ¤)",eu:"#,##0.00 ¤;(#,##0.00 ¤)",ewo:"#,##0.00 ¤",fa:"‎¤ #,##0.00;‎(¤ #,##0.00)","fa-AF":"¤ #,##0.00;‎(¤ #,##0.00)",ff:"#,##0.00 ¤","ff-Adlm":"¤ #,##0.00","ff-Adlm-BF":"¤ #,##0.00","ff-Adlm-CM":"¤ #,##0.00","ff-Adlm-GH":"¤ #,##0.00","ff-Adlm-GM":"¤ #,##0.00","ff-Adlm-GW":"¤ #,##0.00","ff-Adlm-LR":"¤ #,##0.00","ff-Adlm-MR":"¤ #,##0.00","ff-Adlm-NE":"¤ #,##0.00","ff-Adlm-NG":"¤ #,##0.00","ff-Adlm-SL":"¤ #,##0.00","ff-Adlm-SN":"¤ #,##0.00","ff-Latn":"#,##0.00 ¤","ff-Latn-BF":"#,##0.00 ¤","ff-Latn-CM":"#,##0.00 ¤","ff-Latn-GH":"#,##0.00 ¤","ff-Latn-GM":"#,##0.00 ¤","ff-Latn-GN":"#,##0.00 ¤","ff-Latn-GW":"#,##0.00 ¤","ff-Latn-LR":"#,##0.00 ¤","ff-Latn-MR":"#,##0.00 ¤","ff-Latn-NE":"#,##0.00 ¤","ff-Latn-NG":"#,##0.00 ¤","ff-Latn-SL":"#,##0.00 ¤",fi:"#,##0.00 ¤",fil:"¤#,##0.00;(¤#,##0.00)",fo:"#,##0.00 ¤;(#,##0.00 ¤)","fo-DK":"#,##0.00 ¤;(#,##0.00 ¤)",fr:"#,##0.00 ¤;(#,##0.00 ¤)","fr-BE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BL":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CH":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DZ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GP":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-HT":"#,##0.00 ¤;(#,##0.00 ¤)","fr-KM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-LU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-ML":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MR":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RW":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SY":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-VU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-WF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-YT":"#,##0.00 ¤;(#,##0.00 ¤)",fur:"¤ #,##0.00",fy:"¤ #,##0.00;(¤ #,##0.00)",ga:"¤#,##0.00;(¤#,##0.00)","ga-GB":"¤#,##0.00;(¤#,##0.00)",gd:"¤#,##0.00;(¤#,##0.00)",gl:"#,##0.00 ¤",gsw:"#,##0.00 ¤","gsw-FR":"#,##0.00 ¤","gsw-LI":"#,##0.00 ¤",gu:"¤#,##,##0.00;(¤#,##,##0.00)",guz:"¤#,##0.00;(¤#,##0.00)",gv:"¤#,##0.00",ha:"¤ #,##0.00","ha-GH":"¤ #,##0.00","ha-NE":"¤ #,##0.00",haw:"¤#,##0.00;(¤#,##0.00)",he:"#,##0.00 ¤",hi:"¤#,##,##0.00","hi-Latn":"¤#,##,##0.00",hr:"#,##0.00 ¤","hr-BA":"#,##0.00 ¤",hsb:"#,##0.00 ¤",hu:"#,##0.00 ¤",hy:"#,##0.00 ¤",ia:"¤ #,##0.00;(¤ #,##0.00)",id:"¤#,##0.00",ig:"¤#,##0.00;(¤#,##0.00)",ii:"¤ #,##0.00",is:"#,##0.00 ¤",it:"#,##0.00 ¤","it-CH":"#,##0.00 ¤","it-SM":"#,##0.00 ¤","it-VA":"#,##0.00 ¤",ja:"¤#,##0.00;(¤#,##0.00)",jgo:"¤ #,##0.00",jmc:"¤#,##0.00",jv:"¤ #,##0.00",ka:"#,##0.00 ¤",kab:"#,##0.00¤",kam:"¤#,##0.00;(¤#,##0.00)",kde:"¤#,##0.00;(¤#,##0.00)",kea:"#,##0.00 ¤;(#,##0.00 ¤)",kgp:"¤ #,##0.00",khq:"#,##0.00¤",ki:"¤#,##0.00;(¤#,##0.00)",kk:"#,##0.00 ¤",kkj:"¤ #,##0.00",kl:"¤#,##0.00;¤-#,##0.00",kln:"¤#,##0.00;(¤#,##0.00)",km:"#,##0.00¤;(#,##0.00¤)",kn:"¤#,##0.00;(¤#,##0.00)",ko:"¤#,##0.00;(¤#,##0.00)","ko-KP":"¤#,##0.00;(¤#,##0.00)",kok:"¤#,##0.00;(¤#,##0.00)",ks:"¤#,##0.00","ks-Arab":"¤#,##0.00","ks-Deva":"¤ #,##0.00",ksb:"#,##0.00¤",ksf:"#,##0.00 ¤",ksh:"#,##0.00 ¤",ku:"#,##0.00 ¤;(#,##0.00 ¤)",kw:"¤#,##0.00",ky:"#,##0.00 ¤",lag:"¤ #,##0.00",lb:"#,##0.00 ¤",lg:"#,##0.00¤",lkt:"¤ #,##0.00",ln:"#,##0.00 ¤","ln-AO":"#,##0.00 ¤","ln-CF":"#,##0.00 ¤","ln-CG":"#,##0.00 ¤",lo:"¤#,##0.00;¤-#,##0.00",lrc:"¤ #,##0.00","lrc-IQ":"¤ #,##0.00",lt:"#,##0.00 ¤",lu:"#,##0.00¤",luo:"#,##0.00¤",luy:"¤#,##0.00;¤- #,##0.00",lv:"#,##0.00 ¤",mai:"¤ #,##0.00",mas:"¤#,##0.00;(¤#,##0.00)","mas-TZ":"¤#,##0.00;(¤#,##0.00)",mer:"¤#,##0.00;(¤#,##0.00)",mfe:"¤ #,##0.00",mg:"¤#,##0.00",mgh:"¤ #,##0.00",mgo:"¤ #,##0.00",mi:"¤ #,##0.00",mk:"#,##0.00 ¤",ml:"¤#,##0.00;(¤#,##0.00)",mn:"¤ #,##0.00",mni:"¤ #,##0.00","mni-Beng":"¤ #,##0.00",mr:"¤#,##0.00;(¤#,##0.00)",ms:"¤#,##0.00;(¤#,##0.00)","ms-BN":"¤#,##0.00;(¤#,##0.00)","ms-ID":"¤#,##0.00","ms-SG":"¤#,##0.00;(¤#,##0.00)",mt:"¤#,##0.00",mua:"¤#,##0.00;(¤#,##0.00)",my:"¤ #,##0.00",mzn:"¤ #,##0.00",naq:"¤#,##0.00",nb:"¤ #,##0.00;(¤ #,##0.00)","nb-SJ":"¤ #,##0.00;(¤ #,##0.00)",nd:"¤#,##0.00;(¤#,##0.00)",nds:"¤ #,##0.00","nds-NL":"¤ #,##0.00",ne:"¤ #,##,##0.00","ne-IN":"¤ #,##,##0.00",nl:"¤ #,##0.00;(¤ #,##0.00)","nl-AW":"¤ #,##0.00;(¤ #,##0.00)","nl-BE":"¤ #,##0.00;(¤ #,##0.00)","nl-BQ":"¤ #,##0.00;(¤ #,##0.00)","nl-CW":"¤ #,##0.00;(¤ #,##0.00)","nl-SR":"¤ #,##0.00;(¤ #,##0.00)","nl-SX":"¤ #,##0.00;(¤ #,##0.00)",nmg:"#,##0.00 ¤",nn:"#,##0.00 ¤",nnh:"¤ #,##0.00",no:"¤ #,##0.00;(¤ #,##0.00)",nus:"¤#,##0.00;(¤#,##0.00)",nyn:"¤#,##0.00",om:"¤#,##0.00","om-KE":"¤#,##0.00",or:"¤#,##0.00;(¤#,##0.00)",os:"¤ #,##0.00","os-RU":"¤ #,##0.00",pa:"¤ #,##0.00","pa-Arab":"¤ #,##0.00","pa-Guru":"¤ #,##0.00",pcm:"¤#,##0.00",pl:"#,##0.00 ¤;(#,##0.00 ¤)",ps:"¤#,##0.00;(¤#,##0.00)","ps-PK":"¤#,##0.00;(¤#,##0.00)",pt:"¤ #,##0.00","pt-AO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CH":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CV":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GW":"#,##0.00 ¤;(#,##0.00 ¤)","pt-LU":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MZ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-PT":"#,##0.00 ¤;(#,##0.00 ¤)","pt-ST":"#,##0.00 ¤;(#,##0.00 ¤)","pt-TL":"#,##0.00 ¤;(#,##0.00 ¤)",qu:"¤ #,##0.00","qu-BO":"¤ #,##0.00","qu-EC":"¤ #,##0.00",rm:"#,##0.00 ¤",rn:"#,##0.00¤",ro:"#,##0.00 ¤;(#,##0.00 ¤)","ro-MD":"#,##0.00 ¤;(#,##0.00 ¤)",rof:"¤#,##0.00",ru:"#,##0.00 ¤","ru-BY":"#,##0.00 ¤","ru-KG":"#,##0.00 ¤","ru-KZ":"#,##0.00 ¤","ru-MD":"#,##0.00 ¤","ru-UA":"#,##0.00 ¤",rw:"¤ #,##0.00",rwk:"#,##0.00¤",sa:"¤ #,##0.00",sah:"#,##0.00 ¤",saq:"¤#,##0.00;(¤#,##0.00)",sat:"¤ #,##0.00","sat-Olck":"¤ #,##0.00",sbp:"#,##0.00¤",sc:"#,##0.00 ¤",sd:"¤ #,##0.00","sd-Arab":"¤ #,##0.00","sd-Deva":"¤ #,##0.00",se:"#,##0.00 ¤","se-FI":"#,##0.00 ¤","se-SE":"#,##0.00 ¤",seh:"#,##0.00¤",ses:"#,##0.00¤",sg:"¤#,##0.00;¤-#,##0.00",shi:"#,##0.00¤","shi-Latn":"#,##0.00¤","shi-Tfng":"#,##0.00¤",si:"¤#,##0.00;(¤#,##0.00)",sk:"#,##0.00 ¤;(#,##0.00 ¤)",sl:"#,##0.00 ¤;(#,##0.00 ¤)",smn:"#,##0.00 ¤",sn:"¤#,##0.00;(¤#,##0.00)",so:"¤#,##0.00;(¤#,##0.00)","so-DJ":"¤#,##0.00;(¤#,##0.00)","so-ET":"¤#,##0.00;(¤#,##0.00)","so-KE":"¤#,##0.00;(¤#,##0.00)",sq:"#,##0.00 ¤;(#,##0.00 ¤)","sq-MK":"#,##0.00 ¤;(#,##0.00 ¤)","sq-XK":"#,##0.00 ¤;(#,##0.00 ¤)",sr:"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-XK":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-XK":"#,##0.00 ¤;(#,##0.00 ¤)",su:"¤#,##0.00","su-Latn":"¤#,##0.00",sv:"#,##0.00 ¤","sv-AX":"#,##0.00 ¤","sv-FI":"#,##0.00 ¤",sw:"¤ #,##0.00","sw-CD":"¤ #,##0.00","sw-KE":"¤ #,##0.00","sw-UG":"¤ #,##0.00",ta:"¤#,##0.00;(¤#,##0.00)","ta-LK":"¤#,##0.00;(¤#,##0.00)","ta-MY":"¤#,##0.00;(¤#,##0.00)","ta-SG":"¤#,##0.00;(¤#,##0.00)",te:"¤#,##0.00;(¤#,##0.00)",teo:"¤#,##0.00;(¤#,##0.00)","teo-KE":"¤#,##0.00;(¤#,##0.00)",tg:"#,##0.00 ¤",th:"¤#,##0.00;(¤#,##0.00)",ti:"¤#,##0.00","ti-ER":"¤#,##0.00",tk:"#,##0.00 ¤",to:"¤ #,##0.00",tr:"¤#,##0.00;(¤#,##0.00)","tr-CY":"¤#,##0.00;(¤#,##0.00)",tt:"#,##0.00 ¤",twq:"#,##0.00¤",tzm:"#,##0.00 ¤",ug:"¤#,##0.00;(¤#,##0.00)",uk:"#,##0.00 ¤",und:"¤ #,##0.00",ur:"¤#,##0.00;(¤#,##0.00)","ur-IN":"¤#,##0.00;(¤#,##0.00)",uz:"#,##0.00 ¤","uz-Arab":"¤ #,##0.00","uz-Cyrl":"#,##0.00 ¤","uz-Latn":"#,##0.00 ¤",vai:"¤#,##0.00;(¤#,##0.00)","vai-Latn":"¤#,##0.00;(¤#,##0.00)","vai-Vaii":"¤#,##0.00;(¤#,##0.00)",vi:"#,##0.00 ¤",vun:"¤#,##0.00",wae:"¤ #,##0.00",wo:"¤ #,##0.00",xh:"¤#,##0.00",xog:"#,##0.00 ¤",yav:"#,##0.00 ¤;(#,##0.00 ¤)",yi:"¤ #,##0.00",yo:"¤#,##0.00;(¤#,##0.00)","yo-BJ":"¤#,##0.00;(¤#,##0.00)",yrl:"¤ #,##0.00","yrl-CO":"¤ #,##0.00","yrl-VE":"¤ #,##0.00",yue:"¤#,##0.00;(¤#,##0.00)","yue-Hans":"¤#,##0.00;(¤#,##0.00)","yue-Hant":"¤#,##0.00;(¤#,##0.00)",zgh:"#,##0.00¤",zh:"¤#,##0.00;(¤#,##0.00)","zh-Hans":"¤#,##0.00;(¤#,##0.00)","zh-Hans-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hans-MO":"¤#,##0.00;(¤#,##0.00)","zh-Hans-SG":"¤#,##0.00;(¤#,##0.00)","zh-Hant":"¤#,##0.00;(¤#,##0.00)","zh-Hant-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hant-MO":"¤#,##0.00;(¤#,##0.00)",zu:"¤#,##0.00;(¤#,##0.00)"};var Q$=["standard","accounting"],J$=20,ez=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,o0={},yT=t=>{var e=Ii.locale()+"/"+JSON.stringify(t);return o0[e]||(o0[e]=new Intl.NumberFormat(Ii.locale(),t).format),o0[e]},tz=t=>new Intl.NumberFormat(Ii.locale(),{style:"currency",currency:t});const rz={engine:function(){return"intl"},_formatNumberCore:function(t,e,r){return e==="exponential"?this.callBase.apply(this,arguments):yT(this._normalizeFormatConfig(e,r,t))(t)},_normalizeFormatConfig:function(t,e,r){var n;if(t==="decimal"){var i=String(r).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:i&&i.length,round:r<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(t==="percent")n.style="percent";else if(t==="currency"){var a,o=(a=e.useCurrencyAccountingStyle)!==null&&a!==void 0?a:ur().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||ur().defaultCurrency,n.currencySign=Q$[+o]}return n},_getPrecisionConfig:function(t){var e;return t===null?e={minimumFractionDigits:0,maximumFractionDigits:J$}:e={minimumFractionDigits:t||0,maximumFractionDigits:t||0},e},format:function(t,e){return typeof t!="number"?t:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=ur().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?yT(e)(t):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(t){var e=tz(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=ez.exec(t)||[],r=e[1]?"before":"after",n=e[1]||e[4]||"",i=e[2]||e[3]||"";return{position:r,symbol:n,delimiter:i}},getCurrencySymbol:function(t){t||(t=ur().defaultCurrency);var e=this._getCurrencySymbolInfo(t);return{symbol:e.symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||ur().defaultCurrency,r=this._getCurrencySymbolInfo(e).symbol,n=Ii.getValueByClosestLocale(i=>Z$[i]);return Y$(r,n)}};var nz=typeof Intl<"u",iz=4,sp=10,bT=["currency","fixedpoint","exponential","percent","decimal"],s0={1:"K",2:"M",3:"B",4:"T"},CT={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},nr=Gi({engine:function(){return"base"},numericFormats:bT,defaultLargeNumberFormatPostfixes:s0,_parseNumberFormatString:function(t){var e={};if(!(!t||typeof t!="string")){var r=t.toLowerCase().split(" ");if(te(r,(n,i)=>{bT.includes(i)?e.formatType=i:i in CT&&(e.power=CT[i])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e}},_calculateNumberPower:function(t,e,r,n){var i=Math.abs(t),a=0;if(i>1)for(;i&&i>=e&&(n===void 0||a<n);)a++,i/=e;else if(i>0&&i<1)for(;i<1&&(r===void 0||a>r);)a--,i*=e;return a},_getNumberByPower:function(t,e,r){for(var n=t;e>0;)n/=r,e--;for(;e<0;)n*=r,e++;return n},_formatNumber:function(t,e,r){e.power==="auto"&&(e.power=this._calculateNumberPower(t,1e3,0,iz)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var n=this.defaultLargeNumberFormatPostfixes[e.power]||"",i=this._formatNumberCore(t,e.formatType,r);return i=i.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),i},_formatNumberExponential:function(t,e){var r=this._calculateNumberPower(t,sp),n=this._getNumberByPower(t,r,sp);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=sp&&(r++,n/=sp);var i=(r>=0?"+":"")+r.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+i},_addZeroes:function(t,e){var r=Math.pow(10,e),n=t<0?"-":"";t=(Math.abs(t)*r>>>0)/r;for(var i=t.toString();i.length<e;)i="0"+i;return n+i},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,ur().thousandsSeparator)+(e[1]?ur().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,r){return e==="exponential"?this._formatNumberExponential(t,r):(e!=="decimal"&&r.precision!==null&&(r.precision=r.precision||0),e==="percent"&&(t*=100),r.precision!==void 0&&(e==="decimal"?t=this._addZeroes(t,r.precision):t=r.precision===null?t.toPrecision():n6(t,r.precision)),e!=="decimal"?t=this._addGroupSeparators(t):t=t.toString().replace(".",ur().decimalSeparator),e==="percent"&&(t+="%"),t)},_normalizeFormat:function(t){return t?(typeof t=="function"||yt(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var r=this.format(90,"decimal");if(typeof t!="string"||r[1]==="0")return t;var n=e?r[1]:"0",i=e?"0":r[1],a=e?r[0]:"9",o=new RegExp("["+n+"-"+a+"]","g");return t.replace(o,s=>String.fromCharCode(s.charCodeAt(0)+(i.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),r=new RegExp("[0-9"+lo(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,t).replace(r,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(i=>{n=n.replace(new RegExp("\\".concat(i),"g"),"\\".concat(i))}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(t,e){if(!e)return t.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var r=this.getNegativeEtalonRegExp(e);return t.match(r)?-1:1},format:function(t,e){if(typeof t!="number"||typeof e=="number")return t;if(e=e&&e.formatter||e,typeof e=="function")return e(t);e=this._normalizeFormat(e),e.type||(e.type="decimal");var r=this._parseNumberFormatString(e.type);if(!r){var n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(K$(e.type,n)(t))}return this._formatNumber(t,r,e)},parse:function(t,e){if(t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&typeof e!="string"&&Yt.log("W0011");var r=this.getDecimalSeparator(),n=new RegExp("[^0-9"+lo(r)+"]","g"),i=t.replace(n,"").replace(r,".").replace(/\.$/g,"");if(i==="."||i==="")return null;if(this._calcSignificantDigits(i)>15)return NaN;var a=+i*this.getSign(t,e);e=this._normalizeFormat(e);var o=this._parseNumberFormatString(e.type),s=o==null?void 0:o.power;if(s){if(s==="auto"){var l=t.match(/\d(K|M|B|T)/);l&&(s=Object.keys(s0).find(p=>s0[p]===l[1]))}a*=Math.pow(10,3*s)}return(o==null?void 0:o.formatType)==="percent"&&(a/=100),a}},_calcSignificantDigits:function(t){var[e,r]=t.split("."),n=a=>{for(var o=-1,s=0;s<a.length;s++)if(a[s]!=="0"){o=s;break}return o>-1?a.length-o:0},i=0;return e&&(i+=n(e.split(""))),r&&(i+=n(r.split("").reverse())),i}});nr.inject(X$);nz&&nr.inject(rz);function Di(t,e){for(;t.length<e;)t="0"+t;return t}var Uc={3:"abbreviated",4:"wide",5:"narrow"},VC={y:function(t,e,r){var n=t[r?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Di(n.toString(),e)},M:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=Uc[e];return a?n.getMonthNames(a,"format")[i]:Di((i+1).toString(),Math.min(e,2))},L:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=Uc[e];return a?n.getMonthNames(a,"standalone")[i]:Di((i+1).toString(),Math.min(e,2))},Q:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=Math.floor(i/3),o=Uc[e];return o?n.getQuarterNames(o)[a]:Di((a+1).toString(),Math.min(e,2))},E:function(t,e,r,n){var i=t[r?"getUTCDay":"getDay"](),a=Uc[e<3?3:e];return n.getDayNames(a)[i]},a:function(t,e,r,n){var i=t[r?"getUTCHours":"getHours"](),a=i<12?0:1,o=Uc[e];return n.getPeriodNames(o)[a]},d:function(t,e,r){return Di(t[r?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,r){return Di(t[r?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,r){var n=t[r?"getUTCHours":"getHours"]();return Di((n%12||12).toString(),Math.min(e,2))},m:function(t,e,r){return Di(t[r?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,r){return Di(t[r?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,r){return Di(t[r?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,r){var n=r?0:t.getTimezoneOffset(),i=n>0?"-":"+",a=Math.abs(n),o=Math.floor(a/60),s=a%60,l=Di(o.toString(),2),p=Di(s.toString(),2);return i+l+(e>=3?":":"")+(e>1||s?p:"")},X:function(t,e,r){return r||!t.getTimezoneOffset()?"Z":VC.x(t,e,r)},Z:function(t,e,r){return VC.X(t,e>=5?3:2,r)}},a6=function(t,e){return function(r){var n,i,a,o=0,s=!1,l,p="";if(!r)return null;if(!t)return r;var h=t[t.length-1]==="Z"||t.slice(-3)==="'Z'";for(n=0;n<t.length;n++)a=t[n],i=VC[a],l=a===t[n+1],o++,l||(i&&!s&&(p+=i(r,o,h,e)),o=0),a==="'"&&!l?s=!s:(s||!i)&&(p+=a),a==="'"&&l&&n++;return p}},az="،",o6=" .,:;/\\<>()-[]"+az,oz=". m.",ls=function(t){var e=t&&nr.convertDigits(t,!1).charCodeAt(0),r=nr.convertDigits("0",!1).charCodeAt(0);return r<=e&&e<r+10},sz=function(t,e,r,n){var i=t[r],a=t[r+1];if(!n&&(i==="."||i===" "&&t.slice(r-1,r+3)===oz||i==="-"&&!ls(a)))return!0;var o=n&&e.some(s=>t[r]!==s[r]);return o6.indexOf(i)<0&&n===ls(i)&&(!n||o)},lz=function(t,e){if(!ls(t[e]))for(;e>0&&!ls(t[e-1])&&(t[e-1]==="."||o6.indexOf(t[e-1])<0);)e--;return e},uz=function(t,e,r,n){var i=0,a=[],o=function(s){return t[i]!==s[i]&&(n===void 0||ls(t[i])===n)};for(Array.isArray(e)||(e=[e]),i=0;i<t.length;i++)if(r.indexOf(i)<0&&e.filter(o).length){i=lz(t,i);do{if(n=ls(t[i]),!a.length&&!n&&ls(e[0][i]))break;a.push(i),r.unshift(i),i++}while(t[i]&&sz(t,e,i,n));break}return a.length===1&&(t[r[0]-1]==="0"||t[r[0]-1]==="٠")&&r.unshift(r[0]-1),a},cz=function(t,e,r,n){var i=e[0],a=i<n.length?n[i]:i;return e.forEach(function(o,s){t=t.substr(0,a+s)+(r.length>1?r[s]:r)+t.substr(a+s+1)}),e.length===1&&(t=t.replace("0"+r,r+r),t=t.replace("٠"+r,r+r)),t},dz=function(t,e,r,n){var i,a,o;if(!ls(t[e[0]]||"0")){for(var s=Math.max(e.length<=3?3:4,r.length);e.length>s;){for(a=e.pop(),o=n[a],n[a]=-1,i=a+1;i<n.length;i++)n[i]--;t=t.substr(0,o)+t.substr(o+1)}for(a=e[e.length-1]+1,o=a<n.length?n[a]:a;e.length<s;){for(e.push(e[e.length-1]+1),i=a;i<n.length;i++)n[i]++;t=t.substr(0,o)+" "+t.substr(o)}}return t=cz(t,e,r,n),t},wT=function(t,e){return Array.isArray(t)?t.map(function(r){return(e(r)||"").toString()}):(e(t)||"").toString()},hz=/[a-zA-Z]/g,fz=function(t,e,r,n){var i=e.split("").map(function(a,o){return r.indexOf(o)<0&&(a.match(hz)||a==="'")?n[o]:-1});return t=t.split("").map(function(a,o){var s=a,l=i.indexOf(o)>=0,p=o>0&&i.indexOf(o-1)>=0,h=i.indexOf(o+1)>=0;return l&&(p||(s="'"+s),h||(s+="'")),s}).join(""),t},Ix=function(t){var e=[],r=wT(new Date(2009,8,8,6,5,4),t),n=r.split("").map(function(s,l){return l}),i=r,a={},o=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(i&&(o.forEach(function(s){var l=uz(r,wT(s.date,t),e,s.isDigit),p=s.pattern==="M"&&!a.d?"L":s.pattern;i=dz(i,l,p,n),a[p]=l.length}),i=fz(i,r,e,n),e.length))return i},ho={3:"abbreviated",4:"wide",5:"narrow"},xT=function(t,e){return t>2?Object.keys(ho).map(function(r){return["format","standalone"].map(function(n){return e.getMonthNames(ho[r],n).join("|")}).join("|")}).join("|"):t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},pz={":":function(t,e){var r=t>1?"{".concat(t,"}"):"",n=lo(e.getTimeSeparator());return n!==":"&&(n="".concat(n,"|:")),"".concat(n).concat(r)},y:function(t){return t===2?"[0-9]{".concat(t,"}"):"[0-9]+?"},M:xT,L:xT,Q:function(t,e){return t>2?e.getQuarterNames(ho[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(ho[t<3?3:t],"format").join("|")},d:function(t){return t===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(t){return t===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(t){return t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,".concat(t,"}")},w:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},Za=Number,HC=function(t,e){return t.map(r=>r.toLowerCase()).indexOf(e.toLowerCase())},ST=function(t,e,r){return e>2?["format","standalone"].map(function(n){return Object.keys(ho).map(function(i){var a=r.getMonthNames(ho[i],n);return HC(a,t)})}).reduce(function(n,i){return n.concat(i)}).filter(function(n){return n>=0})[0]:Za(t)-1},mz={y:function(t,e){var r=Za(t);return e===2?r<30?2e3+r:1900+r:r},M:ST,L:ST,Q:function(t,e,r){return e>2?r.getQuarterNames(ho[e],"format").indexOf(t):Za(t)-1},E:function(t,e,r){var n=r.getDayNames(ho[e<3?3:e],"format");return HC(n,t)},a:function(t,e,r){var n=r.getPeriodNames(ho[e<3?3:e],"format");return HC(n,t)},d:Za,H:Za,h:Za,m:Za,s:Za,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return Za(t)}},Ev=["y","M","d","h","m","s","S"],Tx={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,r){var n=t.getHours(),i=r.h;i!==void 0&&i!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),t.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},vz=function(t,e){var r=t[e];if(!r)return 0;var n=0;do e++,n++;while(t[e]===r);return n},gz=function(t,e){for(var r="",n=0;n<e;n++)r+=t;return r},s6=function(t,e){for(var r="",n="",i,a=[],o=function(){n&&(a.push("'".concat(n,"'")),r+="".concat(lo(n),")"),n="")},s=0;s<t.length;s++){var l=t[s],p=l==="'",h=pz[l];if(!(p&&(i=!i,t[s-1]!=="'")))if(h&&!i){var m=vz(t,s),v=gz(l,m);o(),a.push(v),r+="(".concat(h(m,e),")"),s+=m-1}else n||(r+="("),n+=l}return o(),yz(a)||bg.warn("The following format may be parsed incorrectly: ".concat(t,".")),{patterns:a,regexp:new RegExp("^".concat(r,"$"),"i")}},_z=["d","H","h","m","s","w","M","L","Q"],yz=function(t){var e=i=>{if(!i)return!1;var a=i[0];return["y","S"].includes(a)||_z.includes(a)&&i.length<3},r=!0,n=0;return t.every((i,a,o)=>(e(i)&&((s=>s[0]!=="S"&&s.length!==2)(i)&&(r=++n<2),e(o[a+1])||(n=0)),r))},bz=function(){return Tx},Cz=function(t,e,r,n,i){var a=e[0],o=Tx[a],s=mz[a];if(o&&s){var l=s(r,e.length,n);i[e]=l,t[o]?t[o](l):o(t,l,i)}},wz=function(t,e,r){var n=Tx[e],i="g"+n.substr(1),a=r[i]();t[n](a)},xz=function(t){return t.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},Sz=function(t){var e=t.map(function(r){return Ev.indexOf(r)});return Math.max.apply(Math,e)},Ez=function(t){var e=t.filter(function(r){return Ev.indexOf(r)<0});return Ev.concat(e)},Iz=function(t,e){var r=s6(t,e);return function(n){var i=r.regexp.exec(n);if(i){var a=new Date,o=new Date(a.getFullYear(),0,1),s=xz(r.patterns),l=Sz(s),p=Ez(s),h={};return p.forEach(function(m,v){if(!(!m||v<Ev.length&&v>l)){var f=s.indexOf(m);if(f>=0){var u=r.patterns[f],c=i[f+1];Cz(o,u,c,e,h)}else wz(o,m,a)}}),o}return null}},Tz=["January","February","March","April","May","June","July","August","September","October","November","December"],Oz=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kz=["AM","PM"],Az=["Q1","Q2","Q3","Q4"],ET=(t,e)=>{var r={abbreviated:3,short:2,narrow:1};return Xr(t,n=>n.substr(0,r[e]))};const Id={getMonthNames:function(t){return ET(Tz,t)},getDayNames:function(t){return ET(Oz,t)},getQuarterNames:function(t){return Az},getPeriodNames:function(t){return kz}},Dz={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var Rz=/[\u200E\u200F]/g,Pz=/[\u202F]/g,Xs=t=>e=>{if(!t.timeZoneName){var r=e.getFullYear(),n=String(r).length<3,i=n?r+400:r,a=new Date(Date.UTC(i,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&a.setFullYear(r);var o=Y({timeZone:"UTC"},t);return jC(a,o)}return jC(e,t)},l0={},Mz=t=>{var e=Ii.locale()+"/"+JSON.stringify(t);return l0[e]||(l0[e]=new Intl.DateTimeFormat(Ii.locale(),t).format),l0[e]};function jC(t,e){return Mz(e)(t).replace(Rz,"").replace(Pz," ")}var $C=t=>new Intl.NumberFormat(Ii.locale()).format(t),Bz=(()=>{var t={};return e=>{if(!(e in t)){if($C(0)==="0")return t[e]=!1,!1;t[e]={};for(var r=0;r<10;++r)t[e][$C(r)]=r}return t[e]}})(),lp=t=>{var e=Bz(Ii.locale());return e?t.split("").map(r=>r in e?String(e[r]):r).join(""):t},IT=t=>t.replace(/(\D)0+(\d)/g,"$1$2"),Lz=(t,e)=>IT(t)===IT(e),zC=t=>t.replace("d’","de "),Ox={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(Ox,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(Ii.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var Fz=t=>typeof t=="string"&&Ox[t.toLowerCase()],l6={standalone:function(t,e){var r=new Date(1999,t,13,1),n=Xs({month:e})(r);return n},format:function(t,e){var r=new Date(0,t,13,1),n=zC(Xs({day:"numeric",month:e})(r)),i=n.split(" ").filter(a=>a.indexOf("13")<0);return i.length===1?i[0]:i.length===2?i[0].length>i[1].length?i[0]:i[1]:l6.standalone(t,e)}};const Nz={engine:function(){return"intl"},getMonthNames:function(t,e){var r={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,i)=>l6[e](i,r))},getDayNames:function(t){var e=(r=>Array.apply(null,new Array(7)).map((n,i)=>Xs({weekday:r})(new Date(0,0,i))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"]);return e},getPeriodNames:function(){var t=Xs({hour:"numeric",hour12:!0});return[1,13].map(e=>{var r=$C(1),n=t(new Date(0,0,1,e)).split(r);if(n.length!==2)return"";var i=n[0].length>n[1].length?n[0]:n[1];return i.trim()})},format:function(t,e){if(t){if(!e)return t;typeof e!="function"&&!e.formatter&&(e=e.type||e);var r=Fz(e);if(r)return Xs(r)(t);var n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):Xs(e)(t)}},parse:function(t,e){var r;return e&&!e.parser&&typeof t=="string"&&(t=zC(t),r=n=>zC(this.format(n,e))),this.callBase(t,r||e)},_parseDateBySimpleFormat:function(t,e){t=lp(t);var r=this.getFormatParts(e),n=t.split(/\D+/).filter(o=>o.length>0);if(r.length===n.length){var i=this._generateDateArgs(r,n),a=o=>{var s=((l,p)=>{var h=p?12:0;return new Date(l.year,l.month,l.day,(l.hours+h)%24,l.minutes,l.seconds)})(i,o);if(Lz(lp(this.format(s,e)),t))return s};return a(!1)||a(!0)}},_generateDateArgs:function(t,e){var r=new Date,n={year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),hours:0,minutes:0,seconds:0};return t.forEach((i,a)=>{var o=e[a],s=parseInt(o,10);i==="month"&&(s-=1),n[i]=s}),n},formatUsesMonthName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return lp(jC(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(t){if(typeof t=="string")return this.callBase(t);var e=Y({},Ox[t.toLowerCase()]),r=new Date(2001,2,4,5,6,7),n=Xs(e)(r);return n=lp(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(i=>({name:i.name,index:n.indexOf(i.value)})).filter(i=>i.index>-1).sort((i,a)=>i.index-a.index).map(i=>i.name)}};var Vz=0,Hz=typeof Intl<"u",u0={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},jz={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},_t=Gi({engine:function(){return"base"},_getPatternByFormat:function(t){return u0[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return this._expandPattern(t).indexOf("MMMM")!==-1},formatUsesDayName:function(t){return this._expandPattern(t).indexOf("EEEE")!==-1},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,r=[];return te(e.split(/\W+/),(n,i)=>{te(jz,(a,o)=>{o.includes(i)&&r.push(a)})}),r},getMonthNames:function(t){return Id.getMonthNames(t)},getDayNames:function(t){return Id.getDayNames(t)},getQuarterNames:function(t){return Id.getQuarterNames(t)},getPeriodNames:function(t){return Id.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),r=new Date(2017,0,20,23,0,0,0),n=this.format(e,t),i=this.format(r,t),a=0;a<n.length;a++)if(n[a]!==i[a])return!isNaN(parseInt(n[a]))},format:function(t,e){if(t){if(!e)return t;var r;if(typeof e=="function")r=e;else if(e.formatter)r=e.formatter;else if(e=e.type||e,tt(e))return e=u0[e.toLowerCase()]||e,nr.convertDigits(a6(e,this)(t));if(r)return r(t)}},parse:function(t,e){var r=this,n,i;if(t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if(typeof e=="string"&&!u0[e.toLowerCase()])n=e;else{i=o=>{var s=r.format(o,e);return nr.convertDigits(s,!0)};try{n=Ix(i)}catch{}}if(n)return t=nr.convertDigits(t,!0),Iz(n,this)(t);Yt.log("W0012");var a=new Date(t);if(!(!a||isNaN(a.getTime())))return a}},firstDayOfWeekIndex:function(){var t=Ii.getValueByClosestLocale(e=>Dz[e]);return t===void 0?Vz:t}});Hz&&_t.inject(Nz);const u6=Gi({format:function(t,e){var r=tt(e)&&e!==""||yt(e)||Me(e),n=qt(t)||Kn(t);if(!r||!n)return q(t)?t.toString():"";if(Me(e))return e(t);if(tt(e)&&(e={type:e}),qt(t))return nr.format(t,e);if(Kn(t))return _t.format(t,e)},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?t.length===1?t[0]:function(e){return t.map(function(r){return _t.format(e,r)}).join(" ")}:t},getDateFormatByDifferences:function(t,e){var r=[],n=e&&t.millisecond&&!(t.year||t.month||t.day);return n?r.push(function(i){return i.getSeconds()+i.getMilliseconds()/1e3+"s"}):t.millisecond&&r.push("millisecond"),(t.hour||t.minute||!n&&t.second)&&r.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day?e&&e==="month"?"monthandyear":(r.unshift("shortdate"),this._normalizeFormat(r)):t.year&&t.month?"monthandyear":t.year&&t.quarter?"quarterandyear":t.year?"year":t.quarter?"quarter":t.month&&t.day?(e?r.unshift(function(i){return _t.getMonthNames("abbreviated")[i.getMonth()]+" "+_t.format(i,"day")}):r.unshift("monthandday"),this._normalizeFormat(r)):t.month?"month":t.day?(e?r.unshift("day"):r.unshift(function(i){return _t.format(i,"dayofweek")+", "+_t.format(i,"day")}),this._normalizeFormat(r)):this._normalizeFormat(r)},getDateFormatByTicks:function(t){var e,r,n;if(t.length>1)for(e=Ze.getDatesDifferences(t[0],t[1]),n=1;n<t.length-1;n++)r=Ze.getDatesDifferences(t[n],t[n+1]),e.count<r.count&&(e=r);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};var i=this.getDateFormatByDifferences(e);return i},getDateFormatByTickInterval:function(t,e,r){var n,i=function(s,l,p){switch(l){case"year":case"quarter":s.month=p;case"month":s.day=p;case"week":case"day":s.hour=p;case"hour":s.minute=p;case"minute":s.second=p;case"second":s.millisecond=p}};r=tt(r)?r.toLowerCase():r;var a=Ze.getDatesDifferences(t,e);t!==e&&function(s,l,p){!p.getMilliseconds()&&p.getSeconds()?p.getSeconds()-l.getSeconds()===1&&(s.millisecond=!0,s.second=!1):!p.getSeconds()&&p.getMinutes()?p.getMinutes()-l.getMinutes()===1&&(s.second=!0,s.minute=!1):!p.getMinutes()&&p.getHours()?p.getHours()-l.getHours()===1&&(s.minute=!0,s.hour=!1):!p.getHours()&&p.getDate()>1?p.getDate()-l.getDate()===1&&(s.hour=!0,s.day=!1):p.getDate()===1&&p.getMonth()?p.getMonth()-l.getMonth()===1&&(s.day=!0,s.month=!1):!p.getMonth()&&p.getFullYear()&&p.getFullYear()-l.getFullYear()===1&&(s.month=!0,s.year=!1)}(a,t>e?e:t,t>e?t:e),n=Ze.getDateUnitInterval(a),i(a,n,!0),n=Ze.getDateUnitInterval(r||"second"),i(a,n,!1),a[{week:"day"}[n]||n]=!0;var o=this.getDateFormatByDifferences(a);return o}}),c6=new Z1;var c0="dxComponents",$z="dxPrivateComponent",up=new WeakMap,zz=0,sf=function(t,e){if(q(e)){up.set(t,e);return}if(!up.has(t)){var r=$z+zz++;return up.set(t,r),r}return up.get(t)};function d6(t,e,r){var n=br(t.get(0)),i=sf(e.constructor);n[i]=e,r&&X.one(t,fa,function(){r.call(e)}),n[c0]||(n[c0]=[]),n[c0].push(i)}function h6(t,e){var r=sf(e);return br(t.get(0),r)}var Rt=function(t,e,r){r?e[t]=r:r=e,sf(r,t),c6.fire(t,r)},Wz=function(t,e){V.fn[t]=function(r){var n=typeof r=="string",i;if(n){var a=r,o=[].slice.call(arguments).slice(1);this.each(function(){var s=e.getInstance(this);if(!s)throw Yt.Error("E0009",t);var l=s[a],p=l.apply(s,o);i===void 0&&(i=p)})}else this.each(function(){var s=e.getInstance(this);s?s.option(r):new e(this,r)}),i=this;return i}};c6.add(Wz);var Hu=Ht(),f6=pt(),Uz=$a.add,Gz=gs,Kz=Sg,Oh=new ae,p6="link[rel=dx-theme]",qz="data-theme",Xz="data-active",TT="dx-hairlines",m6="any",fo,WC,po,mi,qo,OT=15e3,d0="dx.";function kx(){if(!lt())return null;var t=V("<div>",fo).addClass("dx-theme-marker").appendTo(fo.documentElement),e;try{return e=f6.getComputedStyle(t.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,d0.length)!==d0)?null:e.substr(d0.length)}finally{t.remove()}}function kT(t){var e,r,n=!0;qo=t;function i(){qo=null,clearInterval(r),n=!0,Hu.fire(),Hu.empty(),Oh.resolve()}if(AT()||!OT)i();else{if(!n){qo&&(qo=t);return}e=Date.now(),n=!1,r=setInterval(function(){var a=AT(),o=!a&&Date.now()-e>OT;o&&Et.log("W0004",qo),(a||o)&&i()},10)}}function AT(){if(!qo)return!0;var t=qo===m6;if(Oh.state()==="resolved"&&t)return!0;var e=kx();return e&&t?!0:e===qo}function Yz(){var t=V(p6,fo);t.length&&(po={},WC=V(sx("<link rel=stylesheet>"),fo),t.each(function(){var e=V(this,fo),r=e.attr(qz),n=e.attr("href"),i=e.attr(Xz)==="true";po[r]={url:n,isActive:i}}),t.last().after(WC),t.remove())}function Zz(t){var e=t?t.split("."):[],r=null;if(po){if(t in po)return t;te(po,function(n,i){var a=n.split(".");if(!(e[0]&&a[0]!==e[0])&&!(e[1]&&e[1]!==a[1])&&!(e[2]&&e[2]!==a[2])&&((!r||i.isActive)&&(r=n),i.isActive))return!1})}return r}function Qz(t){try{t!==fo&&(po=null)}catch{po=null}fo=t}function v6(t){t=t||{},Qz(t.context||Ce.getDocument()),fo&&(Yz(),mi=void 0,pa(t))}function pa(t){if(!arguments.length)return mi=mi||kx(),mi;_6(Gz()),t=t||{},typeof t=="string"&&(t={theme:t});var e=t._autoInit,r=t.loadCallback,n;if(mi=Zz(t.theme||mi),mi&&(n=po[mi]),r&&Hu.add(r),n)WC.attr("href",po[mi].url),(Hu.has()||Oh.state()!=="resolved"||t._forceTimeout)&&kT(mi);else if(e)lt()&&kT(m6),Hu.fire(),Hu.empty();else throw Et.Error("E0021",mi);Oh.done(()=>g6(oM(),mi))}function Jz(t){t=t||pa();var e=[],r=t&&t.split(".");return r&&(e.push("dx-theme-"+r[0],"dx-theme-"+r[0]+"-typography"),r.length>1&&e.push("dx-color-scheme-"+r[1]+(Mr(t)?"-"+r[2]:""))),e}var Sm;function g6(t,e){Sm=Jz(e).join(" "),V(t).addClass(Sm),function(){var r=lt()&&f6.devicePixelRatio;if(!(!r||r<2)){var n=V("<div>");n.css("border",".5px solid transparent"),V("body").append(n),xt(n)===1&&(V(t).addClass(TT),Sm+=" "+TT),n.remove()}}()}function _6(t){V(t).removeClass(Sm)}function Ax(t,e){return e||(e=mi||kx()),new RegExp(t).test(e)}function Mr(t){return Ax("material",t)}function y6(t){return Ax("generic",t)}function eW(t){return Ax("compact",t)}function tW(t,e){var r=Ce.getDocument(),n=r.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=t,r.body.appendChild(n);var i=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var a=n.offsetWidth;return n.parentNode.removeChild(n),i!==a}function rW(t,e){return new Promise(r=>{var n=()=>{clearInterval(i),clearTimeout(a),r()},i=setInterval(()=>{tW(t,e)&&n()},15),a=setTimeout(n,2e3)})}function DT(){if(v6({_autoInit:!0,_forceTimeout:!0}),V(p6,fo).length)throw Et.Error("E0022")}lt()?DT():Uz(DT);Kz.add(function(t,e){Oh.done(function(){_6(e),g6(t)})});Ue.changed.add(function(){v6({_autoInit:!0})});class ai{constructor(e,r){r=r||{},this._action=e,this._context=r.context||pt(),this._beforeExecute=r.beforeExecute,this._afterExecute=r.afterExecute,this._component=r.component,this._validatingTargetName=r.validatingTargetName;var n=this._excludeValidators={};if(r.excludeValidators)for(var i=0;i<r.excludeValidators.length;i++)n[r.excludeValidators[i]]=!0}execute(){var e={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},r=this._beforeExecute,n=this._afterExecute,i=e.args[0]||{};if(this._validateAction(e)&&(r==null||r.call(this._context,e),!e.cancel)){var a=this._executeAction(e);if(!i.cancel)return n==null||n.call(this._context,e),a}}_validateAction(e){var r=this._excludeValidators,{executors:n}=ai;for(var i in n)if(!r[i]){var a,o=n[i];if((a=o.validate)===null||a===void 0||a.call(o,e),e.cancel)return!1}return!0}_executeAction(e){var r,{executors:n}=ai;for(var i in n){var a,o=n[i];if((a=o.execute)===null||a===void 0||a.call(o,e),e.handled){r=e.result;break}}return r}static registerExecutor(e,r){if(yt(e)){te(e,ai.registerExecutor);return}ai.executors[e]=r}static unregisterExecutor(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];te(r,function(){delete ai.executors[this]})}}ai.executors={};var RT=t=>e=>{if(e.args.length){var r=e.args[0],n=r[e.validatingTargetName]||r.element;n&&t(V(n))&&(e.cancel=!0)}};ai.registerExecutor({disabled:{validate:RT(t=>t.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:RT(t=>t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:t=>{t.action||(t.result=void 0,t.handled=!0)}},func:{execute:t=>{Me(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}});var nW=function(t,e){return 1/t===1/e},iW=function(t,e){if(t=Cn(t,!0),e=Cn(e,!0),t&&e&&Ei(t)&&Ei(e))return e.is(t);var r=t!==t,n=e!==e;return r&&n?!0:t===0&&e===0?nW(t,e):t===null||typeof t!="object"||Ce.isElementNode(t)?t===e:!1},h0={},dc=t=>{var e=Ue.current();return t.reduce((r,n)=>{var{device:i,options:a}=n,o=i||{},s=Me(o)?o(e):oW(e,o);return s&&Y(!0,r,a),r},{})},aW=(t,e)=>typeof t!="string"?t:{[t]:e},oW=(t,e)=>di(e)||K1(t,[e]).length>0,PT=t=>t.substr(t.lastIndexOf(".")+1),MT=t=>t.substr(0,t.lastIndexOf(".")),sW=function(t,e){return h0[e]=h0[e]||er(e),h0[e](t,{functionsAsIs:!0})},lW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t},f0={},p0={};class uW{constructor(e,r){this._options=e,this._optionsByReference=r,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,r){Y(!0,e,r);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}_setPreparedValue(e,r,n,i){var a=this.get(this._options,e,!1);if(!iW(a,r)){var o=Fl(e);!i&&this._changingCallback(e,a,r),p0[e]=p0[e]||G1(e),p0[e](this._options,r,{functionsAsIs:!0,merge:q(n)?n:!this._optionsByReference[e],unwrapObservables:o.length>1&&!!this._optionsByReference[o[0]]}),!i&&this._changedCallback(e,r,a)}}_prepareRelevantNames(e,r,n,i){if(yt(n))for(var a in n)this._prepareRelevantNames(e,"".concat(r,".").concat(a),n[a]);this._namePreparedCallbacks(e,r,n,i)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return f0[r]=f0[r]||er(r),f0[r](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,r,n,i){e=aW(e,r);for(var a in e)this._prepareRelevantNames(e,a,e[a],i);for(var o in e)this._setPreparedValue(o,e[o],n,i)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=oe,this._changedCallback=oe}}let cW=class{constructor(e,r,n,i){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=r,this._deprecated=i,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new uW(e,n),this._optionManager.onRelevantNamesPrepared((a,o,s,l)=>this._setRelevantNames(a,o,s,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,dc(e)}_notifyDeprecated(e){var r=this._deprecated[e];r&&this._deprecatedCallback(e,r)}_setRelevantNames(e,r,n,i){if(r){var a=this._normalizeName(r,i);a&&a!==r&&(this._setField(e,a,n),this._clearField(e,r))}}_setField(e,r,n){var i="",a=null;do i=i?".".concat(i):"",i=PT(r)+i,r=MT(r),a=r?this._optionManager.get(e,r,!1):e;while(!a);a[i]=n}_clearField(e,r){delete e[r];var n=MT(r),i=n?this._optionManager.get(e,n,!1):e;i&&delete i[PT(r)]}_normalizeName(e,r){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var i=this._deprecated[e];if(i)return!r&&this._notifyDeprecated(e),i.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var r=this._getByRules(e);this.silent(r)}dispose(){this._deprecatedCallback=oe,this._startChangeCallback=oe,this._endChangeCallback=oe,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var r=this.silent(e),n=this.initial(e),i=Me(r)&&Me(n);return i?r.toString()===n.toString():Jt(r,n)}initial(e){return sW(this._initial,e)}option(e,r){var n=arguments.length<2&&Si(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,r)}finally{this._endChangeCallback()}}silent(e,r){var n=arguments.length<2&&Si(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,r,void 0,!0)}reset(e){if(e){var r=Fl(e),n=r.reduce((a,o)=>a?a[o]:this.initial(o),null),i=rt(n)?we({},n):n;this._optionManager.set(e,i,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(r=>e===this._deprecated[r].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,r){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=Y(this._cachedOptions[e],r)}};class dW{constructor(){this._postponedOperations={}}add(e,r,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var i=new ae;this._postponedOperations[e]={fn:r,completePromise:i,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var r=this._postponedOperations[e];q(r)&&(r.promises&&r.promises.length?Ve(...r.promises).done(r.fn).then(r.completePromise.resolve):r.fn().done(r.completePromise.resolve))}this._postponedOperations={}}}var BT=t=>t.charAt(2).toLowerCase()+t.substr(3),hW=t=>t.indexOf("_",0)===0,b6=Ft.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(t){this._options.applyRules(t)},_convertRulesToOptions:t=>dc(t),_isInitialOptionValue(t){return this._options.isInitial(t)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:r}=t;this.NAME=sf(this.constructor),this._eventsStrategy=Hl.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||Ht(),this._disposingCallbacks=r||Ht(),this.postponedOperations=new dW,this._createOptions(t)},_createOptions(t){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new cW(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,r,n)=>this._initialized&&this._optionChanging(e,r,n)),this._options.onDeprecated((e,r)=>this._logDeprecatedOptionWarning(e,r)),this._options.onChanged((e,r,n)=>this._notifyOptionChanged(e,r,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions(t){this.option(t)},_init(){this._createOptionChangedAction(),this.on("disposing",t=>{this._disposingCallbacks.fireWith(this,[t])})},_logDeprecatedOptionWarning(t,e){var r=e.message||"Use the '".concat(e.alias,"' option instead");Yt.log("W0001",this.NAME,t,e.since,r)},_logDeprecatedComponentWarning(t,e){Yt.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:oe,_notifyOptionChanged(t,e,r){if(this._initialized)for(var n=[t].concat(this._options.getAliasesByName(t)),i=0;i<n.length;i++){var a=n[i],o={name:Fl(a)[0],fullName:a,value:e,previousValue:r};hW(a)||(this._optionChangedCallbacks.fireWith(this,[Y(this._defaultActionArgs(),o)]),this._optionChangedAction(Y({},o))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(o)}},initialOption(t){return this._options.initial(t)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(t,e){var r;return n=>(q(n)||(n={}),yt(n)||(n={actionValue:n}),r=r||new ai(t,Y(e,this._defaultActionConfig())),r.execute.call(r,Y(n,this._defaultActionArgs())))},_createActionByOption(t,e){var r=this,n,i,a,o=function(){if(!i){if(e=e||{},typeof t!="string")throw Yt.Error("E0008");t.indexOf("on")===0&&(i=BT(t)),a=r.option(t)}if(!(!n&&!a&&!e.beforeExecute&&!e.afterExecute&&!r._eventsStrategy.hasEvent(i))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];l&&l.apply(r,c),r._eventsStrategy.fireEvent(i,c[0].args)},n=r._createAction(a,e)}for(var p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];if(ur().wrapActionsBeforeExecute){var v=r.option("beforeActionExecute")||oe,f=v(r,n,e)||n;return f.apply(r,h)}return n.apply(r,h)}};if(ur().wrapActionsBeforeExecute)return o;var s=this.option("onActionCreated")||oe;return s(this,o,e)||o},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(BT(t))},isOptionDeprecated(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue(t,e){var r=this.option(t);return Me(r)?r.bind(e)():r},option(){return this._options.option(...arguments)},resetOption(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}}),Dx=function(t){return function(e){for(var r=V(e||"body"),n=r.filter(".dx-visibility-change-handler").add(r.find(".dx-visibility-change-handler")),i=0;i<n.length;i++)X.triggerHandler(n[i],t)}},Rx=Dx("dxshown"),fW=Dx("dxhiding"),Ra=Dx("dxresize"),pW=Ht({syncStrategy:!0});class jl{render(e){e=e||{};var r=e.onRendered;delete e.onRendered;var n;return e.renovated&&e.transclude&&this._element?n=V("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),pW.fire(n,e.container),r&&r(),n}_ensureResultInContainer(e,r){if(r){var n=V(r),i=uo(n.get(0),e.get(0));if(n.append(e),!i){var a=Ce.getBody().contains(n.get(0));a&&Rx(e)}}}_renderCore(){throw Yt.Error("E0001")}}class hc extends jl{constructor(e){super(),this._render=e}_renderCore(e){return Ig(this._render(e))}}class fl extends jl{_renderCore(){return V()}}class Px extends jl{constructor(e){super(),this.name=e}}var C6={},Em;function mW(t,e){C6[t]=e}function vW(t){if(tt(t)){if(Em=C6[t],!Em)throw Yt.Error("E0020",t)}else Em=t}function LT(){return Em}mW("default",{compile:t=>Ig(t),render:(t,e,r)=>t.clone()});vW("default");let gW=class extends jl{constructor(e){super(),this._element=e}_renderCore(e){var r=e.transclude;return!r&&!this._compiledTemplate&&(this._compiledTemplate=LT().compile(this._element)),V("<div>").append(r?this._element:LT().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return V(this._element).clone()}};function _W(t){return t.reduce((e,r)=>{var n,i=((n=e.get(r))!==null&&n!==void 0?n:0)+1;return e.set(r,i),e},new Map)}var yW=function(t){return Array.isArray(t)?t:[t]},bW=function(t){return[...new Set(t)]},FT=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=_W(e);return t.filter(n=>{var i=r.get(n);return i&&r.set(n,i-1),!i})},kh=function(t,e,r,n){var i={},{useLegacyVisibleIndex:a}=ur(),o=0,s=l=>!q(l[e])&&(!n||n(l));t.forEach(l=>{var p=l[e];p>=0?(i[p]=i[p]||[],l===r?i[p].unshift(l):i[p].push(l)):l[e]=void 0}),a||t.forEach(l=>{if(s(l)){for(;i[o];)o++;i[o]=[l],o++}}),o=0,mC(i,function(l,p){p.forEach(h=>{l>=0&&(h[e]=o++)})}),a&&t.forEach(l=>{s(l)&&(l[e]=o++)})},CW=(t,e)=>t.reduce((r,n)=>{var i,a=e(n);return r[a]=(i=r[a])!==null&&i!==void 0?i:[],r[a].push(n),r},{}),w6=(t,e)=>{var r=V(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(r).map(n=>{var i=V(n).attr("data-options")||"";return{element:n,options:ur().optionsParser(i)[e]}}).filter(n=>!!n.options)},wW=t=>{var e=CW(t,n=>n.options.name);if(e[void 0])throw Yt.Error("E0023");var r={};return Object.keys(e).forEach(n=>{var i,a=(i=K1(Ue.current(),e[n],o=>o.options)[0])===null||i===void 0?void 0:i.element;a&&(r[n]=a)}),r},x6=t=>{var e=t.render.bind(t);return Y({},t,{render(r){var n=e(r);return r&&r.onRendered&&r.onRendered(),n}})},xW=t=>{var e=t.render.bind(t);return Y({},t,{render(r){var n=V(r.container);return e(we({},r,{container:et(n)}))}})},SW=t=>{var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},EW=t=>typeof t=="string"?Ig(t):t,NT=t=>Ei(t)&&t[0]||t,IW=t=>new gW(t),TW=(t,e,r,n)=>{var i=null;return(!n||n.indexOf(t)===-1)&&(i=e[t],i&&!(i instanceof jl)&&(Me(i.render)&&(i=xW(i)),r||(i=x6(i)))),i},VT=(t,e,r,n,i,a)=>t==null?new fl:t instanceof Px?a[t.name]:t instanceof jl?t:Me(t.render)&&!Ei(t)?n?t:x6(t):t.nodeType||Ei(t)?e(V(t)):TW(t,r,n,i)||a[t]||e(t),OW=3,kW="template",AW="dxTemplate",DW="dx-template-wrapper",RW=new hc(t=>{var{model:e,parent:r}=t,n=e.widget;if(!n)return V();var i=V("<div>"),a=e.options||{};return r?r._createComponent(i,n,a):i[n](a),i});class HT{constructor(e,r){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=r||kW,this._createElement=e||IW,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||r(e()),oe},templates:{"dx-polymorph-widget":RW},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=Y({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var r=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:r,anonymousTemplateMeta:n}}_extractTemplates(e){var r=w6(e,AW),n=wW(r);return r.forEach(i=>{var{element:a,options:{name:o}}=i;a===n[o]?V(a).addClass(DW).detach():V(a).remove()}),Object.keys(n).map(i=>({name:i,template:this._createTemplate(n[i])}))}_extractAnonymousTemplate(e){var r=e.contents().detach(),n=r.filter((i,a)=>{var o=a.nodeType===OW,s=V(a).text().trim().length<1;return!(o&&s)});return n.length>0?{template:this._createTemplate(r),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var r=this._tempTemplates.filter(i=>i.source===NT(e))[0];if(r)return r.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:NT(e)}),n}_createTemplate(e){return this._createElement(EW(e))}getTemplate(e,r,n,i){var{isAsyncTemplate:a,skipTemplates:o}=n;return Me(e)?new hc(s=>{var l=e.apply(i,SW(s));if(!q(l))return new fl;var p=!1,h=VT(l,v=>v.nodeType||Ei(v)&&!V(v).is("script")?new hc(()=>v):(p=!0,this._createTemplate(v)),r,a,o,this._defaultTemplates),m=h.render(s);return p&&h.dispose&&h.dispose(),m}):VT(e,this._createTemplateIfNeeded,r,a,o,this._defaultTemplates)}}var jT="compositionstart",PW="compositionend",MW="keydown",m0="KeyboardProcessor",S6=t=>({keyName:Cr(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}),Mx=Ft.inherit({_keydown:Ee(MW,m0),_compositionStart:Ee(jT,m0),_compositionEnd:Ee(PW,m0),ctor:function(t){t=t||{},t.element&&(this._element=V(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=e=>{var r=V(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!r.includes(e.target),i=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,i||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),X.on(this._element,this._keydown,this._processFunction),X.on(this._element,this._compositionStart,this._toggleProcessingWithContext),X.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(X.off(this._element,this._keydown,this._processFunction),X.off(this._element,this._compositionStart,this._toggleProcessingWithContext),X.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(S6(t))},toggleProcessing:function(t){var{type:e}=t;this._isComposing=e===jT,this._isComposingJustFinished=!this._isComposing}});Mx.createKeyDownOptions=S6;function Kr(t,e){return e?Ee(t,e):t}function UC(t,e){return typeof t=="function"?t(e):t.execute(e)}var $T={on:(t,e,r,n)=>{var{selector:i,showTimeout:a,hideTimeout:o,namespace:s}=n;X.on(t,Kr("dxactive",s),i,{timeout:a},l=>UC(e,{event:l,element:l.currentTarget})),X.on(t,Kr("dxinactive",s),i,{timeout:o},l=>UC(r,{event:l,element:l.currentTarget}))},off:(t,e)=>{var{namespace:r,selector:n}=e;X.off(t,Kr("dxactive",r),n),X.off(t,Kr("dxinactive",r),n)}},Iv={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(t,Kr("dxresize",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(t,Kr("dxresize",e))}},zT={on:(t,e,r,n)=>{var{selector:i,namespace:a}=n;X.on(t,Kr("dxhoverend",a),i,o=>r(o)),X.on(t,Kr("dxhoverstart",a),i,o=>UC(e,{element:o.target,event:o}))},off:(t,e)=>{var{selector:r,namespace:n}=e;X.off(t,Kr("dxhoverstart",n),r),X.off(t,Kr("dxhoverend",n),r)}},Tv={on:(t,e,r,n)=>{var{namespace:i}=n;X.on(t,Kr("dxhiding",i),r),X.on(t,Kr("dxshown",i),e)},off:(t,e)=>{var{namespace:r}=e;X.off(t,Kr("dxhiding",r)),X.off(t,Kr("dxshown",r))}},Im={on:(t,e,r,n)=>{var{namespace:i}=n;X.on(t,Kr("focusin",i),e),X.on(t,Kr("focusout",i),r)},off:(t,e)=>{var{namespace:r}=e;X.off(t,Kr("focusin",r)),X.off(t,Kr("focusout",r))},trigger:t=>X.trigger(t,"focus")},WT={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(t,Kr("dxclick",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(t,Kr("dxclick",e))}},UT={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(t,Kr("click",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(t,Kr("click",e))}},BW=0,Gc={},LW=()=>"keyboardProcessorId".concat(BW++),us={on:(t,e,r)=>{var n=LW();return Gc[n]=new Mx({element:t,focusTarget:e,handler:r}),n},off:t=>{t&&Gc[t]&&(Gc[t].dispose(),delete Gc[t])},_getProcessor:t=>Gc[t]},{abstract:cp}=b6,za=b6.inherit({_getDefaultOptions(){return Y(this.callBase(),{width:void 0,height:void 0,rtlEnabled:ur().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?HT.createDefaultOptions():{})},ctor(t,e){this._customClass=null,this._createElement(t),d6(this._$element,this,this._dispose),this.callBase(e)},_createElement(t){this._$element=V(t)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(t){this.option("_ignoreFunctionValueDeprecation")||t.forEach(e=>{Me(this.option(e))&&Yt.log("W0017",e)})},_visibilityChanged:cp,_dimensionChanged:cp,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue(t){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t);return!e&&this.callBase(t)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);Sl.add(t)}},_isDimensionChangeSupported(){return this._dimensionChanged!==cp},_renderComponent(){this._initMarkup(),lt()&&this._render()},_initMarkup(){var{rtlEnabled:t}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers(),J9(this.$element())},_renderElementAttributes(){var{elementAttr:t}=this.option()||{},e=Y({},t),r=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(r),this._customClass=r},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var t=this.$element();t.addClass("dx-visibility-change-handler")}},_renderDimensions(){var t=this.$element(),e=t.get(0),r=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,r)&&t.css({width:r===null?"":r,height:n===null?"":n})},_isCssUpdateRequired:(t,e,r)=>!!(q(r)||q(e)||t.style.width||t.style.height),_attachDimensionChangeHandlers(){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");Iv.off(t,{namespace:e}),Iv.on(t,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),Tv.off(t,{namespace:e}),Tv.on(t,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var t=this.$element();return t.is(":visible")},_checkVisibilityChanged(t){var e=this._isVisible();e&&(t==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):t==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==cp&&lt()},_clean:oe,_modelByElement(){var{modelByElement:t}=this.option(),e=this.$element();return t?t(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw Yt.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Sl.remove(this._windowResizeCallBack)},_toggleRTLDirection(t){var e=this.$element();e.toggleClass("dx-rtl",t)},_createComponent(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Nn(this._getSynchronizableOptionsForCreateComponent(),h=>!(h in r)),{integrationOptions:i}=this.option(),{nestedComponentOptions:a}=this.option();a=a||oe;var o=Y({integrationOptions:i},a(this));n.forEach(h=>o[h]=this.option(h)),this._extendConfig(r,o);var s=void 0;if(tt(e)){var l=V(t)[e](r);s=l[e]("instance")}else t&&(s=e.getInstance(t),s?s.option(r):s=new e(t,r));if(s){var p=h=>{var{name:m,value:v}=h;n.includes(m)&&s.option(m,v)};this.on("optionChanged",p),s.on("disposing",()=>this.off("optionChanged",p))}return s},_extendConfig(t,e){te(e,(r,n)=>{!Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=n)})},_defaultActionConfig(){var t=this.$element(),e=this._modelByElement(t);return Y(this.callBase(),{context:e})},_defaultActionArgs(){var t=this.$element(),e=this._modelByElement(t),r=this.element();return Y(this.callBase(),{element:r,model:e})},_optionChanged(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes(t){for(var e=t.attributes,r=e.length-1;r>=0;r--){var n=e[r];if(n){var{name:i}=n;(!i.indexOf("aria-")||i.indexOf("dx-")!==-1||i==="role"||i==="style"||i==="tabindex")&&t.removeAttribute(i)}}},_removeClasses(t){t.className=t.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element(){return this._$element},element(){var t=this.$element();return et(t)},dispose(){var t=this.$element().get(0);Zh(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption(t){if(this.callBase(t),t==="width"||t==="height"){var e=this.initialOption(t);!q(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:t={}}=this.option(),{createTemplate:e}=t;this._templateManager=new HT(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:t,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),r=this.option("integrationOptions.templates.".concat(e.name));t.forEach(n=>{var{name:i,template:a}=n;this._options.silent("integrationOptions.templates.".concat(i),a)}),e.name&&!r&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(t){return this._getTemplate(this.option(t))},_getTemplate(t){var e=this.option("integrationOptions.templates"),r=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:r,skipTemplates:n},this)},_saveTemplate(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});za.getInstance=function(t){return h6(V(t),this)};za.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};function E6(t,e,r){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}t=n(t),e=n(e);var i=Math.max(t.length,e.length);isFinite(r)&&(i=Math.min(i,r));for(var a=0;a<i;a++){var o=parseInt(t[a]||0,10),s=parseInt(e[a]||0,10);if(o<s)return-1;if(o>s)return 1}return 0}var GC="dxactive",KC="dxinactive",FW=30,NW=400,dp=Ft.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),Ji,Bx=kg.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new dp(0,oe),this._inactive=new dp(0,oe)},configure:function(t,e){switch(e){case GC:t.activeTimeout=t.timeout;break;case KC:t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(Ji){var e=uo(this.getElement().get(0),Ji.getElement().get(0)),r=!Ji._active.fired();if(e&&r){this._cancel();return}Ji._inactive.force()}Ji=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,r=this._getEmitterTarget(t),n=xl(t),i=Ue.isSimulator(),a=i||!n,o=vr(this.activeTimeout,FW),s=vr(this.inactiveTimeout,NW);this._active=new dp(a?o:0,function(){e._fireEvent(GC,t,{target:r})}),this._inactive=new dp(a?s:0,function(){e._fireEvent(KC,t,{target:r}),Ji=null})},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==Mt.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),Ji===this&&(Ji=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),Ji=null,this._cancel(),this._inactive.force.bind(this._inactive)}});Bx.lock=function(t){var e=Ji?Ji.lockInactive():oe;t.done(e)};Ic({emitter:Bx,events:[GC,KC]});var VW=Bx.lock,I6="dxHoverStart",Bg="dxhoverstart",HW=Ee(Mt.enter,I6),T6="dxHoverEnd",lf="dxhoverend",jW=Ee(Mt.leave,T6),O6=Ft.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){br(t,this._handlerArrayKeyPath,{})},add:function(t,e){var r=this,n=function(i){r._handler(i)};X.on(t,this._originalEventName,e.selector,n),br(t,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(t){Jh(t)||Ue.isSimulator()||Is({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var r=br(t,this._handlerArrayKeyPath)[e.guid];X.off(t,this._originalEventName,e.selector,r)},teardown:function(t){xg(t,this._handlerArrayKeyPath)}}),$W=O6.inherit({ctor:function(){this._eventNamespace=I6,this._eventName=Bg,this._originalEventName=HW,this.callBase()},_handler:function(t){var e=t.pointers||[];e.length||this.callBase(t)}}),zW=O6.inherit({ctor:function(){this._eventNamespace=T6,this._eventName=lf,this._originalEventName=jW,this.callBase()}});Ki(Bg,new $W);Ki(lf,new zW);function GT(t,e,r){t=t==="role"||t==="id"?t:"aria-".concat(t),e=q(e)?e.toString():null,r.attr(t,e)}var rn=za.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return Y(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=Ue.real(),e=t.platform,r=t.version;return e==="ios"&&E6(r,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var r=rn.getOptionsFromContainer(e);t&&t.option(r),this._options.cache(e.name,r)},_bindInnerWidgetOptions(t,e){var r=()=>this._options.silent(e,Y({},t.option()));r(),t.on("optionChanged",r)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:t,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(t),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:t}=this.option();this.$element().attr("title",t||null)},_renderContent(){Gr(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:oe,_fireContentReadyAction:ul(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(t){this.$element().toggleClass("dx-state-invisible",!t)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var t=this._focusTarget(),{accessKey:e}=this.option();t.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:t,disabled:e}=this.option();return t&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(t){var e=V(this._focusTarget()).toArray();return e.includes(t)},_findActiveTarget(t){return t.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){var t=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(t):t},_renderFocusTarget(){var{tabIndex:t}=this.option();this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(t,!0),excludeValidators:["readOnly"]})({event:t})},_focusOutHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(t,!1),excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState(t,e){var{target:r}=t;this._isFocusTarget(r)&&this._toggleFocusClass(e,V(r))},_toggleFocusClass(t,e){var r=e&&e.length?e:this._focusTarget();r.toggleClass("dx-state-focused",t)},_hasFocusClass(t){var e=V(t||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:t,onKeyboardHandled:e}=this.option(),r=this._getKeyboardListeners().length,n=!!e,i=t||r||n;i&&(this._keyboardListenerId=us.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(t,e){if(!e){var{originalEvent:r,keyName:n,which:i}=t,a=this._supportedKeys(r),o=a[n]||a[i];if(o!==void 0){var s=o.bind(this),l=s(r,t);if(!l)return!1}}var p=this._getKeyboardListeners(),{onKeyboardHandled:h}=this.option();return p.forEach(m=>m&&m._keyboardHandler(t)),h&&h(t),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var t=this._focusTarget();t.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){us.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:t}=this.option(),e=this._activeStateUnit,r=this._eventBindingTarget();zT.off(r,{selector:e,namespace:"UIFeedback"}),t&&zT.on(r,new ai(n=>{var{event:i,element:a}=n;this._hoverStartHandler(i),this.option("hoveredElement",V(a))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:t}=this.option(),e=this._activeStateUnit,r=this._eventBindingTarget();$T.off(r,{namespace:"UIFeedback",selector:e}),t&&$T.on(r,new ai(n=>{var{event:i,element:a}=n;return this._toggleActiveState(V(a),!0,i)}),new ai(n=>{var{event:i,element:a}=n;return this._toggleActiveState(V(a),!1,i)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var t=this._focusEventTarget();Im.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var t=this._focusEventTarget();Im.on(t,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,r)=>V(r).is(EC)})},_hoverStartHandler:oe,_hoverEndHandler:oe,_toggleActiveState(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(t,e){var{hoverStateEnabled:r,disabled:n,isActive:i}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),t&&r&&!n&&!i){var a=this._findHoverTarget(t);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(t){this.$element().toggleClass("dx-state-disabled",!!t),this.setAria("disabled",t||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(t,e){if(this[t]){if(yt(e[0])){te(e[0],(a,o)=>this._setWidgetOption(t,[a,o]));return}var r=e[0],n=e[1];e.length===1&&(n=this.option(r));var i=this["".concat(t,"OptionMap")];this[t].option(i?i(r):r,n)}},_optionChanged(t){var{name:e,value:r,previousValue:n}=t;switch(e){case"disabled":this._toggleDisabledState(r),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(r,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(r),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(r?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible(){var{visible:t}=this.option();return this.callBase()&&t},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(t){if(arguments.length===0)return this._isReady;this._isReady=t},setAria(){if(!yt(arguments.length<=0?void 0:arguments[0]))GT(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();te(arguments.length<=0?void 0:arguments[0],(e,r)=>GT(e,r,t))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){Im.trigger(this._focusTarget())},registerKeyHandler(t,e){var r=this._supportedKeys();this._supportedKeys=()=>Y(r,{[t]:e})}});rn.getOptionsFromContainer=t=>{var{name:e,fullName:r,value:n}=t,i={};if(e===r)i=n;else{var a=r.split(".").pop();i[a]=n}return i};var WW=Yh(),UW="dx-loadindicator",GW="dx-loadindicator-wrapper",KW="dx-loadindicator-content",qW="dx-loadindicator-icon",KT="dx-loadindicator-segment",XW="dx-loadindicator-segment-inner",YW="dx-loadindicator-image",Ci=rn.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=pa();return this.callBase().concat([{device:function(){var e=Ue.real(),r=e.platform==="android"&&!/chrome/i.test(WW.userAgent);return r},options:{viaImage:!0}},{device:function(){return Mr(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return y6(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(UW)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=V("<div>").addClass(GW),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=V("<div>").addClass(KW),this._$wrapper.append(this._$content)},_renderMarkup:function(){hM()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=V("<div>").addClass(qW),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var r=V("<div>").addClass(KT).addClass(KT+e);t&&r.append(V("<div>").addClass(XW)),this._$indicator.append(r)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass(YW),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=ot(this.$element()),e=vt(this.$element());var r=Math.min(e,t);this._$wrapper.css({height:r,width:r,fontSize:r})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});Rt("dxLoadIndicator",Ci);var Lx="dxTranslator",ZW=/matrix(3d)?\((.+?)\)/,QW=/translate(?:3d)?\((.+?)\)/,Vi=function(t){t=V(t);var e=kv(t);return{left:e.x,top:e.y}};function Ov(t){return Si(t)==="string"&&t[t.length-1]==="%"}function k6(t,e){t.length&&br(t.get(0),Lx,e)}var Fx=function(t){t.length&&xg(t.get(0),Lx)},uf=function(t){t.x=t.x||0,t.y=t.y||0;var e=Ov(t.x)?t.x:t.x+"px",r=Ov(t.y)?t.y:t.y+"px";return"translate("+e+", "+r+")"},kv=function(t){var e=t.length?br(t.get(0),Lx):null;if(!e){var r=t.css("transform")||uf({x:0,y:0}),n=r.match(ZW),i=n&&n[1];n?(n=n[2].split(","),i==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},k6(t,e)}return e},dn=function(t,e){t=V(t);var r=e.left,n=e.top,i;r===void 0?(i=kv(t),i.y=n||0):n===void 0?(i=kv(t),i.x=r||0):(i={x:r||0,y:n||0,z:0},k6(t,i)),t.css({transform:uf(i)}),(Ov(r)||Ov(n))&&Fx(t)},cf=function(t,e){t=V(t);var r,n={left:0,top:0,transform:"none"};e&&(r=t.css("transition"),n.transition="none"),t.css(n),Fx(t),e&&(t.get(0).offsetHeight,t.css("transition",r))},JW=function(t){var e=t.match(QW);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e},qT=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,XT={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},eU=function(t,e,r,n){var i=3*t,a=3*(r-t)-i,o=1-i-a,s=3*e,l=3*(n-e)-s,p=1-s-l,h=function(v){return v*(i+v*(a+v*o))},m=function(v){return i+v*(2*a+3*v*o)};return function(v){return function(f){return f*(s+f*(l+f*p))}(function(f){for(var u=f,c=0,d;c<14&&(d=h(u)-f,!(Math.abs(d)<.001));)u-=d/m(u),c++;return u}(v))}},qC={},tU=function(t){t=XT[t]||t;var e=t.match(qT),r;e||(r="linear",e=XT[r].match(qT)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var i=r||"cubicbezier_"+e.join("_").replace(/\./g,"p");return Me(qC[i])||(qC[i]=function(a,o,s,l,p){return l*eU(e[0],e[1],e[2],e[3])(o/p)+s}),i};function rU(t){return qC[t]}var YT=pt(),nU=/left|right/,iU=/top|bottom/,ZT=/fit|flip|none/,aU=/scale\(.+?\)/,oU=mr.safari,XC=function(t){var e={h:"center",v:"center"},r=Nl(t);return r&&te(r,function(){var n=String(this).toLowerCase();nU.test(n)?e.h=n:iU.test(n)&&(e.v=n)}),e},QT=function(t,e){return q1(t,e)},sU=function(t){var e=Nl(t),r=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return ZT.test(r)||(r="none"),ZT.test(n)||(n=r),{h:r,v:n}},JT=function(t){switch(t){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},YC=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},ZC=function(t,e){var r=0;return t.myLocation<e.min&&(r+=e.min-t.myLocation),t.myLocation>e.max&&(r+=t.myLocation-e.max),r},eO=function(t,e,r){return e.myLocation<r.min?t==="h"?"left":"top":e.myLocation>r.max?t==="h"?"right":"bottom":"none"},QC=function(t){t.myLocation=t.atLocation+JT(t.atAlign)*t.atSize-JT(t.myAlign)*t.mySize+t.offset},hp={fit:function(t,e){var r=!1;t.myLocation>e.max&&(t.myLocation=e.max,r=!0),t.myLocation<e.min&&(t.myLocation=e.min,r=!0),t.fit=r},flip:function(t,e){if(t.flip=!1,!(t.myAlign==="center"&&t.atAlign==="center")&&(t.myLocation<e.min||t.myLocation>e.max)){var r=Y({},t,{myAlign:YC(t.myAlign),atAlign:YC(t.atAlign),offset:-t.offset});QC(r),r.oversize=ZC(r,e),(r.myLocation>=e.min&&r.myLocation<=e.max||t.oversize>r.oversize)&&(t.myLocation=r.myLocation,t.oversize=r.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},A6,D6=function(){var t=V("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(V("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),A6=e},lU={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},R6=function(t,e){var r=V(t),n=r.offset(),i=Y(!0,{},lU,{h:{location:n.left},v:{location:n.top}});if(!e)return i;var a=XC(e.my),o=XC(e.at),s=V(e.of).length&&e.of||YT,l=QT(e.offset,e.precise),p=sU(e.collision),h=e.boundary,m=QT(e.boundaryOffset,e.precise),v={mySize:Pt(r),myAlign:a.h,atAlign:o.h,offset:l.h,collision:p.h,boundaryOffset:m.h},f={mySize:xt(r),myAlign:a.v,atAlign:o.v,offset:l.v,collision:p.v,boundaryOffset:m.v};if(s.preventDefault)v.atLocation=s.pageX,f.atLocation=s.pageY,v.atSize=0,f.atSize=0;else if(s=V(s),Dr(s[0]))v.atLocation=s.scrollLeft(),f.atLocation=s.scrollTop(),Ue.real().deviceType==="phone"&&s[0].visualViewport?(v.atLocation=Math.max(v.atLocation,s[0].visualViewport.offsetLeft),f.atLocation=Math.max(f.atLocation,s[0].visualViewport.offsetTop),v.atSize=s[0].visualViewport.width,f.atSize=s[0].visualViewport.height):(v.atSize=s[0].innerWidth>s[0].outerWidth?s[0].innerWidth:ot(s),f.atSize=s[0].innerHeight>s[0].outerHeight||oU?s[0].innerHeight:vt(s));else if(s[0].nodeType===9)v.atLocation=0,f.atLocation=0,v.atSize=ot(s),f.atSize=vt(s);else{var u=Hr(s.get(0)),c=P6(s);v.atLocation=c.left,f.atLocation=c.top,v.atSize=Math.max(u.width,Pt(s)),f.atSize=Math.max(u.height,xt(s))}QC(v),QC(f);var d=function(){var g=V(YT),y=ot(g),b=vt(g),C=g.scrollLeft(),w=g.scrollTop(),x=Ce.getDocumentElement(),A=El?x.clientWidth/y:1,D=El?x.clientHeight/b:1;A6===void 0&&D6();var P=y,k=b;if(h&&!Dr(h)){var B=V(h),E=B.offset();C=E.left,w=E.top,P=ot(B),k=vt(B)}return{h:{min:C+v.boundaryOffset,max:C+P/A-v.mySize-v.boundaryOffset},v:{min:w+f.boundaryOffset,max:w+k/D-f.mySize-f.boundaryOffset}}}();v.oversize=ZC(v,d.h),f.oversize=ZC(f,d.v),v.collisionSide=eO("h",v,d.h),f.collisionSide=eO("v",f,d.v),hp[v.collision]&&hp[v.collision](v,d.h),hp[f.collision]&&hp[f.collision](f,d.v);var _=function(g){return e.precise?g:Math.round(g)};return Y(!0,i,{h:{location:_(v.myLocation),oversize:_(v.oversize),fit:v.fit,flip:v.flip,collisionSide:v.collisionSide},v:{location:_(f.myLocation),oversize:_(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},precise:e.precise}),i},tO=function(t,e,r,n){var i=q(t.style)&&!Ce.isNode(t.style),a=n?r.replace(e,""):r;if(i)V3(t,a,!1);else{var o=Ce.createAttribute("style");o.value=a,t.setAttributeNode(o)}},P6=function t(e){var r,n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=i.get(0);if(!a)return e.offset();var o=((r=a.getAttribute)===null||r===void 0?void 0:r.call(a,"style"))||"",s=(n=o.match(aU))===null||n===void 0?void 0:n[0],l;return s?(tO(a,s,o,!0),l=t(e,i.parent()),tO(a,s,o,!1)):l=t(e,i.parent()),l},Ah=function(t,e){var r=V(t);if(!e)return r.offset();cf(r,!0);var n=P6(r),i=e.h&&e.v?e:R6(r,e),a=function(o){return e.precise?o:Math.round(o)};return dn(r,{left:i.h.location-a(n.left),top:i.v.location-a(n.top)}),i},uU=function(t){return t=V(t).get(0),Dr(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:V(t).offset()};Ah.inverseAlign||(Ah.inverseAlign=YC);Ah.normalizeAlign||(Ah.normalizeAlign=XC);const ca={calculateScrollbarWidth:D6,calculate:R6,setup:Ah,offset:uU};var M6=pt(),qd=Ee(fa,"dxFX"),cU=/^([+-])=(.*)/i,Dh="dxAnimData",Nx="dxAnimQueue",ta="transform",dU={initAnimation:function(t,e){t.css({transitionProperty:"none"}),typeof e.from=="string"?t.addClass(e.from):ew(t,e.from);var r=this,n=new ae,i=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){r._finishTransition(t),i?Ve(n,i).always(function(){r._cleanup(t,e)}):r._cleanup(t,e),n.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var r=this,n=Date.now()+e.delay,i=new ae,a=new ae,o=new ae,s,l=dM()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(s),clearTimeout(p),X.off(t,l),X.off(t,qd)},X.one(t,l,function(){Date.now()-n>=e.duration&&a.reject()}),X.off(t,qd),X.on(t,qd,function(){r.stop(t,e),i.reject()});var p=setTimeout(function(){s=setTimeout(function(){o.reject()},e.duration+e.delay+yr._simulatedTransitionEndDelay),Ve(a,o).fail((function(){i.resolve()}).bind(this))});return i.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?t[0].className+=" "+e.to:e.to&&ew(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,r){e&&(r?e.transitionAnimation.finish():(yt(e.to)&&te(e.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,e)))}},rO={initAnimation:function(t,e){ew(t,e.from)},animate:function(t,e){var r=new ae,n=this;return e?(te(e.to,function(i){e.from[i]===void 0&&(e.from[i]=n._normalizeValue(t.css(i)))}),e.to[ta]&&(e.from[ta]=n._parseTransform(e.from[ta]),e.to[ta]=n._parseTransform(e.to[ta])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:tU(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Da(e.frameAnimation.animationFrameId),r.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var i=Y({},this.currentValue);i[ta]&&(i[ta]=Xr(i[ta],function(a,o){if(o==="translate")return uf(a);if(o==="scale")return"scale("+a+")";if(o.substr(0,o.length-1)==="rotate")return o+"("+a+"deg)"}).join(" ")),t.css(i)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(t,e)},e.delay)):n._startAnimation(t,e),r.promise()):r.reject().promise()},_startAnimation:function(t,e){X.off(t,qd),X.on(t,qd,function(){e.frameAnimation&&Da(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return te(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(r,n){var i=JW(n),a=n.match(/scale\((.+?)\)/),o=n.match(/(rotate.)\((.+)deg\)/);i&&(e.translate=i),a&&a[1]&&(e.scale=parseFloat(a[1])),o&&o[1]&&(e[o[1]]=parseFloat(o[2]))}),e},stop:function(t,e,r){var n=e&&e.frameAnimation;n&&(Da(n.animationFrameId),clearTimeout(n.delayTimeout),r&&n.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var r=e&&e.frameAnimation;if(r){var n=new Date().valueOf();if(n>=r.startTime+r.duration){r.finish();return}r.currentValue=this._calcStepValue(r,n-r.startTime),r.draw();var i=this;r.animationFrameId=Ih(function(){i._animationStep(t,e)})}},_calcStepValue:function(t,e){return function r(n,i){var a=Array.isArray(i)?[]:{};return te(i,function(o,s){if(typeof s=="string"&&parseFloat(s)===!1)return!0;a[o]=typeof s=="object"?r(n[o],s):function(l){var p=e/t.duration,h=e,m=1*n[l],v=i[l]-n[l],f=t.duration;return rU(t.easing)(p,h,m,v,f)}(o)}),a}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t);return e===!1?t:e}},hU={initAnimation:function(){},animate:function(){return new ae().resolve().promise()},stop:oe,isSynchronous:!0},fU=function(t){t=t||{};var e={transition:OC()?dU:rO,frame:rO,noAnimation:hU},r=t.strategy||"transition";return t.type==="css"&&!OC()&&(r="noAnimation"),e[r]},B6=function(t,e,r,n){te(["from","to"],function(){if(!r(t[this]))throw Yt.Error("E0010",e,this,n)})},L6=function(t,e){return B6(t,e,function(r){return yt(r)},"a plain object")},pU=function(t,e){return B6(t,e,function(r){return typeof r=="string"},"a string")},mU={setup:function(){}},vU={validateConfig:function(t){pU(t,"css")},setup:function(){}},gU={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},v0={validateConfig:function(t){L6(t,"slide")},setup:function(t,e){var r=Vi(t);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=Y({of:M6},gU[e.direction]),JC(t,n)}this._setUpConfig(r,e.from),this._setUpConfig(r,e.to),Fx(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var r={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(r.left);n!==void 0?r.left=n+t.left:e.left=0,n=this._getRelativeValue(r.top),n!==void 0?r.top=n+t.top:e.top=0,e[ta]=uf({x:r.left,y:r.top})},_getRelativeValue:function(t){var e;if(typeof t=="string"&&(e=cU.exec(t)))return parseInt(e[1]+"1")*e[2]}},g0={setup:function(t,e){var r,n,i=e.from,a=e.to,o=e.type==="fadeOut"?1:0,s=e.type==="fadeOut"?0:1,l=yt(i)?String((r=i.opacity)!==null&&r!==void 0?r:o):String(i),p=yt(a)?String((n=a.opacity)!==null&&n!==void 0?n:s):String(a);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":p=1;break;case"fadeOut":p=0}e.from={visibility:"visible",opacity:l},e.to={opacity:p}}},_U={validateConfig:function(t){L6(t,"pop")},setup:function(t,e){var r=e.from,n=e.to,i="opacity"in r?r.opacity:t.css("opacity"),a="opacity"in n?n.opacity:1,o="scale"in r?r.scale:0,s="scale"in n?n.scale:1;e.from={opacity:i};var l=kv(t);e.from[ta]=this._getCssTransform(l,o),e.to={opacity:a},e.to[ta]=this._getCssTransform(l,s)},_getCssTransform:function(t,e){return uf(t)+"scale("+e+")"}},F6={custom:mU,slide:v0,slideIn:v0,slideOut:v0,fade:g0,fadeIn:g0,fadeOut:g0,pop:_U,css:vU},yU=function(t){var e=F6[t.type];if(!e)throw Yt.Error("E0011",t.type);return e},bU={type:"custom",from:{},to:{},duration:400,start:oe,complete:oe,easing:"ease",delay:0},CU={duration:400,easing:"ease",delay:0};function wU(){var t=this.element,e=this.config;if(JC(t,e.from),JC(t,e.to),this.configurator.setup(t,e),t.data(Dh,this),this.strategy.initAnimation(t,e),e.start){var r=et(t);e.start.apply(this,[r,e])}}var xU=function(t){var e=t.element,r=t.config;if(e.removeData(Dh),r.complete){var n=et(e);r.complete.apply(this,[n,r])}t.deferred.resolveWith(this,[e,r])},SU=function(){var t=this,e=t.element,r=t.config;return t.isStarted=!0,t.strategy.animate(e,r).done(function(){xU(t)}).fail(function(){t.deferred.rejectWith(this,[e,r])})},EU=function(t){var e=this.element,r=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,r,t)},_0=Ee(fa,"dxFXStartAnimation"),IU=function(t){X.off(t.element,_0),X.on(t.element,_0,function(){yr.stop(t.element)}),t.deferred.always(function(){X.off(t.element,_0)})},N6=function(t,e){var r=e.type==="css"?CU:bU,n=Y(!0,{},r,e),i=yU(n),a=fU(n),o={element:V(t),config:n,configurator:i,strategy:a,isSynchronous:a.isSynchronous,setup:wU,start:SU,stop:EU,deferred:new ae};return Me(i.validateConfig)&&i.validateConfig(n),IU(o),o},TU=function(t,e){var r=V(t);if(!r.length)return new ae().resolve().promise();var n=N6(r,e);return OU(r,n),n.deferred.promise()};function OU(t,e){var r=Vx(t);kU(t,r),r.push(e),Lg(t)||Hx(t,r)}function Vx(t){return t.data(Nx)||[]}function kU(t,e){t.data(Nx,e)}var V6=function(t){t.removeData(Nx)};function Lg(t){return!!t.data(Dh)}function Hx(t,e){if(e=Vx(t),!!e.length){var r=e.shift();e.length===0&&V6(t),AU(r).done(function(){Lg(t)||Hx(t)})}}function AU(t){return t.setup(),t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()}function JC(t,e){if(!(!e||!e.position)){var r=V(M6),n=0,i=0,a=ca.calculate(t,e.position),o=t.offset(),s=t.position();s.top>o.top&&(i=r.scrollTop()),s.left>o.left&&(n=r.scrollLeft()),Y(e,{left:a.h.location-o.left+s.left-n,top:a.v.location-o.top+s.top-i}),delete e.position}}function ew(t,e){te(e,function(r,n){try{t.css(r,Me(n)?n():n)}catch{}})}var DU=function(t,e){var r=V(t),n=Vx(r);te(n,function(a,o){o.config.delay=0,o.config.duration=0,o.isSynchronous=!0}),Lg(r)||Hx(r,n);var i=r.data(Dh);i&&i.stop(e),r.removeData(Dh),V6(r)},yr={off:!1,animationTypes:F6,animate:TU,createAnimation:N6,isAnimating:Lg,stop:DU,_simulatedTransitionEndDelay:100},RU=$a.add,nO=Math.abs,y0=0,b0=1,Kc=2,Av=10,PU=0,MU=180,BU=function(){return Vl("pointer-events")},LU=Ao(function(){var t=Ue.real().deviceType==="desktop";if(!BU()||!t)return oe;var e=V("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return X.subscribeGlobal(e,"dxmousewheel",function(r){r.preventDefault()}),RU(function(){e.appendTo("body")}),function(r,n){e.css("pointerEvents",r?"all":"none"),r&&e.css("cursor",n)}}),FU=function(t,e){var r=LU();r(t,e)},df=kg.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return this._stage!==Kc},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=y0},start:function(t){if(t._needSkipEvent||Y3(t)){this._cancel(t);return}this._startEvent=Qo(t),this._startEventData=Er(t),this._stage=b0,this._init(t),this._setupImmediateTimer()},_setupImmediateTimer:function(){var t;if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),(t=this.immediateTimeout)!==null&&t!==void 0?t:MU)}},move:function(t){if(this._stage===b0&&this._directionConfirmed(t)){if(this._stage=Kc,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),this._stage===y0)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else this._stage===Kc&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),r=tl(this._startEventData,Er(t)),n=nO(r.x),i=nO(r.y),a=this._validateMove(e,n,i),o=this._validateMove(e,i,n),s=this.getDirection(t),l=s==="both"&&(a||o),p=s==="horizontal"&&a,h=s==="vertical"&&o;return l||p||h||this._immediateAccepted},_validateMove:function(t,e,r){return e&&e>=t&&(this.immediate?e>=r:!0)},_getTouchBoundary:function(t){return this.immediate||Wn(t)?PU:Av},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),r=tl(this._startEventData,Er(t));this._startEvent.pageX+=cc(r.x)*e,this._startEvent.pageY+=cc(r.y)*e},_resetActiveElement:function(){Ue.real().platform==="ios"&&this.getElement().find(":focus").length&&Ec()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){var e=this._stage===Kc;e&&FU(t,this.getElement().css("cursor"))},_clearSelection:function(t){Wn(t)||Jh(t)||xH()},end:function(t){this._toggleGestureCover(!1),this._stage===Kc?this._end(t):this._stage===b0&&this._stop(t),this._stage=y0},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:oe,_start:oe,_move:oe,_stop:oe,_end:oe});df.initialTouchBoundary=Av;df.touchBoundary=function(t){if(q(t)){Av=t;return}return Av};var Ol="dxdragstart",_s="dxdrag",kl="dxdragend",Fg="dxdragenter",Ng="dxdragleave",jx="dxdrop",fp="dxDragEventsCount",ro=[],ju=[],tw=[],$x={setup:function(t,e){var r=ro.includes(t);r||(ro.push(t),ju.push([]),tw.push(e||{}))},add:function(t,e){var r=ro.indexOf(t);this.updateEventsCounter(t,e.type,1);var n=e.selector;ju[r].includes(n)||ju[r].push(n)},updateEventsCounter:function(t,e,r){if([Fg,Ng,jx].indexOf(e)>-1){var n=br(t,fp)||0;br(t,fp,Math.max(0,n+r))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){var e=br(t,fp);if(!e){var r=ro.indexOf(t);ro.splice(r,1),ju.splice(r,1),tw.splice(r,1),xg(t,fp)}}};Ki(Fg,$x);Ki(Ng,$x);Ki(jx,$x);var NU=function(t){var e=ro.indexOf(t.get(0)),r=ju[e].filter(i=>i),n=t.find(r.join(", "));return ju[e].includes(void 0)&&(n=n.add(t)),n},VU=function(t){var e=ro.indexOf(t.get(0));return tw[e]},HU=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},jU=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},$U=df.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(Ol,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||t.targetElements===null){var e=yW(t.targetElements||[]);this._dropTargets=Xr(e,function(r){return V(r).get(0)})}else this._dropTargets=ro},_move:function(t){var e=Er(t),r=this._calculateOffset(e);t=this._fireEvent(_s,t,{offset:r}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if(this.direction!=="vertical"){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if(this.direction!=="horizontal"){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,r){return e!=null&&(t=Math.max(t,-e)),r!=null&&(t=Math.min(t,r)),t},_processDropTargets:function(t){var e=this._findDropTarget(t),r=e===this._currentDropTarget;r||(this._fireDropTargetEvent(t,Ng),this._currentDropTarget=e,this._fireDropTargetEvent(t,Fg))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var r={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};Is(r)}},_findDropTarget:function(t){var e=this,r;return te(ro,function(n,i){if(e._checkDropTargetActive(i)){var a=V(i);te(NU(a),function(o,s){var l=V(s);e._checkDropTarget(VU(a),l,V(r),t)&&(r=s)})}}),r},_checkDropTargetActive:function(t){var e=!1;return te(this._dropTargets,function(r,n){return e=e||n===t||uo(n,t),!e}),e},_checkDropTarget:function(t,e,r,n){var i=e.get(0)===V(n.target).get(0);if(i)return!1;var a=HU(t,e);if(n.pageX<a.left||n.pageY<a.top)return!1;var o=jU(t,e);return n.pageX>a.left+o.width||n.pageY>a.top+o.height||r.length&&r.closest(e).length||t.checkDropTarget&&!t.checkDropTarget(e,n)?!1:e},_end:function(t){var e=Er(t);this._fireEvent(kl,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,jx),delete this._currentDropTarget}});Ic({emitter:$U,events:[Ol,_s,kl]});var iO=function(){var t=[];return{add:function(e){t.includes(e)||t.push(e)},remove:function(e){var r=t.indexOf(e);r!==-1&&t.splice(r,1)},fire:function(){var e=t.pop(),r=!!e;return r&&e(),r},hasCallback:function(){return t.length>0}}}(),Tm=1500,cs=[],zU=t=>(Tm=vr(t,Tm),Tm),H6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tm,e=cs.length,r=(e?cs[e-1]:t)+1;return cs.push(r),r},rw=t=>{var e=cs.indexOf(t);e>=0&&cs.splice(e,1)},WU=t=>cs.length&&cs[cs.length-1]===t,C0="dx-swatch-",UU=t=>{var e=V(t),r=e.closest('[class^="'.concat(C0,'"], [class*=" ').concat(C0,'"]')),n=gs();if(!r.length)return n;var i=new RegExp("(\\s|^)(".concat(C0,".*?)(\\s|$)")),a=r[0].className.match(i)[2],o=n.children("."+a);return o.length||(o=V("<div>").addClass(a).appendTo(n)),o};const j6={getSwatchContainer:UU};var GU=pt(),$6={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},aO={h:0,v:0};class z6{constructor(e){var{position:r,container:n,visualContainer:i,$root:a,$content:o,$wrapper:s,onPositioned:l,onVisualPositionChanged:p,restorePosition:h,_fixWrapperPosition:m}=e;this._props={position:r,container:n,visualContainer:i,restorePosition:h,onPositioned:l,onVisualPositionChanged:p,_fixWrapperPosition:m},this._$root=a,this._$content=o,this._$wrapper=s,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(r),this.updateVisualContainer(i)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?V(e):j6.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(dn(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&ca.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e=Dr(this.$visualContainer.get(0))||this._props._fixWrapperPosition,r=e?"fixed":"absolute";this._$wrapper.css("position",r)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Vi(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),cf(this._$content);var e=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var r=ca.setup(this._$content,this._position);this._$wrapper.css("overflow",e),this._initialPosition=r,this.detectVisualPositionChange()}_raisePositionedEvents(e){var r=this._previousVisualPosition,n=this._visualPosition,i=(r==null?void 0:r.top)!==n.top||(r==null?void 0:r.left)!==n.left;i&&this._props.onVisualPositionChanged({previousPosition:r,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var e,r=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:aO};this._$content.css("margin","".concat(r.v,"px ").concat(r.h,"px"))}_getVisualContainer(){var e,r,n=this._props.container,i=this._props.visualContainer,a=S9((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(r=this._props.position)===null||r===void 0?void 0:r.of;return V(i||n||a||GU)}_normalizePosition(e){var r={boundaryOffset:aO};return q(e)?Y(!0,{},r,this._positionToObject(e)):r}_positionToObject(e){return tt(e)?Y({},$6[e]):e}}var KU=$a.add,au=pt(),oO=Sg,qU="dx-overlay",XU="dx-overlay-wrapper",YU="dx-overlay-content",ZU="dx-overlay-shader",sO="dx-inner-overlay",w0="dx-state-invisible",QU="content",JU="dx-rtl",nw=[],x0="dx-prevent-safari-scrolling",eG="tab";KU(()=>{X.subscribeGlobal(Ce.getDocument(),Mt.down,t=>{for(var e=nw.length-1;e>=0;e--)if(!nw[e]._proxiedDocumentDownHandler(t))return})});var da=rn.inherit({_supportedKeys:function(){return Y(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return Y(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:Y({},$6.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!lt()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),Y(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=V("<div>").addClass(XU),this._$content=V("<div>").addClass(YU),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass(qU),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Me(this.option("position"))&&Yt.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(sO,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var t=this._getActionsList();te(t,(e,r)=>{this._actions[r]=this._createActionByOption(r,{excludeValidators:["disabled","readOnly"]})||oe})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=V(au.document).is(t.target)||uo(au.document,t.target),r=V(t.target).closest(".".concat(sO)).length,n=e&&!r&&!(this._$content.is(t.target)||uo(this._$content.get(0),t.target));return n&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var{hideOnOutsideClick:e}=this.option();return Me(e)?e(t):e},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return QU},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new fl}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var r=t[e]._findTabbableBounds();if(r.first||r.last)return t[e]===this}return!1},_overlayStack:function(){return nw},_zIndexInitValue:function(){return da.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;oO.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},oO.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=Y({},t),r=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(r),this._customWrapperClass=r},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:oe,_animateShowing:function(){var t,e,r,n=this,i=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(i.show,"to"),o=(e=a==null?void 0:a.start)!==null&&e!==void 0?e:oe,s=(r=a==null?void 0:a.complete)!==null&&r!==void 0?r:oe;this._animate(a,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&X.trigger(n._focusTarget(),"focus");for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];s.call(n,...p),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];o.call(n,...p),n._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(t,e,r){xc(t)?t.then(n=>{n?r():e()}).catch(()=>e()):t?r():e()},_show:function(){if(this._showingDeferred=new ae,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new ae().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var t=()=>{this._toggleBodyScroll(this.option("enableBodyScroll")),this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(w0,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};this._actions.onShowing(e),this._processShowingHidingCancel(e.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(w0,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=Y({type:"slide",skipElementInitialStyles:!0},t),rt(t[e])&&Y(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,r,n=this,i=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(i.hide,"from"),o=(e=a==null?void 0:a.start)!==null&&e!==void 0?e:oe,s=(r=a==null?void 0:a.complete)!==null&&r!==void 0?r:oe;this._animate(a,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];s.call(n,...h),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];o.call(n,...p),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new ae().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new ae;var t={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(t),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(t.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=Ce.getActiveElement(),e=!!this._$content.find(t).length;e&&Ec()},_animate:function(t,e,r){t?(r=r||t.start||oe,yr.animate(this._$content,Y({},t,{start:r,complete:e}))):e()},_stopAnimation:function(){yr.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||fW(this._$content),t?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Rx(this._$content),Ra(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass(w0,!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),r=e.indexOf(this);t?(r===-1&&(this._zIndex=H6(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):r!==-1&&(e.splice(r,1),rw(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(ZU,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=Ee("keydown",this.NAME);t?X.on(Ce.getDocument(),e,this._proxiedTabTerminatorHandler):X.off(Ce.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,r={first:null,last:null},n=0;n<=e&&(!r.first&&t.eq(n).is(kI)&&(r.first=t.eq(n)),!r.last&&t.eq(e-n).is(kI)&&(r.last=t.eq(e-n)),!(r.first&&r.last));n++);return r},_tabKeyHandler:function(t){if(!(Cr(t)!==eG||!this._isTopOverlay())){var e=this._findTabbableBounds(),r=e.first,n=e.last,i=!t.shiftKey&&t.target===n.get(0),a=t.shiftKey&&t.target===r.get(0),o=e.length===0,s=!uo(this._$wrapper.get(0),t.target);if(i||a||o||s){t.preventDefault();var l=t.shiftKey?n:r;X.trigger(l,"focusin"),X.trigger(l,"focus")}}},_toggleSubscriptions:function(t){lt()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?iO.add(this._hideTopOverlayHandler):iO.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,r=Ee("scroll",this.NAME),{prevTargets:n,handler:i}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};X.off(n,r,i);var a=this.option("hideOnParentScroll");if(t&&a){var o=this._hideOnParentScrollTarget().parents();Ue.real().deviceType==="desktop"&&(o=o.add(au)),X.on(o,r,i),this._parentsScrollSubscriptionInfo.prevTargets=o}},_hideOnParentsScrollHandler:function(t){var e=!1,r=this.option("hideOnParentScroll");Me(r)&&(e=r(t)),!e&&!this._showAnimationProcessing&&this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){var r=V(this);if(r.css("display")==="none")return e=!0,!1}),e||!Ce.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new ae,e=this.option("contentTemplate"),r=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return r&&r.render({container:et(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{container:t,visualContainer:e,_fixWrapperPosition:r,restorePosition:n}=this.option();return{container:t,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:r}},_initPositionController(){this._positionController=new z6(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(t){var e=Ee(_s,this.NAME);X.off(this._$wrapper,e),t&&X.on(this._$wrapper,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(r){r||this._toggleGestureCoverImpl(r)},_clearSelection:oe,isNative:!0},r=>{var n=r.originalEvent.originalEvent,{type:i}=n||{},a=i==="wheel",o=i==="mousemove",s=a&&!tn(r);r._cancelPreventDefault=!0,n&&r.cancelable!==!1&&(!o&&!a||s)&&r.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var t=this._positionController.$container;if(t!==void 0){var e=t.length>0;e||Et.log("W1021",this.NAME)}},_moveToContainer:function(){var t=this._positionController.$container;this._$wrapper.appendTo(t),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){var{visible:e}=this.option();e&&lt()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Dr(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=V(Ce.getBody()),r=Ue.real().platform==="ios"&&mr.safari,n=this._isAllWindowCovered(),i=e.hasClass(x0),a=!i&&t&&n,o=i&&(!t||!n||this._disposed);r&&(o?(e.removeClass(x0),au.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):a&&(this._cachedBodyScrollTop=au.pageYOffset,e.addClass(x0)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=Ce.getDocumentElement(),r=Dr(t.get(0)),n=r?e.clientWidth:Pt(t),i=r?au.innerHeight:xt(t);this._$wrapper.css({width:n,height:i})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=us.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,r=V(e.target);(r.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();!this._contentAlreadyRendered&&!t.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){yr.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&rw(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass(JU,t)},_optionChanged:function(t){var{value:e,name:r}=t;if(this._getActionsList().includes(r)){this._initActions();return}switch(r){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.resolveWith(this)}).fail(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(t)}},toggle:function(t){t=t===void 0?!this.option("visible"):t;var e=new ae;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var r=new ae;return this._animateDeferred=r,this.option("visible",t),r.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return et(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Ra(this._$content)):this.callBase()}});da.baseZIndex=t=>zU(t);Rt("dxOverlay",da);var tG="dx-loadpanel",rG="dx-loadpanel-wrapper",lO="dx-loadpanel-indicator",uO="dx-loadpanel-message",nG="dx-loadpanel-content",iG="dx-loadpanel-content-wrapper",aG="dx-loadpanel-pane-hidden",Vg=da.inherit({_supportedKeys:function(){return Y(this.callBase(),{escape:oe})},_getDefaultOptions:function(){return Y(this.callBase(),{message:he.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Mr()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(tG),this.$wrapper().addClass(rG)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(nG),this._$loadPanelContentWrapper=V("<div>").addClass(iG),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new ae,r=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){r().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var t=this.option("message");if(t){var e=V("<div>").addClass(uO).text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=V("<div>").addClass(lO).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Ci,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+uO).remove(),this.$content().find("."+lO).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(aG,!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Rt("dxLoadPanel",Vg);var oG=["year","month","day"],sG=["year","month","day","hour","minute"],iw=function(t){return t==="date"||t==="datetime"},S0=function(t){var e,r=[],n=["year","month","day","hour","minute","second"],i=t.headerFilter&&t.headerFilter.groupInterval,a=i==="quarter"?"month":i;if(iw(t.dataType)&&i!==null)return r=t.dataType==="datetime"?sG:oG,e=n.indexOf(a),e>=0&&(r=n.slice(0,e),r.push(i)),r;if(q(i))return Array.isArray(i)?i:[i]};const Al=function(){var t=function(i,a){var o=i.dataField||i.selector;return a==="search"&&(o=i.displayField||i.calculateDisplayValue||o),o},e=function(i,a){var o,s,l,p=t(this,a);if(Array.isArray(i)&&q(i[0])&&q(i[1]))return s=[p,">=",i[0]],l=[p,"<=",i[1]],iw(this.dataType)&&(h=i[1],h.getHours()+h.getMinutes()+h.getSeconds()+h.getMilliseconds()<1)&&(o=new Date(i[1].getTime()),this.dataType==="date"&&o.setDate(i[1].getDate()+1),l=[p,"<",o]),[s,"and",l];var h},r=function(i,a,o){var s,l,p,h=function(v){return Kn(v)?[v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()]:Xr((""+v).split("/"),function(f,u){return u===1?Number(f)-1:Number(f)})}(i),m=t(this,o);switch(o==="headerFilter"?p=S0(this)[h.length-1]:this.dataType==="datetime"&&(p="minute"),p){case"year":s=new Date(h[0],0,1),l=new Date(h[0]+1,0,1);break;case"month":s=new Date(h[0],h[1],1),l=new Date(h[0],h[1]+1,1);break;case"quarter":s=new Date(h[0],3*h[1],1),l=new Date(h[0],3*h[1]+3,1);break;case"hour":s=new Date(h[0],h[1],h[2],h[3]),l=new Date(h[0],h[1],h[2],h[3]+1);break;case"minute":s=new Date(h[0],h[1],h[2],h[3],h[4]),l=new Date(h[0],h[1],h[2],h[3],h[4]+1);break;case"second":s=new Date(h[0],h[1],h[2],h[3],h[4],h[5]),l=new Date(h[0],h[1],h[2],h[3],h[4],h[5]+1);break;default:s=new Date(h[0],h[1],h[2]),l=new Date(h[0],h[1],h[2]+1)}switch(a){case"<":return[m,"<",s];case"<=":return[m,"<",l];case">":return[m,">=",l];case">=":return[m,">=",s];case"<>":return[[m,"<",s],"or",[m,">=",l]];default:return[[m,">=",s],"and",[m,"<",l]]}},n=function(i,a,o){var s=t(this,o),l=S0(this);if(o==="headerFilter"&&l&&q(i)){var p=(""+i).split("/"),h=Number(p[p.length-1]),m=l[p.length-1],v=[s,">=",h],f=[s,"<",h+m],u=[v,"and",f];return u}return[s,a||"=",i]};return{defaultCalculateFilterExpression:function(i,a,o){var s=this,l=t(s,o),p=s.calculateDisplayValue&&o==="search",h=p&&s.lookup&&s.lookup.dataType||s.dataType,m=null;if((o==="headerFilter"||o==="filterBuilder")&&i===null)m=[l,a||"=",null],h==="string"&&(m=[m,a==="="?"or":"and",[l,a||"=",""]]);else if(h==="string"&&(!s.lookup||p))m=[l,a||"contains",i];else{if(a==="between")return e.apply(s,[i,o]);if(iw(h)&&q(i))return r.apply(s,arguments);if(h==="number")return n.apply(s,arguments);m=[l,a||"=",i]}return m},getGroupInterval:S0}}();var lG="dx-selection-disabled",uG="dx-datagrid-group-opened",cG="dx-datagrid-group-closed",dG="dx-datagrid-expand",hG="nodata",fG="infinite",cO="virtual",pG="scrolling.legacyMode",dO="scrolling.mode",mG="scrolling.rowRenderingMode",vG={year:t=>t&&t.getFullYear(),month:t=>t&&t.getMonth()+1,day:t=>t&&t.getDate(),quarter:t=>t&&Math.floor(t.getMonth()/3)+1,hour:t=>t&&t.getHours(),minute:t=>t&&t.getMinutes(),second:t=>t&&t.getSeconds()},gG=function(){var t=arguments[1],e=this.calculateCellValue(t);if(!q(e))return null;if(W6(this.dataType)){var r=arguments[0];return vG[r](e)}if(this.dataType==="number"){var n=arguments[0];return Math.floor(Number(e)/n)*n}},_G=function(t,e){return Me(t)&&Me(e)&&t.originalCallback&&e.originalCallback?t.originalCallback===e.originalCallback&&t.columnIndex===e.columnIndex:t===e};function W6(t){return t==="date"||t==="datetime"}var hO=function(t){t.get(0).textContent=" "},E0=function(t){t=t||[];for(var e=So(t),r=0;r<t.length;r++)t&&t[r]&&t[r].isExpanded!==void 0&&(e[r].isExpanded=t[r].isExpanded),t&&t[r]&&t[r].groupInterval!==void 0&&(e[r].groupInterval=t[r].groupInterval);return e},U6=function(t,e){var r=u6.format(t,e.format)||t&&t.toString()||"",n={value:t,valueText:e.getDisplayFormat?e.getDisplayFormat(r):r,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},fO=function(t,e){var r=t.displayFormat||t.columnCaption&&e["".concat(t.summaryType,"OtherColumn")]||e[t.summaryType];return U6(t.value,{format:t.valueFormat,getDisplayFormat:n=>r?la(r,n,t.columnCaption):n,customizeText:t.customizeText})},pO=function(t){var e=t.data&&t.data(),r=e&&e.dxComponents,n=r&&r[0];return n&&e[n]},yG=function t(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}return Me(e)&&e.columnIndex>=0&&Me(r)&&r.columnIndex>=0?e.columnIndex===r.columnIndex&&Cn(e.filterValue)===Cn(r.filterValue)&&Cn(e.selectedFilterOperation)===Cn(r.selectedFilterOperation):Cn(e)==Cn(r)};function bG(t){return Array.isArray(t)||(t=[t]),t.map((e,r)=>tt(e)?{selector:e,isExpanded:r<t.length-1}:e)}const Te={renderNoDataText(t){if(t=t||this.element(),!!t){var e=this.addWidgetPrefix(hG),r=t.find(".".concat(e)).last(),n=this._dataController.isEmpty(),i=this._dataController.isLoading();r.length||(r=V("<span>").addClass(e)),r.parent().is(t)||r.appendTo(t),n&&!i?r.removeClass("dx-hidden").text(this._getNoDataText()):r.addClass("dx-hidden")}},renderLoadPanel(t,e,r){var n;this._loadPanel&&this._loadPanel.$element().remove(),n=this.option("loadPanel"),n&&(n.enabled==="auto"?!r:n.enabled)?(n=Y({shading:!1,message:n.text,container:e},n),this._loadPanel=this._createComponent(V("<div>").appendTo(e),Vg,n)):this._loadPanel=null},calculateLoadPanelPosition(t){var e=V(pt());return vt(t)>vt(e)?{of:e,boundary:t,collision:"fit"}:{of:t}},getIndexByKey(t,e,r){var n=-1;if(t!==void 0&&Array.isArray(e)){r=arguments.length<=2?"key":r;for(var i=0;i<e.length;i++){var a=q(r)?e[i][r]:e[i];if(Jt(t,a)){n=i;break}}}return n},combineFilters(t,e){var r,n=[];e=e||"and";for(var i=0;i<t.length;i++)if(t[i]){if(((r=t[i])===null||r===void 0?void 0:r.length)===1&&t[i][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}n.length&&n.push(e),n.push(t[i])}if(n.length===1&&(n=n[0]),n.length)return n},checkChanges(t,e){for(var r=0,n=0;n<e.length;n++)t[e[n]]&&r++;return t.length&&t.length===r},equalFilterParameters:yG,proxyMethod(t,e,r){t[e]||(t[e]=function(){var n=this._dataSource;return n?n[e].apply(n,arguments):r})},formatValue:U6,getFormatOptionsByColumn:(t,e)=>({format:t.format,getDisplayFormat:t.getDisplayFormat,customizeText:t.customizeText,target:e,trueText:t.trueText,falseText:t.falseText}),getDisplayValue(t,e,r,n){return t.displayValueMap&&t.displayValueMap[e]!==void 0?t.displayValueMap[e]:t.calculateDisplayValue&&r&&n!=="group"?t.calculateDisplayValue(r):t.lookup&&!(n==="group"&&(t.calculateGroupValue||t.calculateDisplayValue))?t.lookup.calculateCellValue(e):e},getGroupRowSummaryText(t,e){for(var r="(",n=0;n<t.length;n++){var i=t[n];r+=(n>0?", ":"")+fO(i,e)}return r+")"},getSummaryText:fO,normalizeSortingInfo:E0,getFormatByDataType(t){switch(t){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(t,e){var r=[],n=t.dataField||t.name,i=Al.getGroupInterval(t);return i?(te(i,(a,o)=>{r.push(e?{selector:n,groupInterval:o,isExpanded:a<i.length-1}:gG.bind(t,o))}),r):(e?r=[{selector:n,isExpanded:!1}]:(r=function(a){var o=t.calculateCellValue(a);return(o===void 0||o==="")&&(o=null),o},t.sortingMethod&&(r=[{selector:r,compare:t.sortingMethod.bind(t)}])),r)},equalSortParameters(t,e,r){if(t=E0(t),e=E0(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!_G(t[n].selector,e[n].selector)||t[n].desc!==e[n].desc||t[n].groupInterval!==e[n].groupInterval||!r&&!!t[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!t||!t.length)==(!e||!e.length)},getPointsByColumns(t,e,r,n){for(var i=t.length,a=!1,o,s,l=n||0,p=[],h,m=0;m<=i;m++){m<i&&(o=t.eq(m),s=o.offset(),h=o.css("direction")==="rtl");var v={index:l,x:s?s.left+(!r&&h^m===i?Hr(o[0]).width:0):0,y:s?s.top+(r&&m===i?Hr(o[0]).height:0):0,columnIndex:l};if(!r&&m>0){var f=t.eq(m-1).offset();f.top<v.y&&(v.y=f.top)}e&&(a=e(v)),a||p.push(v),l++}return p},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(t,e){var r=V(t);if(q(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){var n=e.component.getView("rowsView");r.addClass(dG).addClass(lG),V("<div>").addClass(e.value?uG:cG).appendTo(r),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),r)}else hO(r)}}),setEmptyText:hO,isDateType:W6,getSelectionRange(t){try{if(t)return{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}catch{}return{}},setSelectionRange(t,e){try{t&&t.setSelectionRange&&t.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(t,e){var r=e.is(":focus");X.trigger(e,"focus");var n=t.option("editing.selectTextOnEditStart"),i=e.get(0);if(!r&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var a=pO(e.closest(".dx-texteditor"));Ve(a&&a._loadItemDeferred).done(()=>{i.select()})}},getWidgetInstance:pO,getLastResizableColumnIndex(t,e){var r=t.some(s=>s&&!s.command&&!s.fixed&&s.allowResizing!==!1),n;for(n=t.length-1;t[n];n--){var i=t[n],a=e&&e[n],o=!r||i.allowResizing!==!1;if(!i.command&&!i.fixed&&a!=="adaptiveHidden"&&o)break}return n},isElementInCurrentGrid(t,e){if(e&&e.length){var r=e.closest(".".concat(t.getWidgetContainerClass())).parent();return r.is(t.component.$element())}return!1},isVirtualRowRendering(t){var e=t.option(mG),r=t.option(dO)===cO,n=t.option(dO)===fG;return t.option(pG)===!1&&(r||n)?!0:e===cO},getPixelRatio:t=>t.devicePixelRatio||1,getContentHeightLimit(t){return t.mozilla?8e6:15e6/this.getPixelRatio(pt())},normalizeLookupDataSource(t){var e;return t.items?e=t.items:(e=t.dataSource,Me(e)&&!Fn.isWrapped(e)&&(e=e({}))),Oc(e)},getWrappedLookupDataSource(t,e,r){if(!e)return[];var n=this.normalizeLookupDataSource(t.lookup);if(t.calculateCellValue!==t.defaultCalculateCellValue)return n;var i=e.remoteOperations().groupPaging,a=t.displayField&&tt(t.displayField),o,s,l,p=(m,v)=>{var f,u=(f=v.skip)!==null&&f!==void 0?f:0,c=v.take?u+v.take:m.length;return m.slice(u,c)},h=we(we({},n),{__dataGridSourceFilter:r,load:m=>{var v=new ae;return(f=>{var u=bG(a?[t.dataField,t.displayField]:t.dataField),c=new ae,d=o&&(!i||f.skip===l&&f.take===s);return d?c.resolve(p(o,f)):(l=f.skip,s=f.take,e.load({filter:r,group:u,take:i?f.take:void 0,skip:i?f.skip:void 0}).done(_=>{o=_,c.resolve(i?_:p(_,f))}).fail(c.fail)),c})(m).done(f=>{if(f.length===0){v.resolve([]);return}var u=this.combineFilters(f.flatMap(d=>d.key).map(d=>[t.lookup.valueExpr,d]),"or"),c=new Va(we(we(we({},n),m),{filter:this.combineFilters([u,m.filter],"and"),paginate:!1}));c.load().done(v.resolve).fail(v.fail)}).fail(v.fail),v},key:t.lookup.valueExpr,byKey(m){var v=ae();return this.load({filter:[t.lookup.valueExpr,"=",m]}).done(f=>{v.resolve(f[0])}),v.promise()}});return h},logHeaderFilterDeprecatedWarningIfNeed(t){var e=t._logDeprecatedOptionWarning.bind(t);q(t.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),q(t.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var r=t.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=t.option(r);if(Array.isArray(n)){var i=a=>{a.forEach(o=>{var s,l=o.headerFilter||{};q(l.allowSearch)&&e("".concat(r,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(r,"[].headerFilter.search.enabled")}),q(l.searchMode)&&e("".concat(r,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(r,"[].headerFilter.search.mode")}),!((s=o.columns)===null||s===void 0)&&s.length&&i(o.columns)})};i(n)}}};var mO="scroll-container",CG="scrollable-simulated",wG="group-space",xG="content",SG="table",EG="table-fixed",IG="content-fixed",qc="dx-row",I0="dx-group-row",TG="dx-group-cell",T0="dx-master-detail-row",OG="filter-row",kG="dx-error-row",AG="cell-updated-animation",G6="0.0001px",O0="dxCellHintVisible",DG="dx-field-item-content",RG={render(t){t.container.append(t.content)}},PG=function(t,e){var r,n,i;function a(o){return setTimeout(()=>{r=n=null},o)}X.on(e,"touchstart touchend",".dx-row",o=>{clearTimeout(i),o.type==="touchstart"?(r=o.target,n=o.currentTarget,i=a(1e3)):i=a()}),X.on(e,[jt,tf,Mt.down].join(" "),".dx-row",t.createAction(o=>{var{event:s}=o;r&&(s.target=r,s.currentTarget=n),V(s.target).closest("a").length||(o.rowIndex=t.getRowIndex(s.currentTarget),o.rowIndex>=0&&(o.rowElement=et(V(s.currentTarget)),o.columns=t.getColumns(),s.type===Mt.down?t._rowPointerDown(o):s.type===jt?t._rowClick(o):t._rowDblClick(o)))}))},pp=function(t){return t==="auto"?"":qt(t)?"".concat(t,"px"):t},vO=function(t,e,r){t.style.width=t.style.maxWidth=e.width==="auto"?"":r},MG=function(t,e){if(!(!t||!e)){var r=t.attributes,n=e.attributes,i;for(i=0;i<r.length;i++){var a=r[i].nodeName;e.hasAttribute(a)||t.removeAttribute(a)}for(i=0;i<n.length;i++)t.setAttribute(n[i].nodeName,n[i].nodeValue)}},BG=function(t){t.resolve()},K6=t=>typeof t=="number"?"".concat(t.toFixed(3),"px"):t==="adaptiveHidden"?G6:t,LG=ar.View.inherit(UH);class hf extends LG{setTableRole(e){}_createScrollableOptions(){var e=this.option("scrolling"),r=this.option("scrolling.useNative"),n=Y({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return r===void 0&&(r=!0),r==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!r,n.useSimulatedScrollbar=!r),n}_updateCell(e,r){r.rowType&&this._cellPrepared(e,r)}_createCell(e){var{column:r}=e,n=r.alignment||Ts(this.option("rtlEnabled")),i=Ce.createElement("td");i.style.textAlign=n;var a=V(i);return e.rowType==="data"&&r.headerId&&!r.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",r.headerId,a),r.cssClass&&a.addClass(r.cssClass),Array.isArray(r.elementAttr)&&r.elementAttr.forEach(o=>{var{name:s,value:l}=o;a.attr(s,l)}),r.command==="expand"&&(a.addClass(r.cssClass),a.addClass(this.addWidgetPrefix(wG))),r.colspan>1?a.attr("colSpan",r.colspan):!r.isBand&&r.visibleWidth!=="auto"&&this.option("columnAutoWidth")&&((r.width||r.minWidth)&&(i.style.minWidth=pp(r.minWidth||r.width)),r.width&&vO(i,r,pp(r.width))),a}_createRow(e,r){r=r||"tr";var n=V("<".concat(r,">")).addClass(qc);return this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,r){var n=V("<table>").addClass(this.addWidgetPrefix(SG)).addClass(this.addWidgetPrefix(EG));if(e&&!r?(n.append(this._createColGroup(e)),mr.safari&&n.append(V("<thead>").append("<tr>")),this.setTableRole(n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",V("<tbody>").appendTo(n)),r)return n;mr.mozilla&&X.on(n,"mousedown","td",a=>{a.ctrlKey&&a.preventDefault()}),this.option("cellHintEnabled")&&X.on(n,"mousemove",".dx-row > td",this.createAction(a=>{var o=a.event,s=V(o.target),l=V(o.currentTarget),p=l.parent(),h=this._columnsController.getVisibleColumns(),m=p.data("options"),v=l.index(),f=m&&m.cells&&m.cells[v],u=f?f.column:h[v],c=p.hasClass("dx-header-row"),d=p.hasClass("dx-data-row"),_=p.hasClass(T0),g=p.hasClass(I0),y=p.hasClass(this.addWidgetPrefix(OG)),b=d&&(!u||u.cellTemplate),C=d&&f&&(m.isEditing||f.isEditing||(u==null?void 0:u.showEditorAlways)),w=c&&(!u||u.headerCellTemplate),x=g&&(!u||u.groupIndex&&u.groupCellTemplate),A=!_&&!y&&!C&&!b&&!w&&!x;if(A){s.data(O0)&&(s.removeAttr("title"),s.data(O0,!1));var D=s[0].scrollWidth-s[0].clientWidth;D>0&&!q(s.attr("title"))&&(s.attr("title",s.text()),s.data(O0,!0))}}));var i=a=>{var o=V(a.currentTarget),s=V(a.target).closest(".".concat(DG)),l=o.parent(),p=l.data("options"),h=p&&p.cells&&p.cells[o.index()];if(o.closest("table").is(a.delegateTarget)){var m=Y({},h,{cellElement:et(o),event:a,eventType:a.type});if(m.rowIndex=this.getRowIndex(l),s.length){var v=s.data("dx-form-item");v.column&&(m.column=v.column,m.columnIndex=this._columnsController.getVisibleIndex(m.column.index))}return m}};return X.on(n,"mouseover",".dx-row > td",a=>{var o=i(a);o&&this.executeAction("onCellHoverChanged",o)}),X.on(n,"mouseout",".dx-row > td",a=>{var o=i(a);o&&this.executeAction("onCellHoverChanged",o)}),X.on(n,jt,".dx-row > td",a=>{var o=i(a);o&&this.executeAction("onCellClick",o)}),X.on(n,tf,".dx-row > td",a=>{var o=i(a);o&&this.executeAction("onCellDblClick",o)}),PG(this,n),n}_rowPointerDown(){}_rowClick(){}_rowDblClick(){}_createColGroup(e){for(var r=V("<colgroup>"),n=0;n<e.length;n++)for(var i=e[n].colspan||1,a=0;a<i;a++)r.append(this._createCol(e[n]));return r}_createCol(e){var r=e.visibleWidth||e.width;r==="adaptiveHidden"&&(r=G6);var n=V("<col>");return yC(n,r),n}renderDelayedTemplates(e){var r=this._delayedTemplates,n=r.filter(a=>!a.async),i=r.filter(a=>a.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(i)}_renderDelayedTemplatesCoreAsync(e){if(e.length){var r=pt().setTimeout(()=>{this._templateTimeouts.delete(r),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(r)}}_renderDelayedTemplatesCore(e,r,n){for(var i=new Date;e.length;){var a=e.shift(),{options:o}=a,s=Ce.getRootNode(V(o.container).get(0)),l=this.needWaitAsyncTemplates();if((!r||V(o.container).closest(s).length||l)&&(n&&(o.change=n),a.template.render(o)),r&&new Date-i>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,r){var n;if(e&&e.render&&!Ei(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(a){e.render(a.container,a.model,a.change),a.deferred&&a.deferred.resolve()}};else if(Me(e))n={render(a){var o=e(et(a.container),a.model,a.change);o&&(o.nodeType||Ei(o))&&a.container.append(o),a.deferred&&a.deferred.resolve()}};else{var i=tt(e)?e:V(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),n=this._templatesCache[i]):n=this.getTemplate(e)}return n}renderTemplate(e,r,n,i,a){var o,s=this._processTemplate(r,n),{column:l}=n,p=n.rowType==="data",h=new ae,m={container:e,model:n,deferred:h,onRendered:()=>{this.isDisposed()?h.reject():h.resolve()}};if(s){n.component=this.component;var v=l&&(l.renderAsync&&p||this.option("renderAsync")&&(l.renderAsync!==!1&&(l.command||l.showEditorAlways)&&p||n.rowType==="filter")),f=(o=n.renderAsync)!==null&&o!==void 0?o:v;(s.allowRenderToDetachedContainer||i)&&!f?s.render(m):this._delayedTemplates.push({template:s,options:m,async:f}),this._templateDeferreds.add(h),X.on(e,fa,BG.bind(null,h))}else h.reject();return h.promise().always(()=>{this._templateDeferreds.delete(h)})}_getBodies(e){return V(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var r,n=!!this.option().rowTemplate;return n&&!!(!((r=this._getBodies(e))===null||r===void 0)&&r.filter(".".concat(qc)).length)}_wrapRowIfNeed(e,r,n){var i=n?e||this._tableElement:this._tableElement||e,a=this._needWrapRow(i);if(a){var o=V("<tbody>").addClass(r.attr("class"));return this.setAria("role","presentation",o),o.append(r)}return r}_appendRow(e,r,n){n=n||RG,n.render({content:r,container:e})}_resizeCore(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){var r=this.element().parent();(!r||r.parent().length)&&this.renderDelayedTemplates(e)}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var r=e.change&&e.change.changeType,n=this._createTable(e.columns,r==="append"||r==="prepend"||r==="update");return this._renderRows(n,e),n}_renderRows(e,r){for(var n=this._getRows(r.change),i=r.change&&r.change.columnIndices||[],a=r.change&&r.change.changeTypes||[],o=0;o<n.length;o++)this._renderRow(e,Y({row:n[o],columnIndices:i[o],changeType:a[o]},r))}_renderRow(e,r){r.columnIndices||(r.row.cells=[]);var n=this._createRow(r.row),i=this._wrapRowIfNeed(e,n);r.changeType!=="remove"&&this._renderCells(n,r),this._appendRow(e,i);var a=Y({columns:r.columns},r.row);this._addWatchMethod(a,r.row),this._rowPrepared(i,a,r.row)}_needRenderCell(e,r){return!r||r.indexOf(e)>=0}_renderCells(e,r){for(var n=0,{row:i}=r,{columns:a}=r,o=0;o<a.length;o++)this._needRenderCell(o,r.columnIndices)&&this._renderCell(e,Y({column:a[o],columnIndex:n,value:i.values&&i.values[n],oldValue:i.oldValues&&i.oldValues[n]},r)),a[o].colspan>1?n+=a[o].colspan:n++}_updateCells(e,r,n){var i=e.children(),a=r.children(),o=this.option("highlightChanges"),s=this.addWidgetPrefix(AG);n.forEach((l,p)=>{var h=i.eq(l),m=a.eq(p);h.replaceWith(m),o&&!m.hasClass("dx-command-expand")&&m.addClass(s)}),MG(e.get(0),r.get(0))}_setCellAriaAttributes(e,r){if(r.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),i=r.columnIndex+n+1;this.setAria("colindex",i,e)}}_renderCell(e,r){var n=this._getCellOptions(r);if(r.columnIndices){if(r.row.cells){var i=r.row.cells.findIndex(o=>o.columnIndex===n.columnIndex);r.row.cells[i]=n}}else r.row.cells.push(n);var a=this._createCell(n);return this._setCellAriaAttributes(a,n),this._renderCellContent(a,n,r),e.get(0).appendChild(a.get(0)),a}_renderCellContent(e,r,n){var i=this._getCellTemplate(r);Ve(!i||this.renderTemplate(e,i,r,void 0,n.change)).done(()=>{this._updateCell(e,r)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){var r={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(r),r}_addWatchMethod(e,r){if(this.option("repaintChangesOnly")){var n=[];return r=r||e,r.watch=r.watch||function(i,a,o){var s=i(r.data),l=function(p){p&&o&&o(p);var h=i(r.data);JSON.stringify(s)!==JSON.stringify(h)&&(p&&a(h),s=h)};return n.push(l),function(){var p=n.indexOf(l);p>=0&&n.splice(p,1)}},r.update=r.update||function(i,a){i&&(this.data=e.data=i.data,this.rowIndex=e.rowIndex=i.rowIndex,this.dataIndex=e.dataIndex=i.dataIndex,this.isExpanded=e.isExpanded=i.isExpanded,e.row&&!a&&(e.row=i)),n.forEach(o=>{o(i)})},r!==e&&(e.watch=r.watch.bind(r)),e}}_cellPrepared(e,r){r.cellElement=et(V(e)),this.executeAction("onCellPrepared",r)}_rowPrepared(e,r,n){br(e.get(0),"options",r),r.rowElement=et(e),this.executeAction("onRowPrepared",r)}_columnOptionChanged(e){var{optionNames:r}=e;if(Te.checkChanges(r,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),i=n.map(a=>a.visibleWidth||a.width);this.setColumnWidths({widths:i,optionNames:r});return}this._requireReady||this.render()}getCellIndex(e){var r=e.length?e[0].cellIndex:-1;return r}getTableElements(){return this._tableElement||V()}getTableElement(e){return this._tableElement}setTableElement(e,r){this._tableElement=e}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":case"keyboardNavigation":this._invalidate(!0,!0),e.handled=!0}}init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}_afterRowPrepared(e){}_handleDataChanged(){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){var r=this.element(),n=r&&r.children(".".concat(this.addWidgetPrefix(mO))).not(".".concat(this.addWidgetPrefix(IG)));q(e)&&q(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}_getContent(e){var r;return(r=this._tableElement)===null||r===void 0?void 0:r.parent()}_removeContent(e){var r=this._getContent(e);r!=null&&r.length&&r.remove()}_wrapTableInScrollContainer(e,r){var n=V("<div>"),i=this.option("scrolling.useNative");return(i===!1||i==="auto"&&!Il)&&n.addClass(this.addWidgetPrefix(CG)),X.on(n,"scroll",()=>{var a=n.scrollLeft();a!==this._scrollLeft&&this.scrollChanged.fire({left:a},this.name)}),n.addClass(this.addWidgetPrefix(xG)).addClass(this.addWidgetPrefix(mO)).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new ae,n=e||this.needWaitAsyncTemplates();if(!n)return r.resolve();var i=()=>Ve.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?r.reject():this._templateDeferreds.size>0?i():r.resolve()}).fail(r.reject);return i(),r.promise()}_updateContent(e,r,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(){}_getWidths(e){if(!e)return[];var r=[],n=e.toArray();return n.forEach(i=>{var a=i.offsetWidth;if(i.getBoundingClientRect){var o=Hr(i);o.width>i.offsetWidth-1&&(a=o.width)}r.push(a)}),r}getColumnWidths(e){if((this.option("forceApplyBindings")||oe)(),e=e??this.getTableElement(),e)for(var r=e.children("tbody:not(.dx-header)").children(),n=0;n<r.length;n++){var i=r.eq(n),a=i.hasClass(I0),o=i.hasClass(T0),s=i.hasClass(kG),l=i.get(0).style.display!=="none"&&!i.hasClass("dx-state-invisible"),p=!a&&!o&&!s;if(l&&p){var h=i.children("td"),m=this._getWidths(h);return m}}return[]}getVisibleColumnIndex(e,r){return e}setColumnWidths(e){var{widths:r,optionNames:n}=e,i=this.getTableElement();if(!(!(i!=null&&i.length)||!r)){var a=this.getColumns(),o=this.option("columnAutoWidth"),s=i.children("colgroup").children("col");s.toArray().forEach(l=>l.removeAttribute("style")),a.forEach((l,p)=>{if(o&&l.width&&!l.command)for(var h=pp(l.visibleWidth||l.width),m=pp(l.minWidth||h),v=i.children().children(".dx-row").not(".".concat(T0)),f=0;f<v.length;f++){var u=v.eq(f),c=this.getVisibleColumnIndex(p,f),d=u.hasClass(I0)?u.find("td[aria-colindex='".concat(c+1,"']:not(.").concat(TG,")")):u.find("td").eq(c),_=d.get(0);_&&(vO(_,l,h),_.style.minWidth=m)}var g=K6(r[p]);q(g)&&yC(s.eq(p),g)})}}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){if(!(e<0)){var r=this._getRowElements().eq(e);return r.children()}}_getCellElement(e,r){var n=this.getCellElements(e),i=this._getVisibleColumnIndex(n,e,r);if(!(!(n!=null&&n.length)||i<0)){var a=n.eq(i);return a.length>0?a:void 0}}_getRowElement(e){var r=this,n=V(),i=r.getTableElements();if(te(i,(a,o)=>{n=n.add(r._getRowElements(V(o)).eq(e))}),n.length)return n}getCellElement(e,r){var n=this._getCellElement(e,r);if(n)return et(n)}getRowElement(e){var r=this._getRowElement(e),n=[];if(r&&!et(r).get)for(var i=0;i<r.length;i++)n.push(r[i]);else n=r;return n}_getVisibleColumnIndex(e,r,n){if(tt(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n}getColumnElements(){}getColumns(e){return this._columnsController.getVisibleColumns(e)}getCell(e,r,n){var i=r||this._getRowElements(),a;if(i.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1),a=n||this.getCellElements(e.rowIndex),(a==null?void 0:a.length)>0))return a.eq(a.length>e.columnIndex?e.columnIndex:a.length-1)}getRowsCount(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){var r=this.option().rowTemplate||this.option("dataRowTemplate"),n=r&&e.find("> tbody.".concat(qc));return n&&n.length?n:e.find("> tbody > "+".".concat(qc,", > .").concat(qc))}return V()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){var r=this.element(),n=this.option("rtlEnabled");r&&r.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){var r=this.element(),n=this._tableElement;return r&&n?e?Pt(n)-ot(r)>0:xt(n)-vt(r)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}dispose(){var e,r;if(lt()){var n=pt();(e=this._templateTimeouts)===null||e===void 0||e.forEach(i=>n.clearTimeout(i)),(r=this._templateTimeouts)===null||r===void 0||r.clear()}}}var k0="text-content",FG="headers",NG="nowrap",VG=".dx-row",gO="dx-header-row",HG="dx-column-lines",jG="context-menu-sort-asc",$G="context-menu-sort-desc",zG="context-menu-sort-none",WG="dx-cell-focus-disabled",A0="dx-visibility-hidden",_O="dx-text-content-alignment-",UG="dx-sort-indicator",GG="dx-sort-index-indicator",KG=".dx-header-filter",qG="dx-header-filter-indicator",XG="dx-header-multi-row",YG="dx-link",q6={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:hf.inherit(function(){var t=function(n,i,a){var o=V("<div>").addClass(n.addWidgetPrefix(k0));n.setAria("role","presentation",o),e(n,i,a.column,o);var s=n.option("showColumnLines"),l=n.getController("columns").getHeaderContentAlignment(a.column.alignment);return o[s||l==="right"?"appendTo":"prependTo"](i)};function e(n,i,a,o){var s=n._getIndicatorElements(i,!0),l=n._getIndicatorElements(i),p=s&&s.length,h=n._getColumnAlignment(a.alignment),m=".".concat(n._getIndicatorClassName("sort")),v=".".concat(n._getIndicatorClassName("sortIndex")),f=l.filter(m),u=l.children().filter(v);o=o||i.children(".".concat(n.addWidgetPrefix(k0))),o.toggleClass(_O+h,p>0).toggleClass(_O+(h==="left"?"right":"left"),p>0&&a.alignment==="center").toggleClass(UG,!!f.length).toggleClass(GG,!!u.length).toggleClass(qG,!!l.filter(".".concat(n._getIndicatorClassName("headerFilter"))).length)}var r={_createTable(){var n=this.callBase.apply(this,arguments);return X.on(n,"mousedown selectstart",this.createAction(i=>{var{event:a}=i;a.shiftKey&&a.preventDefault()})),n},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate(n){var i=this;return function(a,o){var{caption:s}=n,l=!n.command||s&&n.command!=="expand";if(n.command==="empty")i._renderEmptyMessage(a,o);else if(l){var p=t(i,a,o);p.text(s)}else n.command&&a.html("&nbsp;")}},_renderEmptyMessage(n,i){var a=this._getEmptyHeaderText();if(!a){n.html("&nbsp;");return}var o=t(this,n,i),s=a.includes("{0}");if(s){var[l,p]=a.split("{0}"),h=he.format("dxDataGrid-emptyHeaderColumnChooserText"),m=this.component.getView("columnChooserView"),v=V("<a>").text(h).addClass(YG);X.on(v,"click",this.createAction(()=>m.showColumnChooser())),o.append(Ce.createTextNode(l)).append(v).append(Ce.createTextNode(p))}else o.text(a)},_getEmptyHeaderText(){var n=!!this.component.getView("columnChooserView").hasHiddenColumns(),i=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case(n&&i):return he.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case i:return he.format("dxDataGrid-emptyHeaderWithGroupPanelText");case n:return he.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate(n){return n.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(n)}},_processTemplate(n,i){var a=this,o,{column:s}=i,l=a.callBase(n);return i.rowType==="header"&&l&&s.headerCellTemplate&&!s.command?o={render(p){var h=t(a,p.container,p.model);l.render(Y({},p,{container:h}))}}:o=l,o},_handleDataChanged(n){n.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell(n,i){var a=this.callBase(n,i);return i.row.rowType==="header"&&(a.addClass(WG),this._isLegacyKeyboardNavigation()||i.column&&!i.column.type&&a.attr("tabindex",this.option("tabindex")||0)),a},_setCellAriaAttributes(n,i){this.callBase(n,i),i.rowType==="header"&&(i.column.type||this.setAria("role","columnheader",n),i.column&&!i.column.command&&!i.column.isBand&&(n.attr("id",i.column.headerId),this.setAria("label","".concat(he.format("dxDataGrid-ariaColumn")," ").concat(i.column.caption),n)))},_createRow(n){var i=this.callBase.apply(this,arguments);return i.toggleClass(HG,this.option("showColumnLines")),n.rowType==="header"&&(i.addClass(gO),this._isLegacyKeyboardNavigation()||Wd("columnHeaders",this,i,"td",this._handleActionKeyDown.bind(this))),i},_handleActionKeyDown(n){var{event:i}=n,a=V(i.target);if(this._lastActionElement=i.target,a.is(KG)){var o=this.getController("headerFilter"),s=a.closest("td"),l=this.getColumnIndexByElement(s);l>=0&&o.showHeaderFilterMenu(l,!1)}else{var p=a.closest(VG);this._processHeaderAction(i,p)}i.preventDefault()},_renderCore(){var n=this.element(),i={};if(!(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)){n.addClass(this.addWidgetPrefix(FG)).toggleClass(this.addWidgetPrefix(NG),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",n);var a=this._updateContent(this._renderTable({change:i}),i);return this.getRowCount()>1&&n.addClass(XG),this.callBase.apply(this,arguments),a}},_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_renderRow(n,i){var a=this.getRowCount()===1?null:i.row.rowIndex;i.columns=this.getColumns(a),this.callBase(n,i)},_createCell(n){var{column:i}=n,a=this.callBase.apply(this,arguments);return i.rowspan>1&&n.rowType==="header"&&a.attr("rowSpan",i.rowspan),a},_getRows(){var n=[],i=this.getRowCount();if(this.option("showColumnHeaders"))for(var a=0;a<i;a++)n.push({rowType:"header",rowIndex:a});return n},_getCellTemplate(n){if(n.rowType==="header")return this._getHeaderTemplate(n.column)},_columnOptionChanged(n){var{changeTypes:i}=n,{optionNames:a}=n;if(i.grouping||i.groupExpanding){i.grouping&&(this._isGroupingChanged=!0);return}this.callBase(n),(a.width||a.visible)&&this.resizeCompleted.fire()},_isElementVisible:n=>n&&n.visible,_alignCaptionByCenter(n){var i=this._getIndicatorContainer(n,!0);i&&i.length&&(i.filter(".".concat(A0)).remove(),i=this._getIndicatorContainer(n),i.clone().addClass(A0).css("float","").insertBefore(n.children(".".concat(this.addWidgetPrefix(k0)))))},_updateCell(n,i){i.rowType==="header"&&i.column.alignment==="center"&&this._alignCaptionByCenter(n),this.callBase.apply(this,arguments)},_updateIndicator(n,i,a){var o=this.callBase.apply(this,arguments);return i.alignment==="center"&&this._alignCaptionByCenter(n),e(this,n,i),o},_getIndicatorContainer(n,i){var a=this.callBase(n);return i?a:a.filter(":not(.".concat(A0,")"))},_isSortableElement:()=>!0,getHeadersRowHeight(){var n=this.getTableElement(),i=n&&n.find(".".concat(gO));return i&&i.toArray().reduce((a,o)=>a+vt(o),0)||0},getHeaderElement(n){var i=this.getColumnElements();return i&&i.eq(n)},getColumnElements(n,i){var a=this,o,s=a._columnsController,l=a.getRowCount();if(a.option("showColumnHeaders")){if(l>1&&(!q(n)||q(i))){var p=[],h=q(i)?s.getChildrenByBandColumn(i,!0):s.getVisibleColumns();return te(h,(m,v)=>{var f=q(n)?n:s.getRowIndex(v.index);o=a._getCellElement(f,s.getVisibleIndex(v.index,f)),o&&p.push(o.get(0))}),V(p)}if(!n||n<l)return a.getCellElements(n||0)}},getColumnIndexByElement(n){var i=this.getCellIndex(n),a=n.closest(".dx-row"),{rowIndex:o}=a[0],s=this.getColumns(o)[i];return s?s.index:-1},getVisibleColumnIndex(n,i){var a=this.getColumns()[n];return a?this._columnsController.getVisibleIndex(a.index,i):-1},getColumnWidths(){var n=this.getColumnElements();return n&&n.length?this._getWidths(n):this.callBase.apply(this,arguments)},allowDragging(n){var i=n&&this._columnsController.getRowIndex(n.index),a=this.getColumns(i),o=this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering");return o&&n.allowReordering&&a.length>1},getBoundingRect(){var n=this.getColumnElements();if(n&&n.length){var i=this.getTableElement().offset();return{top:i.top}}return null},getName:()=>"headers",getColumnCount(){var n=this.getColumnElements();return n?n.length:0},isVisible(){return this.option("showColumnHeaders")},optionChanged(n){switch(n.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),n.handled=!0;break;default:this.callBase(n)}},getHeight(){return this.getElementHeight()},getContextMenuItems(n){var i=this,{column:a}=n;if(n.row&&(n.row.rowType==="header"||n.row.rowType==="detailAdaptive")){var o=i.option("sorting");if(o&&o.mode!=="none"&&a&&a.allowSorting){var s=function(l){setTimeout(()=>{i._columnsController.changeSortOrder(a.index,l.itemData.value)})};return[{text:o.ascendingText,value:"asc",disabled:a.sortOrder==="asc",icon:jG,onItemClick:s},{text:o.descendingText,value:"desc",disabled:a.sortOrder==="desc",icon:$G,onItemClick:s},{text:o.clearText,value:"none",disabled:!a.sortOrder,icon:zG,onItemClick:s}]}}},getRowCount(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity(n,i,a){var o,s,l=this.getRowCount(),p=this._columnsController.getColumns(),h=p&&p[n],m=h&&h.isBand&&h.index,v=(u,c)=>{u.ownerBand===m&&(s.eq(c).css({opacity:i}),u.isBand&&this.setRowsOpacity(u.index,i,o+1))};if(q(m)){for(a=a||0,o=a;o<l;o++)if(s=this.getCellElements(o),s){var f=this.getColumns(o);f.forEach(v)}}}};return r}())}};const Qe=we(we(we({},ar),Te),{modules:[]});q6.views.columnHeadersView;Qe.registerModule("columnHeaders",q6);var X6=["filterValues","filterType","fixed","fixedPosition"],Dv=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(X6),ZG={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},QG="dx-command-expand",yO=Number.MAX_SAFE_INTEGER||9007199254740991,ds="groupExpand",JG="detailExpand",D0=/columns\[(\d+)\]\.?/gi,eK={visible:!0,showInColumnChooser:!0},tK={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},rK={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},xu="group",Su="columnChooser",Y6="number",Z6="yyyy/MM/dd",nK="yyyy/MM/dd HH:mm:ss",Q6=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,J6=/^(\d{2}):(\d{2})(:(\d{2}))?$/,bO=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],iK=/^(\d{4})\/(\d{2})\/(\d{2})$/,aK=3,eB=function(t,e){var r;return tt(t)&&!e&&(r=sK(t)),r||oK(t)};function Pn(t){return+t||0}function oK(t){var e=tB(t)===Z6,r=!Kn(t)&&Date.parse(t);if(!r&&e){var n=t.match(iK);if(n){var i=new Date(Pn(n[1]),Pn(n[2]),Pn(n[3]));return i.setFullYear(Pn(n[1])),i.setMonth(Pn(n[2])-1),i.setDate(Pn(n[3])),i}}return qt(r)?new Date(r):t}function sK(t){var e=t.match(Q6);if(!e)return e=t.match(J6),e?new Date(0,0,0,Pn(e[1]),Pn(e[2]),Pn(e[4])):void 0;var r=Pn(e[1]),n=--e[3],i=e[5],a=0,o=0,s=v=>(r<100&&v.setFullYear(r),v);a=Pn(e[14]),o=Pn(e[16]),e[13]==="-"&&(a=-a,o=-o);var l=Pn(e[6])-a,p=Pn(e[8])-o,h=Pn(e[10]),m=function(v){return v=v||"",Pn(v)*Math.pow(10,aK-v.length)}(e[11]);return e[12]?s(new Date(Date.UTC(r,n,i,l,p,h,m))):s(new Date(r,n,i,l,p,h,m))}var lK=function(t,e){var r=t.match(Q6),n="";if(!r)return r=t.match(J6),r?r[3]?"HH:mm:ss":"HH:mm":void 0;for(var i=1;i<bO.length;i++)r[i]&&(n+=bO[i]||r[i]);return r[12]==="Z"&&(n+="'Z'"),r[14]&&(r[15]?n+="xxx":r[16]?n+="xx":n+="x"),n},uK=function(t){return typeof t=="number"?new Date(t):eB(t,!ur().forceIsoDateParsing)},cK=function(t,e){return e?Kn(t)?e===Y6?t&&t.valueOf?t.valueOf():null:a6(e,Id)(t):null:t},tB=function(t){if(typeof t=="number")return Y6;if(tt(t)){var e;return ur().forceIsoDateParsing&&(e=lK(t)),e||(t.indexOf(":")>=0?nK:Z6)}else if(t)return null};const Vr={dateParser:eB,deserializeDate:uK,serializeDate:cK,getDateSerializationFormat:tB};var rB=function(t){t.filterOperations=t.defaultFilterOperations},dK=1,Hg=function(t,e,r,n){var i={};if(e){tt(e)&&(e={dataField:e}),t.setName(e);var a={};if(e.command)a=Fi(i,e);else{i=t.getCommonSettings(e),r&&r.name&&r.dataField&&(e=Y({},e,{dataField:r.dataField}));var o=t._createCalculatedColumnOptions(e,n);e.type||(a={headerId:"dx-col-".concat(dK++)}),a=Fi(a,eK),Fi(a,i),Fi(a,o),Fi(a,e),Fi(a,{selector:null})}return e.filterOperations===e.defaultFilterOperations&&rB(a),a}},Eu=function t(e,r,n){var i=[];return r&&te(r,(a,o)=>{var s=e._columnsUserState&&zx(o,e._columnsUserState[a])&&e._columnsUserState[a],l=Hg(e,o,s,n);l&&(n&&(l.ownerBand=n),i.push(l),l.columns&&(i=i.concat(t(e,l.columns,l)),delete l.columns,l.hasColumns=!0))}),i},rl=function(t,e){for(var r=[],n=e[t];n;)r.unshift(n),t=n.index,n=e[t];return r},hK=function t(e,r,n){var i=[],a=r[e];if(a)for(var o=0;o<a.length;o++){var s=a[o];(!q(s.groupIndex)||s.showWhenGrouped)&&(i.push(s),n&&s.isBand&&(i=i.concat(t(s.index,r,n))))}return i},fK=function(t,e){var r,n,i=t.getBandColumnsCache(),a=function(s){var l=r?r.index:void 0;return s.ownerBand===l};if(i.isPlain)r=t._columns[e[0]];else{n=t._columns.filter(a);for(var o=0;o<e.length;o++)r=n[e[o]],r&&(n=t._columns.filter(a))}return r},pK=function(t,e){var r=[],n,i=t.getBandColumnsCache(),a=function(s){return s.ownerBand===e.ownerBand};if(i.isPlain){var o=t._columns.indexOf(e);o>=0&&(r=["columns[".concat(o,"]")])}else for(n=t._columns.filter(a);n.length&&n.indexOf(e)!==-1;)r.unshift("columns[".concat(n.indexOf(e),"]")),e=i.columnParentByIndex[e.index],n=e?t._columns.filter(a):[];return r.join(".")},mK=function t(e,r){var n=0,i=e.getChildrenByBandColumn(r,!0);return te(i,(a,o)=>{o.isBand?(o.colspan=o.colspan||t(e,o.index),n+=o.colspan||1):n+=1}),n},vK=function(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];(a.visible||a.command)&&(a.isBand&&(a.colspan=a.colspan||mK(t,a.index)),(!a.isBand||!a.colspan)&&(n=t.getRowCount(),!a.command&&(!q(a.groupIndex)||a.showWhenGrouped)&&(n-=rl(a.index,r.columnParentByIndex).length),n>1&&(a.rowspan=n)))}},R0=function(t){var e=Si(t);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},CO=function(t,e){switch(t){case"date":case"datetime":return Vr.getDateSerializationFormat(e);case"number":if(tt(e))return"string";if(qt(e))return null}},wO=function(t,e){t.deserializeValue||(Te.isDateType(e)&&(t.deserializeValue=function(r){return Vr.deserializeDate(r)},t.serializeValue=function(r){return tt(r)?r:Vr.serializeDate(r,this.serializationFormat)}),e==="number"&&(t.deserializeValue=function(r){var n=parseFloat(r);return isNaN(n)?r:n},t.serializeValue=function(r,n){return n==="filter"?r:q(r)&&this.serializationFormat==="string"?r.toString():r}))},gK=function(t,e){switch(t){case"number":return"right";case"boolean":return"center";default:return Ts(e)}},_K=function(t){return t.value===!0?this.trueText||"true":t.value===!1?this.falseText||"false":t.valueText||""},xO=function(t){if(t==="boolean")return _K},yK=function(t,e){for(var r=t._getFirstItems(e),n,i={},a=[],o=0;o<r.length;o++)if(r[o])for(n in r[o])(!Me(r[o][n])||Fn.isWrapped(r[o][n]))&&(i[n]=!0);for(n in i)if(n.indexOf("__")!==0){var s=Hg(t,n);a.push(s)}return a},nB=function(t){te(t._columns,(e,r)=>{r.index=e}),te(t._columns,(e,r)=>{rt(r.ownerBand)&&(r.ownerBand=r.ownerBand.index)}),te(t._commandColumns,(e,r)=>{r.index=-(e+1)})},iB=function(t,e){kh(t._columns,"groupIndex",e,r=>{var{grouped:n}=r;return delete r.grouped,n})},bK=function(t,e){te(t._columns,(r,n)=>{q(n.sortIndex)&&!Rv(n.sortOrder)&&delete n.sortIndex}),kh(t._columns,"sortIndex",e,r=>!q(r.groupIndex)&&Rv(r.sortOrder))},CK=function(t,e){for(var r,n=[],i=t.getBandColumnsCache(),a=[],o=t._columns.filter(p=>!p.command),s=0;s<o.length;s++){r=o[s];var l=rl(s,i.columnParentByIndex);l.length?a.push(r):n.push(r)}kh(a,"visibleIndex",e),kh(n,"visibleIndex",e)},P0=function(t,e,r){var n=rt(e)?e.rowIndex:null,i=r===xu?t.getGroupColumns():r===Su?t.getChooserColumns():t.getVisibleColumns(n),a;return e=rt(e)?e.columnIndex:e,a=i[e],a&&a.type===ds&&(a=t._columns.filter(o=>a.type===o.type)[0]||a),a&&q(a.index)?a.index:-1},wK=function(t,e,r){var n=t.getGroupColumns(),i;if(r>=0)for(i=0;i<n.length;i++)n[i].groupIndex>=r&&n[i].groupIndex++;else for(r=0,i=0;i<n.length;i++)r=Math.max(r,n[i].groupIndex+1);return r};function zx(t,e){return t&&e&&e.name===(t.name||t.dataField)&&(e.dataField===t.dataField||t.name)}var SO=function(t){var e=t._columnsUserState,r=t._ignoreColumnOptionNames||[],n=t._columns,i={},a=[],o=!0,s=[],l,p,h;function m(c,d){if(d)for(var _=0;_<Dv.length;_++){var g=Dv[_];r.includes(g)||(g==="dataType"?c[g]=c[g]||d[g]:X6.includes(g)?g in d&&(c[g]=d[g]):(g==="selectedFilterOperation"&&d[g]&&(c.defaultSelectedFilterOperation=c[g]||null),c[g]=d[g]))}}function v(c,d){for(var _=d.name||d.dataField,g=i[_]||0,y=0;y<c.length;y++)if(zx(d,c[y]))if(g)g--;else return i[_]=i[_]||0,i[_]++,y;return-1}if(e){for(h=0;h<n.length;h++)p=v(e,n[h]),o=o&&p>=0,s.push(p);for(h=0;h<n.length;h++)l=n[h],p=s[h],(t._hasUserState||o)&&m(l,e[p]),p>=0&&q(e[p].initialIndex)?a[p]=l:a.push(l);var f=!1;for(h=0;h<e.length;h++){var u=e[h];u.added&&v(n,u)<0&&(l=Hg(t,u.added),m(l,u),a.push(l),u.added.columns&&(f=!0))}f&&(nB(t),a=Eu(t,a)),Iu(t,a)}},Gs=function(t,e){nB(t),iB(t,e),bK(t,e),aB(t),CK(t,e)},jg=function(t){t.resetColumnsCache()};function Iu(t,e){t._previousColumns=t._columns,t._columns=e,jg(t),t.updateColumnDataTypes()}var xa=function(t,e,r,n){var i,a=t._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};r=r||"all",r=r.split(".")[0];var{changeTypes:o}=a;e&&!o[e]&&(o[e]=!0,o.length++);var{optionNames:s}=a;r&&!s[r]&&(s[r]=!0,s.length++),(n===void 0||n!==a.columnIndex)&&(q(n)&&((i=a.columnIndices)!==null&&i!==void 0||(a.columnIndices=[]),q(a.columnIndex)&&a.columnIndices.push(a.columnIndex),a.columnIndices.push(n)),delete a.columnIndex),t._columnChanges=a,jg(t)},Xc=function(t){var e=t.option("onColumnsChanging"),r=t._columnChanges,n=["dataField","lookup","dataType","columns"];t.isInitialized()&&!t._updateLockCount&&r&&(e&&(t._updateLockCount++,e(Y({component:t.component},r)),t._updateLockCount--),t._columnChanges=void 0,i=r.optionNames,i&&n.some(a=>i[a])?(t._reinitAfterLookupChanges=r==null?void 0:r.optionNames.lookup,t.reinit(),t._reinitAfterLookupChanges=void 0):t.columnsChanged.fire(r));var i},xK=function(t,e,r,n){var i=n>=0;if(r>=0)i||(e.lastSortOrder=e.sortOrder);else{var a=t.option("sorting.mode"),o=e.lastSortOrder;if(a==="single"){var s=t._columns.some(l=>l!==e&&q(l.sortIndex));s&&(o=void 0)}e.sortOrder=o}},SK=function(t,e){var{value:r}=e,{optionName:n}=e,{prevValue:i}=e,{fullOptionName:a}=e,o="".concat(a,".").concat(n);!ZG[n]&&t._skipProcessingColumnsChange!==o&&(t._skipProcessingColumnsChange=o,t.component._notifyOptionChanged(o,r,i),t._skipProcessingColumnsChange=!1)},M0=function(t,e,r,n,i){var a=er(r),o=e.index,s,l,p;if(arguments.length===3)return a(e,{functionsAsIs:!0});var h=a(e,{functionsAsIs:!0});if(!Jt(h,n,{maxDepth:5})){r==="groupIndex"||r==="calculateGroupValue"?(l="grouping",xK(t,e,n,h)):r==="sortIndex"||r==="sortOrder"||r==="calculateSortValue"?l="sorting":l="columns";var m=G1(r);m(e,n,{functionsAsIs:!0});var v=pK(t,e);rK[r]&&(Gs(t,e),n=a(e)),(r==="name"||r==="allowEditing")&&t._checkColumns(),!q(h)&&!q(n)&&r.indexOf("buffer")!==0&&(i=!0),i?jg(t):(!Dv.includes(r)&&r!=="visibleWidth"&&(s=t.option("columns"),p=t.getColumnByPath(v,s),tt(p)&&(p=s[o]={dataField:p}),p&&zx(p,e)&&m(p,n,{functionsAsIs:!0})),xa(t,l,r,o)),v&&SK(t,{fullOptionName:v,optionName:r,value:n,prevValue:h})}};function Rv(t){return t==="asc"||t==="desc"}var EK=function(t){var e=t._getExpandColumnOptions();t.addCommandColumn(e)},IK=function(t,e){if(this.dataField){var r=this.dataField.split("."),n=r.length-1;this.serializeValue&&(e=this.serializeValue(e));for(var i=0;i<n;i++){var a=r[i];t=t[a]=t[a]||{}}t[r[n]]=e}},TK=function t(e,r,n){var i=[];return r=r||0,e[r]&&te(e[r],(a,o)=>{(o.ownerBand===n||o.type===ds)&&(!o.isBand||!o.colspan?(!o.command||r<1)&&i.push(o):i.push.apply(i,t(e,r+1,o.index)))}),i},OK=function(t){var e=1,r=t.getBandColumnsCache(),{columnParentByIndex:n}=r;return t._columns.forEach(i=>{var a=rl(i.index,n),o=a.filter(s=>!s.visible);i.visible&&!o.length&&(e=Math.max(e,a.length+1))}),e},aw=(t,e)=>{var r=t._columns.filter(n=>n.type===e.type);return!!r.length},EO=function(t,e){var r=t.option("rtlEnabled");return e.command&&!aw(t,e)||!e.fixedPosition?r?"right":"left":e.fixedPosition},IO=function(t,e,r,n){var i,a=this.getRowCount(),o=t[n]&&t[n].rowspan,s=e.filter(l=>l.type===r);return t.forEach((l,p)=>{l.type===r&&(i=p,o=t[p+1]?t[p+1].rowspan:a)}),o>1&&(s=Xr(s,l=>Y({},l,{rowspan:o}))),s.unshift.apply(s,q(i)?[i,1]:[n,0]),t.splice.apply(t,s),o||1},kK=function(t){var e;for(e=0;t>1;e++)t/=10;return e},TO=function(t,e){for(var r=t?t.toString():"0";r.length<e;)r="0".concat(r);return r},OO=(t,e,r,n)=>{for(var i,a,o=e.slice().map(f=>Y({},f)),s=t._isColumnFixing(),l=r.slice().map(f=>Y({fixed:s},f)),p=f=>r.reduce((u,c,d)=>{var _=n&&f.type===ds?"expand":f.type;return c.type===_||c.command===f.command?d:u},-1),h=f=>f.command!==r[a].command,m=0;m<e.length;m++)if(i=e[m],a=i&&(i.type||i.command)?p(i):-1,a>=0)if(n)o[m]=Y({fixed:s},r[a],i),i.type!==ds&&(l=l.filter(h));else{var v={visibleIndex:i.visibleIndex,index:i.index,headerId:i.headerId,allowFixing:i.groupIndex===0,allowReordering:i.groupIndex===0,groupIndex:i.groupIndex};o[m]=Y({},i,r[a],i.type===ds&&v)}return e.length&&n&&l.length&&(o=o.concat(l)),o},kO=(t,e)=>q(e.fixed)||!e.type?e.fixed:t._isColumnFixing(),AK=t=>{t.forEach(e=>{q(e.ownerBand)&&(e.ownerBand=t[e.ownerBand])})},aB=t=>{t._bandColumnsCache=void 0},AO=(t,e)=>{var r=tt(e)&&e.substr(0,e.indexOf(":")),n;if(e!==void 0)return r&&(e=e.substr(r.length+1)),r?n=t.filter(i=>"".concat(i[r])===e)[0]:["index","name","dataField","caption"].some(i=>(n=t.filter(a=>a[i]===e)[0],!!n)),n},DK=(t,e)=>{if(e!=="asc"&&e!=="desc")return t;var r=e==="asc"?1:-1;return t.sort((n,i)=>{var a=n.caption||"",o=i.caption||"";return r*a.localeCompare(o)}),t},RK=function(t,e){var r=nr.parse(t);if(qt(r)){var n=nr.format(r,e),i=nr.format(r,"decimal");if(n===t||i===t)return r}};class PK extends ar.Controller{_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:QG,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){var r,n=[];return e&&e.items().length>0&&(r=Te.normalizeSortingInfo(e.group()).length,n=function i(a,o){if(!a||!o)return a;for(var s=0;s<a.length;s++){var l=i(a[s].items||a[s].collapsedItems,o-1);if(l&&l.length)return l}}(e.items(),r)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&Xc(this)}init(e){var r=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!r,this._isColumnsFromOptions?(Iu(this,r?Eu(this,r):[]),SO(this)):Iu(this,this._columnsUserState?Eu(this,this._columnsUserState):this._columns),EK(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):Gs(this),this._checkColumns()}callbackNames(){return["columnsChanged"]}getColumnByPath(e,r){var n,i=[];return e.replace(D0,(a,o)=>(i.push(parseInt(o)),"")),i.length&&(r?n=i.reduce((a,o)=>a&&a.columns&&a.columns[o],{columns:r}):n=fK(this,i)),n}optionChanged(e){var r;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":r=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),r=!0)),r&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":e.handled=!0;var n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){var r={},n=this.getColumnByPath(e.fullName),i=e.fullName.replace(D0,"");n&&(i?r[i]=e.value:r=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,r),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){var{component:r}=this;e.fullName.replace(D0,"")==="width"&&r._updateLockCount&&(r._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(e,r,n){var i=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||this._dataSourceColumnsCount===0||r||this.option("regenerateColumnsByVisibleItems")){if(i){if(!this._isColumnsFromOptions){var a=yK(this,e);a.length&&(Iu(this,a),this._dataSourceColumnsCount=this._columns.length,SO(this))}return this.updateColumns(e,r,n)}this._dataSourceApplied=!1,Gs(this)}else if(i&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return xa(this,"columns"),Xc(this),new ae().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,aB(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){var r,n,i=(!e||!e.type)&&this.option("commonColumnSettings")||{},a=(r=this.option("grouping"))!==null&&r!==void 0?r:{},o=(n=this.option("groupPanel"))!==null&&n!==void 0?n:{};return Y({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:a.autoExpandAll,allowCollapsing:a.allowCollapsing,allowGrouping:o.allowColumnDragging&&o.visible||a.contextMenuEnabled},i)}isColumnOptionUsed(e){for(var r=0;r<this._columns.length;r++)if(this._columns[r][e])return!0}isAllDataTypesDefined(e){var r=this._columns;if(!r.length)return!1;for(var n=0;n<r.length;n++)if(!(!r[n].dataField&&r[n].calculateCellValue===r[n].defaultCalculateCellValue)&&(!r[n].dataType||e&&r[n].deserializeValue&&r[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){var e=[];return te(this._columns,function(){q(this.groupIndex)&&(e[this.groupIndex]=this)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=q(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,r){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=q(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{var r=Y(!0,{},e);return q(r.dataField)||(r.dataField=r.name),r.filterOperations=e.filterOperations!==e.defaultFilterOperations?r.filterOperations:null,r})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var e=[],r=this.getRowCount(),n=this._isColumnFixing(),i={command:"transparent"},a=0,o,s,l;if(n)for(var p=0;p<=r;p++){o=0,l=null,s=null;for(var h=this.getVisibleColumns(p,!0),m=0;m<h.length;m++){var v=h[m-1],f=h[m];f.fixed?v&&v.fixed&&EO(this,v)!==EO(this,f)?q(s)||(s=m):l=f.fixedPosition:(p===0&&(f.isBand&&f.colspan?a+=f.colspan:a++),o++,q(s)||(s=m))}if(p===0&&(o===0||o>=h.length))return[];q(s)||(s=l==="right"?0:h.length),e[p]=h.slice(0),i.colspan||(i.colspan=a),e[p].splice(s,o,i)}return e.map(u=>u.map(c=>{var d=we({},c);return d.headerId&&(d.headerId+="-fixed"),d}))}_isColumnFixing(){var e=this.option("columnFixing.enabled");return!e&&te(this._columns,(r,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var e=this._getExpandColumnsCore(),r,n=e.filter(s=>s.groupIndex===0)[0],i=n&&n.fixed,a=this._isColumnFixing(),o=this.option("rtlEnabled");return e.length&&(r=this.columnOption("command:expand")),e=Xr(e,s=>Y({},s,{visibleWidth:null,minWidth:null,cellTemplate:q(s.groupIndex)?null:s.cellTemplate,headerCellTemplate:null,fixed:!q(s.groupIndex)||!i?a:!0,fixedPosition:o?"right":"left"},r,{index:s.index,type:s.type||ds})),e}getBandColumnsCache(){if(!this._bandColumnsCache){var e=this._columns,r={},n={},i=!0;e.forEach(a=>{var{ownerBand:o}=a,s=rt(o)?o.index:o,l=e[s];a.hasColumns&&(i=!1),a.colspan&&(a.colspan=void 0),a.rowspan&&(a.rowspan=void 0),l?n[a.index]=l:s=-1,r[s]=r[s]||[],r[s].push(a)}),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:r,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return q(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){var e=this._columns;return e.some(r=>{var n=this._isColumnVisible(r),i=this._isColumnInGroupPanel(r),a=!!r.command;return n&&!i&&!a})}_compileVisibleColumnsCore(){var e=this.getBandColumnsCache(),r=OO(this,this._columns,this._commandColumns,!0);vK(this,r,e);var n=this._getIndexedColumns(r),i=this._getVisibleColumnsFromIndexed(n),a=!this.hasVisibleDataColumns();return a&&this._columns.length&&i[i.length-1].push({command:"empty"}),i}_getIndexedColumns(e){for(var r=this.option("rtlEnabled"),n=this.getRowCount(),i=kK(e.length),a=this.getBandColumnsCache(),o=[],s=[],l=0;l<n;l+=1)s[l]=[{}],o[l]=[{},{},{}];return e.forEach(p=>{var h,m,v,f,{visibleIndex:u}=p,c,d=rl(p.index,a.columnParentByIndex),_=this._isColumnVisible(p),g=this._isColumnInGroupPanel(p);if(_&&!g){var y=d.length;if(u<0)u=-u,c=s[y];else if(p.fixed=(m=(h=d[0])===null||h===void 0?void 0:h.fixed)!==null&&m!==void 0?m:p.fixed,p.fixedPosition=(f=(v=d[0])===null||v===void 0?void 0:v.fixedPosition)!==null&&f!==void 0?f:p.fixedPosition,p.fixed){var b=!!p.command&&!aw(this,p),C=p.fixedPosition==="right";r&&!b&&(C=!C),c=C?o[y][2]:o[y][0]}else c=o[y][1];if(d.length){u=TO(u,i);for(var w=d.length-1;w>=0;w-=1)u=TO(d[w].visibleIndex,i)+u}c[u]=c[u]||[],c[u].push(p)}}),{positiveIndexedColumns:o,negativeIndexedColumns:s}}_getVisibleColumnsFromIndexed(e){for(var r=this,{positiveIndexedColumns:n,negativeIndexedColumns:i}=e,a=[],o=this.getRowCount(),s=OO(this,this.getExpandColumns(),this._columns),l=0,p=0,h=function(v){a.push([]),mC(i[v],(c,d)=>{a[v].unshift.apply(a[v],d)});var f=a[v].length,u=n[v];u.forEach(c=>{mC(c,(d,_)=>{a[v].push.apply(a[v],_)})}),p<=v&&(p+=IO.call(r,a[v],s,JG,f)),l<=v&&(l+=IO.call(r,a[v],s,ds,f))},m=0;m<o;m+=1)h(m);return a.push(TK(a)),a}getInvisibleColumns(e,r){var n=this,i=[],a;return e=e||n._columns,te(e,(o,s)=>{if(s.ownerBand===r){if(s.isBand){s.visible?a=n.getInvisibleColumns(n.getChildrenByBandColumn(s.index),s.index):a=n.getChildrenByBandColumn(s.index),a.length&&(i.push(s),i=i.concat(a));return}s.visible||i.push(s)}}),i}getChooserColumns(e){var r=e?this.getColumns():this.getInvisibleColumns(),n=r.filter(a=>a.showInColumnChooser),i=this.option("columnChooser.sortOrder");return DK(n,i)}allowMoveColumn(e,r,n,i){var a=P0(this,e,n),o=this._columns[a];return o&&(o.allowReordering||o.allowGrouping||o.allowHiding)?n===i?n===Su?!1:(e=rt(e)?e.columnIndex:e,r=rt(r)?r.columnIndex:r,e!==r&&e+1!==r):n===xu&&i!==Su||i===xu?o&&o.allowGrouping:n===Su||i===Su?o&&o.allowHiding:!0:!1}moveColumn(e,r,n,i){var a={},o,s=P0(this,e,n),l=P0(this,r,i),p;if(s>=0){var h=this._columns[s];if(r=rt(r)?r.columnIndex:r,p=l>=0?this._columns[l].groupIndex:-1,q(h.groupIndex)&&n===xu&&(p>h.groupIndex&&p--,i!==xu?a.groupIndex=void 0:(o=h.groupIndex,delete h.groupIndex,iB(this))),i===xu)a.groupIndex=wK(this,h,p),h.groupIndex=o;else if(r>=0){var m=this._columns[l];!m||h.ownerBand!==m.ownerBand||kO(this,h)^kO(this,m)?a.visibleIndex=yO:a.visibleIndex=m.visibleIndex}var v=i!==Su;h.visible!==v&&(a.visible=v),this.columnOption(h.index,a)}}changeSortOrder(e,r){var n={},i=this.option("sorting"),a=i&&i.mode,o=a==="single"||!r,s=a==="single"||a==="multiple",l=this._columns[e];s&&l&&l.allowSorting&&(o&&!q(l.groupIndex)&&te(this._columns,function(p){p!==e&&this.sortOrder&&(q(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),Rv(r)?l.sortOrder!==r&&(n.sortOrder=r):r==="none"?l.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(p){if(r==="ctrl"){if(!("sortOrder"in p&&"sortIndex"in p))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else q(p.groupIndex)||q(p.sortIndex)?n.sortOrder=p.sortOrder==="desc"?"asc":"desc":n.sortOrder="asc";return!0}(l)),this.columnOption(l.index,n)}getSortDataSourceParameters(e){var r=[],n=[];return te(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&q(this.sortIndex)&&!q(this.groupIndex)&&(r[this.sortIndex]=this)}),te(r,function(){var i=this&&this.sortOrder;if(Rv(i)){var a={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(a.compare=this.sortingMethod.bind(this)),n.push(a)}}),n.length>0?n:null}getGroupDataSourceParameters(e){var r=[];return te(this.getGroupColumns(),function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),r.push(i)}}),r.length>0?r:null}refresh(e){var r=[];return te(this._columns,function(){var{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&r.push(n.update())}}),Ve.apply(V,r).done(jg.bind(null,this))}_updateColumnOptions(e,r){e.selector=e.selector||function(a){return e.calculateCellValue(a)},this._reinitAfterLookupChanges&&this._previousColumns?(e.selector.columnIndex=r,e.selector.originalCallback=this._previousColumns[r].selector.originalCallback):(e.selector.columnIndex=r,e.selector.originalCallback=e.selector),te(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(a,o)=>{var s=e[o];if(Me(s))if(s.originalCallback)e[o].context.column=e;else{var l={column:e};e[o]=function(p){return s.call(l.column,p)},e[o].originalCallback=s,e[o].columnIndex=r,e[o].context=l}}),tt(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=er(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),wO(e,e.dataType);var{lookup:n}=e;n&&wO(n,n.dataType);var i=n?n.dataType:e.dataType;i&&(e.alignment=e.alignment||gK(i,this.option("rtlEnabled")),e.format=e.format||Te.getFormatByDataType(i),e.customizeText=e.customizeText||xO(i),e.defaultFilterOperations=e.defaultFilterOperations||!n&&tK[i]||[],q(e.filterOperations)||rB(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=q(e.showEditorAlways)?e.showEditorAlways:i==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){var r=this,n=r.option("dateSerializationFormat"),i=r._getFirstItems(e),a=!1;return te(r._columns,(o,s)=>{var l,p,h,m,v,{lookup:f}=s;if(Te.isDateType(s.dataType)&&s.serializationFormat===void 0&&(s.serializationFormat=n),f&&Te.isDateType(f.dataType)&&s.serializationFormat===void 0&&(f.serializationFormat=n),s.calculateCellValue&&i.length){if(!s.dataType||f&&!f.dataType){for(l=0;l<i.length;l++)p=s.calculateCellValue(i[l]),s.dataType||(v=R0(p),h=h||v,h&&v&&h!==v&&(h="string")),f&&!f.dataType&&(v=R0(Te.getDisplayValue(s,p,i[l])),m=m||v,m&&v&&m!==v&&(m="string"));(h||m)&&(h&&(s.dataType=h),f&&m&&(f.dataType=m),a=!0)}if(s.serializationFormat===void 0||f&&f.serializationFormat===void 0)for(l=0;l<i.length;l++)p=s.calculateCellValue(i[l],!0),s.serializationFormat===void 0&&(s.serializationFormat=CO(s.dataType,p)),f&&f.serializationFormat===void 0&&(f.serializationFormat=CO(f.dataType,f.calculateCellValue(p,!0)))}r._updateColumnOptions(s,o)}),a}_customizeColumns(e){var r=this.option("customizeColumns");if(r){var n=e.some(i=>rt(i.ownerBand));n&&Gs(this),r(e),Iu(this,Eu(this,e))}}updateColumns(e,r,n){if(r||this.updateSortingGrouping(e),!e||e.isLoaded()){var i=e?e.sort()||[]:this.getSortDataSourceParameters(),a=e?e.group()||[]:this.getGroupDataSourceParameters(),o=e==null?void 0:e.lastLoadOptions().filter;n||this._customizeColumns(this._columns),Gs(this);var s=this._columns;return Ve(this.refresh(!0)).always(()=>{this._columns===s&&(this._updateChanges(e,{sorting:i,grouping:a,filtering:o}),Xc(this))})}}_updateChanges(e,r){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),Te.equalSortParameters(r.sorting,this.getSortDataSourceParameters())||xa(this,"sorting"),Te.equalSortParameters(r.grouping,this.getGroupDataSourceParameters())||xa(this,"grouping");var n=this.getController("data");n&&!Te.equalFilterParameters(r.filtering,n.getCombinedFilter())&&xa(this,"filtering"),xa(this,"columns")}updateSortingGrouping(e,r){var n=this,i,a,o=function(v,f,u){te(v,(c,d)=>{if(delete d[u],f)for(var _=0;_<f.length;_++){var{selector:g}=f[_],{isExpanded:y}=f[_];if(g===d.dataField||g===d.name||g===d.selector||g===d.calculateCellValue||g===d.calculateGroupValue||g===d.calculateDisplayValue){r?d.sortOrder="sortOrder"in d?d.sortOrder:f[_].desc?"desc":"asc":d.sortOrder=d.sortOrder||(f[_].desc?"desc":"asc"),y!==void 0&&(d.autoExpandGroup=y),d[u]=_;break}}})};if(e){i=Te.normalizeSortingInfo(e.sort());var s=Te.normalizeSortingInfo(e.group()),l=n.getGroupDataSourceParameters(),p=n.getSortDataSourceParameters(),h=!Te.equalSortParameters(s,l,!0),m=!h&&!Te.equalSortParameters(s,l);n._columns.length||(te(s,(v,f)=>{n._columns.push(f.selector)}),te(i,(v,f)=>{Me(f.selector)||n._columns.push(f.selector)}),Iu(n,Eu(n,n._columns))),(r||!l&&!n._hasUserState)&&(h||m)&&(o(n._columns,s,"groupIndex"),r&&(h&&xa(n,"grouping"),m&&xa(n,"groupExpanding"),a=!0)),(r||!p&&!n._hasUserState)&&!Te.equalSortParameters(i,p)&&(o(n._columns,i,"sortIndex"),r&&(xa(n,"sorting"),a=!0)),a&&Xc(n)}}updateFilter(e,r,n,i){if(!Array.isArray(e))return e;if(e=Y([],e),n=e.columnIndex!==void 0?e.columnIndex:n,i=e.filterValue!==void 0?e.filterValue:i,tt(e[0])&&e[0]!=="!"){var a=this.columnOption(e[0]);r?ur().forceIsoDateParsing&&a&&a.serializeValue&&e.length>1&&(e[e.length-1]=a.serializeValue(e[e.length-1],"filter")):a&&a.selector&&(e[0]=a.selector,e[0].columnIndex=a.index)}else Me(e[0])&&(e[0].columnIndex=n,e[0].filterValue=i,e[0].selectedFilterOperation=e.selectedFilterOperation);for(var o=0;o<e.length;o++)e[o]=this.updateFilter(e[o],r,n,i);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,r,n,i){var a=this,o=a._columns.concat(a._commandColumns),s=AO(o,e);if(s){if(arguments.length===1)return Y({},s);if(tt(r)){if(arguments.length===2)return M0(a,s,r);M0(a,s,r,n,i)}else rt(r)&&te(r,(l,p)=>{M0(a,s,l,p,i)});Xc(a)}}clearSorting(){var e=this.columnCount();this.beginUpdate();for(var r=0;r<e;r++)this.columnOption(r,"sortOrder",void 0),delete AO(this._columns,r).sortOrder;this.endUpdate()}clearGrouping(){var e=this.columnCount();this.beginUpdate();for(var r=0;r<e;r++)this.columnOption(r,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(e,r){for(var n=this.getVisibleColumns(r),i=n.length-1;i>=0;i--)if(n[i].index===e)return i;return-1}getVisibleIndexByColumn(e,r){var n=this.getVisibleColumns(r),i=n.filter(a=>a.index===e.index&&a.command===e.command)[0];return n.indexOf(i)}getVisibleColumnIndex(e,r){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,r)}addColumn(e){var r=Hg(this,e),n=this._columns.length;this._columns.push(r),r.isBand&&(this._columns=Eu(this,this._columns),r=this._columns[n]),r.added=e,Gs(this,r),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(e){var r=this.columnOption(e);if(r&&r.index>=0){if(AK(this._columns),this._columns.splice(r.index,1),r.isBand){var n=this.getChildrenByBandColumn(r.index).map(i=>i.index);this._columns=this._columns.filter(i=>n.indexOf(i.index)<0)}Gs(this),this.updateColumns(this._dataSource)}}addCommandColumn(e){var r=this._commandColumns.filter(n=>n.command===e.command)[0];r||(r=e,this._commandColumns.push(r))}getUserState(){var e=this._columns,r=[],n;function i(a,o){e[n][o]!==void 0&&(r[n][o]=e[n][o])}for(n=0;n<e.length;n++)r[n]={},te(Dv,i);return r}setName(e){e.name=e.name||e.dataField||e.type}setUserState(e){var r=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(e==null||e.forEach(this.setName),!n){n=[];var i=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),this.option("sorting.mode")==="none"&&n.push("sortIndex","sortOrder"),i.allowGrouping||n.push("groupIndex"),i.allowFixing||n.push("fixed","fixedPosition"),i.allowResizing||n.push("width","visibleWidth");var a=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&a&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&a&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,xa(this,"filtering"),this.init(!0),r&&(r.sort(this.getSortDataSourceParameters()),r.group(this.getGroupDataSourceParameters()))}_checkColumns(){var e={},r=!1,n=[];this._columns.forEach(i=>{var a,{name:o}=i,s=(a=i.columns)===null||a===void 0?void 0:a.length,l=i.allowEditing&&(i.dataField||i.setCellValue)&&!s;o?(e[o]&&n.push('"'.concat(o,'"')),e[o]=!0):l&&(r=!0)}),n.length&&Et.log("E1059",n.join(", ")),r&&Et.log("E1060")}_createCalculatedColumnOptions(e,r){var n={},{dataField:i}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,i=null),i){if(tt(i)){var a=er(i);n={caption:wl(i),calculateCellValue(o,s){var l=a(o);return this.deserializeValue&&!s?this.deserializeValue(l):l},setCellValue:IK,parseValue(o){var s,l;return this.dataType==="number"?tt(o)&&this.format?s=RK(o.trim(),this.format):q(o)&&qt(o)&&(s=Number(o)):this.dataType==="boolean"?o===this.trueText?s=!0:o===this.falseText&&(s=!1):Te.isDateType(this.dataType)?(l=_t.parse(o,this.format),l&&(s=l)):s=o,s}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return Al.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(o,s){var l;return this.calculateFilterExpression&&(l=this.calculateFilterExpression.apply(this,arguments)),Me(l)&&(l=[l,"=",!0]),l&&(l.columnIndex=this.index,l.filterValue=o,l.selectedFilterOperation=s),l},(!i||!tt(i))&&Y(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),r&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue(o,s){return this.valueExpr&&(o=this.valueMap&&this.valueMap[o]),this.deserializeValue&&!s?this.deserializeValue(o):o},updateValueMap(){if(this.valueMap={},this.items)for(var o=er(this.valueExpr),s=er(this.displayExpr),l=0;l<this.items.length;l++){var p=this.items[l],h=s(p);this.valueMap[o(p)]=h,this.dataType=this.dataType||R0(h)}},update(){var o=this,{dataSource:s}=o;if(s)if(Me(s)&&!Fn.isWrapped(s)&&(s=s({})),yt(s)||s instanceof La||Array.isArray(s)){if(o.valueExpr){var l=Oc(s);return l.paginate=!1,s=new Va(l),s.load().done(p=>{o.items=p,o.updateValueMap&&o.updateValueMap()})}}else Et.log("E1016");else o.updateValueMap&&o.updateValueMap()}}),n.resizedCallbacks=Ht(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),te(n,o=>{if(Me(n[o])&&o.indexOf("default")!==0){var s="default".concat(o.charAt(0).toUpperCase()).concat(o.substr(1));n[s]=n[o]}}),n}getRowCount(){return this._rowCount=this._rowCount||OK(this),this._rowCount}getRowIndex(e,r){var n=this._columns[e],i=this.getBandColumnsCache();return n&&(r||n.visible&&!(n.command||q(n.groupIndex)))?rl(e,i.columnParentByIndex).length:0}getChildrenByBandColumn(e,r){var n=this.getBandColumnsCache(),i=hK(e,n.columnChildrenByIndex,!r);return r?i.filter(a=>a.visible&&!a.command).sort((a,o)=>a.visibleIndex-o.visibleIndex):i}isParentBandColumn(e,r){var n=!1,i=this._columns[e],a=this.getBandColumnsCache(),o=i&&rl(e,a.columnParentByIndex);return o&&te(o,(s,l)=>{if(l.index===r)return n=!0,!1}),n}isParentColumnVisible(e){var r=!0,n=this.getBandColumnsCache(),i=e>=0&&rl(e,n.columnParentByIndex);return i&&te(i,(a,o)=>(r=r&&o.visible,r)),r}getColumnId(e){return e.command&&e.type===ds?aw(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index}getCustomizeTextByDataType(e){return xO(e)}getHeaderContentAlignment(e){var r=this.option("rtlEnabled");return r?e==="left"?"right":"left":e}}var DO={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:he.format("dxDataGrid-trueText"),falseText:he.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:PK}};Qe.registerModule("columns",{defaultOptions:()=>Y(!0,{},DO.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:DO.controllers});var Om=function(t,e){var r=e(t);if(rt(r))try{return JSON.stringify(r)}catch{return r}return r},MK=function(t,e,r,n){var i=Om(t,n);return e[r[i]]},BK=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0},oB=function(t,e,r,n){var i={},a={},o=0,s=0,l=[];t.forEach(function(g,y){var b=Om(g,r);i[b]=y}),e.forEach(function(g,y){var b=Om(g,r);a[b]=y});for(var p=Math.max(t.length,e.length),h=0;h<p+o;h++){var m=e[h],v=h-o+s,f=t[v],u=!m||f&&!MK(f,e,a,r);if(u)f&&(l.push({type:"remove",key:r(f),index:h,oldItem:f}),s++,h--);else{var c=Om(m,r),d=i[c],_=t[d];if(!_)o++,l.push({type:"insert",data:m,index:h});else if(d===v)n(_,m)||l.push({type:"update",data:m,key:r(m),index:h,oldItem:_});else return}}return l},LK={load:()=>ae().reject(),loadSingle:()=>ae().reject(),loadFromStore:()=>ae().reject(),loadNextPage:()=>ae().reject(),loadOptions:oe,userData:oe,cancel:oe,cancelAll:oe,filter:oe,addSearchFilter:oe,group:oe,paginate:oe,pageSize:oe,pageIndex:oe,resetDataSourcePageIndex:oe,totalCount:oe,isLastPage:oe,isLoading:oe,isLoaded:oe,searchValue:oe,searchOperation:oe,searchExpr:oe,select:oe,key:oe,keyOf:oe,store:oe,items:oe,applyMapFunction:oe,getDataSource:oe,reload:oe,on:oe,off:oe};let FK=class{constructor(e){if(!e)return LK;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,r){return arguments.length<2&&(r=e,e=this.key()),this._dataSource.loadSingle(e,r)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,r){this._dataSource.on(e,r)}off(e,r){this._dataSource.off(e,r)}};var RO="_dataSourceOptions",PO="_dataSourceChangedHandler",MO="_dataSourceLoadErrorHandler",BO="_dataSourceLoadingChangedHandler",LO="_dataSourceFromUrlLoadMode",FO="_getSpecificDataSourceOption",NO="_normalizeDataSource",$g={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t=FO in this?this[FO]():this.option("dataSource"),e,r;this._disposeDataSource(),t&&(t instanceof Va?(this._isSharedDataSource=!0,this._dataSource=t):(e=RO in this?this[RO]():{},r=this._dataSourceType?this._dataSourceType():Va,t=Oc(t,{fromUrlLoadMode:LO in this&&this[LO]()}),this._dataSource=new r(Y(!0,{},e,t))),NO in this&&(this._dataSource=this[NO](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var t,e=(t=this.option)===null||t===void 0?void 0:t.call(this,"_dataController"),r=this._dataSource;e?this._dataController=e:this._dataController=new FK(r)},_addDataSourceHandlers:function(){PO in this&&this._addDataSourceChangeHandler(),MO in this&&this._addDataSourceLoadErrorHandler(),BO in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",(function(t){this._ready&&this._ready(!t)}).bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[PO](t.items(),e)}).bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[MO].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[BO].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var t=this._dataSource;t&&(t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load())},_loadSingle:function(t,e){return t=t==="this"?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},VO=function(t,e,r){var n=t._dataSource;if(n){if(r!==void 0){var i=t._getPagingOptionValue(e);if(i!==r){e==="pageSize"&&n.pageIndex(0),n[e](r),t._skipProcessingPagingChange=!0,t.option("paging.".concat(e),r),t._skipProcessingPagingChange=!1;var a=n.pageIndex();return t._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{t._isPaging=!1,t.pageChanged.fire(a)})}return ae().resolve().promise()}return n[e]()}return 0},NK=ar.Controller.inherit($g);let VK=class extends NK{init(){var e=this;e._items=[],e._cachedProcessedItems=null,e._columnsController=this.getController("columns"),e._isPaging=!1,e._currentOperationTypes=null,e._dataChangedHandler=r=>{e._currentOperationTypes=this._dataSource.operationTypes(),e._handleDataChanged(r),e._currentOperationTypes=null},e._columnsChangedHandler=e._handleColumnsChanged.bind(e),e._loadingChangedHandler=e._handleLoadingChanged.bind(e),e._loadErrorHandler=e._handleLoadError.bind(e),e._customizeStoreLoadOptionsHandler=e._handleCustomizeStoreLoadOptions.bind(e),e._changingHandler=e._handleChanging.bind(e),e._dataPushedHandler=e._handleDataPushed.bind(e),e._columnsController.columnsChanged.add(e._columnsChangedHandler),e._isLoading=!1,e._isCustomLoading=!1,e._repaintChangesOnly=void 0,e._changes=[],e.createAction("onDataErrorOccurred"),e.dataErrorOccurred.add(r=>e.executeAction("onDataErrorOccurred",{error:r})),e._refreshDataSource()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){var r=e.value!==e.previousValue;if(r){var n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){var r=this,n,i;function a(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){a();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":a();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":a(),r.reset();break;case"paging":if(n=r.dataSource(),n&&(i=r._setPagingOptions(n),i)){var o=n.pageIndex();this._isPaging=i.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,r.pageChanged.fire(o)})}a();break;case"rtlEnabled":r.reset();break;case"columns":n=r.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,r){if(!this._dataSource)return e;var n=e??this._dataSource.filter(),i=this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined();if(i){var a=this._calculateAdditionalFilter();n=a?Te.combineFilters([a,n]):n}var o=this._dataSource.remoteOperations().filtering||r;return n=this._columnsController.updateFilter(n,o),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new ae,this._readyDeferred):Ve()}_endUpdateCore(){var e=this._changes;if(e.length){this._changes=[];var r=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:r})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var r,n=this._columnsController,i=this._dataSource,{storeLoadOptions:a}=e;e.isCustomLoading&&!a.isLoadingAll||(a.filter=this.combinedFilter(a.filter),((r=a.filter)===null||r===void 0?void 0:r.length)===1&&a.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(i),this._columnsUpdating=!0,n.updateSortingGrouping(i,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,a.sort=n.getSortDataSourceParameters(),a.group=n.getGroupDataSourceParameters(),i.sort(a.sort),i.group(a.group),a.sort=n.getSortDataSourceParameters(!i.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!i.remoteOperations().grouping))}_handleColumnsChanged(e){var r=this,{changeTypes:n}=e,{optionNames:i}=e,a,o,s;if(n.sorting||n.grouping)r._dataSource&&!r._columnsUpdating&&(r._dataSource.group(r._columnsController.getGroupDataSourceParameters()),r._dataSource.sort(r._columnsController.getSortDataSourceParameters()),r.reload());else if(n.columns&&(o=r._columnsController.columnOption(e.columnIndex,"filterValues"),(i.filterValues||i.filterType&&Array.isArray(o)||i.filterValue||i.selectedFilterOperation||i.allowFiltering)&&(a=r._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(o)||e.columnIndex===void 0||q(a)||!i.selectedFilterOperation||i.filterValue)&&(r._applyFilter(),s=!0)),!r._needApplyFilter&&!Te.checkChanges(i,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&r._columnsController.columnsChanged.add(function p(h){var m;r._columnsController.columnsChanged.remove(p),r.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:(m=h==null?void 0:h.changeTypes)===null||m===void 0?void 0:m.virtualColumnsScrolling})}),q(i.visible))){var l=r._columnsController.columnOption(e.columnIndex);l&&(q(l.filterValue)||q(l.filterValues))&&(r._applyFilter(),s=!0)}!s&&n.filtering&&r.reload()}_handleDataChanged(e){var r=this,n=r._dataSource,i=r._columnsController,a=!1;this._useSortingGroupingFromColumns=!1,n&&!r._isDataSourceApplying&&(r._isDataSourceApplying=!0,Ve(r._columnsController.applyDataSource(n)).done(()=>{r._isLoading&&r._handleLoadingChanged(!1),a&&e&&e.isDelayed&&(e.isDelayed=!1),r._isDataSourceApplying=!1;var o=r._needApplyFilter;r._needApplyFilter=!1,o&&!r._isAllDataTypesDefined&&(s=r._calculateAdditionalFilter(),s&&s.length)?(Et.log("W1005",r.component.NAME),r._applyFilter()):r.updateItems(e,!0);var s}).fail(()=>{r._isDataSourceApplying=!1}),r._isDataSourceApplying&&(a=!0,r._handleLoadingChanged(!0)),r._needApplyFilter=!r._columnsController.isDataSourceApplied(),r._isAllDataTypesDefined=i.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.dataErrorOccurred.fire(Et.Error.apply(Et,r))}_setPagingOptions(e){var r=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),a=this.option("scrolling.mode"),o=a==="infinite",s=a==="virtual",l=i||s||o,p=!1,h=!1,m=!1;return e.requireTotalCount(!o),i!==void 0&&e.paginate()!==l&&(e.paginate(l),p=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),h=!0),r!==void 0&&e.pageIndex()!==r&&(e.pageIndex(r),m=!0),p||h||m?{isPaginateChanged:p,isPageSizeChanged:h,isPageIndexChanged:m}:!1}_getSpecificDataSourceOption(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){var e=this._dataSource;super._initDataSource();var r=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,r){var n=this._setPagingOptions(r);this._isPaging=n==null?void 0:n.isPageIndexChanged,this.setDataSource(r)}else e&&this.updateItems()}_loadDataSource(){var e=this,r=e._dataSource,n=new ae;return Ve(this._columnsController.refresh(!0)).always(()=>{r?r.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){var r=this._items,n=e.changeType==="append"&&r.length>0?r[r.length-1]:null;return q(n==null?void 0:n.dataIndex)?n.dataIndex+1:0}_processItems(e,r){var n=this,i=n.getRowIndexDelta(),{changeType:a}=r,o=n._columnsController.getVisibleColumns(null,a==="loadingAll"),s=this.getDataIndex(r),l={visibleColumns:o,dataIndex:s},p=[];return te(e,(h,m)=>{q(m)&&(l.rowIndex=h-i,m=n._processItem(m,l),p.push(m))}),p}_processItem(e,r){return e=this._generateDataItem(e,r),e=this._processDataItem(e,r),e.dataIndex=r.dataIndex++,e}_generateDataItem(e,r){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,r){return e.values=this.generateDataValues(e.data,r.visibleColumns),e}generateDataValues(e,r,n){for(var i=[],a,o=0;o<r.length;o++){var s=r[o];a=n?void 0:null,s.command||(s.calculateCellValue?a=s.calculateCellValue(e):s.dataField&&(a=e[s.dataField])),i.push(a)}return i}_applyChange(e){e.changeType==="update"?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?this._applyChangesOnly(e):e.changeType==="refresh"&&this._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){var r=e.rowIndices.slice(0),n=this.getRowIndexDelta();r.sort((o,s)=>o-s);for(var i=0;i<r.length;i++){var a=r[i];e.allowInvisibleRowIndices&&(a+=n),a<0&&(r.splice(i,1),i--)}return r}_applyChangeUpdate(e){var r=this,{items:n}=e,i=r._getRowIndices(e),a=r.getRowIndexDelta(),o=r.option("repaintChangesOnly"),s=-1,l=0,p;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var h=function(m,v,f){var u=m&&v&&Jt(m.key,v.key);return u&&f&&(u=m.rowType===v.rowType&&(v.rowType!=="detail"||m.isEditing===v.isEditing)),u};te(i,(m,v)=>{var f;if(v+=l+a,s!==v){s=v;var u=r._items[v],c=r._items[v+1],d=n[v],_=n[v+1],g=h(u,c)||h(d,_);if(d&&(d.rowIndex=v,e.items.push(d)),u&&d&&h(u,d,g))p="update",r._items[v]=d,u.visible!==d.visible?e.items.splice(-1,1,{visible:d.visible}):o&&!e.isFullUpdate&&(f=r._partialUpdateRow(u,d,v-a));else if(d&&!u||_&&h(u,_,g))p="insert",r._items.splice(v,0,d),l++;else if(u&&!d||c&&h(d,c,g))p="remove",r._items.splice(v,1),l--,s=-1;else if(d)p="update",r._items[v]=d;else return;e.rowIndices.push(v-a),e.changeTypes.push(p),e.columnIndices.push(f)}})}_isCellChanged(e,r,n,i,a){if(JSON.stringify(e.values[i])!==JSON.stringify(r.values[i]))return!0;function o(s,l){return s.modifiedValues?s.modifiedValues[l]!==void 0:!1}return o(e,i)!==o(r,i)}_getChangedColumnIndices(e,r,n,i){var a;if(e.rowType===r.rowType){if(r.rowType!=="group"&&r.rowType!=="groupFooter"&&(a=[],r.rowType!=="detail"))for(var o=0;o<e.values.length;o++)this._isCellChanged(e,r,n,o,i)&&a.push(o);r.rowType==="group"&&r.isExpanded===e.isExpanded&&e.cells&&(a=e.cells.map((s,l)=>{var p;return((p=s.column)===null||p===void 0?void 0:p.type)!=="groupExpand"?l:-1}).filter(s=>s>=0))}return a}_partialUpdateRow(e,r,n,i){var a=this._getChangedColumnIndices(e,r,n,i);return a!=null&&a.length&&this.option("dataRowTemplate")&&(a=void 0),a&&(e.cells&&e.cells.forEach((o,s)=>{var l=a.indexOf(s)>=0;!l&&o&&o.update&&o.update(r)}),r.update=e.update,r.watch=e.watch,r.cells=e.cells,i&&(r.oldValues=e.values),e.update&&e.update(r)),a}_isItemEquals(e,r){var n,i,a,o;if(JSON.stringify(e.values)!==JSON.stringify(r.values)||["modified","isNewRow","removed","isEditing"].some(h=>e[h]!==r[h]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var s=e.isExpanded===r.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(r.summaryCells),p=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((i=r.data)===null||i===void 0?void 0:i.isContinuation)&&((a=e.data)===null||a===void 0?void 0:a.isContinuationOnNextPage)===((o=r.data)===null||o===void 0?void 0:o.isContinuationOnNextPage);if(!s||!l||!p)return!1}return!0}_applyChangesOnly(e){var r,n=[],i=[],a=[],o=[],s={},l=(r=e==null?void 0:e.isLiveUpdate)!==null&&r!==void 0?r:!0;function p(f){if(f)return"".concat(f.rowType,",").concat(JSON.stringify(f.key))}var h=this._items,m=h.slice();e.items.forEach((f,u)=>{var c=p(f);s[c]=u,f.rowIndex=u});var v=oB(m,e.items,p,(f,u)=>this._isItemEquals(f,u)?(f.cells&&(f.update&&f.update(u),f.cells.forEach(c=>{c&&c.update&&c.update(u,!0)})),!0):!1);if(!v){this._applyChangeFull(e);return}v.forEach(f=>{switch(f.type){case"update":var{index:u}=f,c=f.data,{oldItem:d}=f,_=this._partialUpdateRow(d,c,u,l);n.push(u),a.push("update"),o.push(c),h[u]=c,i.push(_);break;case"insert":n.push(f.index),a.push("insert"),o.push(f.data),i.push(void 0),h.splice(f.index,0,f.data);break;case"remove":n.push(f.index),a.push("remove"),h.splice(f.index,1),o.push(f.oldItem),i.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=n,e.columnIndices=i,e.changeTypes=a,e.items=o,m.length&&(e.isLiveUpdate=!0),this._correctRowIndices(f=>{var u=this._rowIndexOffset||0,c=this.getRowIndexOffset(),d=m[f-u],_=p(d),g=s[_];return g>=0?g+c-f:0})}_correctRowIndices(e){}_afterProcessItems(e,r){return e}_updateItemsCore(e){var r,n=this._dataSource,i=e.changeType||"refresh";if(e.changeType=i,n){var a=this._cachedProcessedItems;e.useProcessedItemsCache&&a?r=a:(r=e.items||n.items(),r=this._beforeProcessItems(r),r=this._processItems(r,e),this._cachedProcessedItems=r),r=this._afterProcessItems(r,e),e.items=r;var o=this._items.length===r.length&&this._items;this._applyChange(e);var s=this.getRowIndexDelta();te(this._items,(l,p)=>{var h;p.rowIndex=l-s,o&&(p.cells=(h=o[l].cells)!==null&&h!==void 0?h:[]);var m=r[l];m&&(p.loadIndex=m.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){var r=this.getVisibleRows(),n=this.dataSource();n&&e.changes.forEach(i=>{if(i.type==="insert"&&i.index>=0){for(var a=0,o=0;o<i.index;o++){var s=r[o];s&&(s.rowType==="data"||s.rowType==="group")&&a++}i.index=a}})}updateItems(e,r){var n;if(e=e||{},this._repaintChangesOnly!==void 0)e.repaintChangesOnly=(n=e.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(r){var i=this.dataSource().operationTypes();e.repaintChangesOnly=i&&!i.grouping&&!i.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,i&&(i.reload||i.paging||i.groupExpanding)&&(e.needUpdateDimensions=!0)}if(this._updateLockCount&&!e.cancel){this._changes.push(e);return}this._updateItemsCore(e),!e.cancel&&this._fireChanged(e)}loadingOperationTypes(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),Gr(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var e=this._dataSource;if(e)return e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})}resetFilterApplying(){this._isFilterApplying=!1}filter(e){var r=this._dataSource,n=r&&r.filter();if(arguments.length===0)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!Te.equalFilterParameters(n,e)&&(r&&r.filter(e),this._applyFilter())}clearFilter(e){var r=this._columnsController,n=function(i){for(var a=r.columnCount(),o=0;o<a;o++)r.columnOption(o,i,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":n("filterValues");break;case"row":n("filterValue")}else this.filter(null),this.searchByText(""),n("filterValue"),n("bufferedFilterValue"),n("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var e=this;e.changed.add(function r(){e.changed.remove(r),e.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,r){var n=this._getDataSourceAdapter(),i=n.create(this.component);return i.init(e,r),i}isLocalStore(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store();return e instanceof Tc}isCustomStore(e){return e=e||this.store(),e instanceof Rg}_createDataSourceAdapter(e){var r=this.option("remoteOperations"),n=e.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return rt(r)&&r.groupPaging&&(r=Y({},i,r)),r==="auto"&&(r=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),r===!0&&(r=i),this._createDataSourceAdapterCore(e,r)}setDataSource(e){var r=this._dataSource;!e&&r&&(r.cancelAll(),r.changed.remove(this._dataChangedHandler),r.loadingChanged.remove(this._loadingChangedHandler),r.loadError.remove(this._loadErrorHandler),r.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),r.changing.remove(this._changingHandler),r.pushed.remove(this._dataPushedHandler),r.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var e=this._dataSource;return e&&e.store()}loadAll(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,i=new ae,a=n._dataSource;if(a)if(e){var o={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:r?null:n.getCombinedFilter(),group:a.group(),sort:a.sort()}};a._handleDataLoaded(o),Ve(o.data).done(l=>{var p;l=n._beforeProcessItems(l),i.resolve(n._processItems(l,{changeType:"loadingAll"}),(p=o.extra)===null||p===void 0?void 0:p.summary)}).fail(i.reject)}else if(a.isLoading())i.reject();else{var s=Y({},a.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});a.load(s).done((l,p)=>{l=n._beforeProcessItems(l),l=n._processItems(l,{changeType:"loadingAll"}),i.resolve(l,p&&p.summary)}).fail(i.reject)}else i.resolve([]);return i}getKeyByRowIndex(e,r){var n=this.items(r)[e];if(n)return n.key}getRowIndexByKey(e,r){return Te.getIndexByKey(e,this.items(r))}keyOf(e){var r=this.store();if(r)return r.keyOf(e)}byKey(e){var r=this.store(),n=this.getRowIndexByKey(e),i;if(r)return n>=0&&(i=new ae().resolve(this.items()[n].data)),i||r.byKey(e)}key(){var e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){var r=this,n=new ae,i=[],a=[];return te(e,(o,s)=>{i.push(r.byKey(s).done(l=>{a[o]=l}))}),Ve.apply(V,i).always(()=>{n.resolve(a)}),n}pageIndex(e){return VO(this,"pageIndex",e)}pageSize(e){return VO(this,"pageSize",e)}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var r=this,n=r.getDataSource(),{changesOnly:i}=e,a=new ae,o=function(){r._repaintChangesOnly=!!i};return Ve(!e.lookup||r._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",o),Ve(r.reload(e.reload,i)).always(()=>{n&&n.off("customizeLoadResult",o),r._repaintChangesOnly=void 0}).done(a.resolve).fail(a.reject)):(r.updateItems({repaintChangesOnly:e.changesOnly}),a.resolve())}),a.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,r){e=Array.isArray(e)?e:[e],(e.length>1||q(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!r})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){var e=this.pageIndex(),r=this.pageCount();return e===r-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,r){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,r)}push(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.push(...arguments)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}};var sB={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:VK}};const HK=ar.Controller.inherit(function(){function t(s,l){if(s&&(s=s.slice(0),l))for(var p=0;p<s.length;p++)s[p]=Y({key:s[p].key},s[p]),s[p].items=t(s[p].items,l-1);return s}function e(s,l,p){var h={reload:!0,fullReload:!0};return l&&(h={sorting:!Te.equalSortParameters(s.sort,l.sort),grouping:!Te.equalSortParameters(s.group,l.group,!0),groupExpanding:!Te.equalSortParameters(s.group,l.group)||l.groupExpand,filtering:!Te.equalFilterParameters(s.filter,l.filter),pageIndex:s.pageIndex!==l.pageIndex,skip:s.skip!==l.skip,take:s.take!==l.take,pageSize:s.pageSize!==l.pageSize,fullReload:p,reload:!1,paging:!1},h.reload=p||h.sorting||h.grouping||h.filtering,h.paging=h.pageIndex||h.pageSize||h.take),h}function r(s,l){var p=Te.normalizeSortingInfo(s.group||s.storeLoadOptions.group||s.loadOptions.group).length,h=[];if(n(h,s,p))return h;l&&function(m,v,f){var u,c,d=m.length,{storeLoadOptions:_}=v;if(_.skip!==void 0&&_.take&&!f){var g=[];n(g,v,f,!0);var y=g.length;(d||y)&&(v.skip=(u=v.skip)!==null&&u!==void 0?u:_.skip,v.take=(c=v.take)!==null&&c!==void 0?c:_.take),d&&(_.skip+=d,_.take-=d,v.cachedDataPartBegin=m),y&&(_.take-=y,v.cachedDataPartEnd=g.reverse())}}(h,s,p)}function n(s,l,p,h){var m,v,f,u,c,{storeLoadOptions:d}=l,_=(v=(m=l.take)!==null&&m!==void 0?m:d.take)!==null&&v!==void 0?v:0,g=(f=l.cachedData)===null||f===void 0?void 0:f.items;if(_&&g){for(var y=(c=(u=l.skip)!==null&&u!==void 0?u:d.skip)!==null&&c!==void 0?c:0,b=0;b<_;b++){var C=h?_-1-b:b,w=C+y,x=g[w];if(x===void 0&&w in g)return!0;var A=i(l,x,p,C,_);if(A)s.push(A);else return!1}return!0}return!1}function i(s,l,p,h,m){if(p&&l){var v=h===0&&s.skips||[],f=h===m-1&&s.takes||[];return function u(c,d,_,g){if(d&&c){var y=we({},c),b=_[0]||0,C=g[0],{items:w}=c;if(w){if(C===void 0&&!w[b])return;y.items=[],_.length&&(y.isContinuation=!0),C&&(y.isContinuationOnNextPage=c.count>C);for(var x=0;C===void 0?w[x+b]:x<C;x++){var A=w[x+b],D=x+1===C,P=u(A,d-1,x===0?_.slice(1):[],D?g.slice(1):[]);if(P!==void 0)y.items.push(P);else return}}return y}return c}(l,p,v,f)}return l}function a(s,l,p,h){if(p&&l){var m=we({},l);delete m.isContinuation,delete m.isContinuationOnNextPage;var v=h[0]||0;return l.items&&(m.items=(s==null?void 0:s.items)||{},l.items.forEach((f,u)=>{var c=u+v,d=u===0?h.slice(1):[];m.items[c]=a(m.items[c],f,p-1,d)})),m}return l}var o={init(s,l){var p=this;p._dataSource=s,p._remoteOperations=l||{},p._isLastPage=!s.isLastPage(),p._hasLastPage=!1,p._currentTotalCount=0,p._cachedData={items:{}},p._lastOperationTypes={},p._eventsStrategy=s._eventsStrategy,p._totalCountCorrection=0,p._isLoadingAll=!1,p.changed=Ht(),p.loadingChanged=Ht(),p.loadError=Ht(),p.customizeStoreLoadOptions=Ht(),p.changing=Ht(),p.pushed=Ht(),p._dataChangedHandler=p._handleDataChanged.bind(p),p._customizeStoreLoadOptionsHandler=p._handleCustomizeStoreLoadOptions.bind(p),p._dataLoadedHandler=p._handleDataLoaded.bind(p),p._loadingChangedHandler=p._handleLoadingChanged.bind(p),p._loadErrorHandler=p._handleLoadError.bind(p),p._pushHandler=p._handlePush.bind(p),p._changingHandler=p._handleChanging.bind(p),s.on("changed",p._dataChangedHandler),s.on("customizeStoreLoadOptions",p._customizeStoreLoadOptionsHandler),s.on("customizeLoadResult",p._dataLoadedHandler),s.on("loadingChanged",p._loadingChangedHandler),s.on("loadError",p._loadErrorHandler),s.on("changing",p._changingHandler),s.store().on("beforePush",p._pushHandler),te(s,(h,m)=>{!p[h]&&Me(m)&&(p[h]=function(){return this._dataSource[h].apply(this._dataSource,arguments)})})},remoteOperations(){return this._remoteOperations},dispose(s){var l=this._dataSource,p=l.store();l.off("changed",this._dataChangedHandler),l.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),l.off("customizeLoadResult",this._dataLoadedHandler),l.off("loadingChanged",this._loadingChangedHandler),l.off("loadError",this._loadErrorHandler),l.off("changing",this._changingHandler),p&&p.off("beforePush",this._pushHandler),s||l.dispose()},refresh(s,l){var p=this._dataSource;l.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!p.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache(){this._cachedData={items:{}}},_needClearStoreDataCache(){var s=this.remoteOperations(),l=e(this._lastLoadOptions||{},{}),p=Object.keys(s).every(h=>!l[h]||!s[h]);return!p},push(s,l){var p=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&dl({keyInfo:p,data:this._cachedStoreData,changes:s}),l||this._applyBatch(s),this.pushed.fire(s)},getDataIndexGetter(){if(!this._dataIndexGetter){var s,l,p=this.store();this._dataIndexGetter=h=>{var m=l&&l!==this._cachedStoreData;if(!s||m){l=this._cachedStoreData||[],s={};for(var v=0;v<l.length;v++)s[ua(p.keyOf(l[v]))]=v}return s[ua(p.keyOf(h))]}}return this._dataIndexGetter},_getKeyInfo(){return this.store()},_needToCopyDataObject:()=>!0,_applyBatch(s,l){var p=this._getKeyInfo(),h=this._dataSource,m=Te.normalizeSortingInfo(this.group()).length,v=this.option("editing.refreshMode")==="reshape",f=this.option("scrolling.mode")==="virtual";s=s.filter(_=>!h.paginate()||_.type!=="insert"||_.index!==void 0);var u=()=>m?this.itemsCount():this.items().length,c=u();dl({keyInfo:p,data:this._items,changes:s,groupCount:m,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),dl({keyInfo:p,data:h.items(),changes:s,groupCount:m,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()});var d=this._currentTotalCount>0||(l||!v)&&f;d&&(this._totalCountCorrection+=u()-c),s.splice(0,s.length)},_handlePush(s){var{changes:l}=s;this.push(l,!0)},_handleChanging(s){this.changing.fire(s),this._applyBatch(s.changes,!0)},_needCleanCacheByOperation(s,l){var p=["filtering","sorting","paging"],h=p.indexOf(s),m=h>=0?p.slice(h):[s];return m.some(v=>l[v])},_customizeRemoteOperations(s,l){var p=this._cachedStoreData,h=this._cachedPagingData,m=this._cachedData;(s.storeLoadOptions.filter&&!s.remoteOperations.filtering||s.storeLoadOptions.sort&&!s.remoteOperations.sorting)&&(s.remoteOperations={filtering:s.remoteOperations.filtering,summary:s.remoteOperations.summary}),l.fullReload?(p=void 0,h=void 0,m={items:{}}):(l.reload?(h=void 0,m={items:{}}):l.groupExpanding&&(m={items:{}}),te(l,(v,f)=>{f&&this._needCleanCacheByOperation(v,s.remoteOperations)&&(p=void 0,h=void 0)})),h&&(s.remoteOperations.paging=!1),s.cachedStoreData=p,s.cachedPagingData=h,s.cachedData=m,s.isCustomLoading||(this._cachedStoreData=p,this._cachedPagingData=h,this._cachedData=m)},_handleCustomizeStoreLoadOptions(s){var l;this._handleDataLoading(s),((l=s.data)===null||l===void 0?void 0:l.length)!==0&&(s.data=r(s,!0)||s.cachedStoreData)},_handleDataLoading(s){var l=this._dataSource,p=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(s),s.delay=this.option("loadingTimeout"),s.originalStoreLoadOptions=s.storeLoadOptions,s.remoteOperations=Y({},this.remoteOperations());var h=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(s.delay=void 0);var m=Y({pageIndex:this.pageIndex(),pageSize:this.pageSize()},s.storeLoadOptions),v=e(m,p,h);if(this._customizeRemoteOperations(s,v),!s.isCustomLoading){var f=this._isRefreshing;s.pageIndex=l.pageIndex(),s.lastLoadOptions=m,s.operationTypes=v,this._loadingOperationTypes=v,this._isRefreshing=!0,Ve(f||this._isRefreshed||this.refresh(s,v)).done(()=>{this._lastOperationId===s.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{l.cancel(s.operationId)}).always(()=>{this._isRefreshing=!1}),l.cancel(this._lastOperationId),this._lastOperationId=s.operationId,this._isRefreshing&&l.cancel(this._lastOperationId)}this._handleDataLoadingCore(s)},_handleDataLoadingCore(s){var{remoteOperations:l}=s;s.loadOptions={};var p=s.cachedData.extra,h={filter:!l.filtering,sort:!l.sorting,group:!l.grouping,summary:!l.summary,skip:!l.paging,take:!l.paging,requireTotalCount:p&&"totalCount"in p||!l.paging,langParams:!l.filtering||!l.sorting};te(s.storeLoadOptions,(m,v)=>{h[m]&&(s.loadOptions[m]=v,delete s.storeLoadOptions[m])}),p&&(s.extra=p)},_handleDataLoaded(s){var l,p,{loadOptions:h}=s,m=s.remoteOperations&&!s.remoteOperations.paging,{cachedData:v}=s,{storeLoadOptions:f}=s,u=this.option("cacheEnabled")!==!1&&f,c=u&&!s.isCustomLoading&&v&&(!m||f.group),d=u&&m,_=d&&!s.isCustomLoading;if(!h){this._dataSource.cancel(s.operationId);return}m&&(s.skip=h.skip,s.take=h.take,delete h.skip,delete h.take),h.group&&(h.group=s.group||h.group);var g=Te.normalizeSortingInfo(s.group||f.group||h.group).length;s.cachedDataPartBegin&&(s.data=s.cachedDataPartBegin.concat(s.data)),s.cachedDataPartEnd&&(s.data=s.data.concat(s.cachedDataPartEnd)),(!c||!r(s))&&(d&&s.cachedPagingData?s.data=t(s.cachedPagingData,g):(_&&(this._cachedStoreData?s.mergeStoreLoadData&&(s.data=this._cachedStoreData=this._cachedStoreData.concat(s.data)):this._cachedStoreData=t(s.data,Te.normalizeSortingInfo(f.group).length)),new Tc(s.data).load(h).done(y=>{s.data=y,_&&(this._cachedPagingData=t(s.data,g))}).fail(y=>{s.data=new ae().reject(y)})),h.requireTotalCount&&m&&(s.extra=yt(s.extra)?s.extra:{},s.extra.totalCount=s.data.length),s.extra&&s.extra.totalCount>=0&&(f.requireTotalCount===!1||h.requireTotalCount===!1)&&(s.extra.totalCount=-1),!h.data&&(f.requireTotalCount||((p=(l=s.extra)===null||l===void 0?void 0:l.totalCount)!==null&&p!==void 0?p:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(s),c&&(v.extra=v.extra||Y({},s.extra),Ve(s.data).done(y=>{(function(b,C,w){for(var x,A,D,P,{storeLoadOptions:k}=b,B=(A=(x=b.skip)!==null&&x!==void 0?x:k.skip)!==null&&A!==void 0?A:0,E=(P=(D=b.take)!==null&&D!==void 0?D:k.take)!==null&&P!==void 0?P:0,O=0;O<E;O++){var S=O+B,R=b.cachedData.items,T=O===0&&b.skips||[];R[S]=a(R[S],C[O],w,T)}})(s,y,g)}))),Ve(s.data).done(()=>{s.lastLoadOptions&&(this._lastLoadOptions=s.lastLoadOptions,Object.keys(s.operationTypes).forEach(y=>{this._lastOperationTypes[y]=this._lastOperationTypes[y]||s.operationTypes[y]}))}),s.storeLoadOptions=s.originalStoreLoadOptions},_handleDataLoadedCore(s){s.remoteOperations&&!s.remoteOperations.paging&&Array.isArray(s.data)&&(s.skip!==void 0&&(s.data=s.data.slice(s.skip)),s.take!==void 0&&(s.data=s.data.slice(0,s.take)))},_handleLoadingChanged(s){this.loadingChanged.fire(s)},_handleLoadError(s){this.loadError.fire(s),this.changed.fire({changeType:"loadError",error:s})},_loadPageSize(){return this.pageSize()},_handleDataChanged(s){var l,p=this._dataSource,h=!1,m=!s||q(s.changeType),v=this.itemsCount();m&&(this._isLastPage=!v||!this._loadPageSize()||v<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),p.totalCount()>=0?p.pageIndex()>=this.pageCount()&&(p.pageIndex(this.pageCount()-1),this.pageIndex(p.pageIndex()),this.resetPagesCache(),p.load(),h=!0):m&&(l=p.pageIndex()*this.pageSize()+v,l>this._currentTotalCount&&(this._currentTotalCount=l,(p.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),v===0&&p.pageIndex()>=this.pageCount()&&(p.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(p.load(),h=!0))),h||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(s),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks(s){var l=this;l._isCustomLoading=!0,s.always(()=>{l._isCustomLoading=!1})},loadingOperationTypes(){return this._loadingOperationTypes},operationTypes(){return this._operationTypes},lastLoadOptions(){return this._lastLoadOptions||{}},isLastPage(){return this._isLastPage},_dataSourceTotalCount(){return this._dataSource.totalCount()},totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection(){return this._totalCountCorrection},itemsCount(){return this._dataSource.items().length},totalItemsCount(){return this.totalCount()},pageSize(){var s=this._dataSource;return!arguments.length&&!s.paginate()?0:s.pageSize.apply(s,arguments)},pageCount(){var s=this.totalItemsCount()-this._totalCountCorrection,l=this.pageSize();return l&&s>0?Math.max(1,Math.ceil(s/l)):1},hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore(s,l){var p=this._dataSource,h=new ae;if(p)return l=l||p.store(),l.load(s).done((m,v)=>{m&&!Array.isArray(m)&&Array.isArray(m.data)&&(v=m,m=m.data),h.resolve(m,v)}).fail(h.reject),h},isCustomLoading(){return!!this._isCustomLoading},load(s){var l=this,p=l._dataSource,h=new ae;if(s){var m=p.store(),v=p.loadOptions(),f={storeLoadOptions:Y({},s,{langParams:v==null?void 0:v.langParams}),isCustomLoading:!0};return te(m._customLoadOptions()||[],(u,c)=>{c in f.storeLoadOptions||(f.storeLoadOptions[c]=v[c])}),this._isLoadingAll=s.isLoadingAll,l._scheduleCustomLoadCallbacks(h),p._scheduleLoadCallbacks(h),l._handleCustomizeStoreLoadOptions(f),function(u,c){q(c)?Cg(u,c):u()}(()=>{if(!p.store())return h.reject("canceled");Ve(f.data||l.loadFromStore(f.storeLoadOptions)).done((u,c)=>{f.data=u,f.extra=c||{},l._handleDataLoaded(f),s.requireTotalCount&&f.extra.totalCount===void 0&&(f.extra.totalCount=m.totalCount(f.storeLoadOptions)),Ve(f.data,f.extra.totalCount).done((d,_)=>{f.extra.totalCount=_,h.resolve(d,f.extra)}).fail(h.reject)}).fail(h.reject)},l.option("loadingTimeout")),h.fail(function(){l._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return p.load()},reload(s){return s?this._dataSource.reload():this._dataSource.load()},getCachedStoreData(){return this._cachedStoreData}};return o}());var B0=HK;const ff={extend(t){B0=B0.inherit(t)},create:t=>new B0(t)};var L0,F0,jK=(F0=(L0=sB.controllers)===null||L0===void 0?void 0:L0.data)===null||F0===void 0?void 0:F0.inherit({_getDataSourceAdapter:()=>ff,_getSpecificDataSourceOption(){var t=this.option("dataSource");return t&&!Array.isArray(t)&&this.option("keyExpr")&&Et.log("W1011"),this.callBase()}});Qe.registerModule("data",{defaultOptions:sB.defaultOptions,controllers:{data:jK}});var HO="dx-sort",jO="dx-sort-none",$K="dx-sort-up",zK="dx-sort-down",WK="dx-sort-index",$O="dx-sort-index-icon",UK="action";const lB={_applyColumnState(t){var e,r,n=this.option("sorting.mode"),{rootElement:i}=t,{column:a}=t,o=this._getIndicatorContainer(i);if(t.name==="sort"){i.find(".".concat(HO)).remove(),!o.children().length&&o.remove();var s=n!=="none"&&a.allowSorting;if(!q(a.groupIndex)&&(s||q(a.sortOrder))){e=a.sortOrder==="asc"?"ascending":"descending",r=this.callBase(t).toggleClass($K,a.sortOrder==="asc").toggleClass(zK,a.sortOrder==="desc");var l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");l&&this.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(V("<span>").addClass($O).text(a.sortIndex+1).appendTo(r),r.addClass(WK)),s&&t.rootElement.addClass(this.addWidgetPrefix(UK))}return q(a.sortOrder)?this.setAria("sort",e,i):this.setAria("sort","none",i),r}return this.callBase(t)},_getIndicatorClassName(t){return t==="sort"?HO:t==="sortIndex"?$O:this.callBase(t)},_renderIndicator(t){var{column:e}=t,r=t.container,n=t.indicator;if(t.name==="sort"){var i=this.option("rtlEnabled");if(q(e.sortOrder)||n&&n.addClass(jO),r.children().length&&(!i&&t.columnAlignment==="left"||i&&t.columnAlignment==="right")){r.prepend(n);return}}this.callBase(t)},_updateIndicator(t,e,r){if(!(r==="sort"&&q(e.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements(t,e){var r=this.callBase(t);return e?r:r&&r.not(".".concat(jO))}};var GK="dxDataGridColumnHeadersView",KK=Y({},lB,{_createRow(t){var e=this.callBase(t);return t.rowType==="header"&&X.on(e,Ee(jt,GK),"td",this.createAction(r=>{this._processHeaderAction(r.event,e)})),e},_processHeaderAction(t,e){if(V(t.currentTarget).parent().get(0)===e.get(0)){var r=this,n=null,i=V(t.currentTarget),a=i.parent().index(),o=-1;[].slice.call(r.getCellElements(a)).some((v,f)=>{if(v===i.get(0))return o=f,!0});var s=r._columnsController.getVisibleColumns(a),l=s[o],p=r.getController("editing"),h=r.option("editing.mode"),m=p&&p.isEditing()&&(h==="batch"||h==="cell");m||!r._isSortableElement(V(t.target))||l&&!q(l.groupIndex)&&!l.command&&(t.shiftKey?n="shift":tn(t)&&(n="ctrl"),setTimeout(()=>{r._columnsController.changeSortOrder(l.index,n)}))}},_renderCellContent(t,e){var{column:r}=e;!r.command&&e.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:t,column:r,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(t){var{changeTypes:e}=t;if(e.length===1&&e.sorting){this._updateIndicators("sort");return}this.callBase(t)},optionChanged(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),qK=Y({},lB,{_createGroupPanelItem(t,e){var r=this,n=r.callBase(...arguments);return X.on(n,Ee(jt,"dxDataGridHeaderPanel"),r.createAction(()=>{r._processGroupItemAction(e.index)})),r._applyColumnState({name:"sort",rootElement:n,column:{alignment:r.option("rtlEnabled")?"right":"left",allowSorting:e.allowSorting,sortOrder:e.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),n},_processGroupItemAction(t){setTimeout(()=>this.getController("columns").changeSortOrder(t))},optionChanged(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),XK={defaultOptions:()=>({sorting:{mode:"single",ascendingText:he.format("dxDataGrid-sortingAscendingText"),descendingText:he.format("dxDataGrid-sortingDescendingText"),clearText:he.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:KK,headerPanel:qK}}};Qe.registerModule("sorting",XK);var YK=Ft.abstract,ZK=Ue.real(),uB="scroll",Wx="dxscrollinit",Ux="dxscrollstart",Gx="dxscroll",Kx="dxscrollend",qx="dxscrollstop",Xx="dxscrollcancel",cB=Ft.inherit(function(){var t=Ee(uB,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=r=>{this._disposed||this._scroll(r)},X.on(this._element,t,this._proxiedScroll)},_scroll:YK,check:function(e,r){this._locked&&r()},dispose:function(){this._disposed=!0,X.off(this._element,t,this._proxiedScroll)}}}()),dB=cB.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),zO=dB.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(!Wn(t)){this._lastWheelDirection=null;return}var e=t.shiftKey||!1,r=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!r}}),ow=dB.inherit({ctor:function(t){this.callBase(t,400)}});(function(){var{ios:t,android:e}=ZK;(t||e)&&(ow=cB.inherit({_scroll:function(){this._locked=!0;var r=this;Da(this._scrollFrame),this._scrollFrame=Ih(function(){r._locked=!1})},check:function(r,n){Da(this._scrollFrame),Da(this._checkFrame);var i=this,a=this.callBase;this._checkFrame=Ih(function(){a.call(i,r,n),i._locked=!1})},dispose:function(){this.callBase(),Da(this._scrollFrame),Da(this._checkFrame)}}))})();var QK=df.inherit(function(){var t=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new ow(e),this._wheelLocker=new zO(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new ow(e.scrollTarget),this._wheelLocker=new zO(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,(function(){Wn(e)&&this._accept(e)}).bind(this)),this._pointerLocker.check(e,(function(){var r=this.isNative&&xl(e);!Wn(e)&&!r&&this._accept(e)}).bind(this)),this._fireEvent(Wx,e),this._prevEventData=Er(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=Er(e),this._fireEvent(Ux,e),this._prevEventData=Er(e)},_move:function(e){var r=Er(e);this._fireEvent(Gx,e,{delta:tl(this._prevEventData,r)});var n=tl(this._savedEventData,r);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Er(e)},_end:function(e){var r=tl(this._prevEventData,Er(e)),n={x:0,y:0};if(!Wn(e)&&r.time<100){var i=tl(this._savedEventData,this._prevEventData),a=t/i.time;n={x:i.x*a,y:i.y*a}}this._fireEvent(Kx,e,{velocity:n})},_stop:function(e){this._fireEvent(qx,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(Xx,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Ic({emitter:QK,events:[Wx,Ux,Gx,Kx,qx,Xx]});const ou={init:Wx,start:Ux,move:Gx,end:Kx,stop:qx,cancel:Xx,scroll:uB};var JK=Ft.abstract,hB=Ft.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Da(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=Ih(this._proxiedStepCore)},_step:JK,_isFinished:oe,_stop:oe,_complete:oe,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),sw="dxScrollbar",fB="dx-scrollable-scrollbar",WO="".concat(fB,"-active"),eq="dx-scrollable-scroll",tq="dx-scrollable-scroll-content",rq="dx-scrollbar-hoverable",UO="horizontal",nq=15,Ga={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},$u=null,pB=rn.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:Ga.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(rq,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=V("<div>").addClass(eq),V("<div>").addClass(tq).appendTo(this._$thumb),this.$element().addClass(fB).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===Ga.onHover||t===Ga.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===UO?"width":"height",this._prop=t===UO?"left":"top"},_attachPointerDownHandler:function(){X.on(this._$thumb,Ee(Mt.down,sw),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(WO),$u=this},feedbackOff:function(){this.$element().removeClass(WO),$u=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===Ga.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case Ga.onScroll:break;case Ga.onHover:t=t||!!this._isHovered;break;case Ga.never:t=!1;break;case Ga.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){yt(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),dn(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),r=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(r)&&(r=t,n=e),this._baseContainerToContentRatio=n?r/n:r,this._realContainerToContentRatio=e?t/e:t;var i=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),nq));this._thumbRatio=(t-i)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,i/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===Ga.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return yt(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===$u&&($u=null),X.off(this._$thumb,"."+sw)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:ul(function(){this._adjustVisibility()&&this.option("visible",!0)})});$a.add(function(){X.subscribeGlobal(Ce.getDocument(),Ee(Mt.up,sw),function(){$u&&$u.feedbackOff()})});var mB="dxSimulatedScrollable",iq="dxScrollableStrategy",mp=mB+"Cursor",N0=mB+"Keyboard",V0="dx-scrollable-simulated",aq="dx-scrollable-scrollbars-alwaysvisible",oq="dx-scrollable-scrollbar",ya="vertical",xn="horizontal",Pv=.92,vB=.5,gB=1,sq=Math.round(1e3/60),lq=40,uq=500,cq=gB/5,dq=400,hq=dq/sq,fq=(1-Math.pow(Pv,hq))/(1-Pv),Ka={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},_B=hB.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:gB,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?Pv:vB},_complete:function(){this.scroller._scrollComplete()}}),pq=_B.inherit({VELOCITY_LIMIT:cq,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return Pv},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),yB=Ft.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===xn?"x":"y",this._prop=t.direction===xn?"left":"top",this._dimension=t.direction===xn?"width":"height",this._scrollProp=t.direction===xn?"scrollLeft":"scrollTop",te(t,(e,r)=>{this["_"+e]=r})},_initAnimators:function(){this._inertiaAnimator=new _B(this),this._bounceAnimator=new pq(this)},_initScrollbar:function(){this._scrollbar=new pB(V("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return t===!0?"onScroll":t===!1?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&X.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=t!==void 0?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=t!==void 0?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(lt()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),r=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/r*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Hr(t)[e])},_getBaseDimension:function(t,e){var r="offset"+Eh(e);return t[r]},_moveContentByTranslator:function(t){var e,r=-this._maxScrollPropValue;if(t>0?e=t:t<=r?e=t-r:e=t%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){cf(this._$content);return}dn(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=this._bounceLocation=this._boundLocation(),e=t-this._location;this._velocity=e/fq},_inBounds:function(t){return t=t!==void 0?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:ul(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!Wn(t.originalEvent)){var e=V(t.originalEvent.target),r=this._isScrollbar(e);r&&this._moveToMouseLocation(t),this._thumbScrolling=r||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],r=this._location+e/this._containerToContentRatio()-vt(this._$container)/2;this._scrollStep(-Math.round(r))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=vB),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new ae,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),Mn(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Gr(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Vi(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:vC(function(){var t=this._containerSize(),e=this._contentSize(),r=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);Gr(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:r,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:ul(vC(ul(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var r=this._$content[0]["scroll"+Eh(this._dimension)]*this._getScaleRatio();e=Math.max(r,e)}return e},_validateEvent:function(t){var e=V(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:oe}),Zi,su,bB=Ft.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=V(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass(V0),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(xn)&&this._createScroller(xn),this._isDirection(ya)&&this._createScroller(ya),this._$element.toggleClass(aq,this.option("showScrollbar")==="always")},_createScroller:function(t){this._scrollers[t]=new yB(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var r=this._getPropByDirection(e);if(q(t[r])){var n=this._scrollers[e];t[r]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(r,n){e=r||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){if(Wn(t.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,r){var n=V(t.originalEvent.target),i=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[r]=i})},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[xn]=t,this._validDirections[ya]=t},_eachScroller:function(t){t=t.bind(this),te(this._scrollers,function(e,r){t(r,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){su=this},_resetActive:function(){su===this&&(su=null)},handleMove:function(t){if(this._isLocked()){t.cancel=!0,this._resetActive();return}this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[xn],e.y*=this._validDirections[ya];var r=this._tryGetDevicePixelRatio();r&&Wn(t.originalEvent)&&(e.x=Math.round(e.x/r*100)/100,e.y=Math.round(e.y/r*100)/100)},_tryGetDevicePixelRatio:function(){if(lt())return pt().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){X.off(this._$element,".".concat(N0)),!this.option("disabled")&&this.option("useKeyboard")&&X.on(this._$element,Ee("keydown",N0),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{Cr(t)===Ka.TAB&&this._eachScroller(r=>{r._updateHandler()})}),!!this._$container.is(Ce.getActiveElement(this._$container.get(0)))){var e=!0;switch(Cr(t)){case Ka.DOWN:this._scrollByLine({y:1});break;case Ka.UP:this._scrollByLine({y:-1});break;case Ka.RIGHT:this._scrollByLine({x:1});break;case Ka.LEFT:this._scrollByLine({x:-1});break;case Ka.PAGE_DOWN:this._scrollByPage(1);break;case Ka.PAGE_UP:this._scrollByPage(-1);break;case Ka.HOME:this._scrollToHome();break;case Ka.END:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),r=lq;e&&(r=Math.abs(r/e*100)/100),this.scrollBy({top:(t.y||0)*-r,left:(t.x||0)*-r})},_scrollByPage:function(t){var e=this._wheelProp(),r=this._dimensionByProp(e),n={},i=r==="width"?ot:vt;n[e]=t*-i(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return t==="left"?"width":"height"},_getPropByDirection:function(t){return t===xn?"left":"top"},_scrollToHome:function(){var t=this._wheelProp(),e={};e[t]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),r={},n=e==="width"?ot:vt;r[t]=n(this._$content)-n(this._$container),this._component.scrollTo(r)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(Y(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,r=this._getScrollOffset();return this._scrollOffset={top:e&&r.top,left:t&&r.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),r=Xr(this._scrollers,n=>n["_"+t+"Handler"].apply(n,e));return Ve.apply(V,r).promise()},location:function(){var t=Vi(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){X.off(this._$element,".".concat(mp)),!this.option("disabled")&&this._isHoverMode()&&(X.on(this._$element,Ee("mouseenter",mp),this._cursorEnterHandler.bind(this)),X.on(this._$element,Ee("mouseleave",mp),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(t){t=t||{},t.originalEvent=t.originalEvent||{},!(su||t.originalEvent._hoverHandled)&&(Zi&&Zi._cursorLeaveHandler(),Zi=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){Zi!==this||su===Zi||(this._eventHandler("cursorLeave"),Zi=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(!(!this._isHoverMode()&&(!t||su))){var e=V(t),r=e.closest(".".concat(V0,":not(.dx-state-disabled)")),n=r.length&&r.data(iq);Zi&&Zi!==n&&Zi._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return Ve(t,Mn(()=>{var e=this._allowedDirections();return Gr(()=>{var r=e.vertical?"pan-x":"";r=e.horizontal?"pan-y":r,r=e.vertical&&e.horizontal?"none":r,this._$container.css("touchAction",r)}),Ve().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[ya],r=this._scrollers[xn];return{vertical:e&&(e._minOffset<0||t),horizontal:r&&(r._minOffset<0||t)}},_updateBounds:function(){this._scrollers[xn]&&this._scrollers[xn]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==ya},updateRtlPosition:function(t){if(t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),r=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===r&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=r}},_getWindowDevicePixelRatio:function(){return lt()?pt().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers[ya],r=this._scrollers[xn];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),r&&(t.left=r._boundLocation(t.left+r._location)-r._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return Wn(t)&&tn(t)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:Wn(t)?this._validateWheel(t):this._validateMove(t)},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],r=e._reachedMin(),n=e._reachedMax(),i=!r||!n,a=!r&&!n,o=r&&t.delta>0,s=n&&t.delta<0,l=i&&(a||o||s);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},uq)),l},_validateMove:function(t){return!this.option("scrollByContent")&&!V(t.target).closest(".".concat(oq)).length?!1:this._allowedDirection()},getDirection:function(t){return Wn(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===xn?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case xn:return xn;case ya:return ya;default:return t&&t.shiftKey?xn:ya}},dispose:function(){this._resetActive(),Zi===this&&(Zi=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(V0),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){X.off(this._$element,".".concat(mp)),X.off(this._$container,".".concat(N0))}}),GO="dxNativeScrollable",H0="dx-scrollable-native",mq="dx-scrollable-scrollbar-simulated",vq="dx-scrollable-scrollbars-hidden",Yc="vertical",vp="horizontal",gq=500,Yx=Ft.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=V(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=Ue.real(),e=t.platform;this._$element.addClass(H0).addClass(H0+"-"+e).toggleClass(vq,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(mq),this._renderScrollbar(Yc),this._renderScrollbar(vp)},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new pB(V("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:oe,handleStart:oe,handleMove:function(t){if(this._isLocked()){t.cancel=!0;return}this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:oe,handleCancel:oe,handleStop:oe,_eachScrollbar:function(t){t=t.bind(this),te(this._scrollbars||{},function(e,r){t(r,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection(Yc)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(Yc)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection(vp)?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection(vp)?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return t!=="never"&&t!==!1},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar(function(r){r.moveTo({top:-t,left:-e}),r.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((function(){this._eachScrollbar(function(t){t.option("visible",!1)})}).bind(this),gq)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:oe,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:vt(this._$container),width:ot(this._$container)},this._componentContentSize={height:vt(this._component.$content()),width:ot(this._component.$content())},this._contentSize={height:vt(this._$content),width:ot(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var r=e===Yc?"height":"width";t.option({containerSize:this._containerSize[r],contentSize:this._componentContentSize[r]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(Yc)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(vp)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp(H0+"\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),X.off(this._$element,"."+GO),X.off(this._$container,"."+GO),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return this.option("disabled")||Wn(t)&&this._isScrolledInMaxDirection(t)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(t){var e=this._$container.get(0),r;return t.delta>0?r=t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?r=e.scrollLeft>=this._getMaxOffset().left:r=e.scrollTop>=this._getMaxOffset().top,r},getDirection:function(){return this._allowedDirection()}}),CB=function(){return[{device:function(){return!Il},options:{useNative:!1}},{device:function(t){return!Ue.isSimulator()&&Ue.real().deviceType==="desktop"&&t.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:El,showScrollbar:"onHover"}}]};function wB(t,e){for(var r={left:0,top:0},n=e;(i=n)!==null&&i!==void 0&&i.offsetParent&&!n.classList.contains(t);){var i,a=n.offsetParent,o=n.getBoundingClientRect(),s=a.getBoundingClientRect();r.left+=o.left-s.left,r.top+=o.top-s.top,n=n.offsetParent}return r}var Mv="vertical",xB="horizontal",j0="both",SB="dx-scrollable-content";function _q(t,e,r,n,i){var a=we({top:0,left:0,right:0,bottom:0},i),o=e===Mv,s=o?"top":"left",l=o?"bottom":"right",p=o?"height":"width",h=r["offset".concat(Eh(p))],m=r["client".concat(Eh(p))],v=r.getBoundingClientRect()[p],f=t.getBoundingClientRect()[p],u=1;Math.abs(v-h)>1&&(u=v/h);var c=wB(SB,t)[s]/u,d=n[s],_=d-c+a[s],g=d-c-f/u+m-a[l];return _<=0&&g>=0?d:d-(Math.abs(_)>Math.abs(g)?g:_)}var Sa="dxScrollable",yq="dxScrollableStrategy",KO="dx-scrollable",bq="dx-scrollable-disabled",Cq="dx-scrollable-container",wq="dx-scrollable-wrapper",qO="dx-scrollable-content",ba="vertical",qa="horizontal",$0="both",wi=za.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{disabled:!1,onScroll:null,direction:ba,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(CB(),[{device:function(){return Il&&Ue.real().platform==="android"&&!mr.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(KO),e=this._$container=V("<div>").addClass(Cq),r=this._$wrapper=V("<div>").addClass(wq),n=this._$content=V("<div>").addClass(qO);n.append(t.contents()).appendTo(e),e.appendTo(r),r.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:r,clientHeight:n}=V(this.container()).get(0);return{left:t-e,top:r-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};X.off(this._$wrapper,"."+Sa),X.on(this._$wrapper,Ee(ou.init,Sa),e,this._initHandler.bind(this)),X.on(this._$wrapper,Ee(ou.start,Sa),t.handleStart.bind(t)),X.on(this._$wrapper,Ee(ou.move,Sa),t.handleMove.bind(t)),X.on(this._$wrapper,Ee(ou.end,Sa),t.handleEnd.bind(t)),X.on(this._$wrapper,Ee(ou.cancel,Sa),t.handleCancel.bind(t)),X.on(this._$wrapper,Ee(ou.stop,Sa),t.handleStop.bind(t)),X.off(this._$container,"."+Sa),X.on(this._$container,Ee("scroll",Sa),t.handleScroll.bind(t))},_validate:function(t){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(bq,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+qa).removeClass("dx-scrollable-"+ba).removeClass("dx-scrollable-"+$0).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(yq,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new Yx(this):new bB(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(!(!t||!lt())){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");if(t===ba)return"left";if(t===qa)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(yt(t)){var e=vr(t.left,t.x),r=vr(t.top,t.y);return{left:q(e)?-e:void 0,top:q(r)?-r:void 0}}else{var n=this.option("direction");return{left:n!==ba?-t:void 0,top:n!==qa?-t:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===ba?e!==qa:t===qa?e!==ba:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection($0)&&t.vertical&&t.horizontal?this._allowedDirectionValue=$0:this._isDirection(qa)&&t.horizontal?this._allowedDirectionValue=qa:this._isDirection(ba)&&t.vertical?this._allowedDirectionValue=ba:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return et(this._$content)},container:function(){return et(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return vt(this._$container)},scrollHeight:function(){return xt(this.$content())},clientWidth:function(){return ot(this._$container)},scrollWidth:function(){return Pt(this.$content())},update:function(){if(this._strategy)return Ve(this._strategy.update()).done((function(){this._updateAllowedDirection()}).bind(this))},scrollBy:function(t){t=this._normalizeLocation(t),!(!t.top&&!t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var r=this._normalizeLocation({left:e.left-vr(t.left,e.left),top:e.top-vr(t.top,e.top)});!r.top&&!r.left||this._strategy.scrollBy(r)},scrollToElement:function(t,e){var r=V(t),n=this.$content().find(t).length,i=r.parents("."+KO).length-r.parents("."+qO).length===0;if(!(!n||!i)){var a={top:0,left:0},o=this.option("direction");o!==ba&&(a.left=this.getScrollElementPosition(r,qa,e)),o!==qa&&(a.top=this.getScrollElementPosition(r,ba,e)),this.scrollTo(a)}},getScrollElementPosition:function(t,e,r){var n=this.scrollOffset();return _q(t.get(0),e,V(this.container()).get(0),n,r)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!wi.IS_RENOVATED_WIDGET}});Rt(Sa,wi);var xq="rowsview",Sq="content",Eq="nowrap",z0="dx-group-row",XO="dx-group-cell",Iq="dx-data-row",gp="dx-freespace-row",Tq="dx-row-lines",YO="dx-column-lines",ZO="dx-row-alt",QO="dx-last-row-border",Oq="dx-empty",kq="row-inserted-animation",Aq=200;function JO(t){return t?Math.round(t.scrollWidth()-t.clientWidth()):0}function e2(t){var{rowType:e,column:r}=t;return e==="group"&&q(r.groupIndex)&&!r.showWhenGrouped&&!r.command}var Dq=function(t,e){var r=wm(e.text)&&e.rowType==="data",{text:n}=e,i=t.get(0);r?Te.setEmptyText(t):e.column.encodeHtml?i.textContent=n:i.innerHTML=n},Rq=function(t){var e=t.getScrollable();return e?Math.ceil(parseFloat(V(e.content()).css("paddingBottom"))):0};class Pq extends hf{_getDefaultTemplate(e){switch(e.command){case"empty":return function(r){r.html("&nbsp;")};default:return Dq}}_getDefaultGroupTemplate(e){var r=this.option("summary.texts");return function(n,i){var{data:a}=i,o="".concat(i.column.caption,": ").concat(i.text),s=n.get(0);i.summaryItems&&i.summaryItems.length&&(o+=" ".concat(Te.getGroupRowSummaryText(i.summaryItems,r))),a&&(i.groupContinuedMessage&&i.groupContinuesMessage?o+=" (".concat(i.groupContinuedMessage,". ").concat(i.groupContinuesMessage,")"):i.groupContinuesMessage?o+=" (".concat(i.groupContinuesMessage,")"):i.groupContinuedMessage&&(o+=" (".concat(i.groupContinuedMessage,")"))),e.encodeHtml?s.textContent=o:s.innerHTML=o}}_update(e){}_updateCell(e,r){e2(r)&&e.addClass(XO),super._updateCell.apply(this,arguments)}_getCellTemplate(e){var{column:r}=e,n;return e2(e)?n=r.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(r)}:(e.rowType==="data"||r.command)&&r.cellTemplate?n=r.cellTemplate:n={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(r)},n}_createRow(e,r){var n=super._createRow.apply(this,arguments);if(e){var i=e.rowType==="group",a=e.rowType==="data";if(a&&n.addClass(Iq),a&&this.option("showRowLines")&&n.addClass(Tq),this.option("showColumnLines")&&n.addClass(YO),e.visible===!1&&n.hide(),i){n.addClass(z0);var o=e.isExpanded;this.setAria("role","row",n),this.setAria("expanded",q(o)&&o.toString(),n)}}return n}_rowPrepared(e,r,n){r.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(ZO),r.watch&&r.watch(()=>this._isAltRow(n),i=>{e.toggleClass(ZO,i)})),this._setAriaRowIndex(r,e),r.watch&&r.watch(()=>r.rowIndex,()=>this._setAriaRowIndex(r,e))),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,r){var{component:n}=this,i=n.option("scrolling.mode")==="standard"&&!Te.isVirtualRowRendering(n),a=e.rowIndex+1;i?a=n.pageIndex()*n.pageSize()+a:a+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",a,r)}_afterRowPrepared(e){var r=e.args[0],n=this._dataController,i=n.getVisibleRows()[r.rowIndex],a=this.option("integrationOptions.watchMethod");if(!(!r.data||r.rowType!=="data"||r.isNewRow||!this.option("twoWayBindingEnabled")||!a||!i)){var o=a(()=>n.generateDataValues(r.data,r.columns),()=>{n.repaintRows([i.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});X.on(r.rowElement,fa,o)}}_renderScrollable(e){var r=this.element();if(r.children().length||r.append("<div>"),(e||!this._loadPanel)&&this._renderLoadPanel(r,r.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),i=!0,a=0;a<n.length;a++)if(!n[a].width&&!n[a].minWidth){i=!1;break}(this.option("columnAutoWidth")||this._hasHeight||i||this._columnsController._isColumnFixing())&&this._renderScrollableCore(r)}}_handleScroll(e){var r=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var i=e.scrollOffset.left;r&&(this._scrollRight=JO(e.component)-this._scrollLeft,n&&(i=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(we(we({},e.scrollOffset),{left:i}),this.name)}_renderScrollableCore(e){var r=this._createScrollableOptions(),n=this._handleScroll.bind(this);r.onScroll=n,this._scrollable=this._createComponent(e,wi,r),this._scrollableContainer=this._scrollable&&V(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Te.renderLoadPanel.apply(this,arguments)}_renderContent(e,r,n){return e.empty().append(r),this._findContentElement()}_updateContent(e,r,n){return this._contentChanges.push({newTableElement:e,change:r,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{var i=this._contentChanges;this._contentChanges=[],i.forEach(a=>{var{newTableElement:o,change:s,isFixedTableRendering:l}=a,p=this.getTableElement(l),h=this._findContentElement(l),m=s==null?void 0:s.changeType,v=[],f=this.option("highlightChanges"),u=this.addWidgetPrefix(kq);switch(m){case"update":te(s.rowIndices,(c,d)=>{var _,g=this._getRowElements(o).eq(c),y=(_=s.changeTypes)===null||_===void 0?void 0:_[c],b=s.items&&s.items[c];v.push(()=>{var C,w=this._getRowElements(p),x=w.eq(d);switch(y){case"update":if(b){var A=(C=s.columnIndices)===null||C===void 0?void 0:C[c];q(b.visible)&&b.visible!==x.is(":visible")?x.toggle(b.visible):A?this._updateCells(x,g,A):x.replaceWith(g)}break;case"insert":if(w.length)x.length?g.insertBefore(x):g.insertAfter(w.last());else if(p){var D=g.is("tbody")?p:p.children("tbody");g.prependTo(D)}f&&s.isLiveUpdate&&g.addClass(u);break;case"remove":x.remove()}})}),te(v,function(){this()}),o.remove();break;default:this.setTableElement(o,l),h.addClass(this.addWidgetPrefix(Sq)),this._renderContent(h,o,l)}})}).fail(()=>{this._contentChanges=[]})}_createEmptyRow(e,r,n){var i,a=this._createRow(),o=r?this.getFixedColumns():this.getColumns();a.addClass(e).toggleClass(YO,this.option("showColumnLines"));for(var s=0;s<o.length;s++)i=this._createCell({column:o[s],rowType:"freeSpace",columnIndex:s,columns:o}),qt(n)&&i.css("height",n),a.append(i);return this.setAria("role","presentation",a),a}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,r,n){var i=this._getBodies(e),a=!i.length||r.is("tbody"),o=a?e:i;if(n==="top"){if(o.first().prepend(r),a){var s=o.children("colgroup");o.prepend(s)}}else o.last().append(r)}_renderFreeSpaceRow(e,r){var n=this._createEmptyRow(gp);n=this._wrapRowIfNeed(e,n,(r==null?void 0:r.changeType)==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){var r=this,n=r._getRows(e),i=r._dataController.store()&&r._dataController.store().key();i&&n.some(a=>{if(a.rowType==="data"&&a.key===void 0)return r._dataController.fireError("E1046",i),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){e=e||this._tableElement;var r=e.children("tbody").children().not(".dx-virtual-row").not(".".concat(gp));return r.toArray().reduce((n,i)=>n+Hr(i).height,0)}_updateRowHeight(){var e=this.getTableElement(),r=this._dataController.items().length;if(e&&this._needUpdateRowHeight(r)){var n=this._getRowsHeight(e);this._rowHeight=n/r}}_findContentElement(e){var r=this.element(),n=this.getScrollable();if(r)return n&&(r=V(n.content())),r.children().first()}_getRowElements(e){var r=super._getRowElements(e);return r&&r.not(".".concat(gp))}_getFreeSpaceRowElements(e){var r=e||this.getTableElements();return r&&r.children("tbody").children(".".concat(gp))}_getNoDataText(){return this.option("noDataText")}_rowClick(e){var r=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",Y({evaluate(n){var i=er(n);return i(r.data)}},e,r))}_rowDblClick(e){var r=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",Y({},e,r))}_getColumnsCountBeforeGroups(e){for(var r=0;r<e.length;r++)if(e[r].type==="groupExpand")return r;return 0}_getGroupCellOptions(e){var r=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+r;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,r){r.row.rowType==="group"?this._renderGroupedCells(e,r):r.row.values&&super._renderCells(e,r)}_renderGroupedCells(e,r){for(var{row:n}=r,i,{columns:a}=r,{rowIndex:o}=n,s,l=this._getGroupCellOptions(r),p=0;p<=l.columnIndex;p++)p===l.columnIndex&&a[p].allowCollapsing&&r.scrollingMode!=="infinite"?(s=!!n.isExpanded,i=a[p]):(s=null,i={command:"expand",cssClass:a[p].cssClass}),this._needRenderCell(p,r.columnIndices)&&this._renderCell(e,{value:s,row:n,rowIndex:o,column:i,columnIndex:p,columnIndices:r.columnIndices,change:r.change});var h=Ts(this.option("rtlEnabled")),m=Y({},a[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:h});l.colspan>1&&(m.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,r.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:o,column:m,columnIndex:l.columnIndex+1,columnIndices:r.columnIndices,change:r.change})}_renderRows(e,r){var n=this.option("scrolling.mode");super._renderRows(e,Y({scrollingMode:n},r)),this._checkRowKeys(r.change),this._renderFreeSpaceRow(e,r.change),this._hasHeight||this.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,r,n){var{row:i}=r,a=Y({columns:r.columns},i),o=this._createRow(i,"tbody");o.appendTo(e),this.renderTemplate(o,n,a,!0,r.change),this._rowPrepared(o,a,r.row)}_renderRow(e,r){var{row:n}=r,{rowTemplate:i}=this.option(),a=this.option("dataRowTemplate");n.rowType==="data"&&a?this._renderDataRowByTemplate(e,r,a):(n.rowType==="data"||n.rowType==="group")&&!q(n.groupIndex)&&i?this.renderTemplate(e,i,Y({columns:r.columns},n),!0):super._renderRow(e,r)}_renderTable(e){var r=this,n=super._renderTable(e);return q(r.getTableElement())?r._renderScrollable():(r.setTableElement(n),r._renderScrollable(!0),r.resizeCompleted.add(function i(){var a=r.getScrollable();a&&r.element().closest(pt().document).length&&(r.resizeCompleted.remove(i),a._visibilityChanged(!0))})),n}_createTable(){var e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){var r=this.element();r.addClass(this.addWidgetPrefix(xq)).toggleClass(this.addWidgetPrefix(Eq),!this.option("wordWrapEnabled")),r.toggleClass(Oq,this._dataController.isEmpty()),this.setAria("role","presentation",r);var n=this._renderTable({change:e}),i=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,i}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){var{column:r}=e,{row:n}=e,{data:i}=n,a=n&&n.summaryCells,{value:o}=e,s=Te.getDisplayValue(r,o,i,n.rowType),l=super._getCellOptions(e);if(l.value=o,l.oldValue=e.oldValue,l.displayValue=s,l.row=n,l.key=n.key,l.data=i,l.rowType=n.rowType,l.values=n.values,l.text=r.command?"":Te.formatValue(s,r),l.rowIndex=n.rowIndex,l.summaryItems=a&&a[e.columnIndex],l.resized=r.resizedCallbacks,q(r.groupIndex)&&!r.command){var p=this.option("grouping.texts"),h=this.option("scrolling.mode");h!=="virtual"&&h!=="infinite"&&(l.groupContinuesMessage=i&&i.isContinuationOnNextPage&&p&&p.groupContinuesMessage,l.groupContinuedMessage=i&&i.isContinuation&&p&&p.groupContinuedMessage)}return l}_setRowsOpacityCore(e,r,n,i){var a=this._columnsController,o=a.getColumns(),s=o&&o[n],l=s&&s.isBand&&s.index;te(e,(p,h)=>{if(!V(h).hasClass(z0))for(var m=0;m<r.length&&!((qt(l)&&a.isParentBandColumn(r[m].index,l)||r[m].index===n)&&(e.eq(p).children().eq(m).css({opacity:i}),!qt(l)));m++);})}_getDevicePixelRatio(){return pt().devicePixelRatio}renderNoDataText(){return Te.renderNoDataText.apply(this,arguments)}getCellOptions(e,r){var n=this._dataController.items()[e],i,a;return n&&(tt(r)?a=this._columnsController.columnOption(r):a=this._columnsController.getVisibleColumns()[r],a&&(i=this._getCellOptions({value:a.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:a}))),i}getRow(e){if(e>=0){var r=this._getRowElements();if(r.length>e)return V(r[e])}}updateFreeSpaceRowHeight(e){var r=this._dataController,n=r.items(!0).length,i=this._findContentElement(),a=this._getFreeSpaceRowElements(e);if(a&&i&&r.totalCount()>=0){var o=!1;if(n>0)if(this._hasHeight)a.hide(),Mn(()=>{var p=this.getScrollbarWidth(!0),h=vt(this.element())-p,m=xt(i),v=h-m>0,f=this._getRowsHeight(i.children().first()),u=e||this.getTableElements(),c=Math.ceil(parseFloat(u.css("borderTopWidth"))),d=this._getHeightCorrection(),_=h-f-c-d;v&&Gr(()=>{a.css("height",_),o=!0,a.show()}),Gr(()=>this._updateLastRowBorder(o))});else{var s=r.pageSize()-n,l=this.option("scrolling.mode");s>0&&r.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(K_(a,s*this._rowHeight),o=!0),!o&&e?K_(a,0):a.toggle(o),this._updateLastRowBorder(o)}else a.css("height",0),a.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var e=mr.webkit&&this._getDevicePixelRatio()>=2,r=mr.chrome&&mr.version>=91,n=mr.mozilla&&mr.version>=70&&!this.option("showRowLines");return e||n||r?1:0}_columnOptionChanged(e){var{optionNames:r}=e;e.changeTypes.grouping||(r.width||r.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}init(){var e=this,r=e.getController("data");super.init(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._scrollRight=0,e._hasHeight=!1,e._contentChanges=[],r.loadingChanged.add((n,i)=>{e.setLoading(n,i)}),r.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_handleDataChanged(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return ot(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){var r=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return r&&(e?(n=r.clientHeight?r.offsetHeight-r.clientHeight:0,n+=Rq(this)):n=r.clientWidth?r.offsetWidth-r.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){for(var e=this._lastColumnWidths||[],r=[],n=this.getColumns(),i=0;i<n.length;i++)r[i]=n[i].visibleWidth,n[i].resizedCallbacks&&!q(n[i].groupIndex)&&e[i]!==r[i]&&n[i].resizedCallbacks.fire(r[i]);this._lastColumnWidths=r}_updateLastRowBorder(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(QO):this.element().removeClass(QO)}_updateScrollable(){var e=wi.getInstance(this.element());e&&(e.update(),(e.option("useNative")||!(e!=null&&e.isRenovated()))&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var e=this.getScrollable(),r=e&&e.scrollOffset().left,n=this.option("rtlEnabled");if(n){var i=JO(e),a=i-r;a!==this._scrollRight&&(this._scrollLeft=i-this._scrollRight)}this._scrollLeft>=0&&r!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),Gr(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),Mn(()=>{e._updateScrollable()})})}scrollTo(e){var r=this.element(),n=r&&wi.getInstance(r);n&&n.scrollTo(e)}height(e){var r=this.element();if(arguments.length===0)return r?xt(r,!0):0;q(e)&&r&&(this.hasHeight(e!=="auto"),K_(r,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,r){var n=this._loadPanel,i=this._dataController,a=this.option("loadPanel")||{},o=i.isLoaded()?a.animation:null,s=this.element();if(lt()&&(!n&&r!==void 0&&i.isLocalStore()&&a.enabled==="auto"&&s&&(this._renderLoadPanel(s,s.parent()),n=this._loadPanel),n)){var l={message:r||a.text,animation:o,visible:e};e&&(l.position=Te.calculateLoadPanelPosition(s)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(()=>{n.option(l)},Aq):n.option(l)}}setRowsOpacity(e,r){var n=this._getRowElements().not(".".concat(z0))||[];this._setRowsOpacityCore(n,this.getColumns(),e,r)}_getCellElementsCore(e){var r=super._getCellElementsCore.apply(this,arguments);if(r){var n=r.filter(".".concat(XO)).index();if(n>=0&&r.length>n+1)return r.slice(0,n+1)}return r}_getBoundaryVisibleItemIndex(e,r){var n=0,i=0,a=0,o=this._scrollTop,s=this._findContentElement(),l=s&&s.offset().top,p=this.getController("data"),h=p.items(),m=this.getTableElement();if(h.length&&m){var v=this._getRowElements(m).filter(":visible");if(!e){var f=xt(this._hasHeight?this.element():pt());o+=f}for(n=0;n<h.length;n++){i=a;var u=V(v).eq(n);if(u.length&&(a=u.offset(),a=(e?a.top:a.top+xt(u))-l,a>o)){n&&(r||2*o<Math.round(a+i))&&n--;break}}n&&n===h.length&&n--}return n}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){var e=this.getTopVisibleItemIndex(),r=this._dataController.items();if(r[e])return r[e].data}_scrollToElement(e,r){var n=this.getScrollable();n&&n.scrollToElement(e,r)}optionChanged(e){switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),e.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,e.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":this.renderNoDataText(),e.handled=!0}}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(){}_restoreErrorRow(){}}var EB={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:he.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:he.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:Pq}};EB.views.rowsView;Qe.registerModule("rows",EB);var t2="dx-inkripple",r2="dx-inkripple-wave",IB="dx-inkripple-showing",TB="dx-inkripple-hiding",Mq=2,Bq=4e3,W0=300,Lq=1e3,OB=0,kB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:r,isCentered:n,wavesNumber:i}=t;return{waveSizeCoefficient:r||Mq,isCentered:n||!1,wavesNumber:i||1,durations:Hq(e??!0)}},Zx=function(t){var e=kB(t);return{showWave:DB.bind(this,e),hideWave:PB.bind(this,e)}},Fq=function(t){var e=t.children("."+t2);return e.length===0&&(e=V("<div>").addClass(t2).appendTo(t)),e},AB=function(t,e){for(var r=Fq(V(t)),n=r.children("."+r2).toArray(),i=n.length;i<e;i++){var a=V("<div>").appendTo(r).addClass(r2);n.push(a[0])}return V(n)},Nq=function(t,e){var r=V(e.element),n=Pt(r),i=xt(r),a=parseInt(Math.sqrt(n*n+i*i)),o=Math.min(Bq,parseInt(a*t.waveSizeCoefficient)),s,l;if(t.isCentered)s=(n-o)/2,l=(i-o)/2;else{var p=e.event,h=r.offset(),m=p.pageX-h.left,v=p.pageY-h.top;s=m-o/2,l=v-o/2}return{left:s,top:l,height:o,width:o}};function DB(t,e){var r=AB(e.element,t.wavesNumber).eq(e.wave||OB);t.hidingTimeout&&clearTimeout(t.hidingTimeout),RB(r),r.css(Nq(t,e)),t.showingTimeout=setTimeout(Vq.bind(this,t,r),0)}function Vq(t,e){var r=t.durations.showingScale+"ms";e.addClass(IB).css("transitionDuration",r)}function Hq(t){return{showingScale:t?Lq:W0,hidingScale:W0,hidingOpacity:W0}}function RB(t){t.removeClass(TB).css("transitionDuration","")}function PB(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var r=AB(e.element,e.wavesNumber).eq(e.wave||OB),n=t.durations,i=n.hidingScale+"ms, "+n.hidingOpacity+"ms";r.addClass(TB).removeClass(IB).css("transitionDuration",i);var a=Math.max(n.hidingScale,n.hidingOpacity);t.hidingTimeout=setTimeout(RB.bind(this,r),a)}var Zc="dx-icon",jq="dx-svg-icon",pf=t=>!t||typeof t!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(t)?"fontIcon":!1,Io=t=>{switch(pf(t)){case"image":return V("<img>").attr("src",t).addClass(Zc);case"fontIcon":return V("<i>").addClass("".concat(Zc," ").concat(t));case"dxIcon":return V("<i>").addClass("".concat(Zc," ").concat(Zc,"-").concat(t));case"svg":return V("<i>").addClass("".concat(Zc," ").concat(jq)).append(t);default:return null}};function $q(t){return class{constructor(){throw new Error("Module '".concat(t,"' not found"))}static getInstance(){}}}var n2=$q("TextBox");const Dl={_getDefaultOptions:function(){return Y(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),r=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){t.removeClass(n),this._removeSearchBox();return}var i=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(i):(t.addClass(n),this._$searchEditorElement=V("<div>").addClass(r).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,n2,i))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),r=he.format("Search");return Y({mode:"search",placeholder:r,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":r},onValueChanged:function(n){var i=t.option("searchTimeout");t._valueChangeDeferred=new ae,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done((function(){this.option("searchValue",n.value)}).bind(t)),n.event&&n.event.type==="input"&&i?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},i):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return t==="equals"?"=":t},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){Et.log("W1009");return}t.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_cleanAria:function(){var t=this.$element();this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){n2=t}};var{ios:zq,mac:Wq}=Ue.real(),Uq=zq||Wq,Gq=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch{e={start:0,end:0}}return e},Kq=function(t,e){var r=Ce.getBody();if(!(!r.contains(t)&&!r.contains(t.getRootNode().host)))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch{}},MB=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t=V(t).get(0),!q(e))return Gq(t);!r&&Uq&&Ce.getActiveElement(t)!==t||Kq(t,e)},Tu=" ",BB=Ft.inherit({ctor:function(t){this._value=Tu,Y(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:oe,value:oe,rawValue:oe,handle:oe,_prepareHandlingArgs:function(t,e){var r,n,i;e=e||{};var a=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[a]=(r=e.str)!==null&&r!==void 0?r:t[a],t.start=(n=e.start)!==null&&n!==void 0?n:t.start,t.length=(i=e.length)!==null&&i!==void 0?i:t.length,t.index=t.index+1,t},reset:oe,clear:oe,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,r){return e?this._adjustedForward(t,0,r):this._adjustedBackward(t,0,r)},_adjustedForward:oe,_adjustedBackward:oe,isValid:oe}),qq=BB.inherit({next:oe,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),LB=BB.inherit({text:function(){return(this._value!==Tu?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var r=e[0],n=e.substring(1);return this._tryAcceptChar(r,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(Tu,t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),!!this._isAllowed(t,e)){var r=t===Tu?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+r+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return this._value===Tu?t||0:this.callBase(t)},_isAllowed:function(t,e){return t===Tu?!0:this._isValid(t,e)},_isValid:function(t,e){var r=this.allowedChars;return r instanceof RegExp?r.test(t):Me(r)?r(t,e.index,e.fullText):Array.isArray(r)?r.includes(t):r===t},isAccepted:function(t){return t===0?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,r){return e>=t?e:this.next()._adjustedForward(t,e+1,r)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),i2=LB.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),r=e?t.value:t.text;if(!r.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=r[0],i=r.substring(1);this._tryAcceptChar(n);var a=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:i,length:t.length-1}):t;return this.next().handle(a)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,r){return e>=t&&r===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,r)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}}),Wr={valid:"valid",invalid:"invalid",pending:"pending"};class ks{constructor(){this.NAME="base"}defaultMessage(e){return he.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return he.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!mf.required.validate(e,{})}validate(e,r){var n=Array.isArray(e)?e:[e],i=!0;return n.length?n.every(a=>(i=this._validate(a,r),i)):i=this._validate(null,r),i}}class Xq extends ks{constructor(){super(),this.NAME="required"}_validate(e,r){return!q(e)||e===!1?!1:(e=String(e),(r.trim||!q(r.trim))&&(e=e.trim()),e!=="")}}class Yq extends ks{constructor(){super(),this.NAME="numeric"}_validate(e,r){return r.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:r.useCultureSettings&&tt(e)?!isNaN(nr.parse(e)):qt(e)}}class Zq extends ks{constructor(){super(),this.NAME="range"}_validate(e,r){if(r.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=mf.numeric.validate(e,r),i=q(e)&&e!=="",a=n?parseFloat(e):i&&e.valueOf(),o=r.min,s=r.max;if(!(n||Kn(e))&&!i)return!1;if(q(o))return q(s)?a>=o&&a<=s:a>=o;if(q(s))return a<=s;throw Yt.Error("E0101")}}class Qq extends ks{constructor(){super(),this.NAME="stringLength"}_validate(e,r){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(r.trim||!q(r.trim))&&(e=e.trim()),r.ignoreEmptyValue&&this._isValueEmpty(e)?!0:mf.range.validate(e.length,Y({},r))}}class FB extends ks{constructor(){super(),this.NAME="custom"}validate(e,r){if(r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=r.validator,i=n&&Me(n.option)&&n.option("dataGetter"),a=Me(i)&&i(),o={value:e,validator:n,rule:r};return a&&Y(o,a),r.validationCallback(o)}}class Jq extends FB{constructor(){super(),this.NAME="async"}validate(e,r){if(q(r.reevaluate)||Y(r,{reevaluate:!0}),r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=r.validator,i=n&&Me(n.option)&&n.option("dataGetter"),a=Me(i)&&i(),o={value:e,validator:n,rule:r};a&&Y(o,a);var s=r.validationCallback(o);if(!xc(s))throw Yt.Error("E0103");return this._getWrappedPromise(cn(s).promise())}_getWrappedPromise(e){var r=new ae;return e.then(function(n){r.resolve(n)},function(n){var i={isValid:!1};q(n)&&(tt(n)?i.message=n:rt(n)&&q(n.message)&&tt(n.message)&&(i.message=n.message)),r.resolve(i)}),r.promise()}}class eX extends ks{constructor(){super(),this.NAME="compare"}_validate(e,r){if(!r.comparisonTarget)throw Yt.Error("E0102");if(r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;Y(r,{reevaluate:!0});var n=r.comparisonTarget(),i=r.comparisonType||"==";switch(i){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class tX extends ks{constructor(){super(),this.NAME="pattern"}_validate(e,r){if(r.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=r.pattern;return tt(n)&&(n=new RegExp(n)),n.test(e)}}class rX extends ks{constructor(){super(),this.NAME="email"}_validate(e,r){return r.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:mf.pattern.validate(e,Y({},r,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var mf={required:new Xq,numeric:new Yq,range:new Zq,stringLength:new Qq,custom:new FB,async:new Jq,compare:new eX,pattern:new tX,email:new rX},nX=Ft.inherit({ctor(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Hl(this)},validate(){var t={isValid:!0,brokenRules:[],validators:[],status:Wr.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),te(this.validators,(e,r)=>{var n=r.validate();t.isValid=t.isValid&&n.isValid,n.brokenRules&&(t.brokenRules=t.brokenRules.concat(n.brokenRules)),t.validators.push(r),n.status===Wr.pending&&this._addPendingValidator(r),this._subscribeToChangeEvents(r)}),this._pendingValidators.length?t.status=Wr.pending:(t.status=t.isValid?Wr.valid:Wr.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),Y({},this._validationInfo.result)},_subscribeToChangeEvents(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){te(this.validators,(t,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(t){this._validationInfo.result=t,t.status===Wr.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new ae,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(t){var e=Nn(this._pendingValidators,function(r){return r===t})[0];e||this._pendingValidators.push(t)},_removePendingValidator(t){var e=this._pendingValidators.indexOf(t);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(t){var e=[];return te(this.validators,function(r,n){var i=Nn(t,function(a){return a.validator===n});i.length&&(e=e.concat(i))}),e},_updateBrokenRules(t){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,r=Nn(e,function(n){return n.validator!==t.validator});t.brokenRules&&(e=r.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(t){if(t.status===Wr.pending){this._addPendingValidator(t.validator);return}this._resolveIfComplete(t)},_resolveIfComplete(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Wr.valid:Wr.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Wr.valid;var e=Y({},this._validationInfo.result,{complete:null}),r=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),r&&setTimeout(()=>{r.resolve(e)})}},_raiseValidatedEvent(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(t){var e=this.validators.indexOf(t);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator(t){this.validators.includes(t)||(this.validators.push(t),this._synchronizeValidationInfo())},reset(){te(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),Gt={groups:[],getGroupConfig(t){var e=Nn(this.groups,function(r){return r.group===t});if(e.length)return e[0]},findGroup(t,e){var r,n,i=(r=t.data())===null||r===void 0||(n=r.dxComponents)===null||n===void 0?void 0:n.includes("dxValidationGroup"),a=i&&t.dxValidationGroup("instance");if(a)return a;var o=t.parents(".dx-validationgroup").first();return o.length?o.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(t){var e=this.getGroupConfig(t);return e||(e=new nX(t),this.groups.push(e)),e},removeGroup(t){var e=this.getGroupConfig(t),r=this.groups.indexOf(e);return r>-1&&this.groups.splice(r,1),e},_setDefaultMessage(t){var{rule:e,validator:r,name:n}=t;q(e.message)||(r.defaultFormattedMessage&&q(n)?e.message=r.defaultFormattedMessage(n):e.message=r.defaultMessage())},_addBrokenRule(t){var{result:e,rule:r}=t;e.brokenRule||(e.brokenRule=r),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(r)},validate(t,e,r){var n,i={name:r,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:Wr.valid,complete:null},a=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,o=[];return te(e||[],(s,l)=>{var p=mf[l.type],h;if(p){if(q(l.isValid)&&l.value===t&&!l.reevaluate)return l.isValid?!0:(i.isValid=!1,this._addBrokenRule({result:i,rule:l}),!1);if(l.value=t,l.type==="async")return o.push({rule:l,ruleValidator:p}),!0;if(h=p.validate(t,l),l.isValid=h,h||(i.isValid=!1,this._setDefaultMessage({rule:l,validator:p,name:r}),this._addBrokenRule({result:i,rule:l})),!l.isValid)return!1}else throw Yt.Error("E0100")}),i.isValid&&!i.brokenRules&&o.length&&(i=this._validateAsyncRules({value:t,items:o,result:i,name:r})),this._synchronizeGroupValidationInfo(a,i),i.status=i.pendingRules?Wr.pending:i.isValid?Wr.valid:Wr.invalid,i},_synchronizeGroupValidationInfo(t,e){var r;if(t){var n=Gt.getGroupConfig(t._validationGroup);n._updateBrokenRules.call(n,{validator:t,brokenRules:(r=e.brokenRules)!==null&&r!==void 0?r:[]})}},_validateAsyncRules(t){var{result:e,value:r,items:n,name:i}=t,a=[];return te(n,(o,s)=>{var l=s.ruleValidator.validate(r,s.rule);if(!xc(l))this._updateRuleConfig({rule:s.rule,ruleResult:this._getPatchedRuleResult(l),validator:s.ruleValidator,name:i});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(s.rule);var p=l.then(h=>{var m=this._getPatchedRuleResult(h);return this._updateRuleConfig({rule:s.rule,ruleResult:m,validator:s.ruleValidator,name:i}),m});a.push(p)}}),a.length&&(e.complete=Promise.all(a).then(o=>this._getAsyncRulesResult({result:e,values:o}))),e},_updateRuleConfig(t){var{rule:e,ruleResult:r,validator:n,name:i}=t;e.isValid=r.isValid,r.isValid||(q(r.message)&&tt(r.message)&&r.message.length?e.message=r.message:this._setDefaultMessage({rule:e,validator:n,name:i}))},_getPatchedRuleResult(t){var e;return rt(t)?(e=Y({},t),q(e.isValid)||(e.isValid=!0)):e={isValid:wh(t)?t:!0},e},_getAsyncRulesResult(t){var{values:e,result:r}=t;return te(e,(n,i)=>{if(i.isValid===!1){r.isValid=i.isValid;var a=r.pendingRules[n];this._addBrokenRule({result:r,rule:a})}}),r.pendingRules=null,r.complete=null,r.status=r.isValid?Wr.valid:Wr.invalid,r},registerValidatorInGroup(t,e){var r=Gt.addGroup(t);r.registerValidator.call(r,e)},_shouldRemoveGroup(t,e){var r=t===void 0,n=t&&t.NAME==="dxValidationGroup";return!r&&!n&&!e.length},removeRegisteredValidator(t,e){var r=Gt.getGroupConfig(t);if(r){r.removeRegisteredValidator.call(r,e);var n=r.validators;this._shouldRemoveGroup(t,n)&&this.removeGroup(t)}},initValidationOptions(t){var e={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(r=>{r in t&&Y(e,this.synchronizeValidationOptions({name:r,value:t[r]},t))}),e},synchronizeValidationOptions(t,e){var{name:r,value:n}=t;switch(r){case"validationStatus":var i=n===Wr.valid||n===Wr.pending;return e.isValid!==i?{isValid:i}:{};case"isValid":var{validationStatus:a}=e,o=a;return n&&a===Wr.invalid?o=Wr.valid:!n&&a!==Wr.invalid&&(o=Wr.invalid),o!==a?{validationStatus:o}:{};case"validationErrors":var s=!n||!n.length?null:n[0];return e.validationError!==s?{validationError:s}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(t){var e=Gt.getGroupConfig(t);if(!e)throw Yt.Error("E0110");return e.validate()},resetGroup(t){var e=Gt.getGroupConfig(t);if(!e)throw Yt.Error("E0110");return e.reset()}};Gt.initGroups();var _p="dx-invalid-message",iX="dx-invalid-message-auto",aX="dx-invalid-message-always",oX="dx-invalid-message-content",sX=100,Qx=da.inherit({_getDefaultOptions(){return Y(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:t}=this.option();this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass(_p),this.$wrapper().addClass(_p)):(this.$element().removeClass(_p),this.$wrapper().removeClass(_p))},_updateContentId(){var{container:t,contentId:e}=this.option(),r=e??V(t).attr("aria-describedby");this.$content().addClass(oX).attr("id",r)},_renderInnerHtml(t){var e=t&&V(t);e==null||e.html(this._textMarkup)},_getTextMarkup(){var t,e=(t=this.option("validationErrors"))!==null&&t!==void 0?t:[],r="";return e.forEach(n=>{var i,a=r?"<br />":"";r+=a+b3((i=n==null?void 0:n.message)!==null&&i!==void 0?i:"")}),r},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass(iX,t==="auto").toggleClass(aX,t==="always")},updateMaxWidth(){var t=this.option("target"),e=Pt(t),r="100%";e&&(r=Math.max(e,sX)),this.option({maxWidth:r})},_getPositionsArray:function(t,e){switch(t){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var{positionSide:t,rtlEnabled:e,offset:r,boundary:n}=this.option(),i=Ts(e),a=this._getPositionsArray(t,i),o=we({},r);this.$element().addClass("dx-invalid-message-".concat(t)),e&&t!=="left"&&t!=="right"&&(o.h=-o.h),t==="top"&&(o.v=-o.v),t==="left"&&(o.h=-o.h),this.option("position",{offset:o,boundary:n,my:a[0],at:a[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:r,previousValue:n}=t;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",r);break;case"mode":this._toggleModeClass(r);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(n)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});Rt("dxValidationMessage",Qx);var a2="dx-invalid-message-auto",lX="dx-state-readonly",uX="dx-invalid",cX="dx-show-invalid-badge",o2="dx-validation-target",dX="valid",s2="invalid",hX="editorReadOnly",fX=["outlined","filled","underlined"],l2={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},ha=rn.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Ht(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&br(e[0],o2,this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(Gt.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var t=this.$element();t.addClass(cX)},_getDefaultOptions:function(){return Y(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:dX,validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var r,n=(r=this._validationMessage)===null||r===void 0?void 0:r.$wrapper();n==null||n.removeClass(a2),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n==null?void 0:n.addClass(a2),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),r=fX.map(o=>e+o);r.forEach(o=>this.$element().removeClass(o));var n=e+t;if(r.indexOf(n)===-1){var i=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(a||i)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass(uX,t),this.setAria(s2,t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&this.option("validationStatus")!==s2,e=this._getValidationErrors(),r=this.$element();if(this._toggleValidationClasses(!t),!(!lt()||this.option("_showValidationMessage")===!1)&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:n,validationMessageOffset:i,validationBoundary:a,rtlEnabled:o}=this.option();this._$validationMessage=V("<div>").appendTo(r);var s="dx-".concat(new Lr);this.setAria("describedby",s),this._validationMessage=new Qx(this._$validationMessage,Y({validationErrors:e,rtlEnabled:o,target:this._getValidationMessageTarget(),visualContainer:r,mode:n,positionSide:this._getValidationMessagePosition(),offset:i,boundary:a,contentId:s},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass(lX,!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),r=Ee("keydown",hX);X.off(e,r),t&&X.on(e,r,n=>{Cr(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var t=this.$element()[0];br(t,o2,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:r,value:n}=t,i=l2[r]?l2[r]:r;(e=this._validationMessage)===null||e===void 0||e.option(i,n)},_hasActiveElement:oe,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;case"_showValidationMessage":break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&Ec()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});ha.isEditor=t=>t instanceof ha;class zg{constructor(e,r,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=r,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=V("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:r,$container:n}=this;r?r.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:r}=this;return r.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:r}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),r&&r.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:r,$element:n}=this._create();this.instance=r,this._attachEvents(r,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var pX=Mt.down,mX="dx-state-invisible",vX="dx-clear-button-area",gX="dx-icon-clear",_X="dx-icon",yX="dx-show-clear-button";class bX extends zg{_create(){var e=V("<span>").addClass(vX).append(V("<span>").addClass(_X).addClass(gX));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,r){var{editor:n}=this,i=n.NAME;X.on(r,Ee(pX,i),a=>{a.preventDefault(),a.pointerType!=="mouse"&&n._clearValueHandler(a)}),X.on(r,Ee(jt,i),a=>n._clearValueHandler(a))}_legacyRender(e,r){e.toggleClass(yX,r)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:r,instance:n}=this,i=r.$element(),a=this._isVisible();n&&n.toggleClass(mX,!a),this._legacyRender(i,a)}}var Rh=Array.isArray;function Bv(t){var e=typeof t;return e==="string"||e==="number"}function Kt(t){return t==null}function Ph(t){return t===null||t===!1||t===!0||t===void 0}function Tr(t){return typeof t=="function"}function Mh(t){return typeof t=="string"}function CX(t){return typeof t=="number"}function qn(t){return t===null}function wX(t){return t===void 0}function As(t,e){var r={};if(t)for(var n in t)r[n]=t[n];if(e)for(var i in e)r[i]=e[i];return r}function Jx(t){return!qn(t)&&typeof t=="object"}var hn={},xX="$F";function eS(t){return t.substr(2).toLowerCase()}function NB(t,e){t.appendChild(e)}function tS(t,e,r){qn(r)?NB(t,e):t.insertBefore(e,r)}function SX(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function EX(t,e,r){t.replaceChild(e,r)}function VB(t,e){t.removeChild(e)}function HB(t){for(var e=0;e<t.length;e++)t[e]()}function IX(t,e,r){var n=t.children;return r&4?n.$LI:r&8192?t.childFlags===2?n:n[e?0:n.length-1]:n}function $i(t,e){for(var r;t;){if(r=t.flags,r&2033)return t.dom;t=IX(t,e,r)}return null}function vf(t,e){do{var r=t.flags;if(r&2033){VB(e,t.dom);return}var n=t.children;if(r&4&&(t=n.$LI),r&8&&(t=n),r&8192)if(t.childFlags===2)t=n;else{for(var i=0,a=n.length;i<a;++i)vf(n[i],e);return}}while(t)}function jB(t,e,r){do{var n=t.flags;if(n&2033){tS(e,t.dom,r);return}var i=t.children;if(n&4&&(t=i.$LI),n&8&&(t=i),n&8192)if(t.childFlags===2)t=i;else{for(var a=0,o=i.length;a<o;++a)jB(i[a],e,r);return}}while(t)}function $B(t,e,r){return t.constructor.getDerivedStateFromProps?As(r,t.constructor.getDerivedStateFromProps(e,r)):r}var Bh={v:!1},u2={componentComparator:null,createVNode:null,renderComplete:null};function Xd(t,e){t.textContent=e}function zB(t,e){return Jx(t)&&t.event===e.event&&t.data===e.data}function WB(t,e){for(var r in e)wX(t[r])&&(t[r]=e[r]);return t}function rS(t,e){return!!Tr(t)&&(t(e),!0)}var Yd="$";function Wg(t,e,r,n,i,a,o,s){this.childFlags=t,this.children=e,this.className=r,this.dom=null,this.flags=n,this.key=i===void 0?null:i,this.props=a===void 0?null:a,this.ref=o===void 0?null:o,this.type=s}function Br(t,e,r,n,i,a,o,s){var l=i===void 0?1:i,p=new Wg(l,n,r,t,o,a,s,e);return l===0&&GB(p,p.children),p}function TX(t,e,r){if(t&4)return r;var n=(t&32768?e.render:e).defaultHooks;return Kt(n)?r:Kt(r)?n:WB(r,n)}function OX(t,e,r){var n=(t&32768?e.render:e).defaultProps;return Kt(n)?r:Kt(r)?As(n,null):WB(r,n)}function kX(t,e){return t&12?t:e.prototype&&e.prototype.render?4:e.render?32776:8}function sr(t,e,r,n,i){t=kX(t,e);var a=new Wg(1,null,null,t,n,OX(t,e,r),TX(t,e,i),e);return a}function gf(t,e){return new Wg(1,Kt(t)||t===!0||t===!1?"":t,null,16,e,null,null,null)}function Do(t,e,r){var n=Br(8192,8192,null,t,e,null,r,null);switch(n.childFlags){case 1:n.children=Ug(),n.childFlags=2;break;case 16:n.children=[gf(t)],n.childFlags=4;break}return n}function hi(t){var e=t.props;if(e){var r=t.flags;r&481&&(e.children!==void 0&&Kt(t.children)&&GB(t,e.children),e.className!==void 0&&(Kt(t.className)&&(t.className=e.className||null),e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(r&8?t.ref=As(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function AX(t){var e=t.children,r=t.childFlags;return Do(r===2?fn(e):e.map(fn),r,t.key)}function fn(t){var e=t.flags&-16385,r=t.props;if(e&14&&!qn(r)){var n=r;r={};for(var i in n)r[i]=n[i]}return e&8192?AX(t):new Wg(t.childFlags,t.children,t.className,e,t.key,r,t.ref,t.type)}function Ug(){return gf("",null)}function UB(t,e,r,n){for(var i=t.length;r<i;r++){var a=t[r];if(!Ph(a)){var o=n+Yd+r;if(Rh(a))UB(a,e,0,o);else{if(Bv(a))a=gf(a,o);else{var s=a.key,l=Mh(s)&&s[0]===Yd;(a.flags&81920||l)&&(a=fn(a)),a.flags|=65536,l?s.substring(0,n.length)!==n&&(a.key=n+s):qn(s)?a.key=o:a.key=n+s}e.push(a)}}}}function DX(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case xX:return 8192;default:return 1}}function GB(t,e){var r,n=1;if(Ph(e))r=e;else if(Bv(e))n=16,r=e;else if(Rh(e)){for(var i=e.length,a=0;a<i;++a){var o=e[a];if(Ph(o)||Rh(o)){r=r||e.slice(0,a),UB(e,r,a,"");break}else if(Bv(o))r=r||e.slice(0,a),r.push(gf(o,Yd+a));else{var s=o.key,l=(o.flags&81920)>0,p=qn(s),h=Mh(s)&&s[0]===Yd;l||p||h?(r=r||e.slice(0,a),(l||h)&&(o=fn(o)),(p||h)&&(o.key=Yd+a),r.push(o)):r&&r.push(o),o.flags|=65536}}r=r||e,r.length===0?n=1:n=8}else r=e,r.flags|=65536,e.flags&81920&&(r=fn(e)),n=2;return t.children=r,t.childFlags=n,t}function Gg(t){return Ph(t)||Bv(t)?gf(t,null):Rh(t)?Do(t,0,null):t.flags&16384?fn(t):t}var Bs="http://www.w3.org/1999/xlink",U0="http://www.w3.org/XML/1998/namespace",c2={"xlink:actuate":Bs,"xlink:arcrole":Bs,"xlink:href":Bs,"xlink:role":Bs,"xlink:show":Bs,"xlink:title":Bs,"xlink:type":Bs,"xml:base":U0,"xml:lang":U0,"xml:space":U0};function Kg(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var KB=Kg(0),lw=Kg(null),qB=Kg(!0);function d2(t,e){var r=e.$EV;return r||(r=e.$EV=Kg(null)),r[t]||++KB[t]===1&&(lw[t]=VX(t)),r}function XB(t,e){var r=e.$EV;r&&r[t]&&(--KB[t]===0&&(document.removeEventListener(eS(t),lw[t]),lw[t]=null),r[t]=null)}function RX(t,e,r,n){if(Tr(r))d2(t,n)[t]=r;else if(Jx(r)){if(zB(e,r))return;d2(t,n)[t]=r}else XB(t,n)}function PX(t){return Tr(t.composedPath)?t.composedPath()[0]:t.target}function YB(t,e,r,n){var i=PX(t);do{if(e&&i.disabled)return;var a=i.$EV;if(a){var o=a[r];if(o&&(n.dom=i,o.event?o.event(o.data,t):o(t),t.cancelBubble))return}i=i.parentNode}while(!qn(i))}function MX(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function BX(){return this.defaultPrevented}function LX(){return this.cancelBubble}function ZB(t){var e={dom:document};return t.isDefaultPrevented=BX,t.isPropagationStopped=LX,t.stopPropagation=MX,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function FX(t){return function(e){if(e.button!==0){e.stopPropagation();return}YB(e,!0,t,ZB(e))}}function NX(t){return function(e){YB(e,!1,t,ZB(e))}}function VX(t){var e=t==="onClick"||t==="onDblClick"?FX(t):NX(t);return document.addEventListener(eS(t),e),e}function HX(t,e){var r=document.createElement("i");return r.innerHTML=e,r.innerHTML===t.innerHTML}function h2(t,e,r){if(t[e]){var n=t[e];n.event?n.event(n.data,r):n(r)}else{var i=e.toLowerCase();t[i]&&t[i](r)}}function _f(t,e){var r=function(n){var i=this.$V;if(i){var a=i.props||hn,o=i.dom;if(Mh(t))h2(a,t,n);else for(var s=0;s<t.length;++s)h2(a,t[s],n);if(Tr(e)){var l=this.$V,p=l.props||hn;e(p,o,!1,l)}}};return Object.defineProperty(r,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),r}function pl(t,e,r){var n="$"+e,i=t[n];if(i){if(i[1].wrapped)return;t.removeEventListener(i[0],i[1]),t[n]=null}Tr(r)&&(t.addEventListener(e,r),t[n]=[e,r])}function nS(t){return t==="checkbox"||t==="radio"}var jX=_f("onInput",iS),$X=_f(["onClick","onChange"],iS);function QB(t){t.stopPropagation()}QB.wrapped=!0;function zX(t,e){nS(e.type)?(pl(t,"change",$X),pl(t,"click",QB)):pl(t,"input",jX)}function iS(t,e){var r=t.type,n=t.value,i=t.checked,a=t.multiple,o=t.defaultValue,s=!Kt(n);r&&r!==e.type&&e.setAttribute("type",r),!Kt(a)&&a!==e.multiple&&(e.multiple=a),!Kt(o)&&!s&&(e.defaultValue=o+""),nS(r)?(s&&(e.value=n),Kt(i)||(e.checked=i)):s&&e.value!==n?(e.defaultValue=n,e.value=n):Kt(i)||(e.checked=i)}function Td(t,e){if(t.type==="option")WX(t,e);else{var r=t.children,n=t.flags;if(n&4)Td(r.$LI,e);else if(n&8)Td(r,e);else if(t.childFlags===2)Td(r,e);else if(t.childFlags&12)for(var i=0,a=r.length;i<a;++i)Td(r[i],e)}}function WX(t,e){var r=t.props||hn,n=t.dom;n.value=r.value,r.value===e||Rh(e)&&e.indexOf(r.value)!==-1?n.selected=!0:(!Kt(e)||!Kt(r.selected))&&(n.selected=r.selected||!1)}var UX=_f("onChange",JB);function GX(t){pl(t,"change",UX)}function JB(t,e,r,n){var i=!!t.multiple;!Kt(t.multiple)&&i!==e.multiple&&(e.multiple=i);var a=t.selectedIndex;a===-1&&(e.selectedIndex=-1);var o=n.childFlags;if(o!==1){var s=t.value;CX(a)&&a>-1&&e.options[a]&&(s=e.options[a].value),r&&Kt(s)&&(s=t.defaultValue),Td(n,s)}}var KX=_f("onInput",e5),qX=_f("onChange");function XX(t,e){pl(t,"input",KX),e.onChange&&pl(t,"change",qX)}function e5(t,e,r){var n=t.value,i=e.value;if(Kt(n)){if(r){var a=t.defaultValue;!Kt(a)&&a!==i&&(e.defaultValue=a,e.value=a)}}else i!==n&&(e.defaultValue=n,e.value=n)}function t5(t,e,r,n,i,a){t&64?iS(n,r):t&256?JB(n,r,i,e):t&128&&e5(n,r,i),a&&(r.$V=e)}function YX(t,e,r){t&64?zX(e,r):t&256?GX(e):t&128&&XX(e,r)}function r5(t){return t.type&&nS(t.type)?!Kt(t.checked):!Kt(t.value)}function pn(){return{current:null}}function Lv(t){t&&!rS(t,null)&&t.current&&(t.current=null)}function yf(t,e,r){t&&(Tr(t)||t.current!==void 0)&&r.push(function(){!rS(t,e)&&t.current!==void 0&&(t.current=e)})}function ia(t,e){mo(t),vf(t,e)}function mo(t){var e=t.flags,r=t.children,n;if(e&481){n=t.ref;var i=t.props;Lv(n);var a=t.childFlags;if(!qn(i))for(var o=Object.keys(i),s=0,l=o.length;s<l;s++){var p=o[s];qB[p]&&XB(p,t.dom)}a&12?Lh(r):a===2&&mo(r)}else r&&(e&4?(Tr(r.componentWillUnmount)&&r.componentWillUnmount(),Lv(t.ref),r.$UN=!0,mo(r.$LI)):e&8?(n=t.ref,!Kt(n)&&Tr(n.onComponentWillUnmount)&&n.onComponentWillUnmount($i(t,!0),t.props||hn),mo(r)):e&1024?ia(r,t.ref):e&8192&&t.childFlags&12&&Lh(r))}function Lh(t){for(var e=0,r=t.length;e<r;++e)mo(t[e])}function km(t){t.textContent=""}function Am(t,e,r){Lh(r),e.flags&8192?vf(e,t):km(t)}function ZX(t){var e=t.event;return function(r){e(t.data,r)}}function QX(t,e,r,n){if(Jx(r)){if(zB(e,r))return;r=ZX(r)}pl(n,eS(t),r)}function JX(t,e,r){if(Kt(e)){r.removeAttribute("style");return}var n=r.style,i,a;if(Mh(e)){n.cssText=e;return}if(!Kt(t)&&!Mh(t)){for(i in e)a=e[i],a!==t[i]&&n.setProperty(i,a);for(i in t)Kt(e[i])&&n.removeProperty(i)}else for(i in e)a=e[i],n.setProperty(i,a)}function eY(t,e,r,n){var i=t&&t.__html||"",a=e&&e.__html||"";i!==a&&!Kt(a)&&!HX(n,a)&&(qn(r)||(r.childFlags&12?Lh(r.children):r.childFlags===2&&mo(r.children),r.children=null,r.childFlags=1),n.innerHTML=a)}function uw(t,e,r,n,i,a,o){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!r;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[t]=!!r;break;case"defaultChecked":case"value":case"volume":if(a&&t==="value")break;var s=Kt(r)?"":r;n[t]!==s&&(n[t]=s);break;case"style":JX(e,r,n);break;case"dangerouslySetInnerHTML":eY(e,r,o,n);break;default:qB[t]?RX(t,e,r,n):t.charCodeAt(0)===111&&t.charCodeAt(1)===110?QX(t,e,r,n):Kt(r)?n.removeAttribute(t):i&&c2[t]?n.setAttributeNS(c2[t],t,r):n.setAttribute(t,r);break}}function n5(t,e,r,n,i){var a=!1,o=(e&448)>0;o&&(a=r5(r),a&&YX(e,n,r));for(var s in r)uw(s,null,r[s],n,i,a,null);o&&t5(e,t,n,r,!0,a)}function i5(t,e,r){var n=Gg(t.render(e,t.state,r)),i=r;return Tr(t.getChildContext)&&(i=As(r,t.getChildContext())),t.$CX=i,n}function a5(t,e,r,n,i,a){var o=new e(r,n),s=o.$N=!!(e.getDerivedStateFromProps||o.getSnapshotBeforeUpdate);if(o.$SVG=i,o.$L=a,t.children=o,o.$BS=!1,o.context=n,o.props===hn&&(o.props=r),s)o.state=$B(o,r,o.state);else if(Tr(o.componentWillMount)){o.$BR=!0,o.componentWillMount();var l=o.$PS;if(!qn(l)){var p=o.state;if(qn(p))o.state=l;else for(var h in l)p[h]=l[h];o.$PS=null}o.$BR=!1}return o.$LI=i5(o,r,n),o}function aS(t,e){var r=t.props||hn;return t.flags&32768?t.type.render(r,t.ref,e):t.type(r,e)}function mn(t,e,r,n,i,a){var o=t.flags|=16384;o&481?s5(t,e,r,n,i,a):o&4?nY(t,e,r,n,i,a):o&8?(iY(t,e,r,n,i,a),u5(t,a)):o&512||o&16?o5(t,e,i):o&8192?rY(t,r,e,n,i,a):o&1024&&tY(t,r,e,i,a)}function tY(t,e,r,n,i){mn(t.children,t.ref,e,!1,null,i);var a=Ug();o5(a,r,n),t.dom=a.dom}function rY(t,e,r,n,i,a){var o=t.children,s=t.childFlags;s&12&&o.length===0&&(s=t.childFlags=2,o=t.children=Ug()),s===2?mn(o,r,e,n,i,a):ml(o,r,e,n,i,a)}function o5(t,e,r){var n=t.dom=document.createTextNode(t.children);qn(e)||tS(e,n,r)}function s5(t,e,r,n,i,a){var o=t.flags,s=t.props,l=t.className,p=t.childFlags,h=t.dom=SX(t.type,n=n||(o&32)>0),m=t.children;if(!Kt(l)&&l!==""&&(n?h.setAttribute("class",l):h.className=l),p===16)Xd(h,m);else if(p!==1){var v=n&&t.type!=="foreignObject";p===2?(m.flags&16384&&(t.children=m=fn(m)),mn(m,h,r,v,null,a)):(p===8||p===4)&&ml(m,h,r,v,null,a)}qn(e)||tS(e,h,i),qn(s)||n5(t,o,s,h,n),yf(t.ref,h,a)}function ml(t,e,r,n,i,a){for(var o=0;o<t.length;++o){var s=t[o];s.flags&16384&&(t[o]=s=fn(s)),mn(s,e,r,n,i,a)}}function nY(t,e,r,n,i,a){var o=a5(t,t.type,t.props||hn,r,n,a);mn(o.$LI,e,o.$CX,n,i,a),l5(t.ref,o,a)}function iY(t,e,r,n,i,a){mn(t.children=Gg(aS(t,r)),e,r,n,i,a)}function aY(t){return function(){t.componentDidMount()}}function l5(t,e,r){yf(t,e,r),Tr(e.componentDidMount)&&r.push(aY(e))}function oY(t,e){return function(){t.onComponentDidMount($i(e,!0),e.props||hn)}}function u5(t,e){var r=t.ref;Kt(r)||(rS(r.onComponentWillMount,t.props||hn),Tr(r.onComponentDidMount)&&e.push(oY(r,t)))}function sY(t,e,r,n,i,a){mo(t),e.flags&t.flags&2033?(mn(e,null,n,i,null,a),EX(r,e.dom,t.dom)):(mn(e,r,n,i,$i(t,!0),a),vf(t,r))}function To(t,e,r,n,i,a,o){var s=e.flags|=16384;t.flags!==s||t.type!==e.type||t.key!==e.key||s&2048?t.flags&16384?sY(t,e,r,n,i,o):mn(e,r,n,i,a,o):s&481?hY(t,e,n,i,s,o):s&4?mY(t,e,r,n,i,a,o):s&8?vY(t,e,r,n,i,a,o):s&16?gY(t,e):s&512?e.dom=t.dom:s&8192?cY(t,e,r,n,i,o):dY(t,e,n,o)}function lY(t,e,r){t!==e&&(t!==""?r.firstChild.nodeValue=e:Xd(r,e))}function uY(t,e){t.textContent!==e&&(t.textContent=e)}function cY(t,e,r,n,i,a){var o=t.children,s=e.children,l=t.childFlags,p=e.childFlags,h=null;p&12&&s.length===0&&(p=e.childFlags=2,s=e.children=Ug());var m=(p&2)!==0;if(l&12){var v=o.length;(l&8&&p&8||m||!m&&s.length>v)&&(h=$i(o[v-1],!1).nextSibling)}oS(l,p,o,s,r,n,i,h,t,a)}function dY(t,e,r,n){var i=t.ref,a=e.ref,o=e.children;if(oS(t.childFlags,e.childFlags,t.children,o,i,r,!1,null,t,n),e.dom=t.dom,i!==a&&!Ph(o)){var s=o.dom;VB(i,s),NB(a,s)}}function hY(t,e,r,n,i,a){var o=e.dom=t.dom,s=t.props,l=e.props,p=!1,h=!1,m;if(n=n||(i&32)>0,s!==l){var v=s||hn;if(m=l||hn,m!==hn){p=(i&448)>0,p&&(h=r5(m));for(var f in m){var u=v[f],c=m[f];u!==c&&uw(f,u,c,o,n,h,t)}}if(v!==hn)for(var d in v)Kt(m[d])&&!Kt(v[d])&&uw(d,v[d],null,o,n,h,t)}var _=e.children,g=e.className;t.className!==g&&(Kt(g)?o.removeAttribute("class"):n?o.setAttribute("class",g):o.className=g),i&4096?uY(o,_):oS(t.childFlags,e.childFlags,t.children,_,o,r,n&&e.type!=="foreignObject",null,t,a),p&&t5(i,e,o,m,!1,h);var y=e.ref,b=t.ref;b!==y&&(Lv(b),yf(y,o,a))}function fY(t,e,r,n,i,a){mo(t),ml(e,r,n,i,$i(t,!0),a),vf(t,r)}function oS(t,e,r,n,i,a,o,s,l,p){switch(t){case 2:switch(e){case 2:To(r,n,i,a,o,s,p);break;case 1:ia(r,i);break;case 16:mo(r),Xd(i,n);break;default:fY(r,n,i,a,o,p);break}break;case 1:switch(e){case 2:mn(n,i,a,o,s,p);break;case 1:break;case 16:Xd(i,n);break;default:ml(n,i,a,o,s,p);break}break;case 16:switch(e){case 16:lY(r,n,i);break;case 2:km(i),mn(n,i,a,o,s,p);break;case 1:km(i);break;default:km(i),ml(n,i,a,o,s,p);break}break;default:switch(e){case 16:Lh(r),Xd(i,n);break;case 2:Am(i,l,r),mn(n,i,a,o,s,p);break;case 1:Am(i,l,r);break;default:var h=r.length|0,m=n.length|0;h===0?m>0&&ml(n,i,a,o,s,p):m===0?Am(i,l,r):e===8&&t===8?yY(r,n,i,a,o,h,m,s,l,p):_Y(r,n,i,a,o,h,m,s,p);break}break}}function pY(t,e,r,n,i){i.push(function(){t.componentDidUpdate(e,r,n)})}function c5(t,e,r,n,i,a,o,s,l){var p=t.state,h=t.props,m=!!t.$N,v=Tr(t.shouldComponentUpdate);if(m&&(e=$B(t,r,e!==p?As(p,e):e)),o||!v||v&&t.shouldComponentUpdate(r,e,i)){!m&&Tr(t.componentWillUpdate)&&t.componentWillUpdate(r,e,i),t.props=r,t.state=e,t.context=i;var f=null,u=i5(t,r,i);m&&Tr(t.getSnapshotBeforeUpdate)&&(f=t.getSnapshotBeforeUpdate(h,p)),To(t.$LI,u,n,t.$CX,a,s,l),t.$LI=u,Tr(t.componentDidUpdate)&&pY(t,h,p,f,l)}else t.props=r,t.state=e,t.context=i}function mY(t,e,r,n,i,a,o){var s=e.children=t.children;if(!qn(s)){s.$L=o;var l=e.props||hn,p=e.ref,h=t.ref,m=s.state;if(!s.$N){if(Tr(s.componentWillReceiveProps)){if(s.$BR=!0,s.componentWillReceiveProps(l,n),s.$UN)return;s.$BR=!1}qn(s.$PS)||(m=As(m,s.$PS),s.$PS=null)}c5(s,m,l,r,n,i,!1,a,o),h!==p&&(Lv(h),yf(p,s,o))}}function vY(t,e,r,n,i,a,o){var s=!0,l=e.props||hn,p=e.ref,h=t.props,m=!Kt(p),v=t.children;if(m&&Tr(p.onComponentShouldUpdate)&&(s=p.onComponentShouldUpdate(h,l)),s!==!1){m&&Tr(p.onComponentWillUpdate)&&p.onComponentWillUpdate(h,l);var f=Gg(aS(e,n));To(v,f,r,n,i,a,o),e.children=f,m&&Tr(p.onComponentDidUpdate)&&p.onComponentDidUpdate(h,l)}else e.children=v}function gY(t,e){var r=e.children,n=e.dom=t.dom;r!==t.children&&(n.nodeValue=r)}function _Y(t,e,r,n,i,a,o,s,l){for(var p=a>o?o:a,h=0,m,v;h<p;++h)m=e[h],v=t[h],m.flags&16384&&(m=e[h]=fn(m)),To(v,m,r,n,i,s,l),t[h]=m;if(a<o)for(h=p;h<o;++h)m=e[h],m.flags&16384&&(m=e[h]=fn(m)),mn(m,r,n,i,s,l);else if(a>o)for(h=p;h<a;++h)ia(t[h],r)}function yY(t,e,r,n,i,a,o,s,l,p){var h=a-1,m=o-1,v=0,f=t[v],u=e[v],c,d;e:{for(;f.key===u.key;){if(u.flags&16384&&(e[v]=u=fn(u)),To(f,u,r,n,i,s,p),t[v]=u,++v,v>h||v>m)break e;f=t[v],u=e[v]}for(f=t[h],u=e[m];f.key===u.key;){if(u.flags&16384&&(e[m]=u=fn(u)),To(f,u,r,n,i,s,p),t[h]=u,h--,m--,v>h||v>m)break e;f=t[h],u=e[m]}}if(v>h){if(v<=m)for(c=m+1,d=c<o?$i(e[c],!0):s;v<=m;)u=e[v],u.flags&16384&&(e[v]=u=fn(u)),++v,mn(u,r,n,i,d,p)}else if(v>m)for(;v<=h;)ia(t[v++],r);else bY(t,e,n,a,o,h,m,v,r,i,s,l,p)}function bY(t,e,r,n,i,a,o,s,l,p,h,m,v){var f,u,c,d=0,_=s,g=s,y=a-s+1,b=o-s+1,C=new Int32Array(b+1),w=y===n,x=!1,A=0,D=0;if(i<4||(y|b)<32)for(d=_;d<=a;++d)if(f=t[d],D<b){for(s=g;s<=o;s++)if(u=e[s],f.key===u.key){if(C[s-g]=d+1,w)for(w=!1;_<d;)ia(t[_++],l);A>s?x=!0:A=s,u.flags&16384&&(e[s]=u=fn(u)),To(f,u,l,r,p,h,v),++D;break}!w&&s>o&&ia(f,l)}else w||ia(f,l);else{var P={};for(d=g;d<=o;++d)P[e[d].key]=d;for(d=_;d<=a;++d)if(f=t[d],D<b)if(s=P[f.key],s!==void 0){if(w)for(w=!1;d>_;)ia(t[_++],l);C[s-g]=d+1,A>s?x=!0:A=s,u=e[s],u.flags&16384&&(e[s]=u=fn(u)),To(f,u,l,r,p,h,v),++D}else w||ia(f,l);else w||ia(f,l)}if(w)Am(l,m,t),ml(e,l,r,p,h,v);else if(x){var k=CY(C);for(s=k.length-1,d=b-1;d>=0;d--)C[d]===0?(A=d+g,u=e[A],u.flags&16384&&(e[A]=u=fn(u)),c=A+1,mn(u,l,r,p,c<i?$i(e[c],!0):h,v)):s<0||d!==k[s]?(A=d+g,u=e[A],c=A+1,jB(u,l,c<i?$i(e[c],!0):h)):s--}else if(D!==b)for(d=b-1;d>=0;d--)C[d]===0&&(A=d+g,u=e[A],u.flags&16384&&(e[A]=u=fn(u)),c=A+1,mn(u,l,r,p,c<i?$i(e[c],!0):h,v))}var Xa,yp,f2=0;function CY(t){var e=0,r=0,n=0,i=0,a=0,o=0,s=0,l=t.length;for(l>f2&&(f2=l,Xa=new Int32Array(l),yp=new Int32Array(l));r<l;++r)if(e=t[r],e!==0){if(n=Xa[i],t[n]<e){yp[r]=n,Xa[++i]=r;continue}for(a=0,o=i;a<o;)s=a+o>>1,t[Xa[s]]<e?a=s+1:o=s;e<t[Xa[a]]&&(a>0&&(yp[r]=Xa[a-1]),Xa[a]=r)}a=i+1;var p=new Int32Array(a);for(o=Xa[a-1];a-- >0;)p[a]=o,o=yp[o],Xa[a]=0;return p}var wY=typeof document<"u";wY&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function xY(t,e,r,n){var i=[],a=e.$V;Bh.v=!0,Kt(a)?Kt(t)||(t.flags&16384&&(t=fn(t)),mn(t,e,n,!1,null,i),e.$V=t,a=t):Kt(t)?(ia(a,e),e.$V=null):(t.flags&16384&&(t=fn(t)),To(a,t,e,n,!1,null,i),a=e.$V=t),HB(i),Bh.v=!1,Tr(r)&&r(),Tr(u2.renderComplete)&&u2.renderComplete(a,e)}function qg(t,e,r,n){r===void 0&&(r=null),n===void 0&&(n=hn),xY(t,e,r,n)}var Dm=[],SY=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},cw=!1;function d5(t,e,r,n){var i=t.$PS;if(Tr(e)&&(e=e(i?As(t.state,i):t.state,t.props,t.context)),Kt(i))t.$PS=e;else for(var a in e)i[a]=e[a];if(t.$BR)Tr(r)&&t.$L.push(r.bind(t));else{if(!Bh.v&&Dm.length===0){f5(t,n),Tr(r)&&r.call(t);return}if(Dm.indexOf(t)===-1&&Dm.push(t),n&&(t.$F=!0),cw||(cw=!0,SY(h5)),Tr(r)){var o=t.$QU;o||(o=t.$QU=[]),o.push(r)}}}function EY(t){for(var e=t.$QU,r=0;r<e.length;++r)e[r].call(t);t.$QU=null}function h5(){var t;for(cw=!1;t=Dm.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,f5(t,e),t.$QU&&EY(t)}}function f5(t,e){if(e||!t.$BR){var r=t.$PS;t.$PS=null;var n=[];Bh.v=!0,c5(t,As(t.state,r),t.props,$i(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,n),HB(n),Bh.v=!1}else t.state=t.$PS,t.$PS=null}var bf=function(e,r){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||hn,this.context=r||hn};bf.prototype.forceUpdate=function(e){this.$UN||d5(this,{},e,!0)};bf.prototype.setState=function(e,r){this.$UN||this.$BS||d5(this,e,r,!1)};bf.prototype.render=function(e,r,n){return null};const zo={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const t=this.callbacks;this.callbacks=[],t.forEach(e=>e())}}},G0=(t,e)=>{if(!(t instanceof Object&&e instanceof Object))return t===e;const n=Object.keys(t),i=Object.keys(e);return n.length!==i.length?!1:!n.some(o=>t[o]!==e[o])};class qi extends bf{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,r){this._pendingContext=r??{}}shouldComponentUpdate(e,r){return!G0(this.props,e)||!G0(this.state,r)||!G0(this.context,this._pendingContext)}}class Wa extends qi{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){zo.lock()}componentWillUpdate(e,r,n){zo.lock()}componentDidMount(){zo.callbacks.push(()=>{this._effects=this.createEffects()}),zo.callEffects()}componentDidUpdate(){zo.callbacks.push(()=>this.updateEffects()),zo.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class Cf extends Wa{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const e=this.vDomElement,r=e.className.length?e.className.split(" "):[],n=r.filter(a=>e.dxClasses.previous.indexOf(a)<0),i=e.dxClasses.previous.filter(a=>r.indexOf(a)<0);n.forEach(a=>{const o=e.dxClasses.removed.indexOf(a);o>-1?e.dxClasses.removed.splice(o,1):e.dxClasses.added.push(a)}),i.forEach(a=>{const o=e.dxClasses.added.indexOf(a);o>-1?e.dxClasses.added.splice(o,1):e.dxClasses.removed.push(a)})}componentDidMount(){const e=$i(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e!=null&&e.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(r=>e.classList.add(r)),e.dxClasses.removed.forEach(r=>e.classList.remove(r)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,r){const n=super.shouldComponentUpdate(e,r);return n&&this.vDomUpdateClasses(),n}}let IY=0;const p5=function(t){const e=IY++;return{id:e,defaultValue:t,Provider:class extends bf{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||t})}render(){return this.props.children}}}};class fr{constructor(e,r){this.dependency=r,this.effect=e,this.destroy=e()}update(e){const r=this.dependency;e&&(this.dependency=e),(!e||e.some((n,i)=>r[i]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const wf=()=>new fr(()=>{h5()},[]),TY="a runtime error occured! Use Inferno in development environment to find the error.";function OY(t){return t==null}function kY(t){return t===null||t===!1||t===!0||t===void 0}function AY(t){return typeof t=="function"}function zu(t){return t===null}function DY(t){throw t||(t=TY),new Error(`Inferno Error: ${t}`)}function RY(t,e){const r=document.createElement("i");return r.innerHTML=e,r.innerHTML===t.innerHTML}function PY(t){let e,r;for(;t;){if(e=t.flags,e&2033)return t.dom;r=t.children,e&8192?t=t.childFlags===2?r:r[r.length-1]:e&4?t=r.$LI:t=r}return null}function MY(t,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&RY(t,e.dangerouslySetInnerHTML.__html))}function BY(t,e,r,n,i,a,o){const s=t.type,l=t.ref,p=t.props||hn;let h;if(a){const m=a5(t,s,p,n,i,o),v=m.$LI;h=Fh(v,e,r,m.$CX,i,o),l5(l,m,o)}else{const m=Gg(aS(t,n));h=Fh(m,e,r,n,i,o),t.children=m,u5(t,o)}return h}function m5(t,e,r,n,i,a){const o=t.childFlags,s=t.children,l=t.props,p=t.flags;if(o!==1){if(o===2)zu(r)?mn(s,e,n,i,null,a):(r=Fh(s,e,r,n,i,a),r=r?r.nextSibling:null);else if(o===16)zu(r)?e.appendChild(document.createTextNode(s)):e.childNodes.length!==1||r.nodeType!==3?e.textContent=s:r.nodeValue!==s&&(r.nodeValue=s),r=null;else if(o&12){let h=!1;for(let m=0,v=s.length;m<v;++m){const f=s[m];zu(r)||h&&(f.flags&16)>0?mn(f,e,n,i,r,a):(r=Fh(f,e,r,n,i,a),r=r?r.nextSibling:null),h=(f.flags&16)>0}}if(!(p&8192)){let h=null;for(;r;)h=r.nextSibling,e.removeChild(r),r=h}}else!zu(e.firstChild)&&!MY(e,l)&&(e.textContent="",p&448&&(e.defaultValue=""))}function LY(t,e,r,n,i,a){const o=t.props,s=t.className,l=t.flags,p=t.ref;return i=i||(l&32)>0,r.nodeType!==1?(s5(t,null,n,i,null,a),e.replaceChild(t.dom,r)):(t.dom=r,m5(t,r,r.firstChild,n,i,a),zu(o)||n5(t,l,o,r,i),OY(s)?r.className!==""&&r.removeAttribute("class"):i?r.setAttribute("class",s):r.className=s,yf(p,r,a)),t.dom}function v5(t,e,r){if(r.nodeType!==3)e.replaceChild(t.dom=document.createTextNode(t.children),r);else{const n=t.children;r.nodeValue!==n&&(r.nodeValue=n),t.dom=r}return t.dom}function FY(t,e,r,n,i,a){const o=t.children;return t.childFlags===2?(v5(o,e,r),o.dom):(m5(t,e,r,n,i,a),PY(o[o.length-1]))}function Fh(t,e,r,n,i,a){const o=t.flags|=16384;return o&14?BY(t,e,r,n,i,(o&4)>0,a):o&481?LY(t,e,r,n,i,a):o&16?v5(t,e,r):o&512?t.dom=r:o&8192?FY(t,e,r,n,i,a):(DY(),null)}function NY(t,e,r){let n=e.firstChild;if(zu(n))qg(t,e,r);else{const i=[];for(kY(t)||(n=Fh(t,e,n,{},!1,i));n&&(n=n.nextSibling);)e.removeChild(n);if(i.length>0){let a;for(;(a=i.shift())!==void 0;)a()}}e.$V=t,AY(r)&&r()}function p2(t){return t==null}function VY(t){return typeof t=="string"}function m2(t){return t===void 0}var HY={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function Rm(t,e,r){var n=arguments,i,a=null,o=null,s=null,l=0,p,h=arguments.length-2;if(h===1)i=r;else if(h>1)for(i=[];h-- >0;)i[h]=n[h+2];if(VY(t)){if(l=DX(t),!p2(e)){p={};for(var m in e)m==="className"||m==="class"?s=e[m]:m==="key"?o=e.key:m==="children"&&m2(i)?i=e.children:m==="ref"?a=e.ref:(m==="contenteditable"&&(l|=4096),p[m]=e[m])}}else{if(l=2,m2(i)||(e||(e={}),e.children=i),!p2(e)){p={};for(var v in e)v==="key"?o=e.key:v==="ref"?a=e.ref:HY[v]===1?(a||(a={}),a[v]=e[v]):p[v]=e[v]}return sr(l,t,p,o,a)}return l&8192?Do(h===1?[i]:i,0,o):Br(l,t,s,i,0,p,o,a)}const jY=t=>{var e,r;return((e=t.container)===null||e===void 0?void 0:e.get(0))||((r=t.item)===null||r===void 0?void 0:r.get(0))};function $Y(t,e,r){setTimeout(()=>{qg(Rm(t,e),jY(e))},0)}const zY=(t,e,r)=>{const n=e[t];return!!n&&typeof n!="string"},WY=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),UY=t=>typeof t=="number"?!0:!Number.isNaN(Number(t)),GY=(t,e)=>WY.has(t)?e:`${e}px`,KY=/[A-Z]/g,qY=t=>t.replace(KY,"-$&").toLowerCase();function sS(t){if(t instanceof Object)return Object.entries(t).reduce((e,[r,n])=>(e[qY(r)]=UY(n)?GY(r,n):n,e),{})}var v2=t=>{var{parentNode:e}=t;if(e){var r=t.nextSibling;Zh(t),e.$V=t.$V,qg(null,e),e.insertBefore(t,r),t.innerHTML="",delete e.$V}delete t.$V};const lu=Gi({createElement:(t,e)=>Rm(t,e),remove:v2,onAfterRender:()=>{zo.callEffects()},onPreRender:()=>{zo.lock()},render:(t,e,r,n)=>{if(n)qg(Rm(t,e),r);else{var{parentNode:i}=r,a=r==null?void 0:r.nextSibling,o=Ce.createElement("div");o.appendChild(r);var s=Ce.createDocumentFragment().appendChild(o),l=!!r.$V;l&&v2(r),NY(Rm(t,e),s),r.$V=s.$V,i&&i.insertBefore(r,a)}}});var XY=(t,e)=>Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(r=>t[r]===e[r]),YY=["isEqual"];function ZY(t){return!!t.toArray}function QY(t,e){var r,n={template:e,model:we({},t)},i=(r=t.data)!==null&&r!==void 0?r:{},{isEqual:a}=i,o=_r(i,YY);return a&&(n.model.data=o,n.isEqual=a),n}function JY(t,e){var r,{data:n,index:i}=(r=t.model)!==null&&r!==void 0?r:{data:{}};n&&Object.keys(n).forEach(o=>{n[o]&&Ce.isNode(n[o])&&(n[o]=et(V(n[o])))});var a=t.template.render(we({container:e,transclude:t.transclude},{renovated:t.renovated},t.transclude?{}:{model:n},!t.transclude&&Number.isFinite(i)?{index:i}:{}));return a===void 0?[]:ZY(a)?a.toArray():[V(a).get(0)]}function eZ(t,e){e.forEach(r=>{var n=!!t.find(i=>r===i);!n&&r.parentNode&&r.parentNode.removeChild(r)})}class g2 extends Wa{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e=$i(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};var r=e.parentNode,n=V(r),i=n.contents().toArray(),a=JY(this.props,et(n));return TH(V(e),V(a)),()=>{var o=V(r).contents().toArray();eZ(i,o),r.appendChild(e)}}shouldComponentUpdate(e){var{model:r,template:n}=this.props,{isEqual:i,model:a,template:o}=e,s=i??XY;if(n!==o)return!0;if(!q(r)||!q(a))return r!==a;var{data:l,index:p}=r,{data:h,index:m}=a;return p!==m?!0:!s(l,h)}createEffects(){return[new fr(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}function K0(t){return Array.isArray(t)?[...t]:we({},t)}function g5(t,e,r){var n=r.length>0&&e&&t!==e?K0(e):K0(t),i=r[0];return r.length>1?n[i]=g5(t[i],e==null?void 0:e[i],r.slice(1)):i&&(yt(t[i])?n[i]=K0(t[i]):n[i]=t[i]),n}function tZ(t,e,r,n){var i=e[r],a=t[r],o=t;yt(i)||r!==n&&Array.isArray(i)?o[r]=g5(i,a,Fl(n).slice(1)):o[r]=i}var q0=(t,e)=>r=>{Object.prototype.hasOwnProperty.call(t,r)&&t[r]===void 0&&(t[r]=e(r))};class xf extends za{constructor(e,r){super(e,r),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var e=this.getSupportedKeyNames(),r=e.length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(r&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){var r=this._getContentReadyOptions().reduce((n,i)=>(n[i]=!0,n),{});return this._checkContentReadyOption=n=>!!r[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){var e=this._getViewComponentDefaultProps();return Y(!0,super._getDefaultOptions(),e,this._propsInfo.twoWay.reduce((r,n)=>{var[i,a,o]=n;return we({},r,{[i]:e[a],[o]:s=>this.option(i,s)})},{}),this._propsInfo.templates.reduce((r,n)=>we({},r,{[n]:null}),{}))}_getUnwrappedOption(){var e={};return Object.keys(this.option()).forEach(r=>{e[r]=this.option(r)}),e}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates());var r=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(r),this._propsInfo.templates.forEach(n=>{this._componentTemplates[n]=this._createTemplateComponent(this._props[n])}),Object.keys(this._getActionConfigsFull()).forEach(n=>this._addAction(n)),this._viewRef=pn(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){var r=this.$element()[0];this._isNodeReplaced||lu.onPreRender(),lu.render(this._viewComponent,e,r,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,lu.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,r){this._options.silent(e,r)}_render(){}_removeWidget(){lu.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var e=this.$element()[0];if(!this._elementAttr){var{attributes:r}=e,n=Array.from(r).filter(s=>{var l;return!this._propsInfo.templates.includes(s.name)&&((l=r[s.name])===null||l===void 0?void 0:l.specified)}).reduce((s,l)=>{var{name:p,value:h}=l,m=s,v=p in e;return m[p]=h===""&&v?e[p]:h,m},{});this._elementAttr=n,this._storedClasses=e.getAttribute("class")||""}for(var i=e.style,a={},o=0;o<i.length;o+=1)a[i[o]]=i.getPropertyValue(i[o]);return this._elementAttr.style=a,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){var{allowNull:r,elements:n,props:i,twoWay:a}=this._propsInfo,o=this._getViewComponentDefaultProps(),s=Object.keys(o),l=this._getDefaultOptions(),{children:p,onKeyboardHandled:h,ref:m}=e,v=h?(u,c)=>{h(c)}:void 0,f={ref:m,children:p,onKeyDown:v};return[...i,...this._getAdditionalProps()].forEach(u=>{Object.prototype.hasOwnProperty.call(e,u)&&(f[u]=e[u])}),r.forEach(q0(f,()=>null)),s.forEach(q0(f,u=>l[u])),a.forEach(u=>{var[c,d]=u;q0(f,()=>l[d])(c)}),n.forEach(u=>{if(u in f){var c=f[u];Ei(c)&&(f[u]=this._patchElementParam(c))}}),f}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?we({},e,{style:{},cssText:e.style}):e}getProps(){var e,r,{elementAttr:n}=this.option(),i=this._patchOptionValues(we({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{i[a]=this._componentTemplates[a]}),this.prepareStyleProp(we({},i,this.elementAttr,n,{className:[...((e=this.elementAttr.class)!==null&&e!==void 0?e:"").split(" "),...((r=n==null?void 0:n.class)!==null&&r!==void 0?r:"").split(" ")].filter((a,o,s)=>a&&s.indexOf(a)===o).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return we({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var e=Object.values(this._templatesInfo),r={};return e.forEach(n=>{r[n]="dx-renovation-template-mock"}),r}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){var r=Object.entries(this._templatesInfo).reduce((n,i)=>{var a,[o,s]=i;return we({},n,{[o]:(a=e[o])!==null&&a!==void 0?a:s})},{});return we({},e,r)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var e={},r=this.getSupportedKeyNames();return r.forEach(n=>{e[n]=i=>this.viewRef.keyDown(Mx.createKeyDownOptions(i))}),e}_addAction(e,r){var n=r;if(!n){var i=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=a=>(Object.keys(a).forEach(o=>{q(a[o])&&Ce.isNode(a[o])&&(a[o]=et(V(a[o])))}),i(a))}this._actionsMap[e]=n}_optionChanged(e){var{fullName:r,name:n,previousValue:i,value:a}=e;tZ(this._props,this.option(),n,r),this._propsInfo.templates.includes(n)&&a!==i&&(this._componentTemplates[n]=this._createTemplateComponent(a)),n&&this._getActionConfigsFull()[n]&&this._addAction(n),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(r),super._optionChanged(e),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?lu.createElement(g2,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(e){var r=this._getTemplate(e);if(!(tt(r)&&r==="dx-renovation-template-mock"))return n=>lu.createElement(g2,QY(n,r))}}_wrapKeyDownHandler(e){return r=>{var{keyName:n,originalEvent:i,which:a}=r,o=this.customKeyHandlers,s=o[n]||o[a];if(s!==void 0){var l=s.bind(this),p=l(i,r);if(!p)return i.cancel=!0,i}return e==null?void 0:e(i,r)}}_toPublicElement(e){return et(V(e))}_patchElementParam(e){try{var r=V(e),n=r==null?void 0:r.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return we({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,r){this.customKeyHandlers[e]=r}setAria(e,r){this._aria[e]=r,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}xf.IS_RENOVATED_WIDGET=!1;xf.IS_RENOVATED_WIDGET=!0;class rZ extends xf{get _validationGroupConfig(){return Gt.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:i}=n;this._clickAction({event:i,validationGroup:this._validationGroupConfig})};var r=pf(e.icon);return r==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,r){var n=this.viewRef;r?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,r="valid";return this._createAction(n=>{var{event:i,submitInput:a}=n;if(e){var o=this._validationGroupConfig;if(o!==void 0&&o!==""){var s=o.validate();r=s.status,s.status==="pending"&&(e=!1,this.option("disabled",!0),s.complete.then(l=>{var{status:p}=l;this.option("disabled",!1),r=p,r==="valid"&&a.click(),e=!0}))}}r!=="valid"&&i.preventDefault(),i.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content"),r=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");r.length&&(r.addClass("dx-button-content"),r.append(n),e.replaceWith(r))}_patchOptionValues(e){return super._patchOptionValues(we({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),r=this.option("validationGroup");return r!==void 0&&r!==""?r:Gt.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}}function Hi(t){return Object.keys(t).filter(e=>t[e]).join(" ")}var nZ=["iconTemplate","position","source"],iZ=t=>{var{iconClassName:e,props:{iconTemplate:r,source:n},sourceType:i}=t;return Do([i==="dxIcon"&&Br(1,"i",e),i==="fontIcon"&&Br(1,"i",e),i==="image"&&Br(1,"img",e,null,1,{alt:"",src:n}),r&&Br(1,"i",e,r({}),0)],0)},aZ={position:"left",source:""},oZ=t=>t&&(t.defaultProps?e=>hi(sr(2,t,we({},e))):t);class _5 extends qi{constructor(e){super(e),this.state={}}get sourceType(){return pf(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:r}=this.props;return this.sourceType==="dxIcon"?Hi(we({},e,{["dx-icon-".concat(r)]:!0})):this.sourceType==="fontIcon"?Hi(we({},e,{[String(r)]:!!r})):this.sourceType==="image"?Hi(e):this.sourceType==="svg"?Hi(we({},e,{"dx-svg-icon":!0})):""}get restAttributes(){var e=this.props,r=_r(e,nZ);return r}render(){var e=this.props;return iZ({props:we({},e,{iconTemplate:oZ(e.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}_5.defaultProps=aZ;var sZ=["config"],lZ=t=>hi(Br(1,"div","dx-inkripple",null,1,we({},t.restAttributes))),uZ={config:Object.freeze({})};class y5 extends qi{constructor(e){super(e),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:e}=this.props;return kB(e)})()}get restAttributes(){var e=this.props,r=_r(e,sZ);return r}hideWave(e){PB(this.getConfig,e)}showWave(e){DB(this.getConfig,e)}componentWillUpdate(e,r,n){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){var e=this.props;return lZ({props:we({},e),getConfig:this.getConfig,restAttributes:this.restAttributes})}}y5.defaultProps=uZ;function $l(t){return(e,r,n,i)=>{var a=i?Ee(t,i):t;if(r)return X.on(e,a,n,r),()=>{X.off(e,a,r)}}}var cZ=$l(jt),dZ=$l("dxactive"),hZ=$l("dxinactive"),fZ=$l("dxhoverstart"),pZ=$l("dxhoverend"),mZ=$l("focusin"),vZ=$l("focusout"),Xg={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},bn=p5(void 0),gZ=["children","rtlEnabled"],_Z=t=>t.props.children,yZ={};class b5 extends qi{constructor(e){super(e),this.state={},this.__getterCache={}}getChildContext(){return we({},this.context,{[bn.id]:this.config||bn.defaultValue})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){var e=this.props,r=_r(e,gZ);return r}componentWillUpdate(e,r,n){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var e=this.props;return _Z({props:we({},e),config:this.config,restAttributes:this.restAttributes})}}b5.defaultProps=yZ;function bZ(t,e){return t!==void 0?t:(e==null?void 0:e.rtlEnabled)!==void 0?e.rtlEnabled:ur().rtlEnabled}function CZ(t,e){var r=q(t),n=q(ur().rtlEnabled)&&!r&&!q(e==null?void 0:e.rtlEnabled);return r&&t!==(e==null?void 0:e.rtlEnabled)||n}var wZ=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],xZ=400,SZ=30,EZ=t=>Object.keys(t).reduce((e,r)=>t[r]?we({},e,{[r==="role"||r==="id"?r:"aria-".concat(r)]:String(t[r])}):e,{}),IZ=t=>{var e=hi(Br(1,"div",t.cssClasses,t.props.children,0,we({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,style:sS(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?sr(2,b5,{rtlEnabled:t.rtlEnabled,children:e}):e},Fv=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Xg),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:xZ,_feedbackShowTimeout:SZ,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));class Yg extends Cf{constructor(e){super(e),this.widgetElementRef=pn(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return this.context[bn.id]?this.context[bn.id]:bn.defaultValue}createEffects(){return[new fr(this.setRootElementRef,[]),new fr(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new fr(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new fr(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new fr(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new fr(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new fr(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new fr(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new fr(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new fr(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new fr(this.windowResizeEffect,[this.props.onDimensionChanged]),new fr(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new fr(this.checkDeprecation,[this.props.height,this.props.width]),new fr(this.applyCssTextEffect,[this.props.cssText]),wf()]}updateEffects(){var e,r,n,i,a,o,s,l,p,h,m,v,f;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(r=this._effects[2])===null||r===void 0||r.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(i=this._effects[4])===null||i===void 0||i.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(o=this._effects[6])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(s=this._effects[7])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(p=this._effects[9])===null||p===void 0||p.update([this.props.name,this.props.onDimensionChanged]),(h=this._effects[10])===null||h===void 0||h.update([this.props.onDimensionChanged]),(m=this._effects[11])===null||m===void 0||m.update([this.props.name,this.props.onVisibilityChange]),(v=this._effects[12])===null||v===void 0||v.update([this.props.height,this.props.width]),(f=this._effects[13])===null||f===void 0||f.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:e,rootElementRef:r}=this.props;r&&(r.current=this.widgetElementRef.current),e==null||e(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:e,activeStateEnabled:r,activeStateUnit:n,disabled:i,onActive:a}=this.props,o=n;if(r&&!i)return dZ(this.widgetElementRef.current,s=>{this.setState(l=>({active:!0})),a==null||a(s)},{timeout:e,selector:o},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:e,activeStateEnabled:r,activeStateUnit:n,onInactive:i}=this.props,a=n;if(r)return hZ(this.widgetElementRef.current,o=>{this.state.active&&(this.setState(s=>({active:!1})),i==null||i(o))},{timeout:e,selector:a},"UIFeedback")}clickEffect(){var{disabled:e,name:r,onClick:n}=this.props,i=r;if(n&&!e)return WT.on(this.widgetElementRef.current,n,{namespace:i}),()=>WT.off(this.widgetElementRef.current,{namespace:i})}focusInEffect(){var{disabled:e,focusStateEnabled:r,name:n,onFocusIn:i}=this.props,a="".concat(n,"Focus");if(r&&!e)return mZ(this.widgetElementRef.current,o=>{o.isDefaultPrevented()||(this.setState(s=>({focused:!0})),i==null||i(o))},null,a)}focusOutEffect(){var{focusStateEnabled:e,name:r,onFocusOut:n}=this.props,i="".concat(r,"Focus");if(e)return vZ(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(o=>({focused:!1})),n==null||n(a))},null,i)}hoverStartEffect(){var{activeStateUnit:e,disabled:r,hoverStateEnabled:n,onHoverStart:i}=this.props,a=e;if(n&&!r)return fZ(this.widgetElementRef.current,o=>{!this.state.active&&this.setState(s=>({hovered:!0})),i==null||i(o)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:e,hoverStateEnabled:r,onHoverEnd:n}=this.props,i=e;if(r)return pZ(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(o=>({hovered:!1})),n==null||n(a))},{selector:i},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:e,onKeyDown:r}=this.props;if(e&&r){var n=us.on(this.widgetElementRef.current,this.widgetElementRef.current,i=>r(i));return()=>us.off(n)}}resizeEffect(){var e="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:r}=this.props;if(r)return Iv.on(this.widgetElementRef.current,r,{namespace:e}),()=>Iv.off(this.widgetElementRef.current,{namespace:e})}windowResizeEffect(){var{onDimensionChanged:e}=this.props;if(e)return Sl.add(e),()=>{Sl.remove(e)}}visibilityEffect(){var{name:e,onVisibilityChange:r}=this.props,n="".concat(e,"VisibilityChange");if(r)return Tv.on(this.widgetElementRef.current,()=>r(!0),()=>r(!1),{namespace:n}),()=>Tv.off(this.widgetElementRef.current,{namespace:n})}checkDeprecation(){var{height:e,width:r}=this.props;Me(r)&&Yt.log("W0017","width"),Me(e)&&Yt.log("W0017","height")}applyCssTextEffect(){var{cssText:e}=this.props;e!==""&&(this.widgetElementRef.current.style.cssText=e)}get shouldRenderConfigProvider(){var{rtlEnabled:e}=this.props;return CZ(e,this.config)}get rtlEnabled(){var{rtlEnabled:e}=this.props;return bZ(e,this.config)}get attributes(){var{aria:e,disabled:r,focusStateEnabled:n,visible:i}=this.props,a=n&&!r&&this.props.accessKey;return we({},Y({},a&&{accessKey:a}),EZ(we({},e,{disabled:r,hidden:!i})),Y({},this.restAttributes))}get styles(){var{height:e,width:r}=this.props,n=this.restAttributes.style||{},i=uc("width",Me(r)?r():r),a=uc("height",Me(e)?e():e);return we({},n,{height:a??n.height,width:i??n.width})}get cssClasses(){var{activeStateEnabled:e,addWidgetClass:r,className:n,classes:i,disabled:a,focusStateEnabled:o,hoverStateEnabled:s,onVisibilityChange:l,visible:p}=this.props,h=!!o&&!a,m=!!s&&!a,v=!!e&&!a,f={"dx-widget":!!r,[String(i)]:!!i,[String(n)]:!!n,"dx-state-disabled":!!a,"dx-state-invisible":!p,"dx-state-focused":!!this.state.focused&&h,"dx-state-active":!!this.state.active&&v,"dx-state-hover":!!this.state.hovered&&m&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return Hi(f)}get tabIndex(){var{disabled:e,focusStateEnabled:r,tabIndex:n}=this.props,i=r&&!e;return i?n:void 0}get restAttributes(){var e=this.props,r=_r(e,wZ);return r}focus(){Im.trigger(this.widgetElementRef.current)}blur(){var e=Ce.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===e&&e.blur()}activate(){this.setState(e=>({active:!0}))}deactivate(){this.setState(e=>({active:!1}))}render(){var e=this.props;return IZ({props:we({},e),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}Yg.defaultProps=Fv;var TZ=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],OZ=["outlined","text","contained"],kZ=t=>{var{icon:e,iconPosition:r,stylingMode:n,text:i,type:a}=t,o=n&&OZ.includes(n),s={"dx-button":!0,["dx-button-mode-".concat(o?n:"contained")]:!0,["dx-button-".concat(a??"normal")]:!0,"dx-button-has-text":!!i,"dx-button-has-icon":!!e,"dx-button-icon-right":r!=="left"};return Hi(s)},AZ=t=>{var{children:e,iconPosition:r,iconTemplate:n,template:i,text:a}=t.props,o=!t.props.template&&!e&&a!=="",s=r==="left",l=!t.props.template&&!e&&(t.iconSource||t.props.iconTemplate)&&sr(2,_5,{source:t.iconSource,position:r,iconTemplate:n});return hi(sr(2,Yg,we({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:Br(1,"div","dx-button-content",[t.props.template&&i({data:t.buttonTemplateData}),!t.props.template&&e,s&&l,o&&Br(1,"span","dx-button-text",a,0),!s&&l,t.props.useSubmitBehavior&&Br(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&sr(2,y5,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))},DZ=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Xg),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),C5=lW([{device:()=>Ue.real().deviceType==="desktop"&&!Ue.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Mr(pa()),options:{useInkRipple:!0}}]),_2=t=>t&&(t.defaultProps?e=>hi(sr(2,t,we({},e))):t);let Nv=class extends Cf{constructor(e){super(e),this.state={},this.contentRef=pn(),this.inkRippleRef=pn(),this.submitInputRef=pn(),this.widgetRef=pn(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new fr(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),new fr(this.checkDeprecation,[this.props.type]),wf()]}updateEffects(){var e,r;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior]),(r=this._effects[1])===null||r===void 0||r.update([this.props.type])}submitEffect(){var{onSubmit:e,useSubmitBehavior:r}=this.props;if(r&&e)return UT.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>UT.off(this.submitInputRef.current,{namespace:"UIFeedback"})}checkDeprecation(){var{type:e}=this.props;e==="back"&&Yt.log("W0016","type","back","22.2","Use the 'back' icon instead")}onActive(e){var{useInkRipple:r}=this.props;r&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:r}=this.props;r&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:r,useSubmitBehavior:n}=this.props;r==null||r({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:r}=this.props,{keyName:n,originalEvent:i,which:a}=e,o=r==null?void 0:r(e);if(o!=null&&o.cancel)return o;(n==="space"||a==="space"||n==="enter"||a==="enter")&&(i.preventDefault(),this.onWidgetClick(i))}get aria(){var{icon:e,text:r}=this.props,n=r??"";if(!r&&e){var i=pf(e);switch(i){case"image":var a=!e.includes("base64")&&/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/.test(e);n=a?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break;case"dxIcon":n=he.format(Sh(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":var o,s,l=(o=(s=/<title>(.*?)<\/title>/.exec(e))===null||s===void 0?void 0:s[1])!==null&&o!==void 0?o:"";n=l}}return we({role:"button"},n?{label:n}:{})}get cssClasses(){return kZ(this.props)}get iconSource(){var{icon:e,type:r}=this.props;return e||r==="back"?(e??"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:r,type:n}=this.props;return!r&&e||n==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:r,text:n}=this.props;return we({icon:e,text:n},r)}get restAttributes(){var e=this.props,r=_r(e,TZ);return r}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,r,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text||this.props.type!==e.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return AZ({props:we({},e,{template:_2(e.template),iconTemplate:_2(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};Nv.defaultProps=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(DZ),Object.getOwnPropertyDescriptors(we({},dc(C5)))));var y2=[];function RZ(t){y2.push(t),Nv.defaultProps=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Nv.defaultProps),Object.getOwnPropertyDescriptors(dc(C5)),Object.getOwnPropertyDescriptors(dc(y2))))}let vn=class extends rZ{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return Nv}};Rt("dxButton",vn);vn.defaultOptions=RZ;var b2="dx-custom-button-hovered";class PZ extends zg{_attachEvents(e,r){var{editor:n}=this;X.on(r,Bg,()=>{n.$element().addClass(b2)}),X.on(r,lf,()=>{n.$element().removeClass(b2)}),X.on(r,jt,i=>{i.stopPropagation()})}_create(){var{editor:e}=this,r=V("<div>");this._addToContainer(r);var n=e._createComponent(r,vn,Y({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:r,instance:n}}_prepareIntegrationOptions(e){return Y({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var MZ="dx-texteditor-buttons-container";function BZ(t){(()=>{if(!t||typeof t!="object"||Array.isArray(t))throw Et.Error("E1053")})(),(()=>{if(!("name"in t))throw Et.Error("E1054")})(),(()=>{var{name:e}=t;if(typeof e!="string")throw Et.Error("E1055")})(),(()=>{var{location:e}=t;"location"in t&&e!=="after"&&e!=="before"&&(t.location="after")})()}function C2(t,e){if(t.indexOf(e)!==-1)throw Et.Error("E1055",e);t.push(e)}function LZ(t,e){return!!e.find(r=>r.name===t)}class FZ{constructor(e,r){this.buttons=[],this.defaultButtonsInfo=r,this.editor=e}_compileButtonInfo(e){var r=[];return e.map(n=>{var i=typeof n=="string";i||BZ(n);var a=i||LZ(n.name,this.defaultButtonsInfo);if(a){var o=this.defaultButtonsInfo.find(l=>{var{name:p}=l;return p===n||p===n.name});if(!o)throw Et.Error("E1056",this.editor.NAME,n);return C2(r,n),o}else{var{name:s}=n;return C2(r,s),Y(n,{Ctor:PZ})}})}_createButton(e){var{Ctor:r,options:n,name:i}=e,a=new r(i,this.editor,n);return this.buttons.push(a),a}_renderButtons(e,r,n){var i=null,a=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return a.forEach(o=>{var{location:s="after"}=o;s===n&&this._createButton(o).render((()=>(i=i||V("<div>").addClass(MZ),n==="before"?r.prepend(i):r.append(i),i))())}),i}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var r=this.buttons.find(n=>{var{name:i}=n;return i===e});return r&&r.instance}renderAfterButtons(e,r){return this._renderButtons(e,r,"after")}renderBeforeButtons(e,r){return this._renderButtons(e,r,"before")}updateButtons(e){this.buttons.forEach(r=>{(!e||e.indexOf(r.name)!==-1)&&r.update()})}}var w2="dx-texteditor-label",x2="dx-texteditor-with-label",S2="dx-texteditor-with-floating-label",E2="dx-texteditor-with-before-buttons",NZ="dx-label-before",VZ="dx-label",HZ="dx-label-after";class jZ{constructor(e){var{$editor:r,text:n,mode:i,mark:a,containsButtonsBefore:o,containerWidth:s,beforeWidth:l}=e;this._props={$editor:r,text:n,mode:i,mark:a,containsButtonsBefore:o,containerWidth:s,beforeWidth:l},this._id="".concat(w2,"-").concat(new Lr),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=V("<div>").addClass(NZ),this._$labelSpan=V("<span>"),this._$label=V("<div>").addClass(VZ).append(this._$labelSpan),this._$after=V("<div>").addClass(HZ),this._$root=V("<div>").addClass(w2).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(S2).removeClass(x2),e){var r=this._props.mode==="floating"?S2:x2;this._props.$editor.addClass(r)}}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(E2),e){var r=this._props.containsButtonsBefore?E2:"";this._props.$editor.addClass(r)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}var I2=pt(),$Z={observe:oe,unobserve:oe,disconnect:oe};class zZ{constructor(){if(!lt()||!I2.ResizeObserver)return $Z;this._callbacksMap=new Map,this._observer=new I2.ResizeObserver(e=>{e.forEach(r=>{var n;(n=this._callbacksMap.get(r.target))===null||n===void 0||n(r)})})}observe(e,r){this._callbacksMap.set(e,r),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var vl=new zZ,WZ="dx-texteditor",UZ="dx-texteditor-input-container",w5="dx-texteditor-input",GZ="."+w5,KZ="dx-texteditor-container",qZ="dx-texteditor-buttons-container",T2="dx-placeholder",XZ="dx-texteditor-empty",YZ="dx-state-invisible",ZZ="dx-pending-indicator",O2="dx-validation-pending",QZ="dx-valid",bp=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],JZ=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],eQ=jZ;function k2(t){if(q(t)&&!Array.isArray(t))throw Et.Error("E1053")}var tQ=ha.inherit({ctor:function(t,e){e&&k2(e.buttons),this._buttonCollection=new FZ(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Y(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return q(t)&&t!==!1?t:""},stylingMode:ur().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=pa();return Mr(t)},options:{stylingMode:ur().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:bX}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(GZ).first()},_isFocused:function(){return vs(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+qZ).eq(0)},_isControlKey:function(t){return JZ.indexOf(t)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(WZ),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=V("<div>").addClass(KZ).appendTo(this.$element()),this._$textEditorInputContainer=V("<div>").addClass(UZ).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(O2);var t=this._getInputContainer(),e=V("<div>").addClass(ZZ).appendTo(t);this._pendingIndicator=this._createComponent(e,Ci)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(O2))},_renderValidationState:function(){this.callBase();var t=this.option("validationStatus")==="pending",e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass(QZ,!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;(t=this._$beforeButtonsContainer)===null||t===void 0||t.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=V("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var r=Y(this._getDefaultAttributes(),e);t.attr(r).addClass(w5).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"},{ios:e,mac:r}=Ue.real();return(e||r)&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){te(this.option("buttons"),(e,r)=>{var{options:n,name:i}=r;if(n&&!n.stylingMode&&this.option("visible")){var a=this.getButton(i);a.option&&a.option("stylingMode",t==="underlined"?"text":"contained")}})},_renderValue:function(){var t=this._renderInputValue();return t.promise()},_renderInputValue:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("value");var r=this.option("text"),n=this.option("displayValue"),i=this.option("displayValueFormatter");return n!==void 0&&t!==null?r=i(n):q(r)||(r=i(t)),this.option("text",r),this._input().val()!==(q(r)?r:"")?this._renderDisplayText(r):this._toggleEmptinessEventHandler(),new ae().resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(XZ,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat(T2)).eq(0).toggleClass(YZ,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),r=this.option("focusStateEnabled");e||!r?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(vl.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return ot(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&ot(this._$beforeButtonsContainer);return t??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(t){var e,r=this._label.getId(),n=(e=this._$placeholder)===null||e===void 0?void 0:e.attr("id"),i=[r,n].filter(Boolean).join(" ");if(i||t){var a={labelledby:i||void 0};this.setAria(a,this._getFieldElement())}},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=V(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:r}=this.option(),n={$editor:this.$element(),text:t,mark:r,mode:e,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new eQ(n),this._setFieldAria(),this._labelContainerElement&&vl.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),r={id:e?"dx-".concat(new Lr):void 0,"data-dx_placeholder":e},n=this._$placeholder=V("<div>").attr(r);n.insertAfter(t),n.addClass(T2)},_attachPlaceholderEvents:function(){var t=Ee(Mt.up,this.NAME);X.on(this._$placeholder,t,()=>{X.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||V()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&X.trigger(e,"focus"),X.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this._input();te(bp,(e,r)=>{if(this.hasActionSubscription("on"+r)){var n=this._createActionByOption("on"+r,{excludeValidators:["readOnly"]});X.on(t,Ee(r.toLowerCase(),this.NAME),i=>{this._disposed||n({event:i})})}})},_refreshEvents:function(){var t=this._input();te(bp,(e,r)=>{X.off(t,Ee(r.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),r=t.ctrlKey&&Cr(t)==="enter",n=e.val()!==this.option("value");r&&n&&X.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var t=Ee(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=Ee(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),r=Ee("keydown","".concat(this.NAME,"TextChange")),n=this._input();X.on(n,t,this._keyPressHandler.bind(this)),X.on(n,e,this._valueChangeEventHandler.bind(this)),X.on(n,r,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");X.off(this._input(),t),X.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return t.type==="focusin"?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(V(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();X.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),X.off(this._input(),"keyup.onEnterKey.dxTextEditor"),X.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||Cr(t)==="enter"&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(Ce.getActiveElement(this._input()[0]))},_optionChanged:function(t){var{name:e,fullName:r,value:n}=t,i=e.replace("on","");if(bp.includes(i)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0);break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":r===e&&k2(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();t==="search"&&(t="text");try{e.prop("type",t)}catch{e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){X.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var r=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return bp.indexOf(n)>=0&&this._refreshEvents(),r}}),X0="dxMask",rQ="blur beforedeactivate",x5=" ",nQ=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],iQ=["historyUndo","historyRedo"],aQ=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function oQ(t){return x5.repeat(t)}class sQ{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var e=this._editorInput(),r=Ee(rQ,X0);X.on(e,r,n=>{this.editor._changeHandler(n)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){var{originalEvent:r}=e;if(r){var{inputType:n}=r;if(iQ.includes(n))this._handleHistoryInputEvent();else if(nQ.includes(n))this._handleBackwardDeleteInputEvent();else{var i=this._editorCaret();if(!i.end)return;this._clearSelectedText(),this._autoFillHandler(r),this._editorCaret(i),this._handleInsertTextInputEvent(r.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}}_handleHistoryInputEvent(){var e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret();var r=this._editorCaret();r.start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var e,r,n=((e=this._prevCaret)===null||e===void 0?void 0:e.end)-((r=this._prevCaret)===null||r===void 0?void 0:r.start)||1,i=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:i.start,length:n,text:oQ(n)}))}_handleInsertTextInputEvent(e){var r,n,i=e??"";this.editor.setForwardDirection();var a=this._updateEditorMask({start:(r=(n=this._prevCaret)===null||n===void 0?void 0:n.start)!==null&&r!==void 0?r:0,length:i.length||1,text:i});a||this._editorCaret(this._prevCaret)}_updateEditorMask(e){var r=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:i,end:a}=this._editorCaret(),o=n-r,s=n>1;s&&r===1&&this._editorCaret({start:i+o,end:a+o}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){var{editor:r}=this;r._maskKeyHandler(e,()=>{r._hasSelection()||r._handleKey(x5)})}_cutHandler(e){var r=this._editorCaret(),n=this._editorInput().val().substring(r.start,r.end);this.editor._maskKeyHandler(e,()=>kC(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){var{editor:r}=this;if(!this._editorOption("disabled")){var n=this._editorCaret();r._maskKeyHandler(e,()=>{var i=kC(e),a=r._maskRulesChain.text().substring(n.end),o=r._handleChain({text:i,start:n.start,length:i.length}),s=n.start+o;r._handleChain({text:a,start:s,length:a.length}),r._caret({start:s,end:s})})}}_autoFillHandler(e){var{editor:r}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(r._maskKeyHandler(e,()=>{r._handleChain({text:n,start:0,length:n.length})}),r._validateMask())})}_isAutoFill(){var e=this._editorInput();if(mr.webkit){var r,n=e.get(0);return(r=n==null?void 0:n.matches(":-webkit-autofill"))!==null&&r!==void 0?r:!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}getHandler(e){return r=>{var n;(n=this["_".concat(e,"Handler")])===null||n===void 0||n.call(this,r)}}attachEvents(){var e=this._editorInput();aQ.forEach(r=>{var n=Ee(r.toLowerCase(),X0);X.on(e,n,this.getHandler(r))}),this._attachChangeEventHandler()}detachEvents(){X.off(this._editorInput(),".".concat(X0))}clean(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var lQ=function(){return{}},Cp=MB,A2=" ",uQ="\\",D2="dx-texteditor-masked",Y0="forward",cQ="backward",dQ={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return wp(t)},l:function(t){return wp(t)||P2(t)},C:/\S/,c:/./,A:function(t){return wp(t)||R2(t)},a:function(t){return wp(t)||R2(t)||P2(t)}};function R2(t){return/[0-9]/.test(t)}function wp(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function P2(t){return t===" "}var lS=tQ.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:he.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},r=t.callBase();return te(e,function(n,i){var a=r[n];r[n]=function(o){t.option("mask")&&i.call(t,o),a&&a(o)}}),r},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new sQ(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var t=this._onMouseWheel!==oe;if(t){var e=this._input(),r=Ee(ef,this.NAME),n=this._createAction((function(i){var{event:a}=i;vs(e)&&!tn(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}).bind(this));X.off(e,r),X.on(e,r,function(i){n({event:i})})}},_onMouseWheel:oe,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=V("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(D2),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(D2),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){Cp=lQ;try{t.apply(this,e)}finally{Cp=MB}},_changeHandler:function(t){var e=this._input(),r=e.val();if(r!==this._changedValue){this._changedValue=r;var n=Qo(t,{type:"change"});X.trigger(e,n)}},_parseMask:function(){this._maskRules=Y({},dQ,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new qq;var r=e[t],n=r===uQ,i=n?new i2({maskChar:e[t+1]}):this._getMaskRule(r);return i.next(this._parseMaskRule(t+1+n)),i},_getMaskRule:function(t){var e;return te(this._maskRules,function(r,n){if(r===t)return e={pattern:r,allowedChars:n},!1}),q(e)?new LB(Y({maskChar:this.option("maskChar")},e)):new i2({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,r){if(r===void 0)return t;var n=t.slice(0,e.start),i=t.slice(e.end),a=n+r+i;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return wm(this._value)},_shouldShowMask:function(){var t=this.option("showMaskMode");return t==="onFocus"?vs(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=wm(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(t){return this._isControlKey(Cr(t))||tn(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return t=t||{},t.index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return this._isMaskedValueMode()?t=this._replaceMaskCharWithEmpty(t||this._textValue||""):t=t||this._value||"",t},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g"),A2)},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var r=this._input().val(),n=()=>{r!==this._input().val()&&X.trigger(this._input(),"input")},i=e();i?i.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||Y0),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(A2);this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),r=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,i=r===n?1:n-r;this._handleChain({text:t,start:r,length:i})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,r=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,r,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),r=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:r,end:r})},_caret:function(t,e){var r=this._input();if(r.length){if(!arguments.length)return Cp(r);Cp(r,t,e)}},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction(Y0)},setBackwardDirection:function(){this._direction(cQ)},isForwardDirection:function(){return this._direction()===Y0},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=wm(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}});Rt("dxTextEditor",lS);var hQ=pt(),fQ=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],pQ="dx-textbox",M2="dx-searchbox",mQ="dx-icon",vQ="dx-icon-search",Sf=lS.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Y(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(pQ),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;this.option("mode")==="search"?(t.addClass(M2),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass(M2),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=V("<div>").addClass(mQ).addClass(vQ);t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return ot(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=Pt(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e&&!t.ctrlKey&&!this._hasSelection()){var r=V(t.target),n=Cr(t);return this._cutOffExtraChar(r),r.val().length<e||fQ.includes(n)||hQ.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(t){var e=V(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),r=t.val();e&&r.length>e&&t.val(r.substr(0,e))},_getMaxLength:function(){var t=!!this.option("mask");return t?null:this.option("maxLength")}});Rt("dxTextBox",Sf);var gQ=Ft.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var r=this;te(t,function(n,i){var a=q(e)?e:r._getParentId(i),o=r._convertItemToNode(i,a);r._dataStructure.push(o),r._checkForDuplicateId(o.internalFields.key),r._indexByKey[o.internalFields.key]=r._dataStructure.length-1,r._itemHasChildren(i)&&r._convertItemsToNodes(r._dataAccessors.getters.items(i),o.internalFields.key)})},_checkForDuplicateId:function(t){if(q(this._indexByKey[t]))throw Et.Error("E1040",t)},_getParentId:function(t){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if(this._dataType!=="plain"){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,r=e(t),n=e&&(r||r===0)&&zd(r);return n?r:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var r={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:q(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return Y(r,t),delete r.items,r},setChildrenKeys:function(){var t=this;te(this._dataStructure,function(e,r){if(r.internalFields.parentKey!==t._rootValue){var n=t.getParentNode(r);n&&n.internalFields.childrenKeys.push(r.internalFields.key)}})},_makeObjectFromPrimitive:function(t){if(zd(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var r={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return r.parent&&(r.parent.children.push(r),r.parent.items.push(r)),r},convertToPublicNodes:function(t,e){if(!t.length)return[];var r=this,n=[];return te(t,function(i,a){a=zd(a)?r._getByKey(a):a;var o=r._convertToPublicNode(a,e);o.children=r.convertToPublicNodes(a.internalFields.childrenKeys,o),n.push(o),a.internalFields.publicNode=o}),n},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(e==null)return null;var r=null,n=this,i=function(a,o){return te(a,function(s,l){var p=l.internalFields&&l.internalFields.key||n._dataAccessors.getters.key(l);if(p.toString()===o.toString())return r=l,!1}),r};return i(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},te(this._dataStructure,function(e,r){t._checkForDuplicateId(r.internalFields.key),t._indexByKey[r.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},te(this._dataStructure,function(t,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,r){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=r,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}}),uu="expanded",Ls="selected",_Q="disabled";Dl.setEditorClass(Sf);var yQ=Ft.inherit({ctor:function(t){this.options={},Y(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,t==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new gQ,onNodeChanged:oe,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ls)},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(uu)},_updateNodesKeysArray:function(t){var e=this,r=[];return te(e._getDataBySelectionMode(),function(n,i){e._isNodeVisible(i)&&i.internalFields[t]&&(t===uu||e.options.multipleSelection?r.push(i.internalFields.key):(r.length&&e.toggleSelection(r[0],!1,!0),r=[i.internalFields.key]))}),r},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return t.internalFields.item.visible!==!1},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;te(this._dataStructure,function(e,r){if(r.internalFields.childrenKeys.length){var n=r.internalFields.selected;n===!0&&t._toggleChildrenSelection(r,n)}})},_setParentSelection:function(){var t=this;te(this._dataStructure,function(e,r){var n=t.options.dataConverter.getParentNode(r);n&&r.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(r,function(i){var a=t._calculateSelectedState(i);t._setFieldState(i,Ls,a)})})},_setParentExpansion:function(){var t=this;te(this._dataStructure,function(e,r){r.internalFields.expanded&&t._updateOneBranch(r.internalFields.key)})},_updateOneBranch:function(t){var e=this,r=this.getNodeByKey(t);e._iterateParents(r,function(n){e._setFieldState(n,uu,!0)})},_iterateChildren:function(t,e,r,n){if(Me(r)){var i=this,a=t.internalFields.key;n=n||[],n.indexOf(a)===-1&&(n.push(a),te(t.internalFields.childrenKeys,function(o,s){var l=i.getNodeByKey(s);r(l),l.internalFields.childrenKeys.length&&e&&i._iterateChildren(l,e,r,n)}))}},_iterateParents:function(t,e,r){if(!(t.internalFields.parentKey===this.options.rootValue||!Me(e))){r=r||[];var n=t.internalFields.key;if(r.indexOf(n)===-1){r.push(n);var i=this.options.dataConverter.getParentNode(t);i&&(e(i),i.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(i,e,r))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,r=0,n=0,i=!1,a=0;a<=e-1;a++){var o=this.getNodeByKey(t.internalFields.childrenKeys[a]),s=o.internalFields.item.visible===!1,l=o.internalFields.selected;if(s){n++;continue}l?r++:l===void 0&&(r+=.5)}return r&&(i=r===e-n?!0:void 0),i},_toggleChildrenSelection:function(t,e){var r=this;this._iterateChildren(t,!0,function(n){r._isNodeVisible(n)&&r._setFieldState(n,Ls,e)})},_setFieldState:function(t,e,r){t.internalFields[e]!==r&&(t.internalFields[e]=r,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=r),this.options.dataAccessors.setters[e](t.internalFields.item,r),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;te(t,function(r,n){var i=e.getIndexByKey(n),a=e.getNodeByKey(n);e._dataStructure[i]=0,a.internalFields.childrenKeys.length&&e._markChildren(a.internalFields.childrenKeys)})},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var r=this,n=0,i=Y([],this._dataStructure);te(i,function(a,o){o||(r._dataStructure.splice(a-n,1),n++)})},_addNode:function(t){var e=this.options.dataConverter,r=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(r),this._initialDataStructure=this._initialDataStructure.concat(r),e._dataStructure=e._dataStructure.concat(r)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return te(this._dataStructure,function(r,n){if(n.internalFields.item===t)return e=n,!1}),e},getNodesByItems:function(t){var e=this,r=[];return te(t,function(n,i){var a=e.getNodeByItem(i);a&&r.push(a)}),r},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return Gn(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,r){var n=this._isSingleModeUnselect(e),i=this._getByKey(r||n?this._initialDataStructure:this._dataStructure,t);this._setFieldState(i,Ls,e),this.options.recursiveSelection&&!r&&(e?this._setChildrenSelection():this._toggleChildrenSelection(i,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ls)},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var r=this.getNodeByKey(t);this._setFieldState(r,_Q,e)},toggleSelectAll:function(t){if(q(t)){var e=this,r=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;te(n,function(i,a){e._isNodeVisible(a)&&e._setFieldState(a,Ls,t)}),e._selectedNodesKeys=e._updateNodesKeysArray(Ls),!t&&e.options.selectionRequired&&e.toggleSelection(r,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(t,e){var r=this.getNodeByKey(t);this._setFieldState(r,uu,e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray(uu)},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,r){var n=[];return Array.isArray(t)?(te(t,function(i,a){n.push([a,r,e],"or")}),n.pop(),n):[t,r,e]},_filterDataStructure:function(t,e){var r=this.options.searchExpr||this.options.dataAccessors.getters.display,n=Dl.getOperationBySearchMode(this.options.searchMode),i=this._createCriteria(r,t,n);return e=e||this._initialDataStructure,Gn(e,{langParams:this.options.langParams}).filter(i).toArray()},search:function(t){var e=this,r=this._filterDataStructure(t),n=this.options.dataConverter;return function i(a,o){for(var s=a.length;o<s;){var l=a[o];if(l.internalFields.parentKey===e.options.rootValue){o++;continue}var p=n.getParentNode(l);if(!p){Et.log("W1007",l.internalFields.parentKey,l.internalFields.key),o++;continue}if(p.internalFields.expanded||e._setFieldState(p,uu,!0),a.includes(p)){o++;continue}a.splice(o,0,p),i(a,o)}}(r,0),this.options.sort&&(r=Eo.queryByOptions(Gn(r),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},te(r,function(i,a){a.internalFields.childrenKeys=[],n._indexByKey[a.internalFields.key]=i}),n._dataStructure=r,n.setChildrenKeys(),n._dataStructure}}),bQ="dx-state-invisible",CQ="dx-state-disabled",wQ="dx-item-content-placeholder",xQ=function(t,e,r){var n=function(a){i!==a&&(r(a,i),i=a)},i;return{dispose:t(e,n),force:function(){n(e())}}},zl=Ft.inherit({ctor:function(t,e,r){this._$element=t,this._options=e,this._rawData=r,d6(t,this,this._dispose),this._render()},_render:function(){var t=V("<div>").addClass(wQ);this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var r=this._rawData,n=this._options.fieldGetter(t),i=xQ(this._options.watchMethod(),function(){return n(r)},(function(a,o){this._dirty=!0,e(a,o)}).bind(this));this._watchers.push(i)},setDataField:function(){if(this._dirty=!1,te(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(CQ,!!t),this._$element.attr("aria-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(bQ,t!==void 0&&!t)},_dispose:function(){te(this._watchers,function(t,e){e.dispose()})}});zl.getInstance=function(t){return h6(t,this)};var B2=Math.abs,uS="dxhold",SQ=750,L2=5,EQ=kg.inherit({start:function(t){this._startEventData=Er(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:SQ;this._holdTimer=setTimeout((function(){this._requestAccept(t),this._fireEvent(uS,t,{target:t.target}),this._forgetAccept()}).bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=tl(this._startEventData,Er(t));return B2(e.x)>L2||B2(e.y)>L2},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Ic({emitter:EQ,bubble:!0,events:[uS]});const ys={name:uS};var cS="dxContexMenu",IQ=Ee("contextmenu",cS),TQ=Ee(ys.name,cS),dS="dxcontextmenu",OQ=Ft.inherit({setup:function(t){var e=V(t);X.on(e,IQ,this._contextMenuHandler.bind(this)),(El||Ue.isSimulator())&&X.on(e,TQ,this._holdHandler.bind(this))},_holdHandler:function(t){xl(t)&&!Ue.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return Is({type:dS,originalEvent:t})},teardown:function(t){X.off(t,"."+cS)}});Ki(dS,new OQ);var S5=dS,kQ=function(t,e,r,n,i){var a,o=((s,l,p)=>l(()=>s,p))(t,e,function(s){if(a&&a(),zd(s)){i(s);return}a=function(l,p,h,m,v){var f={},u=h.slice(),c=h.map(function(d){var _=m[d];return p(_?()=>_(l):()=>l[d],function(g){if(f[d]=g,u.length){var y=u.indexOf(d);y>=0&&u.splice(y,1)}u.length||v(f)})});return function(){c.forEach(d=>d())}}(s,e,r,n,i)});return function(){a&&a(),o&&o()}};class Wl extends jl{constructor(e,r,n,i){super(),this._render=e,this._fields=r,this._fieldsMap=i||{},this._watchMethod=n}_renderCore(e){var r=V(e.container),n=kQ(e.model,this._watchMethod,this._fields,this._fieldsMap,i=>{r.empty(),this._render(r,i,e.model)});return X.on(r,fa,n),r.contents()}}var AQ="dx-collection",xp="dx-item",F2="-content",N2="dx-item-content-placeholder",DQ="dxItemData",RQ="dxItemIndex",PQ="tmpl-",MQ="dxItem",BQ="dx-item-selected",LQ="dx-item-response-wait",FQ="dx-empty-collection",V2="dx-template-wrapper",NQ=/^([^.]+\[\d+\]\.)+([\w.]+)$/,VQ="item",Z0="up",Q0="down",H2="left",j2="right",HQ="pageup",jQ="pagedown",$2="last",z2="first",E5=rn.inherit({_activeStateUnit:"."+xp,_supportedKeys:function(){var t=function(e,r){tn(r)||(r.preventDefault(),r.stopPropagation(),this._moveFocus(e,r))};return Y(this.callBase(),{space:function(e){e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:t.bind(this,H2),rightArrow:t.bind(this,j2),upArrow:t.bind(this,Z0),downArrow:t.bind(this,Q0),pageUp:t.bind(this,Z0),pageDown:t.bind(this,Q0),home:t.bind(this,z2),end:t.bind(this,$2)})},_enterKeyHandler:function(t){var e=V(this.option("focusedElement"));if(e.length){var r=this._getItemData(e);r!=null&&r.onClick&&this._itemEventHandlerByHandler(e,r.onClick,{event:t}),this._itemClickHandler(Y({},t,{target:e.get(0),currentTarget:e.get(0)}))}},_getDefaultOptions:function(){return Y(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:he.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?er(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return VQ},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Wl((function(e,r){yt(r)?this._prepareDefaultItemTemplate(r,e):(t&&Me(t.text)&&(r=t.text(r)),e.text(String(vr(r,""))))}).bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){q(t.text)&&e.text(t.text),q(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=w6(this.$element(),MQ);if(!(!t.length||this.option("items").length)){var e=t.map(r=>{var{element:n,options:i}=r,a=/\S/.test(n.innerHTML)&&!i.template;return a?i.template=this._prepareItemTemplate(n):V(n).remove(),i});this.option("items",e)}},_prepareItemTemplate:function(t){var e=PQ+new Lr,r=V(t).detach().clone().removeAttr("data-options").addClass(V2);return this._saveTemplate(e,r),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(t.target)){var e=V(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var r=this._getActiveItem();r.length&&this.option("focusedElement",et(r))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=V(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_findActiveTarget(t){return t.find(this._activeStateUnit)},_getActiveItem:function(t){var e=V(this.option("focusedElement"));if(e.length)return e;var r=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),i=n.length-1;return r<0&&(r=t?i:0),n.eq(r)},_moveFocus:function(t){var e=this._getAvailableItems(),r;switch(t){case HQ:case Z0:r=this._prevItem(e);break;case jQ:case Q0:r=this._nextItem(e);break;case j2:r=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case H2:r=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case z2:r=e.first();break;case $2:r=e.last();break;default:return!1}r.length!==0&&this.option("focusedElement",et(r))},_getVisibleItems:function(t){return t=t||this._itemElements(),t.filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t)},_prevItem:function(t){var e=this._getActiveItem(),r=t.index(e),n=t.last(),i=V(t[r-1]),a=this.option("loopItemFocus");return i.length===0&&a&&(i=n),i},_nextItem:function(t){var e=this._getActiveItem(!0),r=t.index(e),n=t.first(),i=V(t[r+1]),a=this.option("loopItemFocus");return i.length===0&&a&&(i=n),i},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,r){var n=V(t);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,r),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",q(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_isDisabled:t=>t&&V(t).attr("aria-disabled")==="true",_setFocusedItem:function(t){if(!(!t||!t.length)){this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:e}=this.option(),r=this._isDisabled(t);e&&!r&&this._selectFocusedItem(t)}},_findItemElementByItem:function(t){var e=V(),r=this;return this.itemElements().each(function(){var n=V(this);if(n.data(r._itemDataKey())===t)return e=n,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,r,n){var i=this._findItemElementByItem(t);if(i.length){this.constructor.ItemClass.getInstance(i).setDataField(e,r)||this._refreshItem(i,t);var a=e==="disabled"&&r;a&&this._resetItemFocus(i)}},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),r=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+r,e,null,t)},_updateParentActiveDescendant:oe,_optionChanged:function(t){if(t.name==="items"){var e=t.fullName.match(NQ);if(e&&e.length){var r=e[e.length-1],n=t.fullName.replace("."+r,""),i=this.option(n);this._itemOptionChanged(i,r,t.value,t.previousValue);return}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(V(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){V(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return xp},_itemContentClass:function(){return this._itemClass()+F2},_selectedItemClass:function(){return BQ},_itemResponseWaitClass:function(){return LQ},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return DQ},_itemIndexKey:function(){return RQ},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(AQ),this._prepareContent()},_prepareContent:ul(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>Mt.down,_attachClickEvent(){var t=this._itemSelector(),e=this._getPointerEvent(),r=Ee(jt,this.NAME),n=Ee(e,this.NAME),i=new ai(a=>{var{event:o}=a;this._itemPointerDownHandler(o)});X.off(this._itemContainer(),r,t),X.off(this._itemContainer(),n,t),X.on(this._itemContainer(),r,t,a=>this._itemClickHandler(a)),X.on(this._itemContainer(),n,t,a=>{i.execute({element:V(a.target),event:a})})},_itemClickHandler:function(t,e,r){this._itemDXEventHandler(t,"onItemClick",e,r)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=V(t.target),r=e.closest(this._itemElements()),n=this._closestFocusable(e);r.length&&this._isFocusTarget(n==null?void 0:n.get(0))&&this.option("focusedElement",et(r))}}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(EC))return t;for(t=t.parent();t.length&&!Ce.isDocument(t.get(0))&&!Ce.isDocumentFragment(t.get(0));){if(t.is(EC))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),r=Ee(ys.name,this.NAME);X.off(t,r,e),X.on(t,r,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),r=Ee(S5,this.NAME);X.off(t,r,e),X.on(t,r,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&te(t,(function(e,r){this._renderItem(this._renderedItemsCount+e,r)}).bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,r,n){var i,a=(i=t==null?void 0:t.item)!==null&&i!==void 0?i:t;r=r||this._itemContainer();var o=this._renderItemFrame(a,e,r,n);this._setElementData(o,e,a),o.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,o);var s=this._getItemContent(o),l=this._renderItemContent({index:a,itemData:e,container:et(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),p=this;return Ve(l).done(function(h){p._postprocessRenderItem({itemElement:o,itemContent:h,itemData:e,itemIndex:a}),p._executeItemRenderAction(t,e,et(o))}),o},_getItemContent:function(t){var e=t.find("."+N2);return e.removeClass(N2),e},_attachItemClickEvent:function(t,e){!t||!t.onClick||X.on(e,jt,(function(r){this._itemEventHandlerByHandler(e,t.onClick,{event:r})}).bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),r=this._getTemplate(e);this._addItemContentClasses(t);var n=V(this._createItemByTemplate(r,t));return n.hasClass(V2)?this._renderItemContentByNode(t,n):t.container},_renderItemContentByNode:function(t,e){return V(t.container).replaceWith(e),t.container=et(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[xp+F2,t.contentClass];V(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,r){e.appendTo(t)},_renderItemFrame:function(t,e,r,n){var i=V("<div>");if(new this.constructor.ItemClass(i,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(i):this._appendItemToContainer.call(this,r,i,t),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(e):e;i.attr("title",a)}return i},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var r=t.option(e+"Expr"),n=er(r);return n}}},_postprocessRenderItem:oe,_executeItemRenderAction:function(t,e,r){this._getItemRenderAction()({itemElement:r,itemIndex:t,itemData:e})},_setElementData:function(t,e,r){t.addClass([xp,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),r)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,r=t.templateProperty||this.option("itemTemplateProperty"),n=e&&e[r];return n||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(t,e)})},_onItemTemplateRendered:function(){return oe},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),r=!e||t&&t.length||this._dataController.isLoading();r&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),r||(this._$noData=this._$noData||V("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass(FQ,!r)},_itemDXEventHandler:function(t,e,r,n){this._itemEventHandler(t.target,e,Y(r,{event:t}),n)},_itemEventHandler:function(t,e,r,n){var i=this._createActionByOption(e,Y({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,i,r)},_itemEventHandlerByHandler:function(t,e,r,n){var i=this._createAction(e,Y({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,i,r)},_itemEventHandlerImpl:function(t,e,r){var n=this._closestItemElement(V(t)),i=Y({},r);return e(Y(r,this._extendActionArgs(n),i))},_extendActionArgs:function(t){return{itemElement:et(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return V(t).closest(this._itemSelector())},_getItemData:function(t){return V(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var r=0;return t&&te(t,function(n,i){r+=Pt(i,e||!1)}),r},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Lr),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include($g);E5.ItemClass=zl;var Qn=Ft.abstract,$Q=Ft.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:Qn,getItemDataByIndex:Qn,getKeysByItems:Qn,getItemsByKeys:Qn,itemsGetter:Qn,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?Jt(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:Qn,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return V(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>Ce.isNode(t&&Ei(t)?t.get(0):t),deleteItemAtIndex:Qn,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:Qn,_isNormalizedItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_isItemIndex:Qn,_getNormalizedItemIndex:Qn,_normalizeItemIndex:Qn,_denormalizeItemIndex:Qn,_getItemByNormalizedIndex:Qn,_itemsFromSameParent:Qn}),hS=$Q.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),r=t;if(e){r=[];for(var n=0;n<t.length;n++)r.push(e(t[n]))}return r},getIndexByKey:function(t){var e=this._cache,r=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=r),typeof t=="object"){for(var n=0,i=r.length;n<i;n++)if(this._equalKeys(t,r[n]))return n}else return r.indexOf(t);return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var r=this._getPlainItems(),n=r[t];r.splice(t,1),r.splice(e,0,n)},_isItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}});class I5{constructor(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,r){this.options[e]=r}onSelectionChanged(){var e=this.options.addedItemKeys,r=this.options.removedItemKeys,n=this.options.addedItems,i=this.options.removedItems,a=this.options.selectedItems,o=this.options.selectedItemKeys,s=this.options.onSelectionChanged||oe;this._clearItemKeys(),s({selectedItems:a,selectedItemKeys:o,addedItemKeys:e,removedItemKeys:r,addedItems:n,removedItems:i})}equalKeys(e,r){return this.options.equalByReference&&rt(e)&&rt(r)?e===r:Jt(e,r)}getSelectableItems(e){return e.filter(function(r){return!(r!=null&&r.disabled)})}_clearSelection(e,r,n,i){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,r,n,i)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(r=>this._removeTemplateProperty(r)):(rt(e)&&delete e.template,e)}_loadFilteredData(e,r,n,i){var a=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,o=this.options.maxFilterLengthInRequest&&a>this.options.maxFilterLengthInRequest,s=new ae,l={filter:o?void 0:e,select:o?this.options.dataFields():n||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(l).done(function(p){var h=yt(p)?p.data:p;r&&!i?h=h.filter(r):o&&(h=Gn(h).filter(e).toArray()),s.resolve(h)}).fail(s.reject.bind(s)),s}updateSelectedItemKeyHash(e){for(var r=0;r<e.length;r++){var n=ua(e[r]);if(!rt(n)){this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[];var i=this.options.keyHashIndices[n];i.push(r)}}}_isAnyItemSelected(e){for(var r=0;r<e.length;r++)if(this.options.isItemSelected(e[r]))return;return!1}_getFullSelectAllState(){var e=this.options.plainItems(),r=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(o=>!(o!=null&&o.disabled));r&&(n=Gn(n).filter(r).toArray());var i=n.length,a=e.length-this.getSelectableItems(e).length;if(!i)return this._isAnyItemSelected(e);if(i>=this.options.totalCount()-a)return!0}_getVisibleSelectAllState(){for(var e=this.getSelectableItems(this.options.plainItems()),r=!1,n=!1,i=0;i<e.length;i++){var a=e[i],o=this.options.getItemData(a),s=this.options.keyOf(o);this.options.isSelectableItem(a)&&(this.isItemKeySelected(s)?r=!0:n=!0)}return r?n?void 0:!0:!1}}class zQ extends I5{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var e=new ae,r=this,n=this.options.key(),i=tt(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,i).done(function(a){var o=a.map(function(s){return r.options.keyOf(s)});e.resolve(o)}).fail(e.reject),e.promise()}selectedItemKeys(e,r,n,i){if(i){var a=this.options.filter(),o=!a||JSON.stringify(a)===JSON.stringify(this.options.selectionFilter)&&n;o?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,a,i)}else{r||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)n?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s],i,!r)}return this.onSelectionChanged(),new ae().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(var r=0;r<e.length;r++)this.addSelectedItem(e[r])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){var r=this.options.selectionFilter;return r?!!Gn([e]).filter(r).toArray().length:!0}_getKeyExpr(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){var r=this.options.key();return Array.isArray(r)&&r.length===1?e[r[0]]:e}_getFilterByKey(e){var r=this._getKeyExpr(),n=[r,"=",this._normalizeKey(e)];if(Array.isArray(r)){n=[];for(var i=0;i<r.length;i++)n.push([r[i],"=",e[r[i]]]),i!==r.length-1&&n.push("and")}return n}addSelectedItem(e,r,n){var i=this._getFilterByKey(e);this._addSelectionFilter(!1,i,r,n)}removeSelectedItem(e){var r=this._getFilterByKey(e);this._addSelectionFilter(!0,r)}validate(){var e=this.options.key;if(e&&e()===void 0)throw Et.Error("E1042","Deferred selection")}_findSubFilter(e,r){if(!e)return-1;for(var n=JSON.stringify(r),i=0;i<e.length;i++){var a=e[i];if(a&&JSON.stringify(a)===n)return i}return-1}_isLastSubFilter(e,r){return e&&r?this._findSubFilter(e,r)===e.length-1||this._findSubFilter([e],r)===0:!1}_addFilterOperator(e,r){return e.length>1&&tt(e[1])&&e[1]!==r&&(e=[e]),e.length&&e.push(r),e}_denormalizeFilter(e){return e&&tt(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((r,n)=>n%2===0?Array.isArray(r)&&r[0]==="!":r==="and")}_addSelectionFilter(e,r,n,i){var a,o=e?["!",r]:r,s=e?"and":"or",l=!0,p=this.options.selectionFilter||[];if(p=this._denormalizeFilter(p),(a=p)!==null&&a!==void 0&&a.length&&!i){var h=this._removeSameFilter(p,r,e,n),m=this._removeSameFilter(p,r,!e),v=e&&(h!==-1||m!==-1)&&this._isOnlyNegativeFiltersLeft(p);v&&(p=[]);var f=this._isKeyFilter(r)&&this._hasKeyFiltersOnlyStartingFromIndex(p,m);l=r.length&&!f}l&&(p=this._addFilterOperator(p,s),p.push(o)),p=this._normalizeFilter(p),this._setOption("selectionFilter",!e&&!p.length?null:p)}_normalizeFilter(e){return e&&e.length===1&&(e=e[0]),e}_removeFilterByIndex(e,r,n){var i=e[1];r>0?e.splice(r-1,2):e.splice(r,2),n&&i==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,r){return e.length===3&&e[0]===r&&e[1]==="="}_isKeyFilter(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var r=this._getKeyExpr();if(Array.isArray(r)){if(e.length!==2*r.length-1)return!1;for(var n=0;n<r.length;n++)if(n>0&&e[2*n-1]!=="and"||!this._isSimpleKeyFilter(e[2*n],r[n]))return!1;return!0}return this._isSimpleKeyFilter(e,r)}_hasKeyFiltersOnlyStartingFromIndex(e,r){if(r>=0){for(var n=r;n<e.length;n++)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,r,n,i){if(r=n?["!",r]:r,JSON.stringify(r)===JSON.stringify(e))return e.splice(0,e.length),0;var a=this._findSubFilter(e,r);if(a>=0)return this._removeFilterByIndex(e,a,i),a;for(var o=0;o<e.length;o++)if(Array.isArray(e[o])&&e[o].length>2){var s=this._removeSameFilter(e[o],r,!1,i);if(s>=0)return e[o].length?e[o].length===1&&(e[o]=e[o][0]):this._removeFilterByIndex(e,o,i),s}return-1}getSelectAllState(){var e=this.options.filter(),r=this.options.selectionFilter;if(!r)return!0;if(!r.length)return!1;if(!(!e||!e.length)){if(r=this._denormalizeFilter(r),this._isLastSubFilter(r,e))return!0;if(this._isLastSubFilter(r,["!",e]))return!1}}loadSelectedItemsWithFilter(){var e=this.options.filter(),r=this.options.selectionFilter,n=e?[e,"and",r]:r;return this._loadFilteredData(n)}}var W2=function(t,e){this.getLocalFilter=function(o,s,l,p){return s=s===void 0?Jt:s,i.bind(this,s,o,l,p)},this.getExpr=function(o){if(o){var s;return t.forEach(function(l,p){s=s||[];var h;p>0&&s.push(e?"and":"or"),tt(o)?h=a(o,l):h=function(m,v){for(var f=[],u=0,c=m.length;u<c;u++){var d=m[u],_=v&&v[d],g=a(d,_);if(!g)break;u>0&&f.push(e?"or":"and"),f.push(g)}return f}(o,l),s.push(h)}),s&&s.length===1&&(s=s[0]),s}},this.getCombinedFilter=function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this.getExpr(o),h=p;return(l||e)&&s&&(p?(h=[],h.push(p),h.push(s)):h=s),h};var r,n=function(o,s,l){return Array.isArray(l)?o.map(p=>s(p)):o};function i(o,s,l,p,h){var m=s(h),v,f;if(!l&&(v=ua(m),!rt(v))){var u=function(c,d){if(!r){r={};for(var _=n(t,c,d),g=0;g<_.length;g++)r[ua(_[g])]=!0}return r}(s,p);return u[v]?!e:!!e}for(f=0;f<t.length;f++)if(o(t[f],m))return!e;return!!e}function a(o,s){if(s!==void 0)return[o,e?"<>":"=",s]}};class WQ extends I5{constructor(e){super(e),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,r){var n=this.options.keyOf,i,a,o;if(n){var s=r&&e.length>1&&!this.options.equalByReference;for(s&&(i={}),o=0;o<e.length;o++){var l=e[o],p=n(l);r?(a=this.removeSelectedItem(p,i,l==null?void 0:l.disabled),i&&a>=0&&(i[a]=!0)):this.addSelectedItem(p,l)}s&&this._batchRemoveSelectedItems(i)}}_batchRemoveSelectedItems(e){var r=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<r.length;i++)e[i]||(this.options.selectedItemKeys.push(r[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=new ae,s=this.options.key();if(!e.length&&!n)return o.resolve([]),o;if(n&&r&&!i)return o.resolve(this.getSelectedItems()),o;var l=new W2(e,n),p=l.getCombinedFilter(s,i,a),h=[];if(r){var m=this.options.selectedItems;h=p&&e.length!==m.length?Gn(m).filter(p).toArray():m.slice(0)}var v=h.length?h:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),f=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,s);return v=v.filter(f),h.length||!n&&v.length===e.length?o.resolve(v):o=this._loadFilteredData(p,f,null,n),o}_replaceSelectionUpdate(e){var r=[],n=this.options.keyOf;if(n){for(var i=0;i<e.length;i++){var a=e[i],o=n(a);r.push(o)}this.setSelectedItems(r,e)}}_warnOnIncorrectKeys(e){for(var r=this.options.allowNullValue,n=0;n<e.length;n++){var i=e[n];(!r||i!==null)&&!this.isItemKeySelected(i)&&Et.log("W1002",i)}}_isMultiSelectEnabled(){var e=this.options.mode;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,r,n,i){var a,o=r?e:[];return i?a=i:a=FT(e,this.options.selectedItemKeys),{addedItems:n.added.concat(a),removedItems:n.removed.concat(o),keys:e}}_collectLastRequestData(e,r,n,i){var a=r&&n,o={added:[],removed:[]},s=this._isMultiSelectEnabled(),l=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(a?(this._lastLoadDeferred.reject(),l={}):BK(e,this.options.selectedItemKeys)||(o.added=l.addedItems,o.removed=l.removedItems,r||this._lastLoadDeferred.reject())),l=this._concatRequestsItems(e,r,o,this._shouldMergeWithLastRequest?void 0:i)),l}_updateKeysByLastRequestData(e,r,n){var i=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!r&&!n){var a,o;i=FT(e.concat((a=this._lastRequestData)===null||a===void 0?void 0:a.addedItems),(o=this._lastRequestData)===null||o===void 0?void 0:o.removedItems),i=bW(i)}return i}_loadSelectedItems(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this,s=new ae,l=o.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,r,n,i),Ve(o._lastLoadDeferred).always(function(){var p=o._updateKeysByLastRequestData(e,r,n);o._shouldMergeWithLastRequest=!1,o._loadSelectedItemsCore(p,r,n,l,a).done(s.resolve).fail(s.reject)}),o._lastLoadDeferred=s,s}selectedItemKeys(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=this,l=s._loadSelectedItems(e,n,i,a,o);return l.done(function(p){r?s._preserveSelectionUpdate(p,n):s._replaceSelectionUpdate(p),s.onSelectionChanged()}),l}addSelectedItem(e,r){if(q(r)&&!this.options.ignoreDisabledItems&&r.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!rt(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(r),this.options.selectedItems.push(r))}_getSelectedIndexByKey(e,r){for(var n=this.options.selectedItemKeys,i=0;i<n.length;i++)if((!r||!r[i])&&this.equalKeys(n[i],e))return i;return-1}_getSelectedIndexByHash(e,r){var n=this.options.keyHashIndices[e];return n&&n.length>1&&r&&(n=n.filter(function(i){return!r[i]})),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,r){var n;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):rt(e)?n=this._getSelectedIndexByKey(e,r):n=this._getSelectedIndexByHash(e,r),n}_shiftSelectedKeyIndices(e){for(var r=e;r<this.options.selectedItemKeys.length;r++){var n=this.options.selectedItemKeys[r],i=ua(n),a=this.options.keyHashIndices[i];if(a)for(var o=0;o<a.length;o++)a[o]>e&&a[o]--}}removeSelectedItem(e,r,n){if(!(!this.options.ignoreDisabledItems&&n)){var i=this._getKeyHash(e),a=!!r,o=this._indexOfSelectedItemKey(i,r);if(o<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[o]),a)||(this.options.selectedItemKeys.splice(o,1),this.options.selectedItems.splice(o,1),rt(i)||!this.options.keyHashIndices))return o;var s=this.options.keyHashIndices[i];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(o)),o}}_updateAddedItemKeys(e,r){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(r[n]))}_updateRemovedItemKeys(e,r,n){for(var i=0;i<r.length;i++)this.isItemKeySelected(r[i])||(this.options.removedItemKeys.push(r[i]),this.options.removedItems.push(n[i]))}_isItemSelectionInProgress(e,r){var n=r&&this._lastRequestData&&this._requestInProgress();if(n){var i,a=(i=this._lastRequestData.addedItems)!==null&&i!==void 0?i:[];return a.includes(e)}else return!1}_getKeyHash(e){return this.options.equalByReference?e:ua(e)}setSelectedItems(e,r){this._updateAddedItemKeys(e,r);var n=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",r),this._updateRemovedItemKeys(e,n,i)}isItemDataSelected(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,r)}isItemKeySelected(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,r.checkPending);if(!n){var i=this._getKeyHash(e),a=this._indexOfSelectedItemKey(i);n=a!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var e=this.options.key(),r=this.getSelectedItemKeys(),n=this.options.filter();if(!r.length)return ae().resolve([]);var i=new W2(r),a=i.getCombinedFilter(e,n,!0);return this._loadFilteredData(a)}}let T5=class{constructor(e){this.options=Y(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new zQ(this.options):new WQ(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:oe,key:oe,keyOf:function(e){return e},load:function(){return new ae().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:oe,filter:oe}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;var r=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,r&&this.onSelectionChanged()}setSelection(e,r){return this.selectedItemKeys(e,!1,!1,!1,r)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,r,n,i,a){var o;return e=(o=e)!==null&&o!==void 0?o:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,r,n,i,a)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,r){this._selectionStrategy.addSelectedItem(r,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,r){this._selectionStrategy.setSelectedItems(e,r)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,r,n){var i,a,o,s=this.options.plainItems(),l=s[e],p,h=(i=(a=this.options).allowLoadByRange)===null||i===void 0?void 0:i.call(a),m,v=!1,f=!1,u=y=>y>=0&&!s.filter(b=>b.loadIndex===y).length;if(h&&q(l)&&(m=l.loadIndex-e,e=l.loadIndex,v=u(this._focusedItemIndex),q(this._shiftFocusedItemIndex)&&(f=u(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;var c=this.options.getItemData(l),d=this.options.keyOf(c);if(r=r||{},r.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)v||f?(o=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,o&&(p=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):o=this.changeItemSelectionWhenShiftKeyPressed(e,s,m);else if(r.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){var _=this._selectionStrategy.isItemDataSelected(c);this.options.mode==="single"&&this.clearSelectedItems(),_?this._removeSelectedItem(d):this._addSelectedItem(c,d)}o=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var g=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],d);(this.options.selectedItemKeys.length!==1||!g)&&(this._setSelectedItems([d],[c]),o=!0)}if(o)return Ve(p).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,r){return this._selectionStrategy.isItemKeySelected(e,r)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var r=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=new ae,i=r.skip;return this.options.load(r).done(a=>{this.changeItemSelectionWhenShiftKeyPressed(e,a,i),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,r,n){var i=!1,a,o=q(n),s=o?this._focusedItemIndex-n:this._focusedItemIndex,l=this.options.keyOf,p=r[s],h=this.options.getItemData(p),m=l(h),v=p&&this.isItemDataSelected(h);q(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var f,u,c,d;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(a=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,c=o?this._focusedItemIndex-n:this._focusedItemIndex,d=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=c;s!==d;s+=a)(o||this.isDataItem(r[s]))&&(u=l(this.options.getItemData(r[s])),this._removeSelectedItem(u),i=!0);if(e!==this._shiftFocusedItemIndex)for(a=e<this._shiftFocusedItemIndex?1:-1,c=o?e-n:e,d=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=c;s!==d;s+=a)(o||this.isDataItem(r[s]))&&(f=this.options.getItemData(r[s]),u=l(f),this._addSelectedItem(f,u),i=!0);return(o||this.isDataItem(p))&&!v&&(this._addSelectedItem(h,m),i=!0),i}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(e){for(var r=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<r.length;n++){var i=r[n];if(this.isDataItem(i)){var a=this.options.getItemData(i),o=this.options.keyOf(a),s=this.isItemSelected(o);!s&&!e&&this._addSelectedItem(a,o),s&&e&&this._removeSelectedItem(o)}}return this.onSelectionChanged(),new ae().resolve()}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};var J0="dxItemDeleting",Pm=-1,Qi=function(t){return t!==Pm},Ul=E5.inherit({_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return Y(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Pm,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=er(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(t){var e=t;return this.option("keyExpr")?e=this._keyGetter(t):this._dataController.store()&&(e=this._dataController.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new T5({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(r){(r.addedItemKeys.length||r.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(r.selectedItemKeys,r.selectedItems)),t._updateSelectedItems(r))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var r=t.option("items"),n=t._dataController.totalCount();return n>=0?n:t._getItemsCount(r)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(r){var n,i=t._dataController;return r.customQueryParams=(n=i.loadOptions())===null||n===void 0?void 0:n.customQueryParams,r.userData=i.userData(),i.store()?i.loadFromStore(r).done(function(a){if(!t._disposed){var o=HM(a).data;i.applyMapFunction(o)}}):new ae().resolve(this.plainItems())},dataFields:function(){return t._dataController.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((e,r)=>e+(r.items?this._getItemsCount(r.items):1),0)},_initEditStrategy:function(){var t=hS;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,r=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),te(t,function(n,i){var a=e._getIndexByKey(i);Qi(a)&&r.push(a)}),e._editStrategy.endCache(),r},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){t=t||this._chooseSelectOption();var e,r,n,i;switch(t){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),q(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(i=this.option("selectedItems")||[],r=i.length?this._editStrategy.getIndexByItemData(i[0]):Pm,this.option("selectionRequired")&&!Qi(r))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",i[0]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(i));break;case"selectedItem":if(e=this.option("selectedItem"),r=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!Qi(r))return this._syncSelectionOptions("selectedIndex");q(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Pm));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(n[0]);if(!Qi(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new ae().resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=(function(r){var n=this.option(r),i=q(n)&&n.length;return i||r in this._userOptions}).bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),r=t[0]===void 0?e[0]:t[0];return r===void 0&&(r=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&r&&r.items&&(r.items=[r.items[0]]),this._selection.setSelection(this._getKeysByItems([r])),this._setOptionWithoutOptionChange("selectedItems",[r]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),i=this._selection.getSelectedItemKeys();this._compareKeys(i,n)||this._selection.setSelection(n)}return new ae().resolve().promise()},_itemClickHandler:function(t){var e=new ae().resolve(),r=this.callBase;this._createAction((function(n){var i;e=(i=this._itemSelectHandler(n.event))!==null&&i!==void 0?i:e}).bind(this),{validatingTargetName:"itemElement"})({itemElement:V(t.currentTarget),event:t}),e.always(()=>{r.apply(this,arguments)})},_itemSelectHandler:function(t){var e,r;if(this.option("selectByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):r=this.selectItem(t.currentTarget),(e=r)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if(this.option("selectionMode")!=="none"){var e=V(t.itemElement),r=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(r);this._processSelectableItem(e,n)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(t,String(e))},_updateSelectedItems:function(t){var e=this,r=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(r.length||n.length)){var i=e._selectionChangePromise;if(!e._rendering){var a=[],o,s=[];e._editStrategy.beginCache();for(var l=0;l<r.length;l++)o=e._getIndexByKey(r[l]),a.push(o),e._addSelection(o);for(var p=0;p<n.length;p++)o=e._getIndexByKey(n[p]),s.push(o),e._removeSelection(o);e._editStrategy.endCache(),e._updateSelection(a,s)}Ve(i).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:oe,_setAriaSelectionAttribute:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);Qi(t)&&(this._processSelectableItem(e,!1),X.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);Qi(t)&&(this._processSelectableItem(e,!0),X.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data(J0))return new ae().resolve().promise();t.data(J0,!0);var e=new ae,r={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",r,{excludeValidators:["disabled","readOnly"]});return Ve(n).always((function(i){var a=!n,o=!a&&n.state()==="resolved",s=!!arguments.length,l=a||o&&!s||o&&i;Ve(cn(r.cancel)).always(function(){t.data(J0,!1)}).done(function(p){l&&!p?e.resolve():e.reject()}).fail(e.reject)}).bind(this)),e.promise()},_deleteItemFromDS:function(t){var e=this._dataController,r=new ae,n=this.option("disabled"),i=e.store();if(!i)return new ae().resolve().promise();if(!i.remove)throw Et.Error("E1011");return this.option("disabled",!0),i.remove(e.keyOf(this._getItemData(t))).done(function(a){a!==void 0?r.resolve():r.reject()}).fail(function(){r.reject()}),r.always((function(){this.option("disabled",n)}).bind(this)),r},_tryRefreshLastPage:function(){var t=new ae;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),r=t+1;r<e.length;r++)V(e[r]).data(this._itemIndexKey(),r-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof Va||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(t);if(Qi(e)){var r=this._getKeyByIndex(e);if(!this._selection.isItemSelected(r)){if(this.option("selectionMode")==="single")return this._selection.setSelection([r]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,r],[r])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(Qi(e)){var r=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&r.length<=1)){var n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var r=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(r),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,r=new ae,n=this._editStrategy.getItemElement(t),i=this._editStrategy.getNormalizedIndex(t),a=this._itemResponseWaitClass();return Qi(i)?this._waitDeletingPrepare(n).done(function(){n.addClass(a);var o=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(i),e._afterItemElementDeleted(n,o),e._tryRefreshLastPage().done(function(){r.resolveWith(e)})}).fail(function(){n.removeClass(a),r.rejectWith(e)})}).fail(function(){r.rejectWith(e)}):r.rejectWith(e),r.promise()},reorderItem:function(t,e){var r=new ae,n=this,i=this._editStrategy,a=i.getItemElement(t),o=i.getItemElement(e),s=i.getNormalizedIndex(t),l=i.getNormalizedIndex(e),p=this._dataController.getDataSource()?"dataSource":"items",h=Qi(s)&&Qi(l)&&s!==l;return h?r.resolveWith(this):r.rejectWith(this),r.promise().done(function(){o[i.itemPlacementFunc(s,l)](a),i.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),p==="items"&&n._simulateOptionChange(p),n._itemEventHandler(a,"onItemReordered",{fromIndex:i.getIndex(s),toIndex:i.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),UQ="dx-state-disabled",O5=Ul.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new yQ(Y({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:oe,_getItemExtraPropNames:oe,_initDynamicTemplates:function(){var t=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new Wl(this._addContent.bind(this),t,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(t,e){t.html(e.html).append(this._getIconContainer(e)).append(this._getTextContainer(e))},_getIconContainer:function(t){return t.icon?Io(t.icon):void 0},_getTextContainer:function(t){return V("<span>").text(t.text)},_initAccessors:function(){var t=this;te(this._getAccessors(),function(e,r){t._compileAccessor(r)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,r=[];return te(t.internalFields.childrenKeys,function(n,i){var a=e._dataAdapter.getNodeByKey(i);r.push(a)}),r},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",r="_"+t+"Setter",n=this.option(t+"Expr");if(n){if(Me(n)){this[r]=function(i,a){i[n()]=a},this[e]=function(i){return i[n()]};return}}else{this[e]=oe,this[r]=oe;return}this[e]=er(n),this[r]=G1(n)},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return te(this._getAccessors(),function(r,n){var i="_"+n+"Getter",a="_"+n+"Setter",o=n==="parentId"?"parentKey":n;e.getters[o]=t[i],e.setters[o]=t[a]}),e.getters.display=this._displayGetter?this._displayGetter:r=>r.text,e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:oe,_renderItemFrame:function(t,e){var r=this.callBase.apply(this,arguments);return r.toggleClass(UQ,!!this._disabledGetter(e)),r},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}});class GQ extends hS{_getPlainItems(){return Xr(this._collectionWidget.option("items"),function e(r){return r.items?[r].concat(Xr(r.items,e)):r})}_stringifyItem(e){return JSON.stringify(e,(r,n)=>r==="template"?this._getTemplateString(n):n)}_getTemplateString(e){var r;return typeof e=="object"?r=V(e).text():r=e.toString(),r}}var Ef="dx-menu",KQ=Ef+"-no-icons",qQ="dx-menu-base",zi=Ef+"-item",XQ=zi+"-content",ey=zi+"-selected",U2=zi+"-wrapper",YQ=Ef+"-items-container",ZQ=zi+"-expanded",QQ=Ef+"-separator",JQ=Ef+"-last-group-item",eJ=zi+"-has-text",tJ=zi+"-has-icon",rJ=zi+"-has-submenu",k5=zi+"-popout",nJ=k5+"-container",A5=zi+"-text",iJ="single",aJ={show:50,hide:300},oJ="".concat(A5,"-with-url"),sJ="dx-icon-with-url",G2="dx-item-url";class fS extends O5{_getDefaultOptions(){return Y(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return zi}_setAriaSelectionAttribute(){}_selectedItemClass(){return ey}_widgetClass(){return qQ}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return Y(super._supportedKeys(),{space:()=>{var e=V(this.option("focusedElement"));!e.length||!this._isSelectionEnabled()||this.selectItem(e[0])},pageUp:oe,pageDown:oe})}_isSelectionEnabled(){return this.option("selectionMode")===iJ}_init(){this._activeStateUnit=".".concat(zi),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(e,r,n){var{linkAttr:i,url:a}=n;e==null||e.addClass(sJ),r==null||r.addClass(oJ);var o=rt(i)?i:{};return V("<a>").addClass(G2).attr(we({},o,{href:a})).append(e).append(r)}_addContent(e,r){var{html:n,url:i}=r,a=this._getIconContainer(r),o=this._getTextContainer(r);if(e.html(n),i){var s=this._getLinkContainer(a,o,r);e.append(s)}else e.append(a).append(o);e.append(this._getPopoutContainer(r)),this._addContentClasses(r,e.parent())}_getTextContainer(e){var{text:r}=e;if(r){var n=V("<span>").addClass(A5),i=yt(e)?r:String(e);return n.text(i)}}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(e){var r=e.items,n;if(r&&r.length){var i=V("<div>").addClass(k5);n=V("<span>").addClass(nJ).append(i)}return n}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(e){if(e){var r=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(r.internalFields.key,!0)}}_renderSelectedItem(){var e=this._dataAdapter.getSelectedNodesKeys(),r=e.length&&e[0],n=this.option("selectedItem");if(!r){this._selectByItem(n);return}var i=this._dataAdapter.getNodeByKey(r);if(i.selectable!==!1){if(!n){this.option("selectedItem",i.internalFields.item);return}n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(r,!1),this._selectByItem(n))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=Zx()}_toggleActiveState(e,r,n){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var i={element:e,event:n};r?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}}_getShowSubmenuMode(){var e=this.option("showSubmenuMode");return e=rt(e)?e.name:e,this._isDesktopDevice()?e:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Ue.real().deviceType==="desktop"}_initEditStrategy(){var e=GQ;this._editStrategy=new e(this)}_addCustomCssClass(e){e.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(U2)}_hoverStartHandler(e){var r=this._getItemElementByEventArgs(e);!r||this._isItemDisabled(r)||(e.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,r),this._getSubmenuDelay("show"))))}_getAvailableItems(e){return super._getAvailableItems(e).filter(function(){return V(this).css("visibility")!=="hidden"})}_isItemDisabled(e){return this._disabledGetter(e.data(this._itemDataKey()))}_showSubmenu(e){this._addExpandedClass(e)}_addExpandedClass(e){V(e).addClass(ZQ)}_getSubmenuDelay(e){var{delay:r}=this.option("showSubmenuMode");return q(r)?rt(r)?r[e]:r:aJ[e]}_getItemElementByEventArgs(e){var r=V(e.target);if(r.hasClass(this._itemClass())||r.get(0)===e.currentTarget)return r;for(;!r.hasClass(this._itemClass());)if(r=r.parent(),r.hasClass("dx-submenu"))return null;return r}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(e){return e&&e.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(e,r){if(e.length){this.hasIcons=!1;var n=this._renderContainer(this.$element(),r),i=-1,a=-1;te(e,(o,s)=>{var l=s.visible!==!1;l&&i<0&&(i=o);var p=i<o&&(s.beginGroup||o===a);p&&(a=l?o:o+1),o===a&&i<o&&this._renderSeparator(n),this._renderItem(o,s,n)}),this.hasIcons||n.addClass(KQ)}}_renderContainer(e){var r=V("<ul>");return this.setAria("role","none",r),r.appendTo(e).addClass(YQ)}_createDOMElement(e){var r=V("<li>");return this.setAria("role","none",r),r.appendTo(e).addClass(U2)}_renderItem(e,r,n,i){var a=this.option("items"),o=i||this._createDOMElement(n);a[e+1]&&a[e+1].beginGroup&&o.addClass(JQ);var s=super._renderItem(e,r.internalFields.item,o);r.internalFields.item===this.option("selectedItem")&&s.addClass(ey),s.attr("tabIndex",-1),this._hasSubmenu(r)&&this.setAria("haspopup","true",s)}_renderItemFrame(e,r,n){var i=n.children(".".concat(zi));return i.length?i:super._renderItemFrame.apply(this,arguments)}_refreshItem(e,r){var n=this._dataAdapter.getNodeByItem(r),i=e.data(this._itemIndexKey()),a=e.closest("ul"),o=e.closest("li");this._renderItem(i,n,a,o)}_addContentClasses(e,r){var n=e.text?!!e.text.length:!1,i=!!e.icon,a=e.items?!!e.items.length:!1;r.toggleClass(eJ,n),r.toggleClass(tJ,i),this.hasIcons||(this.hasIcons=i),r.toggleClass(rJ,a)}_getItemContent(e){var r=super._getItemContent(e);return r.length||(r=e.children(".".concat(XQ))),r}_postprocessRenderItem(e){var r=V(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(!n.length||!this._selectedGetter(e.itemData)||!this._isItemSelectable(e.itemData)){this._setAriaSelectionAttribute(r,"false");return}var i=this._dataAdapter.getNodeByItem(e.itemData);i.internalFields.key===n[0]?(r.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(r,"true")):this._setAriaSelectionAttribute(r,"false")}_isItemSelectable(e){return e.selectable!==!1}_renderSeparator(e){V("<li>").appendTo(e).addClass(QQ)}_itemClickHandler(e){if(!e._skipHandling){var r=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:r.bind(this)}),e._skipHandling=!0}}_itemClick(e){var r=e.args[0],n=r.event.target.getElementsByClassName(G2)[0];r.itemData.url&&n&&n.click()}_updateSubmenuVisibilityOnClick(e){this._updateSelectedItemOnClick(e),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(e.args[0].itemElement)}_updateSelectedItemOnClick(e){var r=e.args?e.args[0]:e;if(this._isItemSelectAllowed(r.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),!i||i.internalFields.item!==r.itemData?this.selectItem(r.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectAllowed(e){var r=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&r&&this._isItemSelectable(e)&&!this._itemsGetter(e)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return X1()}_optionChanged(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var r=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(r&&r.internalFields.key!==n){if(r.selectable===!1)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(r,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(e)}}_toggleItemSelection(e,r){var n=this._getElementByItem(e.internalFields.item);n&&V(n).toggleClass(ey),this._dataAdapter.toggleSelection(e.internalFields.key,r)}_getElementByItem(e){var r;return te(this._itemElements(),(n,i)=>V(i).data(this._itemDataKey())!==e?!0:(r=i,!1)),r}_updateSelectedItems(e,r){(e||r)&&this._fireSelectionChangeEvent(r,e)}_fireSelectionChangeEvent(e,r){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[r]})}selectItem(e){var r=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(r);a.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(i,r),this._setOptionWithoutOptionChange("selectedItem",r))}unselectItem(e){var r=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(r),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}fS.ItemClass=zl;var D5="dx-menu",Zd=D5+"-item",cu=Zd+"-expanded",lJ="dx-menu-phone-overlay",Sp=D5+"-items-container",K2=Zd+"-wrapper",Jn="dx-submenu",uJ="dx-context-menu",cJ="dx-has-context-menu",dJ="dx-state-disabled",hJ="dx-state-focused",q2="dx-state-hover",fJ="dx-overlay-content",R5="up",P5="down",pJ="left",mJ="right",M5="first",B5="last",X2=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],vJ=[R5,P5,M5,B5],Y2="dxcontextmenu",gJ=pt();class pS extends fS{getShowEvent(e){var r=null;return rt(e)?e.name!==null&&(r=e.name||Y2):r=e,r}getShowDelay(e){return rt(e)&&e.delay}_getDefaultOptions(){return Y(super._getDefaultOptions(),{showEvent:Y2,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!lt(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),Y(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},te(X2,(e,r)=>{this._actions[r]=this._createActionByOption(r)||oe})}_setOptionsByReference(){super._setOptionsByReference(),Y(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():V()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return Y(super._supportedKeys(),{space:()=>{var e=V(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(){var e=this._getAvailableItems(),r=e.filter(".".concat(hJ)),n=e.filter(".".concat(q2)),i=n.closest(".".concat(Sp));return i.find(".".concat(Zd)).index(r)>=0?r:n.length?n:super._getActiveItem()}_moveFocus(e){var r=this._getItemsByLocation(e),n=this._getActiveItem(!0),i=this.itemsContainer().find(".".concat(q2)),a=V(this.option("focusedElement")),o=!!(a.length||i.length),s;switch(e){case R5:s=o?this._prevItem(r):n,this._setFocusedElement(s),n.is(r.first())&&this._actions.onLeftFirstItem(n);break;case P5:s=o?this._nextItem(r):n,this._setFocusedElement(s),n.is(r.last())&&this._actions.onLeftLastItem(n);break;case mJ:s=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(r,e),this._setFocusedElement(s);break;case pJ:s=this.option("rtlEnabled")?this._expandSubmenuHandler(r,e):this._hideSubmenuHandler(),this._setFocusedElement(s);break;case M5:s=r.first(),this._setFocusedElement(s);break;case B5:s=r.last(),this._setFocusedElement(s);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&this.option("focusedElement",et(e))}_getItemsByLocation(e){var r=this._getActiveItem(!0),n;return vJ.includes(e)&&(n=r.closest(".".concat(Sp)).children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(q(this._overlay)){var e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e=this._getActiveItem(!0),r=e.parents(".".concat(cu)).first();return r.length?(this._hideSubmenusOnSameLevel(r),this._hideSubmenu(e.closest(".".concat(Jn))),r):(this._actions.onCloseRootSubmenu(e),e)}_expandSubmenuHandler(e,r){var n=this._getActiveItem(!0),i=this._getItemData(n),a=this._dataAdapter.getNodeByItem(i),o=this._hasSubmenu(a),s=n.children(".".concat(Jn));if(o&&!n.hasClass(dJ))return(!s.length||s.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(r));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(cJ),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent(V("<div>").appendTo(this._$element),da,e);var r=this._overlay.$content();r.addClass(uJ),this._addCustomCssClass(r),this._addPlatformDependentClass(r),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var e=this._itemContainer(),r=Ee(S5,this.NAME);X.off(e,r,".".concat(Jn)),X.on(e,r,".".concat(Jn),(n=>{n.stopPropagation(),n.preventDefault(),X.off(e,r,".".concat(Jn))}).bind(this))}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){Ue.current().phone&&e.addClass(lJ)}_detachShowContextMenuEvents(e){var r=this.getShowEvent(this.option("showEvent"));if(r){var n=Ee(r,this.NAME);this._showContextMenuEventHandler?X.off(Ce.getDocument(),n,e,this._showContextMenuEventHandler):X.off(V(e),n)}}_attachShowContextMenuEvents(){var e=this._getTarget(),r=this.getShowEvent(this.option("showEvent"));if(r){var n=Ee(r,this.NAME),i=this._createAction(o=>{var s=this.getShowDelay(this.option("showEvent"));s?setTimeout(()=>this._show(o.event),s):this._show(o.event)},{validatingTargetName:"target"}),a=o=>i({event:o,target:V(o.currentTarget)});i=this._createAction(i),Ei(e)||e.nodeType||Dr(e)?(this._showContextMenuEventHandler=void 0,X.on(e,n,a)):(this._showContextMenuEventHandler=a,X.on(Ce.getDocument(),n,e,this._showContextMenuEventHandler))}}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,r){var n=r||this._itemContainer();e=V("<div>"),e.appendTo(n).addClass(Jn).css("visibility",r?"hidden":"visible"),e.parent().hasClass(fJ)||this._addCustomCssClass(e);var i=super._renderContainer(e);return r?i:this.option("width")?i.css("minWidth",this.option("width")):this.option("height")?i.css("minHeight",this.option("height")):i}_renderSubmenuItems(e,r){this._renderItems(this._getChildNodes(e),r),this._actions.onSubmenuCreated({itemElement:et(r),itemData:e.internalFields.item,submenuElement:et(r.children(".".concat(Jn)))})}_getOverlayOptions(){var e=this.option("position"),r={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:gJ};return r}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){var{closeOnOutsideClick:r,hideOnOutsideClick:n}=this.option();return Me(n)?n(e):Me(r)?r(e):n||r}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(Ce.isDocument(e.target))return!0;var r=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),a=this.$element().parents(".".concat(Zd)),o=i[0]===a[0]&&i.length&&a.length,s=this._isIncludeOverlay(r,n)&&i.length;return s||o?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(i),!1):!0}_getActiveItemsContainer(e){return V(e).closest(".".concat(Sp))}_getItemsContainers(){return this._overlay.$content().find(".".concat(Sp))}_searchActiveItem(e){return V(e).closest(".".concat(Zd)).eq(0)}_isIncludeOverlay(e,r){var n=!1;return te(r,(i,a)=>{e.is(a)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){var r=e.find(".".concat(Jn)),n=Y([],this._shownSubmenus);r.length>0&&te(n,(i,a)=>{var o=this._searchActiveItem(a.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&this._hideSubmenu(a)})}_showSubmenu(e){var r=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!!this._hasSubmenu(r)){var n=e.children(".".concat(Jn)),i=n.length;super._showSubmenu(e),i||this._renderSubmenuItems(r,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}_hideSubmenusOnSameLevel(e){var r=e.parent(".".concat(K2)).siblings().find(".".concat(cu));r.length&&(r.removeClass(cu),this._hideSubmenu(r.find(".".concat(Jn))))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var r=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(Jn)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(q(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),r&&yr.stop(n),ca.setup(n,i),r&&(yt(r.to)&&(r.to.position=i),this._animate(n,r)),n.css("visibility","visible"))}_animate(e,r){yr.animate(e,r)}_getSubmenuPosition(e){var r=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat(K2)),i={collision:"flip",of:n,offset:{h:0,v:-1}};switch(r){case"left":i.at="left top",i.my="right top";break;case"right":i.at="right top",i.my="left top";break;default:this.option("rtlEnabled")?(i.at="left top",i.my="right top"):(i.at="right top",i.my="left top")}return i}_updateSubmenuVisibilityOnClick(e){if(e.args.length){var r=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(r);if(n){var i=V(e.args[0].itemElement),a=i.find(".".concat(Jn)),o=this._hasSubmenu(n)&&!a.length;if(o&&(this._renderSubmenuItems(n,i),a=i.find(".".concat(Jn))),!(i.context===a.context&&a.css("visibility")==="visible")){this._updateSelectedItemOnClick(e);var s=r&&r.closeMenuOnClick===!1;if(!(!r||r.disabled||s))if(a.length===0){var l=V(i.parents(".".concat(Jn))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(i)}}}}_hideSubmenu(e){var r=Y([],this._shownSubmenus);te(r,(n,i)=>{(e.is(i)||uo(e[0],i[0]))&&(i.parent().removeClass(cu),this._hideSubmenuCore(i))})}_hideSubmenuCore(e){var r=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;r>=0&&this._shownSubmenus.splice(r,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}_stopAnimate(e){yr.stop(e,!0)}_hideAllShownSubmenus(){var e=Y([],this._shownSubmenus),r=this._overlay.$content().find(".".concat(cu));r.removeClass(cu),te(e,(n,i)=>{this._hideSubmenu(i)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(X2.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var r={jQEvent:e},n=new ae().reject().promise();if(this._actions.onShowing(r),r.cancel)return n;var i=this._positionContextMenu(e);if(i){var a;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(a=e.originalEvent)===null||a===void 0?void 0:a.type)===ys.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Lr),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||V(Ce.getDocument())}_getContextMenuPosition(){return Y({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){var r=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(r.of=e);var a={position:r,event:e};return i(a),a.cancel?r=null:a.event&&(a.event.cancel=!0,e.preventDefault()),r}_refresh(){if(!lt())super._refresh();else if(this._overlay){var e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||new ae().reject().promise()}toggle(e){var r=this.option("visible");return e=e===void 0?!r:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Rt("dxContextMenu",pS);var _J="dx-context-menu",yJ={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},bJ=["columnHeadersView","rowsView","footerView","headerPanel"],CJ=ar.ViewController.inherit({init(){this.createAction("onContextMenuPreparing")},getContextMenuItems(t){if(!t)return!1;var e=this,r=V(t.target),n,i,a,o;return te(bJ,function(){var s,l,p=e.getView(this);if(n=p&&p.element(),n&&(n.is(r)||n.find(r).length)){a=r.closest(".dx-row > td, .dx-row > tr"),i=a.parent();var h=p.getRowIndex(i),m=a[0]&&a[0].cellIndex,v=i.data("options"),f={event:t,targetElement:et(r),target:yJ[this],rowIndex:h,row:p._getRows()[h],columnIndex:m,column:(l=(s=v==null?void 0:v.cells)===null||s===void 0?void 0:s[m])===null||l===void 0?void 0:l.column};if(f.items=p.getContextMenuItems&&p.getContextMenuItems(f),e.executeAction("onContextMenuPreparing",f),e._contextMenuPrepared(f),o=f.items,o)return!1}}),o},_contextMenuPrepared:oe}),wJ=ar.View.inherit({_renderCore(){var t=this,e=t.element().addClass(_J);this.setAria("role","presentation",e),this._createComponent(e,pS,{onPositioning(r){var{event:n}=r,i=r.component,a=t.getController("contextMenu").getContextMenuItems(n);a?(i.option("items",a),n.stopPropagation()):r.cancel=!0},onItemClick(r){r.itemData.onItemClick&&r.itemData.onItemClick(r)},cssClass:t.getWidgetContainerClass(),target:t.component.$element()})}}),xJ={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:CJ},views:{contextMenuView:wJ}};Qe.registerModule("contextMenu",xJ);var Qc="dx-error-row",Z2="dx-error-message",SJ="dx-closebutton",EJ="action",IJ=ar.ViewController.inherit({init(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow(t,e){var r=this,n,i,a=this._renderErrorMessage(t);return e?(n=V("<tr>").addClass(Qc),i=V("<div>").addClass(SJ).addClass(r.addWidgetPrefix(EJ)),X.on(i,jt,r.createAction(o=>{var s=o.event,l,p=V(s.currentTarget).closest(".".concat(Qc)).index();s.stopPropagation(),te(e,(h,m)=>{l=V(m).children("tbody").children("tr").eq(p),r.removeErrorRow(l)}),r.getController("resizing")&&r.getController("resizing").fireContentReadyAction()})),V("<td>").attr({colSpan:r.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(i).append(a).appendTo(n),n):a},_renderErrorMessage(t){var e=t.url?t.message.replace(t.url,""):t.message||t,r=V("<div>").addClass(Z2).text(e);return t.url&&V("<a>").attr("href",t.url).text(t.url).appendTo(r),r},renderErrorRow(t,e,r){var n=this,i,a;if(r)return r.find(".".concat(Z2)).remove(),i=n._createErrorRow(t),r.prepend(i),i;var o=e>=0||!n._columnHeadersView.isVisible()?n._rowsView:n._columnHeadersView,s=o.getTableElements();te(s,(p,h)=>{if(i=n._createErrorRow(t,s),a=a||i,e>=0){var m=o._getRowElements(V(h)).eq(e);n.removeErrorRow(m.next()),i.insertAfter(m)}else{var v=V(h).children("tbody"),f=v.children("tr");n._columnHeadersView.isVisible()?(n.removeErrorRow(f.last()),V(h).append(i)):(n.removeErrorRow(f.first()),v.first().prepend(i))}});var l=n.getController("resizing");return l&&l.fireContentReadyAction(),a},removeErrorRow(t){if(!t){var e=this._columnHeadersView&&this._columnHeadersView.element();if(t=e&&e.find(".".concat(Qc)),!t||!t.length){var r=this._rowsView.element();t=r&&r.find(".".concat(Qc))}}t&&t.hasClass(Qc)&&t.remove()},optionChanged(t){switch(t.name){case"errorRowEnabled":t.handled=!0;break;default:this.callBase(t)}}}),TJ={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:IJ},extenders:{controllers:{data:{init(){var t=this,e=t.getController("errorHandling");t.callBase(),t.dataErrorOccurred.add((r,n)=>{t.option("errorRowEnabled")&&e.renderErrorRow(r,void 0,n)}),t.changed.add(r=>{if(!(r&&r.changeType==="loadError")){var n=t.getController("errorHandling"),i=t.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}})}}}}};Qe.registerModule("errorHandling",TJ);var Q2="borders",OJ="table-fixed",kJ="important-margin",L5="dx-gridbase-container",AJ="tr.dx-group-row",Ep="adaptiveHidden",mS=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],Jc=function(t){return tt(t)&&t.endsWith("%")},DJ=function(t){return tt(t)&&t.endsWith("px")},F5=function(t,e){var r=t._rowsView.contentWidth(),n=t._getTotalWidth(e,r);return r-n},RJ=function(t,e,r,n){return F5(t,n.map((i,a)=>a===e?r:i))},PJ=function(t,e){aH(t,!0),Te.setSelectionRange(t,e)},MJ={_initPostRenderHandlers(){var t=this._dataController;this._refreshSizesHandler||(this._refreshSizesHandler=e=>{t.changed.remove(this._refreshSizesHandler),this._checkSize()&&this._refreshSizes(e)},t.changed.add(()=>{t.changed.add(this._refreshSizesHandler)}))},_refreshSizes(t){var e,r,n=this,i=t&&t.changeType,a=t&&t.isDelayed,o=n._dataController.items();if(!t||i==="refresh"||i==="prepend"||i==="append")a||(r=n.resize());else if(i==="update"){if(((e=t.changeTypes)===null||e===void 0?void 0:e.length)===0)return;(o.length>1||t.changeTypes[0]!=="insert")&&!(o.length===0&&t.changeTypes[0]==="remove")&&!t.needUpdateDimensions?(r=new ae,this._waitAsyncTemplates().done(()=>{Mn(()=>Gr(()=>Mn(()=>{n._setScrollerSpacing(),n._rowsView.resize(),r.resolve()})))}).fail(r.reject)):r=n.resize()}i&&i!=="updateSelection"&&i!=="updateFocusedRow"&&i!=="pageIndex"&&!a&&Ve(r).done(()=>{n._setAriaLabel(),n.fireContentReadyAction()})},fireContentReadyAction(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:()=>"dxDataGrid-ariaDataGrid",_setAriaLabel(){this.component.setAria("label",he.format(this._getWidgetAriaLabel(),this._dataController.totalItemsCount(),this.component.columnCount()),this.component.$element().children(".".concat(L5)))},_getBestFitWidths(){var t,e=this._rowsView,r=this._columnHeadersView,n=e.getColumnWidths();if(!(n!=null&&n.length)){var i=r.getTableElement();r.setTableElement((t=e.getTableElement())===null||t===void 0?void 0:t.children(".dx-header")),n=r.getColumnWidths(),r.setTableElement(i)}return n},_setVisibleWidths(t,e){var r=this._columnsController;r.beginUpdate(),te(t,(n,i)=>{var a=r.getColumnId(i);r.columnOption(a,"visibleWidth",e[n])}),r.endUpdate()},_toggleBestFitModeForView(t,e,r){if(!(!t||!t.isVisible())){var n=this._rowsView.getTableElements(),i=t.getTableElements();te(n,(a,o)=>{var s,l=V(o),p=i.eq(a);p&&p.length&&(r?s=p.children("tbody").appendTo(l):s=l.children(".".concat(e)).appendTo(p),s.toggleClass(e,r),s.toggleClass(this.addWidgetPrefix("best-fit"),r))})}},_toggleBestFitMode(t){var e=this._rowsView.getTableElement(),r=this._rowsView.getTableElements().eq(1);e&&(e.css("tableLayout",t?"auto":"fixed"),e.children("colgroup").css("display",t?"none":""),te(r.find(AJ),(n,i)=>{V(i).css("display",t?"none":"")}),r.toggleClass(this.addWidgetPrefix(OJ),!t),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",t),this._toggleBestFitModeForView(this._footerView,"dx-footer",t),this._needStretch()&&(e.get(0).style.width=t?"auto":""))},_toggleContentMinHeight(t){var e=this._rowsView.getScrollable(),r=this._rowsView._findContentElement();(e==null?void 0:e.option("useNative"))===!1&&r.css({minHeight:t?Te.getContentHeightLimit(mr):""})},_synchronizeColumns(){var t=this._columnsController,e=t.getVisibleColumns(),r=this.option("columnAutoWidth"),n=this.option("wordWrapEnabled"),i=e.some(f=>!q(f.width)),a=this._needBestFit(),o=!1,s,l=!1,p=[],h,m;!a&&te(e,(f,u)=>{if(u.width==="auto")return a=!0,!1}),te(e,(f,u)=>{if(u.minWidth)return o=!0,!1}),this._setVisibleWidths(e,[]);var v=this.component.$element();a&&(h=Ce.getActiveElement(v.get(0)),m=Te.getSelectionRange(h),this._toggleBestFitMode(!0),s=!0),this._toggleContentMinHeight(n),v&&v.get(0)&&this._maxWidth&&(delete this._maxWidth,v[0].style.maxWidth=""),Mn(()=>{if(a?(p=this._getBestFitWidths(),te(e,(u,c)=>{var d=t.getColumnId(c);t.columnOption(d,"bestFitWidth",p[u],!0)})):o&&(p=this._getBestFitWidths()),te(e,function(u){var{width:c}=this;c!=="auto"&&(q(c)?p[u]=qt(c)||DJ(c)?parseFloat(c):c:r||(p[u]=void 0))}),s&&(this._toggleBestFitMode(!1),s=!1,h&&h!==Ce.getActiveElement())){var f=Hr(h).bottom<0;f||PJ(h,m)}l=this._correctColumnWidths(p,e),r&&(function(){var u;te(e,(c,d)=>{d.type==="groupExpand"&&(u=p[c])}),te(e,(c,d)=>{d.type==="groupExpand"&&u&&(p[c]=u)})}(),this._needStretch()&&this._processStretch(p,e)),Gr(()=>{(a||l||i)&&this._setVisibleWidths(e,p),n&&this._toggleContentMinHeight(!1)})})},_needBestFit(){return this.option("columnAutoWidth")},_needStretch(){return this._columnsController.getVisibleColumns().some(t=>t.width==="auto"&&!t.command)},_getAverageColumnsWidth(t){var e=F5(this,t),r=t.filter(n=>n===void 0).length;return e/r},_correctColumnWidths(t,e){var r=this,n,i=!1,a=!1,o=!1,s=r.component.$element(),l=r._hasWidth,p=function(){var d=n,_=e[d],g=t[d]===Ep,y=t[d],{minWidth:b}=_;if(b){if(y===void 0){var C=r._getAverageColumnsWidth(t);y=C}else if(Jc(y)){var w=RJ(r,d,b,t);w<0&&(y=-1)}}var x=r._getRealColumnWidth(d,t.map((A,D)=>d===D?y:A));b&&!g&&x<b&&(t[d]=b,o=!0,n=-1),q(_.width)||(a=!0),Jc(_.width)&&(i=!0)};for(n=0;n<e.length;n++)p();if(!a&&t.length){var h=r._rowsView.element(),m=r._rowsView.contentWidth(),v=r._rowsView.getScrollbarWidth(),f=r._getTotalWidth(t,m);if(f<m){var u=Te.getLastResizableColumnIndex(e,t);if(u>=0&&(t[u]="auto",o=!0,l===!1&&!i)){var c=r.option("showBorders")?Math.ceil(Pt(h)-CC(h)):0;r._maxWidth=f+v+c,s.css("maxWidth",r._maxWidth)}}}return o},_processStretch(t,e){var r=this._rowsView.contentWidth(),n=this._getTotalWidth(t,r),i={length:0};if(t.length){te(e,function(p){(this.width||t[p]===Ep)&&(i[p]=!0,i.length++)});var a=r-n,o=Math.floor(a/(t.length-i.length)),s=a-o*(t.length-i.length);if(a>=0)for(var l=0;l<t.length;l++)i[l]||(t[l]+=o,s>0&&(s<1?(t[l]+=s,s=0):(t[l]++,s--)))}},_getRealColumnWidth(t,e,r){var n=1,i=e[t];if(!Jc(i))return parseFloat(i);var a=e.reduce((p,h,m)=>Jc(h)?p+parseFloat(h):p,0),o=e.reduce((p,h)=>!h||h===Ep||Jc(h)?p:p+parseFloat(h),0);r=r||this._rowsView.contentWidth();var s=r-o,l=a*r/100;return o>0&&l+o>=r&&(n=l>s?s/l:1),parseFloat(i)*r*n/100},_getTotalWidth(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n];i&&i!==Ep&&(r+=this._getRealColumnWidth(n,t,e))}return Math.ceil(r)},_getGroupElement(){return this.component.$element().children().get(0)},updateSize(t){var e=V(t),r=this.addWidgetPrefix(kJ);if(this._hasHeight===void 0&&e&&e.is(":visible")&&ot(e)){var n=e.children(".".concat(this.getWidgetContainerClass()));n.length&&n.detach(),this._hasHeight=!!vt(e);var i=ot(e);e.addClass(r),this._hasWidth=ot(e)===i,e.removeClass(r),n.length&&n.appendTo(e)}},publicMethods:()=>["resize","updateDimensions"],_waitAsyncTemplates(){var t,e,r;return Ve((t=this._columnHeadersView)===null||t===void 0?void 0:t.waitAsyncTemplates(!0),(e=this._rowsView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(r=this._footerView)===null||r===void 0?void 0:r.waitAsyncTemplates(!0))},resize(){if(!this.component._requireResize){var t=new ae;return this._waitAsyncTemplates().done(()=>{Ve(this.updateDimensions()).done(t.resolve).fail(t.reject)}).fail(t.reject),t.promise()}},updateDimensions(t){var e=this;if(e._initPostRenderHandlers(),!!e._checkSize(t)){var r=e._resizeDeferred,n=e._resizeDeferred=new ae;return Ve(r).always(()=>{Gr(()=>{e._dataController.isLoaded()&&e._synchronizeColumns(),e._resetGroupElementHeight(),Mn(()=>{Gr(()=>{Mn(()=>{e._updateDimensionsCore()})})})}).done(n.resolve).fail(n.reject)}),n.promise()}},_resetGroupElementHeight(){var t=this._getGroupElement(),e=this._rowsView.getScrollable();t&&t.style.height&&(!e||!e.scrollTop())&&(t.style.height="")},_checkSize(t){var e=this.component.$element(),r=e.is(":visible"),n=this._lastWidth!==ot(e)||this._lastHeight!==vt(e)||this._devicePixelRatio!==pt().devicePixelRatio;return r&&(!t||n)},_setScrollerSpacingCore(){var t=this,e=t._rowsView.getScrollbarWidth(),r=t._rowsView.getScrollbarWidth(!0);Gr(()=>{t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(e),t._footerView&&t._footerView.setScrollerSpacing(e),t._rowsView.setScrollerSpacing(e,r)})},_setScrollerSpacing(){var t=this._rowsView.getScrollable(),e=this.option("scrolling.useNative")===!0;!t||e?Gr(()=>{Mn(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_updateDimensionsCore(){var t=this,e=t._dataController,r=t.getController("editorFactory"),n=t._rowsView,i=t.component.$element(),a=this._getGroupElement(),o=vt(i),s=t.option("height")||i.get(0).style.height,l=!!s&&s!=="auto",p=parseInt(i.css("maxHeight")),h=p&&o>=p,m=a&&a.scrollHeight===a.offsetHeight;t.updateSize(i),Gr(()=>{var v=t._hasHeight||!!p||l;if(n.hasHeight(v),h&&!m&&V(a).css("height",p),!e.isLoaded()){n.setLoading(e.isLoading());return}Mn(()=>{t._updateLastSizes(i),t._setScrollerSpacing(),te(mS,(f,u)=>{var c=t.getView(u);c&&c.resize()}),r&&r.resize()})})},_updateLastSizes(t){this._lastWidth=ot(t),this._lastHeight=vt(t),this._devicePixelRatio=pt().devicePixelRatio},optionChanged(t){switch(t.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":t.handled=!0;return;default:this.callBase(t)}},init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}},BJ=ar.ViewController.inherit(MJ),LJ=ar.ViewController.inherit({_scrollChangedHandler(t,e,r){for(var n=0;n<t.length;n++)t[n]&&t[n].name!==r&&t[n].scrollTo({left:e.left,top:e.top})},init(){for(var t=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],e=0;e<t.length;e++){var r=t[e];r&&r.scrollChanged.add(this._scrollChangedHandler.bind(this,t))}}}),FJ=ar.View.inherit({_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView(t){return this.component._views[t]},element(){return this._groupElement},optionChanged(t){q(this._groupElement)&&t.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(Q2),!!t.value),t.handled=!0):this.callBase(t)},_renderViews(t){var e=this;te(mS,(r,n)=>{var i=e.getView(n);i&&i.render(t)})},_getTableRoleName:()=>"group",render(t){var e=!this._groupElement,r=this._groupElement||V("<div>").addClass(this.getWidgetContainerClass());r.addClass(L5),r.toggleClass(this.addWidgetPrefix(Q2),!!this.option("showBorders")),this.setAria("role","presentation",t),this.component.setAria("role",this._getTableRoleName(),r),this._rootElement=t||this._rootElement,e&&(this._groupElement=r,lt()&&this.getController("resizing").updateSize(t),r.appendTo(t)),this._renderViews(r)},update(){var t=this._rootElement,e=this._groupElement,r=this.getController("resizing");t&&e&&(r.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}}),NJ={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:BJ,synchronizeScrolling:LJ},views:{gridView:FJ},VIEW_NAMES:mS};Qe.registerModule("gridView",NJ);var VJ=Ul.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(t){var e=new ae,r=new ae;this._deferredItems[t.index]=r;var n=this.callBase.call(this,t);return r.done(()=>{e.resolve(n)}),e.promise()},_onItemTemplateRendered:function(t,e){return()=>{this._deferredItems[e.index].resolve()}},_postProcessRenderItems:oe,_renderItemsAsync(){var t=new ae;return Ve.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),t.resolve()}),t.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),N5="dx-toolbar",ty="dx-toolbar-before",HJ="dx-toolbar-center",J2="dx-toolbar-after",jJ="dx-toolbar-mini",$J="dx-toolbar-item",ed="dx-toolbar-label",zJ="dx-toolbar-button",WJ="dx-toolbar-items-container",UJ="dx-toolbar-group",ek="dx-toolbar-compact",tk="text",GJ="default",KJ="contained",qJ="dxToolbarItemDataKey",XJ=15;class V5 extends VJ{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();var e=new Wl((function(r,n,i){if(yt(n)){var{text:a,html:o,widget:s}=n;if(a&&r.text(a).wrapInner("<div>"),o&&r.html(o),s==="dxDropDownButton"){var l;n.options=(l=n.options)!==null&&l!==void 0?l:{},q(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?tk:KJ)}if(s==="dxButton"){if(this.option("useFlatButtons")){var p,h;n.options=(p=n.options)!==null&&p!==void 0?p:{},n.options.stylingMode=(h=n.options.stylingMode)!==null&&h!==void 0?h:tk}if(this.option("useDefaultButtons")){var m,v;n.options=(m=n.options)!==null&&m!==void 0?m:{},n.options.type=(v=n.options.type)!==null&&v!==void 0?v:GJ}}}else r.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:r,model:i,parent:this})}).bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return Y(super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Mr()},options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".".concat(ty),".".concat(HJ),".".concat(J2)].join(","))}_itemClass(){return $J}_itemDataKey(){return qJ}_dimensionChanged(){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(N5),this._$toolbarItemsContainer=V("<div>").addClass(WJ).appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){var e=this._$toolbarItemsContainer;te(["before","center","after"],(r,n)=>{var i="dx-toolbar-".concat(n),a=e.find(".".concat(i));a.length||(this["_$".concat(n,"Section")]=V("<div>").addClass(i).appendTo(e))})}_arrangeItems(e){var r;e=(r=e)!==null&&r!==void 0?r:ot(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var n=Hr(this._$beforeSection.get(0)),i=Hr(this._$afterSection.get(0));this._alignCenterSection(n,i,e);var a=this._$toolbarItemsContainer.find(".".concat(ed)).eq(0),o=a.parent();if(a.length){var s=n.width?n.width:a.position().left,l=o.hasClass(ty)?0:s,p=o.hasClass(J2)?0:i.width,h=0;o.children().not(".".concat(ed)).each(function(){h+=Pt(this)});var m=e-h,v=Math.max(m-l-p,0);if(o.hasClass(ty))this._alignSection(this._$beforeSection,v);else{var f=Pt(a)-ot(a);a.css("maxWidth",v-f)}}}_alignCenterSection(e,r,n){this._alignSection(this._$centerSection,n-e.width-r.width);var i=this.option("rtlEnabled"),a=i?r:e,o=i?e:r,s=Hr(this._$centerSection.get(0));(a.right>s.left||s.right>o.left)&&this._$centerSection.css({marginLeft:a.width,marginRight:o.width,float:a.width>o.width?"none":"right"})}_alignSection(e,r){var n=e.find(".".concat(ed)),i=n.toArray();r-=this._getCurrentLabelsPaddings(i);var a=this._getCurrentLabelsWidth(i),o=Math.abs(a-r);r<a?(i=i.reverse(),this._alignSectionLabels(i,o,!1)):this._alignSectionLabels(i,o,!0)}_alignSectionLabels(e,r,n){for(var i=function(h){return Hr(h).width},a=0;a<e.length;a++){var o=V(e[a]),s=Math.ceil(i(e[a])),l=void 0;n&&o.css("maxWidth","inherit");var p=Math.ceil(n?i(e[a]):s);if(p<r)l=n?p:0,r-=p;else{l=n?s+r:s-r,o.css("maxWidth",l);break}o.css("maxWidth",l)}}_applyCompactMode(){var e=this.$element();e.removeClass(ek),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>ot(e)&&e.addClass(ek)}_getCurrentLabelsWidth(e){var r=0;return e.forEach(function(n,i){r+=Pt(n)}),r}_getCurrentLabelsPaddings(e){var r=0;return e.forEach(function(n,i){r+=Pt(n)-ot(n)}),r}_renderItem(e,r,n,i){var a,o,s=(a=r.location)!==null&&a!==void 0?a:"center",l=n??this["_$".concat(s,"Section")],p=!!((o=r.text)!==null&&o!==void 0?o:r.html),h=super._renderItem(e,r,l,i);return h.toggleClass(zJ,!p).toggleClass(ed,p).addClass(r.cssClass),h}_renderGroupedItems(){te(this.option("items"),(e,r)=>{var n,i=r.items,a=V("<div>").addClass(UJ),o=(n=r.location)!==null&&n!==void 0?n:"center";!i||!i.length||(te(i,(s,l)=>{this._renderItem(s,l,a,null)}),this._$toolbarItemsContainer.find(".dx-toolbar-".concat(o)).append(a))})}_renderItems(e){var r=this.option("grouped")&&e.length&&e[0].items;r?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){var e;return(e=this.option("items"))!==null&&e!==void 0?e:[]}_renderContentImpl(){var e=this._getToolbarItems();this.$element().toggleClass(jJ,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return ot(this.$element())>0&&vt(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,r,n){super._itemOptionChanged.apply(this,[e,r,n]),this._arrangeItems()}_optionChanged(e){var{name:r,value:n}=e;switch(r){case"width":super._optionChanged.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged.apply(this,arguments)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){Mr()&&Promise.all([(()=>new Promise(e=>{var r=()=>{var i=!0;return this.$element().parents().each((a,o)=>{if(yr.isAnimating(V(o)))return i=!1,!1}),i&&e(),i},n=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>r()||n(),XJ)};n()}))(),(()=>{var e=this.$element().find(".".concat(ed)),r=[];return e.each((n,i)=>{var a=V(i).text(),o=V(i).css("fontWeight");r.push(rW(a,o))}),Promise.all(r)})()]).then(()=>{this._dimensionChanged()})}}Rt("dxToolbarBase",V5);var YJ="dx-buttongroup",ZJ=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],QJ=function(t){var e=t.data&&t.data(),r=e&&e.dxComponents,n=r&&r[0];return n&&e[n]};function Vv(t,e){var r;if(t){var n=t._findItemElementByItem(e);if(n.length){var i=t._getItemData(n),a=!!((r=i.options)!==null&&r!==void 0&&r.disabled||i.disabled||t.option("disabled")),{widget:o}=i;if(o&&ZJ.indexOf(o)!==-1){var s=n.find(o.toLowerCase().replace("dx",".dx-"));if(s.length){var l,p,h=QJ(s);if(!h)return;var m=(l=h._focusTarget)===null||l===void 0?void 0:l.call(h);if(o==="dxDropDownButton")m=m&&m.find(".".concat(YJ));else{var v;m=(v=m)!==null&&v!==void 0?v:V(h.element())}var f=(p=i.options)===null||p===void 0?void 0:p.tabIndex;a?m.attr("tabIndex",-1):m.attr("tabIndex",f??0)}}}}}var JJ="dx-toolbar-label";class eee{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var e;return(e=this._toolbar.option("items"))!==null&&e!==void 0?e:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth(this._toolbar.itemElements(),!0)}_arrangeItems(){var e=this._toolbar._$toolbarItemsContainer.find(".".concat(JJ)).eq(0);if(e.length){var r=ot(this._toolbar.$element()),n=Pt(e)-ot(e);e.css("maxWidth",r-n)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}var Zg="dxswipestart",Qg="dxswipe",If="dxswipeend",tee={defaultItemSizeFunc:function(){return ot(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){var e=Er(t);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Er(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},ree={defaultItemSizeFunc:function(){return vt(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){var e=Er(t);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Er(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},nee={horizontal:tee,vertical:ree},iee=df.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return nee[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=Er(t)},_start:function(t){this._savedEventData=Er(t),t=this._fireEvent(Zg,t),t.cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),r=Er(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),r.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=r),this._fireEvent(Qg,t,{offset:n}),t.cancelable!==!1&&t.preventDefault()},_end:function(t){var e=this._getStrategy(),r=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),i=r,a=this._calcTargetOffset(r,n);i=this._fitOffset(i,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(If,t,{offset:i,targetOffset:a})},_fitOffset:function(t,e){var r=this._getStrategy(),n=r.getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var r;return e?(r=Math.ceil(Math.abs(t)),t<0&&(r=-r)):r=Math.round(t),r}});Ic({emitter:iee,events:[Zg,Qg,If]});var rk="dx-list-item-badge-container",aee="dx-list-item-badge",oee="dx-badge",ry="dx-list-item-chevron-container",see="dx-list-item-chevron",lee=zl.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+rk).remove(),!!t){var e=V("<div>").addClass(rk).append(V("<div>").addClass(aee).addClass(oee).text(t)),r=this._$element.children("."+ry).first();r.length>0?e.insertBefore(r):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+ry).remove(),!!t){var e=V("<div>").addClass(ry),r=V("<div>").addClass(see);e.append(r).appendTo(this._$element)}}}),nk="dx-scrollview-pull-down-loading",ny="dx-scrollview-pull-down-ready",uee="dx-scrollview-pull-down-image",cee="dx-scrollview-pull-down-indicator",dee="dx-scrollview-pull-down-text",hee="dx-scrollview-pull-down-text-visible",Ip=0,td=1,Tp=2,iy=3,fee=400,pee=Yx.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=V(t.content()),this._$container=V(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=V("<div>").addClass(uee),e=V("<div>").addClass(cee),r=new Ci(V("<div>")).$element(),n=this._$pullDownText=V("<div>").addClass(dee);this._$pullingDownText=V("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=V("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=V("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(r)).append(n)},_releaseState:function(){this._state=Ip,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:Ip},{element:this._$pulledDownText,visibleState:td},{element:this._$refreshingText,visibleState:Tp}];te(e,function(r,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i](hee)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===td&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((function(){this._pullDownRefreshing()}).bind(this),400))},_setPullDownOffset:function(t){dn(this._$topPocket,{top:t}),dn(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==Tp){var e=this.location().top,r=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():r>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==iy&&(this._state=iy,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==td&&(this._state=td,this._$pullDown.addClass(ny),this._refreshPullDownText())},_stateReleased:function(){this._state!==Ip&&(this._$pullDown.removeClass(nk).removeClass(ny),this._releaseState())},_pullDownRefreshing:function(){this._state!==Tp&&(this._state=Tp,this._$pullDown.addClass(nk).removeClass(ny),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=td},release:function(){var t=new ae;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===iy&&(this._state=Ip),this._releaseTimeout=setTimeout((function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}).bind(this),fee),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),ik="dx-scrollview-pull-down-loading",mee="dx-scrollview-pull-down-indicator",vee="dx-scrollview-pull-down-refreshing",gee="dx-icon-pulldown",ay=0,_ee=1,ak=2,oy=4,Op=5,yee=Yx.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=V(t.content()),this._$container=V(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=V("<div>").addClass(mee),e=new Ci(V("<div>")).$element();this._$icon=V("<div>").addClass(gee),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=ay,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===ay&&this._location===0&&(this._startClientY=Er(t.originalEvent).y,this._state=oy)},handleMove:function(t){this.callBase(t),this._deltaY=Er(t.originalEvent).y-this._startClientY,this._state===oy&&(this._pullDownEnabled&&this._deltaY>0?this._state=Op:this._complete()),this._state===Op&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),r=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(vee,e<t),dn(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+r+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===Op&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*xt(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*xt(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===oy||this._state===Op)&&this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==ak){var e=this.location().top,r=this._location-e;this._location=e,r>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==ay&&(this._$pullDown.removeClass(ik),this._releaseState())},_pullDownRefreshing:function(){this._state=ak,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(ik),dn(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=_ee},release:function(){var t=new ae;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}).bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),bee=Math,ok="dx-scrollview-pull-down-loading",sy="dx-scrollview-pull-down-ready",Cee="dx-scrollview-pull-down-image",wee="dx-scrollview-pull-down-indicator",xee="dx-scrollview-pull-down-text",See="dx-scrollview-pull-down-text-visible",rd=0,nd=1,ly=2,uy=3,Eee=yB.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=rd,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:rd},{element:this._$pulledDownText,visibleState:nd},{element:this._$refreshingText,visibleState:ly}];te(e,function(r,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i](See)})},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},_updateBounds:function(){var t=this._direction!=="horizontal";if(t){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),r=this._$content.get(0);this._bottomBoundary=Math.max(r.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==rd&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===nd?this._pullDownRefreshing():this._inBounds()&&this._state===uy?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==uy&&(this._state=uy,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return bee.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==nd&&(this._state=nd,this._maxOffset=0,this._$pullDown.addClass(sy),this._refreshPullDownText())},_stateReleased:function(){this._state!==rd&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(ok).removeClass(sy),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==ly&&(this._state=ly,this._$pullDown.addClass(ok).removeClass(sy),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===rd&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Cg(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=vt(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=nd},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),Iee=bB.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=V("<div>").addClass(Cee),e=V("<div>").addClass(wee),r=new Ci(V("<div>")).$element(),n=this._$pullDownText=V("<div>").addClass(xee);this._$pullingDownText=V("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=V("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=V("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(r)).append(n)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,r=e._scrollers[t]=new Eee(e._scrollerOptions(t));r.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),r.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),r.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return Y(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=vt(this._$topPocket),t},dispose:function(){te(this._scrollers,function(){this.dispose()}),this.callBase()}}),Gl="dx-scrollview",Tee=Gl+"-content",Oee=Gl+"-top-pocket",kee=Gl+"-bottom-pocket",Aee=Gl+"-pull-down",vS=Gl+"-scrollbottom",Dee=vS+"-indicator",Ree=vS+"-text",Pee=Gl+"-loadpanel",Mee={pullDown:pee,swipeDown:yee,simulated:Iee},Bee=!lt(),Lee={finishLoading:oe,release:oe,refresh:oe,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(t){if(t.name!=="onUpdated")return this.callBase.apply(this,arguments)}},gS=wi.inherit(Bee?Lee:{_getDefaultOptions:function(){return Y(this.callBase(),{pullingDownText:he.format("dxScrollView-pullingDownText"),pulledDownText:he.format("dxScrollView-pulledDownText"),refreshingText:he.format("dxScrollView-refreshingText"),reachBottomText:he.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=Ue.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return Mr()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(Gl),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=V("<div>").addClass(Tee);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=V("<div>").addClass(Oee),e=this._$pullDown=V("<div>").addClass(Aee);t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=V("<div>").addClass(kee),e=this._$reachBottom=V("<div>").addClass(vS),r=V("<div>").addClass(Dee),n=new Ci(V("<div>")).$element(),i=this._$reachBottomText=V("<div>").addClass(Ree);this._updateReachBottomText(),e.append(r.append(n)).append(i),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=V("<div>").addClass(Pee).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,Vg,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=Mee[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return(t==="pullDown"||t==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return et(this._$content.children().eq(1))},release:function(t){return t!==void 0&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Rt("dxScrollView",gS);var kp="__dx_key__";const _S=Ul.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var r=this._dataController;r.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},(t=this._dataController)===null||t===void 0||t.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=V(),r=this.key();return this.itemElements().each((n,i)=>{var a=V(i),o=this._getItemData(a);if(r?rf(r,this.keyOf(o),t):this._isItemEquals(o,t))return e=a,!1}),e},_dataSourceChangedHandler:function(t,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t[kp]&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch{return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var r=!1;return this.option("grouped")&&(t.length||(r=!0),te(t,(n,i)=>{i.type==="insert"&&(r=!0,te(e,(a,o)=>{if(i.data.key!==void 0&&i.data.key===o.key)return r=!1,!1}))})),r},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=oB(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[kp]!==void 0?e[kp]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=Y(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,r)=>({[kp]:t[r],data:e})))}catch{this._itemsCache=Y([],t)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,r,n){if(n)this._renderItem(r.index,r.data,null,this._findItemElementByKey(r.key));else{var i=e[Tl(t,e,r.key)];i&&bx(t,e,r.key,r.data).done(()=>{this._renderItem(e.indexOf(i),i,null,this._findItemElementByKey(r.key))})}},_insertByChange:function(t,e,r,n){Ve(n||Cx(t,e,r.data,r.index)).done(()=>{var i;this._beforeItemElementInserted(r);var a=this._getItemContainer(r.data);this._renderItem((i=r.index)!==null&&i!==void 0?i:e.length,r.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:oe,_removeByChange:function(t,e,r,n){var i=n?r.index:Tl(t,e,r.key),a=n?r.oldItem:e[i];if(a){var o=this._findItemElementByKey(r.key),s=this._extendActionArgs(o);this._waitDeletingPrepare(o).done(()=>{n?(this._updateIndicesAfterIndex(i-1),this._afterItemElementDeleted(o,s),this._updateSelectionAfterRemoveByChange(i)):(this._deleteItemElementByIndex(i),this._afterItemElementDeleted(o,s))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var r=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},i=this._dataController,a=i.paginate(),o=i.group();(a||o)&&(t=t.filter(s=>s.type!=="insert"||s.index!==void 0)),t.forEach(s=>this["_".concat(s.type,"ByChange")](n,r,s,e)),this._renderedItemsCount=r.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,r){var n=t.children(this._itemSelector()).get(r);Ce.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":var e=this._partialRefresh(t.value);e||this.callBase(t);break;case"dataSource":(!this.option("repaintChangesOnly")||!t.value)&&this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}});var Fee=t=>Array.isArray(t)&&t.every(e=>{var r=Object.keys(e).length===2,n="key"in e&&"items"in e;return r&&n&&Array.isArray(e.items)});const H5={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,r={};return this._getGroupedOption()&&Fee(t)&&(r=t.reduce((n,i)=>{var a=i.items.map(o=>(rt(o)||(o={text:o},e=!0),"key"in o||(o.key=i.key),o));return n.concat(a)},[]),t={store:{type:"array",data:r},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}};function j5(t){return t?Number(t.replace("px","")):0}function Nee(t){var e,r;return t&&lt()?(e=(r=pt()).getComputedStyle)===null||e===void 0?void 0:e.call(r,t):null}function Vee(t,e){var r=Nee(t);return r?j5(r["margin".concat(Eh(e))]):0}var Hee="dx-list",Mm="dx-list-item",jee="."+Mm,$ee="dx-list-item-icon-container",zee="dx-list-item-icon",du="dx-list-group",cy="dx-list-group-header",Ap="dx-list-group-body",Wee="dx-list-collapsible-groups",sk="dx-list-group-collapsed",Uee="dx-list-group-header-indicator",Gee="dx-has-next",Kee="dx-list-next-button",lk="dx-wrap-item-text",qee=".dx-list-select-all",Xee="dxListItemData",uk=70,Yee=er("items"),yS=_S.inherit({_activeStateUnit:[jee,qee].join(","),_supportedKeys:function(){var t=this,e=function(n){var i=r(n),a=i.is(t.option("focusedElement"));a&&(function(o,s){var l=o.position().top;s==="prev"&&(l=o.position().top-vt(t.$element())+xt(o)),t.scrollTo(l)}(i,n),i=r(n)),t.option("focusedElement",et(i)),t.scrollToItem(i)};function r(n){var i=t.scrollTop(),a=vt(t.$element()),o=V(t.option("focusedElement")),s=!0;if(!o.length)return V();for(;s;){var l=o[n]();if(!l.length)break;var p=l.position().top+xt(l)/2;s=p<a+i&&p>i,s&&(o=l)}return o}return Y(this.callBase(),{leftArrow:oe,rightArrow:oe,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return Y(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:he.format("dxList-pullingDownText"),pulledDownText:he.format("dxList-pulledDownText"),refreshingText:he.format("dxList-refreshingText"),pageLoadingText:he.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:he.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=pa();return this.callBase().concat(CB(),[{device:function(){return!Il},options:{useNativeScrolling:!1}},{device:function(e){return!Il&&!Ue.isSimulator()&&Ue.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Mr(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return Mm},_itemDataKey:function(){return Xee},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+du).children("."+Ap).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){var r=this.callBase(t,e);return r.done(function(){this._refreshItemElements()})},deleteItem:function(t){var e=this.callBase(t);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=uk,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return Y(this.callBase(),{paginate:vr(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._itemContainer().find(".".concat(du)).eq(t).find(".".concat(Ap))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),r=t&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),Zee(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:r?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=V(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(lk),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new Wl(function(t,e){yt(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var r=Io(t.icon).addClass(zee),n=V("<div>").addClass($ee);n.append(r),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=this._dataController,r=this._scrollBottomMode()&&t&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(r)?this._infiniteDataLoading():(this._scrollView.release(!r&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return q(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout((function(){var e=!this._itemElements().length,r=!e||this._isDataSourceFirstLoadCompleted();if(r){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}).bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&lt()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||vt(t.content())>vt(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading:function(t){var e,r,n=vt(this._scrollView.content())-vt(this._scrollView.container())<((e=(r=this._scrollView.scrollOffset())===null||r===void 0?void 0:r.top)!==null&&e!==void 0?e:0);return t&&(!this._scrollViewIsFull()||n)},_infiniteDataLoading:function(){var t=this.$element().is(":visible");t&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;!e.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(t){this.option("grouped")?(te(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Mr()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=Ee(jt,this.NAME),e="."+cy,r=this.$element(),n=this.option("collapsibleGroups");r.toggleClass(Wee,n),X.off(r,t,e),n&&X.on(r,t,e,(function(i){this._createAction((function(a){var o=V(a.event.currentTarget).parent();this._collapseGroupHandler(o),this.option("focusStateEnabled")&&this.option("focusedElement",et(o.find("."+Mm).eq(0)))}).bind(this),{validatingTargetName:"element"})({event:i})}).bind(this))},_collapseGroupHandler:function(t,e){var r=new ae;if(t.hasClass(sk)===e)return r.resolve();var n=t.children("."+Ap),i=xt(n),a=0;return i===0&&(ms(n,"auto"),a=xt(n)),t.toggleClass(sk,e),yr.animate(n,{type:"custom",from:{height:i},to:{height:a},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(!0),r.resolve()}).bind(this)}),r.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=V(),this.$element().addClass(Hee),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this._setListAria()},_setListAria(){var{items:t}=this.option(),e=t!=null&&t.length?{role:"listbox",label:"Items"}:{role:void 0,label:void 0};this.setAria(e)},_focusTarget:function(){return this._itemContainer()},_renderInkRipple:function(){this._inkRipple=Zx()},_toggleActiveState:function(t,e,r){this.callBase.apply(this,arguments);var n=this;if(this._inkRipple){var i={element:t,event:r};e?Mr()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(i)},uk/2):n._inkRipple.showWave(i):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(i))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(V(t.itemElement))},_attachSwipeEvent:function(t){var e=Ee(If,this.NAME);X.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var r=V("<div>").addClass(du).appendTo(this._itemContainer()),n="dx-".concat(new Lr().toString()),i={role:"group",labelledby:n};this.setAria(i,r);var a=V("<div>").addClass(cy).attr("id",n).appendTo(r),o=this.option("groupTemplate"),s=this._getTemplate(e.template||o,e,t,a),l={index:t,itemData:e,container:et(a)};this._createItemByTemplate(s,l),Mr()&&V("<div>").addClass(Uee).prependTo(a),this._renderingGroupIndex=t;var p=V("<div>").addClass(Ap).appendTo(r);te(Yee(e)||[],(function(h,m){this._renderItem({group:t,item:h},m,p)}).bind(this)),this._groupRenderAction({groupElement:et(r),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState(V(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState(V(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t="."+cy,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var r=[e,"dxpointerdown",t,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",t,this._upInkRippleHandler];X.off(...r),X.on(...r),X.off(...n),X.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataController,r=this._getNextButton();this.$element().toggleClass(Gee,t),t&&e.isLoaded()&&r.appendTo(this._itemContainer()),t||r.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=V("<div>").addClass(Kee),e=V("<div>").appendTo(t);return this._createComponent(e,vn,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Mr()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!lt())this.callBase();else{var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(lk,t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.option(t.name,t.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest("."+du),r=e.find("."+Mm);return Y(this.callBase(t),{itemIndex:{group:e.index(),item:r.index(t)}})},expandGroup:function(t){var e=new ae,r=this._itemContainer().find("."+du).eq(t);return this._collapseGroupHandler(r,!1).done((function(){e.resolveWith(this)}).bind(this)),e.promise()},collapseGroup:function(t){var e=new ae,r=this._itemContainer().find("."+du).eq(t);return this._collapseGroupHandler(r,!0).done((function(){e.resolveWith(this)}).bind(this)),e},updateDimensions:function(){var t=this,e=new ae;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t),r=e==null?void 0:e.get(0);this._scrollView.scrollToElement(r,{bottom:Vee(r,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(H5);yS.ItemClass=lee;function Zee(){return gS}var dy="dx-toolbar-menu-action",Qee="dx-toolbar-hidden-button",ck="dx-toolbar-hidden-button-group",dk="dx-toolbar-menu-section",Jee="dx-toolbar-menu-custom",hk="dx-toolbar-menu-last-section",ete="dx-scrollview-content";class tte extends yS{_init(){super._init(),this._activeStateUnit=".".concat(dy,":not(.").concat(ck,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var e=this._itemContainer();te(["before","center","after","menu"],(r,n)=>{var i="_$".concat(n,"Section");this[i]||(this[i]=V("<div>").addClass(dk)),this[i].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){var e=this.$element().find(".".concat(ete));e.attr("role","menu")}_updateSections(){var e=this.$element().find(".".concat(dk));e.removeClass(hk),e.not(":empty").eq(-1).addClass(hk)}_renderItem(e,r,n,i){var a,o=(a=r.location)!==null&&a!==void 0?a:"menu",s=this["_$".concat(o,"Section")],l=super._renderItem(e,r,s,i);return this._getItemTemplateName({itemData:r})&&l.addClass(Jee),(o==="menu"||r.widget==="dxButton"||r.widget==="dxButtonGroup"||r.isAction)&&l.addClass(dy),r.widget==="dxButton"&&l.addClass(Qee),r.widget==="dxButtonGroup"&&l.addClass(ck),l.addClass(r.cssClass),l}_getItemTemplateName(e){var r=super._getItemTemplateName(e),n=e.itemData,i=n&&n.menuItemTemplate;return i||r}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,r,n){V(e.target).closest(".".concat(dy)).length&&super._itemClickHandler(e,r,n)}_clean(){this._getSections().empty(),super._clean()}}var Dp=5;class rte{constructor(e){this.init(e)}init(e){var{dragEnabled:r,handle:n,draggableElement:i,positionController:a}=e;this._positionController=a,this._draggableElement=i,this._handle=n,this._dragEnabled=r,this.unsubscribe(),r&&this.subscribe()}moveDown(e){this._moveTo(Dp,0,e)}moveUp(e){this._moveTo(-Dp,0,e)}moveLeft(e){this._moveTo(0,-Dp,e)}moveRight(e){this._moveTo(0,Dp,e)}subscribe(){var e=this._getEventNames();X.on(this._handle,e.startEventName,r=>{this._dragStartHandler(r)}),X.on(this._handle,e.updateEventName,r=>{this._dragUpdateHandler(r)}),X.on(this._handle,e.endEventName,r=>{this._dragEndHandler(r)})}unsubscribe(){var e=this._getEventNames();X.off(this._handle,e.startEventName),X.off(this._handle,e.updateEventName),X.off(this._handle,e.endEventName)}_getEventNames(){var e=Ee(Ol,"overlayDrag"),r=Ee(_s,"overlayDrag"),n=Ee(kl,"overlayDrag");return{startEventName:e,updateEventName:r,endEventName:n}}_dragStartHandler(e){var r=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=r.top,e.maxBottomOffset=r.bottom,e.maxLeftOffset=r.left,e.maxRightOffset=r.right}_dragUpdateHandler(e){var r={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(r),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,r,n){if(this._dragEnabled){n.preventDefault(),n.stopPropagation();var i=this._fitOffsetIntoAllowedRange(e,r);this._moveByOffset(i),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,r){var n=this._getAllowedOffsets();return{top:En(e,-n.top,n.bottom),left:En(r,-n.left,n.right)}}_getContainerDimensions(){var e=Ce.getDocument(),r=this._positionController.$dragResizeContainer.get(0),n=Pt(r),i=xt(r);return Dr(r)&&(i=Math.max(e.body.clientHeight,i),n=Math.max(e.body.clientWidth,n)),{width:n,height:i}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return Dr(e)?{top:0,left:0}:wC(e)}_getElementPosition(){return wC(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),r=this._getElementDimensions();return{x:e.width-r.width,y:e.height-r.height}}_getOuterDelta(){var{width:e,height:r}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:r*n}}_getFullDelta(){var e=this._getInnerDelta(),r=this._getOuterDelta();return{x:e.x+r.x,y:e.y+r.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),r=e.y>=0&&e.x>=0;if(!r)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),i=this._getContainerPosition(),a=this._getOuterDelta();return{top:n.top-i.top+a.y,bottom:-n.top+i.top+e.y,left:n.left-i.left+a.x,right:-n.left+i.left+e.x}}_moveByOffset(e){var r=Vi(this._draggableElement),n={left:r.left+e.left,top:r.top+e.top};dn(this._draggableElement,n)}}var Jg="dxResizable",nte="dx-resizable",ite="dx-resizable-resizing",Rp="dx-resizable-handle",ate="dx-resizable-handle-top",ote="dx-resizable-handle-bottom",ste="dx-resizable-handle-left",lte="dx-resizable-handle-right",Pp="dx-resizable-handle-corner",ute=Ee(Ol,Jg),cte=Ee(_s,Jg),dte=Ee(kl,Jg),hte={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},$5=za.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(nte)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var t=this.option("handles");if(!(t==="none"||!t)){var e=t==="all"?["top","bottom","left","right"]:t.split(" "),r={};te(e,(n,i)=>{r[i]=!0,this._renderHandle(i)}),r.bottom&&r.right&&this._renderHandle("corner-bottom-right"),r.bottom&&r.left&&this._renderHandle("corner-bottom-left"),r.top&&r.right&&this._renderHandle("corner-top-right"),r.top&&r.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=V("<div>").addClass(Rp).addClass(Rp+"-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[ute]=this._dragStartHandler.bind(this),t[cte]=this._dragHandler.bind(this),t[dte]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{X.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(t=>{X.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return t.css("boxSizing")==="border-box"?{width:Pt(t),height:xt(t)}:{width:ot(t),height:vt(t)}},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=Vi(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null},_toggleResizingClass:function(t){this.$element().toggleClass(ite,t)},_renderDragOffsets:function(t){var e=this._getArea();if(e){var r=V(t.target).closest("."+Rp),n=Pt(r),i=xt(r),a=r.offset(),o=e.offset,s=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=a.left-o.left-s.scrollX,t.maxRightOffset=this._rightMaxOffset=o.left+e.width-a.left-n+s.scrollX,t.maxTopOffset=this._topMaxOffset=a.top-o.top-s.scrollY,t.maxBottomOffset=this._bottomMaxOffset=o.top+e.height-a.top-i+s.scrollY}},_getBorderWidth:function(t,e){if(Dr(t.get(0)))return 0;var r=t.css(hte[e]);return parseInt(r)||0},_proportionate:function(t,e){var r=this._elementSize,n=t==="x"?r.width/r.height:r.height/r.width;return e*n},_getProportionalDelta:function(t){var{x:e,y:r}=t,n=this._proportionate("y",e);if(n>=r)return{x:e,y:n};var i=this._proportionate("x",r);return i>=e?{x:i,y:r}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return t==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var r,n=this._getDirectionName(t);return Math.min(e,(r=this["_".concat(n,"MaxOffset")])!==null&&r!==void 0?r:1/0)},_fitDeltaProportionally:function(t){var e=we({},t),r=this._elementSize,{minWidth:n,minHeight:i,maxWidth:a,maxHeight:o}=this.option(),s=()=>r.width+e.x,l=()=>r.height+e.y,p=u=>e[u]===this._fitIntoArea(u,e[u]),h=()=>co(s(),n,a)&&p("x"),m=()=>co(l(),i,o)&&p("y");if(!h()){var v=this._fitIntoArea("x",En(s(),n,a)-r.width);e={x:v,y:this._proportionate("y",v)}}if(!m()){var f=this._fitIntoArea("y",En(l(),i,o)-r.height);e={x:this._proportionate("x",f),y:f}}return h()&&m()?e:{x:0,y:0}},_fitDelta:function(t){var{x:e,y:r}=t,n=this._elementSize,{minWidth:i,minHeight:a,maxWidth:o,maxHeight:s}=this.option();return{x:En(n.width+e,i,o)-n.width,y:En(n.height+r,a,s)-n.height}},_getDeltaByOffset:function(t){var e=this._movingSides,r=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(r){var i=this._getProportionalDelta(n),a=this._fitDeltaProportionally(i);n=a}else{var o=this._fitDelta(n),s=this._roundByStep(o);n=s}return n},_updatePosition:function(t,e){var{width:r,height:n}=e,i=this._elementLocation,a=this._movingSides,o=this.$element(),s=this._getElementSize(),l=t.y*(a.top?-1:1)-((s.height||n)-n),p=t.x*(a.left?-1:1)-((s.width||r)-r);dn(o,{top:i.top+(a.top?l:0),left:i.left+(a.left?p:0)})},_dragHandler:function(t){var e=this._getOffset(t),r=this._getDeltaByOffset(e),n=this._updateDimensions(r);this._updatePosition(r,n),this._triggerResizeAction(t,n)},_updateDimensions:function(t){var e=p=>p.substring(p.length-2)==="px",r=this.option("stepPrecision")==="strict",n=this._elementSize,i=n.width+t.x,a=n.height+t.y,o=this.$element().get(0).style,s=t.x||r||e(o.width),l=t.y||r||e(o.height);return s&&this.option({width:i}),l&&this.option({height:a}),{width:s?i:n.width,height:l?a:n.height}},_triggerResizeAction:function(t,e){var{width:r,height:n}=e;this._resizeAction({event:t,width:this.option("width")||r,height:this.option("height")||n,handles:this._movingSides}),Ra(this.$element())},_isCornerHandler:t=>Object.values(t).reduce((e,r)=>e^r,0)===0,_getOffset:function(t){var e=t.offset,r=this._movingSides;return!r.left&&!r.right&&(e.x=0),!r.top&&!r.bottom&&(e.y=0),e},_roundByStep:function(t){return this.option("stepPrecision")==="strict"?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return q1(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,r={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},n=this._getSteps(),i=this._elementLocation,a=this._elementSize,o=e.left?i.left:i.left+a.width,s=e.top?i.top:i.top+a.height,l=(o+r.x)%n.h,p=(s+r.y)%n.v,h=Math.sign||(_=>(_=+_,_===0||isNaN(_)?_:_>0?1:-1)),m=(_,g)=>(1+.2*h(g))%1*_,v=(_,g)=>Math.abs(_)<.2*g,f=r.x-l,u=r.y-p;l>m(n.h,r.x)&&(f+=n.h),p>m(n.v,r.y)&&(u+=n.v);var c=(e.left||e.right)&&!v(r.x,n.h)?f:0,d=(e.top||e.bottom)&&!v(r.y,n.v)?u:0;return{x:c*(e.left?-1:1),y:d*(e.top?-1:1)}},_getMovingSides:function(t){var e=V(t.target),r=e.hasClass(Pp+"-top-left"),n=e.hasClass(Pp+"-top-right"),i=e.hasClass(Pp+"-bottom-left"),a=e.hasClass(Pp+"-bottom-right");return{top:e.hasClass(ate)||r||n,left:e.hasClass(ste)||r||i,bottom:e.hasClass(ote)||i||a,right:e.hasClass(lte)||n||a}},_getArea:function(){var t=this.option("area");return Me(t)&&(t=t.call(this)),yt(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e=!Me(t)&&!yt(t),r={scrollY:0,scrollX:0};if(e){var n=V(t)[0];Dr(n)&&(r.scrollX=n.pageXOffset,r.scrollY=n.pageYOffset)}return r},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e=V(t),r;return e.length&&(r={width:CC(e),height:bv(e),offset:Y({top:0,left:0},Dr(e[0])?{}:e.offset())},this._correctAreaGeometry(r,e)),r},_correctAreaGeometry:function(t,e){var r=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;t.offset.left+=r+this._getBorderWidth(this.$element(),"left"),t.offset.top+=n+this._getBorderWidth(this.$element(),"top"),t.width-=Pt(this.$element())-CC(this.$element()),t.height-=xt(this.$element())-bv(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:Pt(e),height:xt(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",En(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",En(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":lt()&&this._renderWidth(Pt(this.$element()));break;case"minHeight":case"maxHeight":lt()&&this._renderHeight(xt(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find("."+Rp).remove()},_useTemplates:function(){return!1}});Rt(Jg,$5);var fte=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],hy=pt();class pte extends z6{constructor(e){var{fullScreen:r,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:a,outsideDragFactor:o}=e,s=_r(e,fte);super(s),this._props=we({},this._props,{fullScreen:r,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:a,outsideDragFactor:o}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)dn(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,r;(e=(r=this._props).forceApplyBindings)===null||e===void 0||e.call(r),super.positionContent()}}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return V(hy);if(this._props.dragAndResizeArea)return V(this._props.dragAndResizeArea);var e=oM().get(0)||this._props.container;return e?this._$markupContainer:V(hy)}_getVisualContainer(){return this._props.fullScreen?V(hy):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}var mte={setOverflow:oe,restoreOverflow:oe},vte=()=>{if(!lt())return mte;var t=pt(),e=Ce.getDocument().documentElement,r=Ce.getBody(),n=Ue.real().platform==="ios",i={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null},a=()=>{var s=t.innerWidth-e.clientWidth;if(!(i.paddingRight||s<=0)){var l=t.getComputedStyle(r).getPropertyValue("padding-right"),p=parseInt(l,10);i.paddingRight=p,r.style.setProperty("padding-right","".concat(p+s,"px"))}},o=()=>{q(i.paddingRight)&&(i.paddingRight?r.style.setProperty("padding-right","".concat(i.paddingRight,"px")):r.style.removeProperty("padding-right"),i.paddingRight=null)};return{setOverflow:n?()=>{if(!(q(i.position)||r.style.position==="fixed")){var{scrollY:s,scrollX:l}=t;i.position=r.style.position,i.top=r.style.top,i.left=r.style.left,r.style.setProperty("position","fixed"),r.style.setProperty("top","".concat(-s,"px")),r.style.setProperty("left","".concat(-l,"px"))}}:()=>{a(),!(i.overflow||r.style.overflow==="hidden")&&(i.overflow=r.style.overflow,i.overflowX=r.style.overflowX,i.overflowY=r.style.overflowY,r.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(q(i.position)){var s=-parseInt(r.style.top,10),l=-parseInt(r.style.left,10);["position","top","left"].forEach(p=>{i[p]?r.style.setProperty(p,i[p]):r.style.removeProperty(p)}),t.scrollTo(l,s),i.position=null}}:()=>{o(),["overflow","overflowX","overflowY"].forEach(s=>{if(q(i[s])){var l=s.replace(/(X)|(Y)/,p=>"-".concat(p.toLowerCase()));i[s]?r.style.setProperty(l,i[s]):r.style.removeProperty(l),i[s]=null}})}}},gte=pt(),fy="dx-popup",fk="dx-popup-wrapper",_te="dx-popup-fullscreen",yte="dx-popup-fullscreen-width",bte="dx-popup-normal",Cte="dx-popup-content",wte="dx-popup-content-scrollable",xte="dx-state-disabled",Ste="dx-popup-draggable",pk="dx-popup-title",Ete="dx-closebutton",mk="dx-popup-bottom",Ite="dx-has-close-button",Tte="dx-template-wrapper",Ote="dx-popup-flex-height",kte="dx-popup-inherit-height",vk=["cancel","clear","done"],Ate="default",Dte="normal",Rte="text",Pte="contained",Mte=mr.safari&&E6(mr.version,[11])<0,Lo={static:"",inherit:kte,flex:Ote},Bte=t=>{var e=Ue.current(),r=e.platform,n="bottom",i="before";if(r==="ios")switch(t){case"cancel":n="top";break;case"clear":n="top",i="after";break;case"done":i="after"}else if(r==="android")switch(t){case"cancel":case"done":i="after"}return{toolbar:n,location:i}},ma=da.inherit({_supportedKeys:function(){return Y(this.callBase(),{upArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(t)},downArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(t)},leftArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(t)},rightArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(t)}})},_getDefaultOptions:function(){return Y(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=pa();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(e){return Ue.real().deviceType==="desktop"&&e.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Mr(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var t=this.option("_wrapperClassExternal"),e=t?"".concat(fk," ").concat(t):fk;this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(fy),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(V("<div>").addClass(Cte)).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_createBodyOverflowManager:function(){this._bodyOverflowManager=vte()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass(_te,t).toggleClass(bte,!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new fl,bottom:new fl})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(e=>{var r,n=t==null||(r=t.show)===null||r===void 0?void 0:r[e];return rt(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){var t=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>t&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize:function(t){if(this.option("useResizeObserver")){var e=this._$content.get(0);t?vl.observe(e,r=>{this._contentResizeHandler(r)}):vl.unobserve(e)}},_areContentDimensionsRendered:function(t){var e,r,n,i=(e=t.contentBoxSize)===null||e===void 0?void 0:e[0];if(i){var a,o;return parseInt(i.inlineSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.width)&&parseInt(i.blockSize,10)===((o=this._renderedDimensions)===null||o===void 0?void 0:o.height)}var s=t.contentRect;return parseInt(s.width,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.width)&&parseInt(s.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),e=this.option("title"),r=this.option("showTitle");if(r&&e&&t.unshift({location:Ue.current().ios?"center":"before",text:e}),r||t.length>0){this._$title&&this._$title.remove();var n=V("<div>").addClass(pk).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,n).addClass(pk),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(Ite,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(t,e,r,n){var{rtlEnabled:i,useDefaultToolbarButtons:a,useFlatToolbarButtons:o,disabled:s}=this.option(),l=this._getTemplateByOption(t),p=l instanceof fl;if(p){var h=Y({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),m=Y(n,{items:e,rtlEnabled:i,useDefaultButtons:a,useFlatButtons:o,disabled:s,integrationOptions:h});this._getTemplate("dx-polymorph-widget").render({container:r,model:{widget:this._getToolbarName(),options:m}});var v=r.children("div");return r.replaceWith(v),v}else{var f=V(l.render({container:et(r)}));return f.hasClass(Tte)&&(r.replaceWith(f),r=f),r}},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(t){return this.callBase(t)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:et(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(t,e,r)=>{var n=V("<div>").addClass(Ete);this._createComponent(n,vn,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),V(r).append(n)}},_getToolbarItems:function(t){var e=this.option("toolbarItems"),r=[];this._toolbarItemClasses=[];var n=Ue.current().platform,i=0;return te(e,(a,o)=>{var s=q(o.shortcut),l=s?Bte(o.shortcut):o;if(s&&n==="ios"&&i<2&&(l.toolbar="top",i++),l.toolbar=o.toolbar||l.toolbar||"top",l&&l.toolbar===t){s&&Y(l,{location:o.location},this._getToolbarItemByAlias(o));var p=n==="generic";o.shortcut==="done"&&p||o.shortcut==="cancel"&&!p?r.unshift(l):r.push(l)}}),t==="top"&&this._hasCloseButton()&&r.push(this._getCloseButton()),r},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:t=>t.toLowerCase()==="done"?"OK":Sh(t,!0),_getToolbarItemByAlias:function(t){var e=this,r=t.shortcut;if(!vk.includes(r))return!1;var n=Y({text:he.format(this._getLocalizationKey(r)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?Ate:Dte,stylingMode:e.option("useFlatToolbarButtons")?Rte:Pte},t.options||{}),i=fy+"-"+r;return this._toolbarItemClasses.push(i),{template:function(a,o,s){var l=V("<div>").addClass(i).appendTo(s);e._createComponent(l,vn,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=V("<div>").addClass(mk).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass(mk),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase(...arguments),this.$content().toggleClass(xte,!!t)},_toggleClasses:function(){var t=vk;te(t,(e,r)=>{var n=fy+"-"+r;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_toggleFocusClass(t,e){if(this.callBase(t,e),t&&!WU(this._zIndex)){var r=H6(this._zIndexInitValue());rw(this._zIndex),this._zIndex=r,this._$wrapper.css("zIndex",r),this._$content.css("zIndex",r)}},_toggleContentScrollClass(){var t=!this.option("preventScrollEvents");this.$content().toggleClass(wte,t)},_getPositionControllerConfig(){var{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:r,dragAndResizeArea:n,outsideDragFactor:i}=this.option();return Y({},this.callBase(),{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:r,dragAndResizeArea:n,outsideDragFactor:i})},_initPositionController(){this._positionController=new pte(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(t){var{visible:e,useResizeObserver:r}=this.option();if(e&&lt()){var n=this._showAnimationProcessing,i=n&&!(t!=null&&t.forceStopAnimation)&&r;this._isAnimationPaused=i||void 0,this._stopAnimation(),t!=null&&t.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(t==null?void 0:t.isDimensionChange),i&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(ot(this._$content),10),height:parseInt(vt(this._$content),10)})},_renderGeometryImpl:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var t=this._getOptionValue("height");t==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var t=this._getDragTarget(),e=this.option("dragEnabled");if(t){var r={dragEnabled:e,handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(r):this._drag=new rte(r),this.$overlayContent().toggleClass(Ste,e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,$5,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:t=>{this._resizeEndHandler(t),this._observeContentResize(!0)},onResize:t=>{this._setContentHeight(),this._actions.onResize(t)},onResizeStart:t=>{this._observeContentResize(!1),this._actions.onResizeStart(t)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),r=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),r&&this._setOptionWithoutOptionChange("height",r),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_setContentHeight:function(){(this.option("forceApplyBindings")||oe)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===Lo.flex?-e:0},_chooseHeightStrategy:function(t){var e=t.style.width==="auto"||t.style.width==="",r=Lo.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||Mte?r=Lo.inherit:r=Lo.flex),r},_getHeightCssStyles:function(t,e){var r={},n=this._getOptionValue("maxHeight",e),i=this._getOptionValue("minHeight",e),a=this._splitPopupHeight(),o=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(t,a.popupVerticalPaddings);if(t===Lo.static){if(!this._isAutoHeight()||n||i){var s=this.option("fullScreen")?Math.min(Hr(e).height,pt().innerHeight):Hr(e).height,l=s-o;r={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var p=V(this._positionController.$visualContainer).get(0),h=M7(n,-o,p),m=B7(i,-o,p);r={height:"auto",minHeight:m,maxHeight:h}}return r},_setHeightClasses:function(t,e){var r="";for(var n in Lo)Lo[n]!==e&&(r+=" "+Lo[n]);t.removeClass(r).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:xI(t&&t.get(0)),footer:xI(e&&e.get(0)),contentVerticalOffsets:X_(this.$overlayContent().get(0),!0),popupVerticalOffsets:X_(this.$content().get(0),!0),popupVerticalPaddings:X_(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),lt()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_dispose:function(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(yte,Pt(this.$overlayContent())===ot(gte))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll:function(t){if(this._bodyOverflowManager){var{setOverflow:e,restoreOverflow:r}=this._bodyOverflowManager;t?r():e()}},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){var e,{value:r,name:n}=t;switch(n){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this._toggleBodyScroll(r);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Ra(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Ra(this.$overlayContent());break;case"container":if(this.callBase(t),this.option("resizeEnabled")){var i;(i=this._resizable)===null||i===void 0||i.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(t),(e=this._resizable)===null||e===void 0||e.option(n,r);break;case"onTitleRendered":this._createTitleRenderAction(r);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var a=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),a&&(this._renderGeometry(),Ra(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=r,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=r,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=r;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Ra(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=r,this._toggleFullScreenClass(r),this._toggleSafariScrolling(),this._renderGeometry(),Ra(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(t),this._toggleContentScrollClass();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return et(this.$content())},$overlayContent:function(){return this._$content}});Rt("dxPopup",ma);class z5 extends ma{_getDefaultOptions(){return Y(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}z5.defaultOptions=function(t){ma.defaultOptions(t)};Rt("dxPopup",z5);var Lte="dx-dropdownmenu",Fte="dx-dropdownmenu-popup",Nte="dx-dropdownmenu-popup-wrapper",Vte="dx-dropdownmenu-list",Hte="dx-dropdownmenu-button",jte=10,gk=3;class $te extends rn{_supportedKeys(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),Y(super._supportedKeys(),e,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return Y(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Mr()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass(Lte),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Px("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var e=this.$element().addClass(Hte);this._button=this._createComponent(e,vn,{icon:"overflow",template:"content",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:r=>{this.option("opened",!this.option("opened")),this._buttonClickAction(r)}})}_toggleActiveState(e,r,n){this._button._toggleActiveState(e,r,n)}_toggleMenuVisibility(e){var r=e??!this._popup.option("visible");e&&this._renderPopup(),this._popup.toggle(r),this.setAria("expanded",r)}_renderPopup(){if(!this._$popup){this._$popup=V("<div>").appendTo(this.$element());var{rtlEnabled:e,container:r,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(i){var{component:a}=i;a.$wrapper().addClass(Nte).addClass(Fte)},deferRendering:!1,contentTemplate:i=>this._renderList(i),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(e?"left":"right"),at:"bottom ".concat(e?"left":"right"),collision:"fit flip",offset:{v:gk},of:this.$element()},animation:n,onOptionChanged:i=>{var{name:a,value:o}=i;a==="visible"&&this.option("opened",o)},container:r,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:i=>this._closeOutsideDropDownHandler(i),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var e=this.$element(),r=e.offset().top,n=xt(pt()),i=Math.max(r,n-r-xt(e));return Math.min(n,i-gk-jte)}_closeOutsideDropDownHandler(e){var r=!V(e.target).closest(this.$element()).length;return r}_renderList(e){var r=V(e);r.addClass(Vte),this._list=this._createComponent(r,tte,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:n=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(n)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,r,n){var i;(i=this._list)===null||i===void 0||i._itemOptionChanged(e,r,n),Vv(this._list,e)}_getListDataSource(){var e;return(e=this.option("dataSource"))!==null&&e!==void 0?e:this.option("items")}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){super._toggleVisibility(e),this._button.option("visible",e)}_optionChanged(e){var r,n,i,{name:a,value:o}=e;switch(a){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(r=this._list)===null||r===void 0||r.option(a,this._getTemplate(o));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(a,o),super._optionChanged(e);break;case"onItemRendered":(i=this._list)===null||i===void 0||i.option(a,o);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(o),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(a,o);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Vv(this._list,e))}}var _k="dx-state-invisible",zte="dx-toolbar-menu-container",Wte="dx-toolbar-button",Mp="dx-toolbar-item-auto-hide",py="dx-toolbar-item-invisible";class Ute{constructor(e){this._toolbar=e}_initMarkup(){Gr(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=V("<div>").appendTo(this._overflowMenuContainer()),r=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,$te,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>n,onItemClick:i=>{r(i)},container:this._toolbar.option("menuContainer"),onOptionChanged:i=>{var{name:a,value:o}=i;a==="opened"&&this._toolbar.option("overflowMenuVisible",o),a==="items"&&this._updateMenuVisibility(o)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=V("<div>").appendTo(this._toolbar._$afterSection).addClass(Wte).addClass(zte)}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){var r=e??this._getMenuItems(),n=r.length&&this._hasVisibleMenuItems(r);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(_k,!e)}_renderMenuItems(){Gr(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var e;return Nn((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],r=>!this._toolbar._isMenuItem(r))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(Mp,".").concat(py)).not(".".concat(_k))}_getMenuItems(){var e,r,n=Nn((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],o=>this._toolbar._isMenuItem(o)),i=this._getHiddenItems();this._restoreItems=(r=this._restoreItems)!==null&&r!==void 0?r:[];var a=[].slice.call(i).map(o=>{var s=this._toolbar._getItemData(o),l=V(o),p=l.children();return Y({menuItemTemplate:()=>{this._restoreItems.push({container:l,item:p});var h=V("<div>").addClass(Mp);return h.append(p)}},s)});return[...a,...n]}_hasVisibleMenuItems(e){var r=e??this._toolbar.option("items"),n=!1,i=er("visible"),a=er("locateInMenu");return te(r,function(o,s){var l=i(s,{functionsAsIs:!0}),p=a(s,{functionsAsIs:!0});(l!==!1&&(p==="auto"||p==="always")||s.location==="menu")&&(n=!0)}),n}_arrangeItems(){var e;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),te((e=this._restoreItems)!==null&&e!==void 0?e:[],function(n,i){V(i.container).append(i.item)}),this._restoreItems=[];var r=ot(this._toolbar.$element());return this._hideOverflowItems(r),r}_hideOverflowItems(e){var r,n=this._toolbar.$element().find(".".concat(Mp));if(n.length){e=(r=e)!==null&&r!==void 0?r:ot(this._toolbar.$element()),V(n).removeClass(py);for(var i=this._getItemsWidth();n.length&&e<i;){var a=n.eq(-1);i-=Pt(a),a.addClass(py),n.splice(-1,1)}}}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,r,n){if((r==="disabled"||r==="options.disabled")&&this._toolbar._isMenuItem(e)){var i;(i=this._menu)===null||i===void 0||i._itemOptionChanged(e,r,n);return}this.renderMenuItems()}_renderItem(e,r){e.locateInMenu==="auto"&&r.addClass(Mp)}_optionChanged(e,r){var n,i,a,o,s;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,r);break;case"overflowMenuVisible":(i=this._menu)===null||i===void 0||i.option("opened",r);break;case"onItemClick":(a=this._menu)===null||a===void 0||a.option(e,r);break;case"menuContainer":(o=this._menu)===null||o===void 0||o.option("container",r);break;case"menuItemTemplate":(s=this._menu)===null||s===void 0||s.option("itemTemplate",r)}}}var Gte="dx-toolbar-multiline",Kte="dx-toolbar-text-auto-hide";let W5=class extends V5{_getDefaultOptions(){return Y(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass(Gte,this._isMultiline()),this._layoutStrategy=this._isMultiline()?new eee(this):new Ute(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,r,n,i){var a=super._renderItem(e,r,n,i);this._layoutStrategy._renderItem(r,a);var{widget:o,showText:s}=r;return o==="dxButton"&&s==="inMenu"&&a.toggleClass(Kte),a}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}}_itemOptionChanged(e,r,n){this._isMenuItem(e)||super._itemOptionChanged(e,r,n),this._layoutStrategy._itemOptionChanged(e,r,n),(r==="disabled"||r==="options.disabled")&&Vv(this,e),r==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Vv(this,e))}_isMenuItem(e){return e.location==="menu"||e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){var{name:r,value:n}=e;switch(this._layoutStrategy._optionChanged(r,n),r){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}};Rt("dxToolbar",W5);var qte="header-panel",yk="toolbar-button",Xte="-ariaToolbar",bk=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],Yte={_getToolbarItems:()=>[],_getButtonContainer(){return V("<div>").addClass(this.addWidgetPrefix(yk))},_getToolbarButtonClass(t){var e=t?" ".concat(t):"";return this.addWidgetPrefix(yk)+e},_getToolbarOptions(){var t=this.option("toolbar"),e={toolbarOptions:{items:this._getToolbarItems(),visible:t==null?void 0:t.visible,disabled:t==null?void 0:t.disabled,onItemRendered(i){var a=i.itemData.onItemRendered;a&&a(i)}}},r=t==null?void 0:t.items;if(e.toolbarOptions.items=this._normalizeToolbarItems(e.toolbarOptions.items,r),this.executeAction("onToolbarPreparing",e),e.toolbarOptions&&!q(e.toolbarOptions.visible)){var n=e.toolbarOptions.items;e.toolbarOptions.visible=!!(n!=null&&n.length)}return e.toolbarOptions},_normalizeToolbarItems(t,e){t.forEach(o=>{if(!bk.includes(o.name))throw new Error("Default toolbar item '".concat(o.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var r={location:"after"},n=Array.isArray(e);if(!q(e))return t;n||(e=[e]);var i={};t.forEach(o=>{i[o.name]=o});var a=e.map(o=>(tt(o)&&(o={name:o}),q(o.name)&&(q(i[o.name])?o=Y(!0,{},i[o.name],o):bk.includes(o.name)&&(o=we(we({},o),{visible:!1}))),Y(!0,{},r,o)));return n?a:a[0]},_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var t=this.element();t.addClass(this.addWidgetPrefix(qte));var e=he.format(this.component.NAME+Xte),r=V("<div>").attr("aria-label",e).appendTo(t);this._toolbar=this._createComponent(r,W5,this._toolbarOptions)}},_columnOptionChanged:oe,_handleDataChanged(){this._requireReady&&this.render()},init(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled(t,e){var r=this._toolbar;if(r){var n=r.option("items")||[],i=n.findIndex(o=>o.name===t);if(!(i<0)){var a=r.option("items[".concat(i,"]"));r.option("items[".concat(i,"].disabled"),e),a.options&&r.option("items[".concat(i,"].options.disabled"),e)}}},updateToolbarDimensions(){var t;(t=this._toolbar)===null||t===void 0||t.updateDimensions()},getHeaderPanel(){return this.element()},getHeight(){return this.getElementHeight()},optionChanged(t){if(t.name==="onToolbarPreparing"&&(this._invalidate(),t.handled=!0),t.name==="toolbar"&&(t.handled=!0,this._toolbar)){var e=Fl(t.fullName),r=t.fullName.replace(/^toolbar\./,"");if(e.length===1){var n=this._getToolbarOptions();this._toolbar.option(n)}else if(e[1]==="items")if(e.length===2){var i=this._getToolbarOptions();this._toolbar.option("items",i.items)}else if(e.length===3){var a=this._normalizeToolbarItems(this._getToolbarItems(),t.value);this._toolbar.option(r,a)}else e.length>=4&&this._toolbar.option(r,t.value);else this._toolbar.option(r,t.value)}this.callBase(t)},isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)},allowDragging:oe,hasGroupedColumns:oe},Zte=hf.inherit(Yte),U5={defaultOptions:()=>({}),views:{headerPanel:Zte},extenders:{controllers:{resizing:{_updateDimensionsCore(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};U5.views.headerPanel;Qe.registerModule("headerPanel",U5);var Qte=".dx-row",Jte="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";Qe.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var bS=rn.inherit({_activeStateUnit:Qte,_getDefaultOptions(){var t=this.callBase();return te(Qe.modules,function(){Me(this.defaultOptions)&&Y(!0,t,this.defaultOptions())}),t},_setDeprecatedOptions(){this.callBase(),Y(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>Mr(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>mr.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:t=>t.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),Te.logHeaderFilterDeprecatedWarningIfNeed(this),Qe.processModules(this,Qe),Qe.callModuleItemsMethod(this,"init")},_clean:oe,_optionChanged(t){Qe.callModuleItemsMethod(this,"optionChanged",[t]),t.handled||this.callBase(t)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(t){t&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var t=this;Gr(()=>{t._renderContentImpl()})},_getTemplate(t){var e=t;return tt(e)&&e.startsWith("#")&&(e=V(t),bg.warn(Jte)),this.callBase(e)},_dispose(){this.callBase(),Qe.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),Qe.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){Qe.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(t){return this._controllers[t]},getView(t){return this._views[t]},focus(t){this.getController("keyboardNavigation").focus(t)}});bS.registerModule=Qe.registerModule.bind(Qe);Rt("dxDataGrid",bS);var ere=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,tre=function t(e){e&&te(e,(r,n)=>{if(yt(n)||Array.isArray(n))t(n);else if(typeof n=="string"){var i=ere.exec(n);i&&(e[r]=new Date(Date.UTC(+i[1],+i[2]-1,+i[3],+i[4],+i[5],+i[6])))}})},rre=ar.ViewController.inherit(function(){var t=function(r){var n=r.type==="sessionStorage"?iM():pt().localStorage;if(!n)throw new Error("E1007");return n},e=function(r){return q(r.storageKey)?r.storageKey:"storage"};return{_loadState(){var r=this.option("stateStoring");if(r.type==="custom")return r.customLoad&&r.customLoad();try{return JSON.parse(t(r).getItem(e(r)))}catch(n){Et.log("W1022","State storing",n.message)}},_saveState(r){var n=this.option("stateStoring");if(n.type==="custom"){n.customSave&&n.customSave(r);return}try{t(n).setItem(e(n),JSON.stringify(r))}catch(i){Et.log(i.message)}},publicMethods:()=>["state"],isEnabled(){return this.option("stateStoring.enabled")},init(){var r=this;return r._state={},r._isLoaded=!1,r._isLoading=!1,r._windowUnloadHandler=function(){r._savingTimeoutID!==void 0&&r._saveState(r.state())},X.on(pt(),"unload",r._windowUnloadHandler),r},isLoaded(){return this._isLoaded},isLoading(){return this._isLoading},load(){this._isLoading=!0;var r=cn(this._loadState());return r.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(n=>{n!==null&&!di(n)&&this.state(n)}),r},state(r){if(!arguments.length)return Y(!0,{},this._state);this._state=Y({},r),tre(this._state)},save(){var r=this;clearTimeout(r._savingTimeoutID),r._savingTimeoutID=setTimeout(()=>{r._saveState(r.state()),r._savingTimeoutID=void 0},r.option("stateStoring.savingTimeout"))},optionChanged(r){switch(r.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),r.handled=!0;break;default:this.callBase(r)}},dispose(){clearTimeout(this._savingTimeoutID),X.off(pt(),"unload",this._windowUnloadHandler)}}}());const nre={StateStoringController:rre};var ire=t=>{var e=t.getView("pagerView"),r=t.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:t.option("filterPanel.filterEnabled")},filterValue:t.option("filterValue"),focusedRowKey:t.option("focusedRowEnabled")?t.option("focusedRowKey"):void 0};return Y(n,r.getUserState())},are=t=>{var e=t.getController("columns"),r=t.getController("selection"),n=t.getController("export"),i=t.getController("data");e&&e.columnsChanged.add(()=>{t.updateState({columns:e.getUserState()})}),r&&r.selectionChanged.add(a=>{t.updateState({selectedRowKeys:a.selectedRowKeys,selectionFilter:a.selectionFilter})}),i&&(t._initialPageSize=t.option("paging.pageSize"),t._initialFilterValue=t.option("filterValue"),i.changed.add(()=>{var a=ire(t);t.updateState(a)})),n&&n.selectionOnlyChanged.add(()=>{t.updateState({exportSelectionOnly:n.selectionOnly()})})},ore=null,sre=(t,e)=>{var r=t.getController("filterSync"),n=t.getController("columns"),i=e.columns||e.filterValue!==void 0;return r?i?e.filterValue||r.getFilterValueFromColumns(e.columns):t._initialFilterValue||r.getFilterValueFromColumns(n.getColumns()):ore},lre={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:nre.StateStoringController},extenders:{views:{rowsView:{init(){var t=this,e=t.getController("data");t.callBase(),e.stateLoaded.add(()=>{if(e.isLoaded()&&!e.getDataSource()){t.setLoading(!1),t.renderNoDataText();var r=t.component.getView("columnHeadersView");r&&r.render(),t.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init(){this.callBase.apply(this,arguments),are(this)},isLoading(){return this.callBase()||this.getController("data").isStateLoading()},state(t){var e=this.callBase.apply(this,arguments);return t!==void 0&&this.applyState(Y(!0,{},t)),e},updateState(t){if(this.isEnabled()){var e=this.state(),r=Y({},e,t),n=ua(e),i=ua(r);Jt(n,i)||(t=Y(!0,{},t),Y(this._state,t),this.save())}else Y(this._state,t)},applyState(t){var e,{allowedPageSizes:r}=t,{searchText:n}=t,{selectedRowKeys:i}=t,{selectionFilter:a}=t,o=this.getController("export"),s=this.getController("columns"),l=this.getController("data"),p=this.option("scrolling.mode"),h=p==="virtual"||p==="infinite",m=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),v=(e=this.getView("rowsView"))===null||e===void 0?void 0:e.hasHeight();this.component.beginUpdate(),s&&s.setUserState(t.columns),o&&o.selectionOnly(t.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",i||[]),this.option("selectionFilter",a),r&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=r),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",t.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",n||""),this.option("filterValue",sre(this,t)),this.option("filterPanel.filterEnabled",t.filterPanel?t.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!h||v)&&t.pageIndex||0),this.option("paging.pageSize",(!h||m)&&q(t.pageSize)?t.pageSize:this._initialPageSize),l&&l.reset()}},columns:{_shouldReturnVisibleColumns(){var t=this.callBase.apply(this,arguments),e=this.getController("stateStoring");return t&&(!e.isEnabled()||e.isLoaded())}},data:{callbackNames(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource(){var{callBase:t}=this,e=this.getController("stateStoring");if(e.isEnabled()&&!e.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var r=new ae;return this._restoreStateTimeoutID=setTimeout(()=>{e.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{t.call(this),this.stateLoaded.fire(),r.resolve()}).fail(n=>{this.stateLoaded.fire(),this._handleLoadError(n||"Unknown error"),r.reject()})}),r.promise()}this.isStateLoading()||t.call(this)},isLoading(){var t=this.getController("stateStoring");return this.callBase()||t.isLoading()},isStateLoading(){return q(this._restoreStateTimeoutID)},isLoaded(){return this.callBase()&&!this.isStateLoading()},dispose(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged(t){var e=this.getController("stateStoring"),r=this.option("selection.deferred");e.isLoading()&&r||this.callBase.apply(this,arguments)}}}}};Qe.registerModule("stateStoring",lre);var G5="dx-editor-cell",ure="dx-row",Ck="dx-selection",Fs="dx-select-checkbox",cre="dx-select-checkboxes-hidden",K5="dx-command-select",dre="dx-selection-disabled",q5="dx-data-row",Pa="selection.showCheckBoxesMode",Qd="selection.mode",wk=function(t,e){var r=t.getController("selection"),n=t.getView("rowsView"),i=V(e.target).closest(".".concat(q5)),a=n.getRowIndex(i);a<0||(t.option(Pa)==="onLongTap"?r.isSelectionWithCheckboxes()?r.stopSelectionWithCheckboxes():r.startSelectionWithCheckboxes():(t.option(Pa)==="onClick"&&r.startSelectionWithCheckboxes(),t.option(Pa)!=="always"&&r.changeItemSelection(a,{control:!0})))},hre=function(t,e){var r=0,n=t._dataController.store(),i=n&&n.key(),a=Array.isArray(i);if(!e.length)return!1;if(a&&Array.isArray(e[0])&&e[1]==="and"){for(var o=0;o<e.length;o++)if(Array.isArray(e[o])){if(e[o][0]!==i[r]||e[o][1]!=="=")return!0;r++}return!1}return i!==e[0]},fre=(t,e)=>{var{component:r}=e,n=r.getView("rowsView");r.option("renderAsync")&&!r.option("selection.deferred")&&(e.value=r.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(V(t),e)},pre=(t,e)=>{var{column:r}=e,n=V(t),i=e.component.getView("columnHeadersView");n.addClass(G5),i._renderSelectAllCheckBox(n,r),i._attachSelectAllCheckBoxClickEvent(n)};class mre extends ar.Controller{init(){var e,{deferred:r,selectAllMode:n,mode:i}=(e=this.option("selection"))!==null&&e!==void 0?e:{};this.option("scrolling.mode")==="infinite"&&!r&&i==="multiple"&&n==="allPages"&&Et.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=i,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){var r=this.option("selection.deferred"),n=e.filter(a=>a.type==="remove").map(a=>a.key);if(r){var i=this._dataController.items().filter(a=>a.isSelected).map(a=>a.key);n=n.filter(a=>i.find(o=>Jt(o,a)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){var r=this.option("selection.deferred");if(!r){var n=e.filter(a=>a.type==="update"),i=this.getSelectedRowsData();dl({keyInfo:this._selection.options,data:i,changes:n})}}_getSelectionConfig(){var e,r=this._dataController,n=this.getController("columns"),i=(e=this.option("selection"))!==null&&e!==void 0?e:{},{deferred:a}=i,o=this.option("scrolling.mode"),s=o==="virtual"||o==="infinite",l=this.option("selection.allowSelectAll"),p=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:a,maxFilterLengthInRequest:i.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange(){var h=n.getGroupColumns().length>0;return s&&!p&&!h&&l&&!a},key:()=>r==null?void 0:r.key(),keyOf:h=>r==null?void 0:r.keyOf(h),dataFields(){var h;return(h=r.dataSource())===null||h===void 0?void 0:h.select()},load(h){var m;return((m=r.dataSource())===null||m===void 0?void 0:m.load(h))||new ae().resolve([])},plainItems:()=>r.items(!0),isItemSelected:h=>h.selected,isSelectableItem:h=>(h==null?void 0:h.rowType)==="data"&&!h.isNewRow,getItemData:h=>q(h==null?void 0:h.rowType)?(h==null?void 0:h.oldData)||(h==null?void 0:h.data):h,filter:()=>r.getCombinedFilter(a),totalCount:()=>r.totalCount(),getLoadOptions(h,m,v){var f,u,{sort:c,filter:d}=(u=(f=r.dataSource())===null||f===void 0?void 0:f.lastLoadOptions())!==null&&u!==void 0?u:{},_=Math.min(h,m),g=Math.max(h,m);q(v)&&(_=Math.min(v,_),g=Math.max(v,g));var y=g-_+1;return{skip:_,take:y,filter:d,sort:c}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var e=this.getController("columns"),r=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:r,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:K5,width:"auto",cellTemplate:fre,headerCellTemplate:pre}),e.columnOption("command:select","visible",r)}_createSelection(){var e=this._getSelectionConfig();return new T5(e)}_fireSelectionChanged(e){var r=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(r),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){var{isDeferredMode:r}=e,{selectionFilter:n}=e,{selectedItemKeys:i}=e,{removedItemKeys:a}=e;this.option(Pa)==="onClick"&&((r?n&&hre(this,n):i.length>1)?this.startSelectionWithCheckboxes():(r?n&&!n.length:i.length===0&&a.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){var r,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),a=this._dataController,o=a.items(!0),s=a.items();if(o){var l=this.isSelectionWithCheckboxes(),p=this.getChangedItemIndexes(o),h=this.getChangedItemIndexes(s);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(p.length||l!==this.isSelectionWithCheckboxes())&&a.updateItems({changeType:"updateSelection",itemIndexes:h}),n?(this.option("selectionFilter",i),r={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,r={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(r)}}getChangedItemIndexes(e){for(var r=[],n=this.option("selection.deferred"),i=0,{length:a}=e;i<a;i++){var o=e[i],s=this.isRowSelected(n?o.data:o.key);this._selection.isDataItem(o)&&o.isSelected!==s&&r.push(i)}return r}callbackNames(){return["selectionChanged"]}optionChanged(e){switch(super.optionChanged(e),e.name){case"selection":var r=this._selectionMode;if(this.init(),e.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,i=this.option("selectedRowKeys");r!==n&&(n==="single"?i.length>1&&(i=[i[0]]):n!=="multiple"&&(i=[])),this.selectRows(i).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var a=e.value||[];Array.isArray(a)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!a.length)&&this.selectRows(a),e.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option(Qd)==="multiple"&&(this.option(Pa)==="always"||this.option(Pa)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(Pa)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var e,r=(e=this.option("selectedRowKeys"))!==null&&e!==void 0?e:[];return!this.option("selection.deferred")&&r.length?this.selectedItemKeys(r):new ae().resolve().promise()}selectedItemKeys(e,r,n,i){return this._selection.selectedItemKeys(e,r,n,i)}getSelectedRowKeys(){return this._selection.getSelectedItemKeys()}selectRows(e,r){return this.selectedItemKeys(e,r)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){var r=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),te(e,function(){var i=r[this];i&&i.rowType==="data"&&n.push(i.key)}),this.selectRows(n)}getSelectedRowsData(){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,r,n){r=r||{},this.isSelectionWithCheckboxes()&&(r.control=!0);var i=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(i,r,n)}focusedItemIndex(e){if(q(e))this._selection._focusedItemIndex=e;else return this._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option(Qd)==="multiple"&&(this.option(Pa)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return this.option(Qd)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}}var vre={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:mre},extenders:{controllers:{data:{init(){var t=this.getController("selection"),e=this.option("selection.deferred");this.callBase.apply(this,arguments),e&&t._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource(){var t=this;return t.callBase().always(()=>{t.getController("selection").refresh()})},_processDataItem(t,e){var r=this.getController("selection"),n=r.isSelectColumnVisible(),i=e.isDeferredSelection=e.isDeferredSelection===void 0?this.option("selection.deferred"):e.isDeferredSelection,a=this.callBase.apply(this,arguments);if(a.isSelected=r.isRowSelected(i?a.data:a.key),n&&a.values){for(var o=0;o<e.visibleColumns.length;o++)if(e.visibleColumns[o].command==="select"){a.values[o]=a.isSelected;break}}return a},refresh(t){var e=this,r=new ae;return this.callBase.apply(this,arguments).done(()=>{!t||t.selection?e.getController("selection").refresh().done(r.resolve).fail(r.reject):r.resolve()}).fail(r.reject),r.promise()},_handleDataChanged(t){this.callBase.apply(this,arguments),(!t||t.changeType==="refresh")&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange(t){if(t&&t.changeType==="updateSelection"){t.items.forEach((e,r)=>{var n=this._items[r];n&&(n.isSelected=e.isSelected,n.values=e.values)});return}return this.callBase.apply(this,arguments)},_endUpdateCore(){var t=this._changes,e=t.length>1&&t.every(n=>n.changeType==="updateSelection");if(e){var r=t.map(n=>n.itemIndexes||[]).reduce((n,i)=>n.concat(i));this._changes=[{changeType:"updateSelection",itemIndexes:r}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared(t){var e=t.event;e.originalEvent&&e.originalEvent.type!=="dxhold"||t.items&&t.items.length>0||wk(this,e)}}},views:{columnHeadersView:{init(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue(){var t=this.element(),e=t&&t.find(".".concat(Fs));if(t&&e.length&&this.option("selection.mode")==="multiple"){var r=this.getController("selection").isSelectAll(),n=r!==!1,i=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():n;e.dxCheckBox("instance").option({visible:i,value:r})}},_handleDataChanged(t){this.callBase(t),(!t||t.changeType==="refresh"||t.repaintChangesOnly&&t.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})},_renderSelectAllCheckBox(t,e){var r=this,n=r.getController("selection"),i=r.getController("data").isEmpty(),a=V("<div>").appendTo(t).addClass(Fs);return r.setAria("label",he.format("dxDataGrid-ariaSelectAll"),a),r.getController("editorFactory").createEditor(a,Y({},e,{parentType:"headerRow",dataType:"boolean",value:n.isSelectAll(),editorOptions:{visible:!i&&(r.option("selection.allowSelectAll")||n.isSelectAll()!==!1)},tabIndex:r.option("useLegacyKeyboardNavigation")?-1:r.option("tabIndex")||0,setValue(o,s){var l=r.option("selection.allowSelectAll");s.component.option("visible",l||s.component.option("value")!==!1),!(!s.event||n.isSelectAll()===o)&&(s.value&&!l?s.component.option("value",!1):s.value?n.selectAll():n.deselectAll(),s.event.preventDefault())}})),a},_attachSelectAllCheckBoxClickEvent(t){X.on(t,jt,this.createAction(e=>{var{event:r}=e;V(r.target).closest(".".concat(Fs)).length||X.trigger(V(r.currentTarget).children(".".concat(Fs)),jt),r.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer(t,e){e.rowType==="data"&&!e.row.isNewRow?(t.addClass(G5),this._attachCheckBoxClickEvent(t),this._renderSelectCheckBox(t,e)):Te.setEmptyText(t)},_renderSelectCheckBox(t,e){var r=V("<div>").addClass(Fs).appendTo(t);return this.setAria("label",he.format("dxDataGrid-ariaSelectRow"),r),this.getController("editorFactory").createEditor(r,Y({},e.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:e.value,setValue(n,i){var a;((a=i==null?void 0:i.event)===null||a===void 0?void 0:a.type)==="keydown"&&X.trigger(i.element,jt,i)},row:e.row})),r},_attachCheckBoxClickEvent(t){X.on(t,jt,this.createAction(function(e){var r=this.getController("selection"),{event:n}=e,i=this.getRowIndex(V(n.currentTarget).closest(".".concat(ure)));i>=0&&(r.startSelectionWithCheckboxes(),r.changeItemSelection(i,{shift:n.shiftKey}),V(n.target).closest(".".concat(Fs)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[i]}))}))},_update(t){var e=this,r=e.getTableElements();t.changeType==="updateSelection"?r.length>0&&(te(r,(n,i)=>{te(t.itemIndexes||[],(a,o)=>{var s;if(t.items[o]&&(s=e._getRowElements(V(i)).eq(o),s.length)){var{isSelected:l}=t.items[o];s.toggleClass(Ck,l===void 0?!1:l).find(".".concat(Fs)).dxCheckBox("option","value",l),e.setAria("selected",l,s)}})}),e._updateCheckboxesClass()):e.callBase(t)},_createTable(){var t=this,e=t.option("selection.mode"),r=t.callBase.apply(t,arguments);return e!=="none"&&((t.option(Pa)==="onLongTap"||!El)&&X.on(r,Ee(ys.name,"dxDataGridRowsView"),".".concat(q5),t.createAction(n=>{wk(t.component,n.event),n.event.stopPropagation()})),X.on(r,"mousedown selectstart",t.createAction(n=>{var{event:i}=n;i.shiftKey&&i.preventDefault()}))),r},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var{isSelected:r}=t;r&&e.addClass(Ck);var n=this.option(Qd);n!=="none"&&this.setAria("selected",r,e)}return e},_rowClick(t){var e=t.event,r=V(e.target).closest(".".concat(dre)).length;this.isClickableElement(V(e.target))||(!r&&(this.option(Qd)!=="multiple"||this.option(Pa)!=="always")&&this.getController("selection").changeItemSelection(t.rowIndex,{control:tn(e),shift:e.shiftKey})&&(e.preventDefault(),t.handled=!0),this.callBase(t))},isClickableElement(t){var e=t.closest(".".concat(K5)).length;return!!e},_renderCore(t){var e=this.callBase(t);return this._updateCheckboxesClass(),e},_updateCheckboxesClass(){var t=this.getTableElements(),e=this.getController("selection"),r=e.isSelectColumnVisible()&&!e.isSelectionWithCheckboxes();te(t,(n,i)=>{V(i).toggleClass(cre,r)})}}}}};Qe.registerModule("selection",vre);function gre(t,e){var r,n,i=(r=(n=t.getRootNode)===null||n===void 0?void 0:n.call(t))!==null&&r!==void 0?r:document;return i.querySelector(e)}var xk="dx-invalid-message-auto",Sk="dx-validation-target";let CS=class extends xf{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var r=this.option("validationMessageMode")==="auto";if(r){var n=V(gre(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n==null||n.removeClass(xk),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n==null||n.addClass(xk)},150)}},e.saveValueChangeEvent=r=>{this._valueChangeEventInstance=r},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=Ht(),br(this.$element()[0],Sk,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(Gt.initValidationOptions(e))}_getDefaultOptions(){return Y(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,r){var n=Y({},e.option()),i=()=>this._silent(r,n);i(),e.on("optionChanged",i)}_raiseValidation(e,r){var n=!q(e)&&!q(r);e!==r&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,r){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:r,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:r,previousValue:n,value:i}=e;switch(r&&this._getActionConfigs()[r]!==void 0&&this._addAction(r),r){case"value":this._raiseValidation(i,n),this._raiseValueChangeAction(i,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}reset(){var{value:e}=this._getDefaultOptions();this.option({value:e})}_dispose(){super._dispose(),br(this.element(),Sk,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var _re=ha.isEditor,X5=t=>_re(t)||t instanceof CS;CS.isEditor=X5;ha.isEditor=X5;let yre=class extends CS{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};var bre=["dataSource","selectedRowKeys"],Cre={integrationOptions:!0};function id(t,e,r){return{path:t,value:e,previousValue:r}}function Ek(t,e,r,n,i,a){if(!Cre[n]){var o=Si(e),s=Si(r);if(e!==r)if(o!==s)t.push(id(n,r,e));else if(o==="object")if(!yt(r))t.push(id(n,r,e));else{var l=Ik(e,r,i,a);t.push(...l.map(m=>we({},m,{path:"".concat(n,".").concat(m.path)})))}else if(o==="array"){var p=a.some(m=>i.includes(m));if(p&&e!==r)t.push(id(n,r,e));else if(e.length!==r.length)t.push(id(n,r,e));else{var h=Ik(e,r,i,a);[].push.apply(t,h.map(m=>we({},m,{path:"".concat(n).concat(m.path)})))}}else t.push(id(n,r,e))}}var Y5=t=>(e,r,n,i)=>{var a=[],o=Array.isArray(e)?s=>{Ek(a,e[s],r[s],"[".concat(s,"]"),"".concat(n,".").concat(s),i)}:s=>{Ek(a,e[s],r[s],s,"".concat(n,".").concat(s),i)};return t(e).forEach(o),Object.keys(r).filter(s=>!Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==r[s]).forEach(s=>{a.push({path:s,value:r[s],previousValue:e[s]})}),a},Ik=Y5(t=>Object.keys(t)),wre={key:!0,ref:!0,children:!0,style:!0},xre=Y5(t=>Object.keys(t).filter(e=>!wre[e]));function Sre(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bre;return xre(t,e,"",r)}var Ere=["valueChange"],Ire=["componentProps","componentType","templateNames"],Z5=t=>Object.keys(t).reduce((e,r)=>(t[r]!==void 0&&(e[r]=t[r]),e),{}),Tre=t=>{var{props:{componentProps:{className:e}},restAttributes:r,widgetRef:n}=t;return Z5(Br(1,"div",e,null,1,we({},r),null,n))},Ore={};class e_ extends Wa{constructor(e){super(e),this.state={},this.widgetRef=pn(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return this.context[bn.id]?this.context[bn.id]:bn.defaultValue}createEffects(){return[new fr(this.setupWidget,[]),new fr(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var e;(e=this._effects[1])===null||e===void 0||e.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var e=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=e,()=>{e.dispose(),this.instance=null}}updateWidget(){var e=this.getInstance();if(e){var r=Sre(this.prevProps||{},this.properties);r.length&&(e.beginUpdate(),r.forEach(n=>{var{path:i,value:a}=n;e.option(i,a)}),e.endUpdate()),this.prevProps=this.properties}}get properties(){var e,r=Z5(this.props.componentProps),{valueChange:n}=r,i=_r(r,Ere),a=we({rtlEnabled:!!((e=this.config)!==null&&e!==void 0&&e.rtlEnabled),isRenovated:!0},i);n&&(a.onValueChanged=s=>{var{value:l}=s;return n(l)});var o=this.props.templateNames;return o.forEach(s=>{zY(s,a)&&(a[s]=(l,p,h)=>{$Y(this.props.componentProps[s],{item:l,index:p,container:h})})}),a}get restAttributes(){var e=this.props,r=_r(e,Ire);return r}getInstance(){return this.instance}render(){var e=this.props;return Tre({props:we({},e),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}e_.defaultProps=Ore;var kre=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],Are=t=>{var{componentProps:e,restAttributes:r}=t;return hi(sr(2,e_,we({componentType:Qx,componentProps:e,templateNames:[]},r)))},Dre=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Xg),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));class Q5 extends qi{constructor(e){super(e),this.state={}}get componentProps(){return this.props}get restAttributes(){var e=this.props,r=_r(e,kre);return r}render(){var e=this.props;return Are({props:we({},e),componentProps:this.componentProps,restAttributes:this.restAttributes})}}Q5.defaultProps=Dre;var Rre=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Pre=t=>{var{classes:e,isValid:r,readOnly:n}=t,i={"dx-state-readonly":!!n,"dx-invalid":!r,["".concat(e)]:!!e};return Hi(i)},Mre=t=>{var{aria:e,cssClasses:r,isValidationMessageVisible:n,onFocusIn:i,props:{accessKey:a,activeStateEnabled:o,children:s,className:l,disabled:p,focusStateEnabled:h,height:m,hint:v,hoverStateEnabled:f,onClick:u,onKeyDown:c,rtlEnabled:d,tabIndex:_,validationMessageMode:g,validationMessagePosition:y,visible:b,width:C},restAttributes:w,rootElementRef:x,validationErrors:A,validationMessageGuid:D,validationMessageTarget:P,widgetRef:k}=t;return hi(sr(2,Yg,we({rootElementRef:x,aria:e,classes:r,activeStateEnabled:o,focusStateEnabled:h,hoverStateEnabled:f,accessKey:a,className:l,rtlEnabled:d,hint:v,disabled:p,height:m,width:C,onFocusIn:i,onClick:u,onKeyDown:c,tabIndex:_,visible:b},w,{children:Do([s,n&&sr(2,Q5,{validationErrors:A,mode:g,positionSide:y,rtlEnabled:d,target:P,boundary:P,visualContainer:P,contentId:D})],0)}),null,k))},Yr=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Xg),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),Bre={get readOnly(){return Yr.readOnly},get name(){return Yr.name},get validationError(){return Yr.validationError},get validationErrors(){return Yr.validationErrors},get validationMessageMode(){return Yr.validationMessageMode},get validationMessagePosition(){return Yr.validationMessagePosition},get validationStatus(){return Yr.validationStatus},get isValid(){return Yr.isValid},get inputAttr(){return Yr.inputAttr},get defaultValue(){return Yr.defaultValue},get valueChange(){return Yr.valueChange},get className(){return Yr.className},get activeStateEnabled(){return Yr.activeStateEnabled},get disabled(){return Yr.disabled},get focusStateEnabled(){return Yr.focusStateEnabled},get hoverStateEnabled(){return Yr.hoverStateEnabled},get tabIndex(){return Yr.tabIndex},get visible(){return Yr.visible},get aria(){return Fv.aria},get classes(){return Fv.classes}};class J5 extends Cf{constructor(e){super(e),this.widgetRef=pn(),this.rootElementRef=pn(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Lr),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new fr(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),wf()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:r}=this.props;r==null||r(e)}get cssClasses(){return"".concat(Pre(we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:r,validationStatus:n}=this.props,i=(e=this.validationErrors)!==null&&e!==void 0?e:[],a=r&&n!=="invalid";return!a&&i.length>0}get aria(){var{isValid:e,readOnly:r}=this.props,n={readonly:r?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),we({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:r}=this.props,n=r&&[...r];return!n&&e&&(n=[we({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_r(e,Rre);return r}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,r,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return Mre({props:we({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}J5.defaultProps=Bre;function eL(t){var e,r=pt();return t?(e=r.getComputedStyle)===null||e===void 0?void 0:e.call(r,t):null}var Lre=[[22,16],[18,16]],Fre=[[[12,8],[20,18]],[[16,10],[16,14]]];function tL(){var t=pa();return{isMaterialTheme:Mr(t),isCompactTheme:eW(t)}}function Nre(){var{isCompactTheme:t,isMaterialTheme:e}=tL();return Lre[+e][+t]}function Vre(t){var{isCompactTheme:e,isMaterialTheme:r}=tL();return Fre[+t][+r][+e]}function Hre(t,e){var r=Vre(e),n=Nre(),i=r/n;return Math.ceil(i*t)}var jre=["isChecked","size"],$re=t=>{var{cssStyles:e,elementRef:r}=t;return Br(1,"span","dx-checkbox-icon",null,1,{style:sS(e)},null,r)},zre={isChecked:!1};class rL extends Wa{constructor(e){super(e),this.state={},this.elementRef=pn(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new fr(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:e,size:r}=this.props;if(lt()&&r){var n=this.getIconSize(r),i=Hre(n,e);this.setIconFontSize(i)}}setIconFontSize(e){var r=this.elementRef.current;r.style.fontSize="".concat(e,"px")}getIconSize(e){return qt(e)?e:e.endsWith("px")?parseInt(e,10):this.getComputedIconSize()}getComputedIconSize(){var e=this.elementRef.current,r=eL(e),n=parseInt(r==null?void 0:r.width,10);return n}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:e}=this.props,r=uc("width",e),n=uc("height",e);return{height:n,width:r}})()}get restAttributes(){var e=this.props,r=_r(e,jre);return r}componentWillUpdate(e,r,n){super.componentWillUpdate(),this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){var e=this.props;return $re({props:we({},e),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}rL.defaultProps=zre;var Wre=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Ure=t=>{var{text:e,value:r}=t,n=r,i=n===null,a={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":i};return Hi(a)},Gre=t=>{var{aria:e,cssClasses:r,editorRef:n,keyDown:i,onWidgetClick:a,props:{accessKey:o,activeStateEnabled:s,className:l,disabled:p,focusStateEnabled:h,height:m,hint:v,hoverStateEnabled:f,iconSize:u,isValid:c,name:d,onFocusIn:_,readOnly:g,rtlEnabled:y,tabIndex:b,text:C,validationError:w,validationErrors:x,validationMessageMode:A,validationMessagePosition:D,validationStatus:P,value:k,visible:B,width:E},restAttributes:O}=t;return hi(sr(2,J5,we({aria:e,classes:r,onClick:a,onKeyDown:i,accessKey:o,activeStateEnabled:s,focusStateEnabled:h,hoverStateEnabled:f,className:l,disabled:p,readOnly:g,hint:v,height:m,width:E,rtlEnabled:y,tabIndex:b,visible:B,validationError:w,validationErrors:x,validationMessageMode:A,validationMessagePosition:D,validationStatus:P,isValid:c,onFocusIn:_},O,{children:Do([hi(Br(64,"input",null,null,1,we({type:"hidden",value:"".concat(k)},d&&{name:d}))),Br(1,"div","dx-checkbox-container",[sr(2,rL,{size:u,isChecked:k===!0}),C&&Br(1,"span","dx-checkbox-text",C,0)],0)],4)}),null,n))},Jr=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Yr),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),Kre={get text(){return Jr.text},get enableThreeStateBehavior(){return Jr.enableThreeStateBehavior},get activeStateEnabled(){return Jr.activeStateEnabled},get hoverStateEnabled(){return Jr.hoverStateEnabled},get focusStateEnabled(){return Jr.focusStateEnabled},get defaultValue(){return Jr.defaultValue},get valueChange(){return Jr.valueChange},get readOnly(){return Jr.readOnly},get name(){return Jr.name},get validationError(){return Jr.validationError},get validationErrors(){return Jr.validationErrors},get validationMessageMode(){return Jr.validationMessageMode},get validationMessagePosition(){return Jr.validationMessagePosition},get validationStatus(){return Jr.validationStatus},get isValid(){return Jr.isValid},get inputAttr(){return Jr.inputAttr},get className(){return Jr.className},get disabled(){return Jr.disabled},get tabIndex(){return Jr.tabIndex},get visible(){return Jr.visible},get aria(){return Fv.aria}};let Hv=class extends Cf{constructor(e){super(e),this.editorRef=pn(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[wf()]}onWidgetClick(e){var{enableThreeStateBehavior:r,readOnly:n,saveValueChangeEvent:i}=this.props;if(!n)if(i==null||i(e),r){var a;this.setState(s=>(a=(this.props.value!==void 0?this.props.value:s.value)===null||((this.props.value!==void 0?this.props.value:s.value)?!1:null),{value:a})),this.props.valueChange(a)}else{var o;this.setState(s=>{var l;return o=!((l=this.props.value!==void 0?this.props.value:s.value)!==null&&l!==void 0&&l),{value:o}}),this.props.valueChange(o)}}keyDown(e){var{onKeyDown:r}=this.props,{keyName:n,originalEvent:i,which:a}=e,o=r==null?void 0:r(e);if(o!=null&&o.cancel)return o;(n==="space"||a==="space")&&(i.preventDefault(),this.onWidgetClick(i))}get cssClasses(){return Ure(we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,r=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:r?"mixed":"".concat(e)};return we({},n,this.props.aria)}get restAttributes(){var e=we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_r(e,Wre);return r}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return Gre({props:we({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function qre(t){var e=["value"];return Object.keys(t).reduce((r,n)=>{var i=t[n],a=e.some(o=>o===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return r[a]=i,r},{})}Hv.defaultProps=Kre;var Tk=[];function Xre(t){Tk.push(t),Hv.defaultProps=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Hv.defaultProps),Object.getOwnPropertyDescriptors(qre(dc(Tk)))))}class Rl extends yre{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Hv}}Rt("dxCheckBox",Rl);Rl.defaultOptions=Xre;var va="dx-treeview",jn="".concat(va,"-node"),Ya="".concat(jn,"-container"),my="".concat(jn,"-loadindicator"),Fo="".concat(jn,"-container-opened"),ad="".concat(jn,"-is-leaf"),on="".concat(va,"-item"),Yre="".concat(on,"-with-checkbox"),Zre="".concat(on,"-with-custom-expander-icon"),Qre="".concat(va,"-custom-expander-icon-item-container"),Jre="".concat(on,"-without-checkbox"),ene="".concat(on,"-data"),od="".concat(va,"-toggle-item-visibility"),vy="".concat(va,"-custom-collapse-icon"),gy="".concat(va,"-custom-expand-icon"),tne="".concat(va,"-loadindicator"),rne="".concat(va,"-loadindicator-wrapper"),Ok="".concat(va,"-toggle-item-visibility-opened"),Bp="".concat(va,"-select-all-item"),kk="dx-state-invisible",sd="dx-state-disabled",nne="dx-state-selected",_y="dxTreeView_expand",Lp="data-item-id",ine=O5.inherit({_supportedKeys:function(t){var e=i=>{var a=V(this.option("focusedElement"));if(a.length){i.target=a,i.currentTarget=a,this._itemClickHandler(i,a.children("."+on));var o=this._getEventNameByOption(this.option("expandEvent")),s=o===Ee(jt,_y);s&&this._expandEventHandler(i)}},r=i=>{i.preventDefault();var a=V(this.option("focusedElement")),o=this._getCheckBoxInstance(a);if(!o.option("disabled")){var s=o.option("value");this._updateItemSelection(!s,a.find("."+on).get(0),!0)}},n=function(i,a){if(this.option("expandAllEnabled")){a.preventDefault();var o=V(this.option("focusedElement"));if(o.length){var s=this._getItemData(o.find(".".concat(on)));this._toggleExpandedNestedItems([s],i)}}};return Y(this.callBase(),{enter:this._showCheckboxes()?r:e,space:this._showCheckboxes()?r:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems:function(t,e){if(t)for(var r=0,n=t.length;r<n;r++){var i=t[r],a=this._dataAdapter.getNodeByItem(i);this._toggleExpandedState(a,e),this._toggleExpandedNestedItems(i.items,e)}},_getNodeElement:function(t,e){var r=this._encodeString(t.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(jn)).each(function(){var i=V(this),a=i.attr(Lp);e.$nodeByKey[a]=i})),e.$nodeByKey[r]||V();var n=this.$element().get(0).querySelector("[".concat(Lp,'="').concat(r,'"]'));return V(n)},_activeStateUnit:"."+on,_widgetClass:function(){return va},_getDefaultOptions:function(){var t=Y(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:he.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return Y(!0,t,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Il},options:{useNativeScrolling:!1}}])},_initSelectedItems:oe,_syncSelectionOptions:X1,_fireSelectionChanged:function(){var t=this._selectionChangePromise;Ve(t).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(t){this._selectAllValueChangedAction({value:t})},_checkBoxModeChange:function(t,e){if(!(e==="none"||t==="none")){var r=this._$selectAllItem&&this._$selectAllItem.length;switch(t){case"selectAll":r||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":r&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var t=this;te(this._dataAdapter.getFullData(),function(e,r){t._hasChildren(r)&&t._dataAdapter.toggleSelection(r.internalFields.key,!1,!0)})},_optionChanged:function(t){var{name:e,value:r,previousValue:n}=t;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",r);break;case"showCheckBoxesMode":this._checkBoxModeChange(r,n),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",r);break;case"useNativeScrolling":this.getScrollable().option("useNative",r);break;case"items":delete this._$selectAllItem,this.callBase(t);break;case"dataSource":this.callBase(t),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(t);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",t.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(t)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(t){t&&t.length&&this.option("items",t)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var t=this._filter;t.custom||(t.custom=this._dataSource.filter()),t.internal||(t.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return Me(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(t){var e=this.option("createChildren").call(this,t);return Array.isArray(e)?new ae().resolve(e).promise():e&&Me(e.then)?cn(e):new ae().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",t)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=V("<div>").addClass(tne),this._createComponent(this._treeViewLoadIndicator,Ci,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(t){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),t&&!this._dataSource.isLoaded()){this.option("items",[]);var r=V("<div>").addClass(rne);this._createTreeViewLoadIndicator().appendTo(r),this.itemsContainer().append(r),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",t=>{this.option().items=this.option("items").concat(t),this._dataAdapter.addItem(t),this._dataAdapter.isFiltered(t)&&this._updateLevel(this._parentIdGetter(t))}).on("removed",t=>{var e=this._dataAdapter.getNodeByKey(t);q(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(t),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove:function(t){var e=t.internalFields.childrenKeys;te(e,(r,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var t=Y(!0,[],this.option("items")),e=0;te(t,(r,n)=>{n||(this.option("items").splice(r-e,1),e++)})},_updateLevel:function(t){var e=this._getContainerByParentKey(t);this._renderItems(e,this._dataAdapter.getChildrenNodes(t))},_getOldContainer:function(t){if(t.length)return t.children(".".concat(Ya));var e=this.getScrollable();return e?V(e.content()).children():V()},_getContainerByParentKey:function(t){var e=this._dataAdapter.getNodeByKey(t),r=e?this._getNodeElement(e):[];this._getOldContainer(r).remove();var n=this._renderNodeContainer(r);if(this._isRootLevel(t)){var i=this.getScrollable();i||this._renderScrollableContainer(),V(i.content()).append(n)}return n},_isRootLevel:function(t){return t===this.option("rootValue")},_getAccessors:function(){var t=this.callBase();return t.push("hasItems"),t},_getDataAdapterOptions:function(){var t,e,r;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:(t=this._dataSource)===null||t===void 0||(e=t.loadOptions)===null||e===void 0||(r=e.call(t))===null||r===void 0?void 0:r.langParams}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var t=this._renderNodeContainer();V(this.getScrollable().content()).append(t),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(t,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(t)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var t=this.getDataSource(),e=t&&!t.isLoaded()||this._skipContentReadyAndItemExpanded,r=this.getScrollable();r&&lt()&&r.update(),e||this.callBase(),r&&lt()&&r.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(V("<div>").appendTo(this.$element()),wi,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var e=V("<ul>").addClass(Ya);if(this.setAria("role","group",e),t&&t.length){var r=this._getItemData(t.children("."+on));this._expandedGetter(r)&&e.addClass(Fo),e.appendTo(t)}return e},_createDOMElement:function(t,e){var r,n,i=V("<li>").addClass(jn).attr(Lp,this._encodeString(e.internalFields.key)).prependTo(t),a={role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",level:this._getLevel(t)},o=!!(e!=null&&(r=e.internalFields)!==null&&r!==void 0&&(n=r.childrenKeys)!==null&&n!==void 0&&n.length);return o&&(a.expanded=e.internalFields.expanded||!1),this.setAria(a,i),i},_getLevel:function(t){var e=t.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"&&!this._isSingleSelection()},_renderItems:function(t,e){for(var r=e.length-1,n=r;n>=0;n--)this._renderItem(n,e[n],t);this._renderedItemsCount+=e.length},_renderItem:function(t,e,r){var n=this._createDOMElement(r,e),i=e.internalFields,a=this._showCheckboxes();n.addClass(a?Yre:Jre),n.toggleClass(kk,i.item.visible===!1),this._hasCustomExpanderIcons()&&(n.addClass(Zre),r.addClass(Qre)),a&&this._renderCheckBox(n,e),this.setAria("selected",i.selected,n),this._toggleSelectedClass(n,i.selected),i.disabled&&this.setAria("disabled",i.disabled,n),this.callBase(this._renderedItemsCount+t,i.item,n),i.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelectionAttribute:oe,_renderChildren:function(t,e){if(!this._hasChildren(e)){this._addLeafClass(t);return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(t,e):this._renderDefaultExpanderIcons(t,e),!(this.option("deferRendering")&&!e.internalFields.expanded)&&this._loadSublevel(e).done(r=>{this._renderSublevel(t,this._getActualNode(e),r)})},_getActualNode:function(t){return this._dataAdapter.getNodeByKey(t.internalFields.key)},_hasChildren:function(t){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(t.internalFields.item)!==!1:this.callBase(t)},_loadSublevel:function(t){var e=new ae,r=this._getChildNodes(t);return r.length?e.resolve(r):this._loadNestedItems(t).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_renderSublevel:function(t,e,r){var n=this._renderNodeContainer(t,e),i=r.filter(o=>e.internalFields.childrenKeys.indexOf(o.internalFields.key)!==-1);if(this._renderItems(n,i),i.length&&!e.internalFields.selected){var a=i[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(t,i.length),e.internalFields.expanded&&n.addClass(Fo)},_executeItemRenderAction:function(t,e,r){var n=this._getNode(r);this._getItemRenderAction()({itemElement:r,itemIndex:t,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(t){t.addClass(ad)},_expandEventHandler:function(t){var e=V(t.currentTarget.parentNode);e.hasClass(ad)||this._toggleExpandedState(t.currentTarget,void 0,t)},_initExpandEvent:function(){var t=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer(),r=this._itemSelector();X.off(e,"."+_y,r),X.on(e,t,r,this._expandEventHandler.bind(this))},_getEventNameByOption:function(t){var e=t==="click"?jt:tf;return Ee(e,_y)},_getNode:function(t){if(!q(t))return null;if(t.internalFields)return t;if(zd(t))return this._dataAdapter.getNodeByKey(t);var e=V(t).get(0);return e?Ce.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(t){var e=V(t).closest("."+jn),r=this._decodeString(e.attr(Lp));return this._dataAdapter.getNodeByKey(r)},_toggleExpandedState:function(t,e,r){var n=this._getNode(t);if(!n)return new ae().reject().promise();if(n.internalFields.disabled)return new ae().reject().promise();var i=n.internalFields.expanded;if(i===e)return new ae().resolve().promise();if(this._hasChildren(n)){var a=this._getNodeElement(n);if(a.find(".".concat(my,":not(.").concat(kk,")")).length)return new ae().reject().promise();!i&&!this._nodeHasRenderedChildren(a)&&this._createLoadIndicator(a)}return q(e)||(e=!i),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,r)},_nodeHasRenderedChildren(t){var e=t.children(".".concat(Ya));return e.not(":empty").length},_createLoadIndicator:function(t){this._createComponent(V("<div>").addClass(my),Ci,{}).$element().appendTo(t);var e=t.children(".".concat(od,",.").concat(gy));e.hide()},_renderExpanderIcon:function(t,e,r,n){r.appendTo(t),r.addClass(n),e.internalFields.disabled&&r.addClass(sd),this._renderToggleItemVisibilityIconClick(r,e)},_renderDefaultExpanderIcons:function(t,e){var r=V("<div>").addClass(od).appendTo(t);e.internalFields.expanded&&(r.addClass(Ok),t.parent().addClass(Fo)),e.internalFields.disabled&&r.addClass(sd),this._renderToggleItemVisibilityIconClick(r,e)},_renderCustomExpanderIcons:function(t,e){var{expandIcon:r,collapseIcon:n}=this.option(),i=Io(r??n),a=Io(n??r);this._renderExpanderIcon(t,e,i,gy),this._renderExpanderIcon(t,e,a,vy);var o=e.internalFields.expanded;o&&t.parent().addClass(Fo),this._toggleCustomExpanderIcons(i,a,o)},_renderToggleItemVisibilityIconClick:function(t,e){var r=Ee(jt,this.NAME);X.off(t,r),X.on(t,r,n=>{this._toggleExpandedState(e.internalFields.key,void 0,n)})},_toggleCustomExpanderIcons:function(t,e,r){e.toggle(r),t.toggle(!r)},_updateExpandedItemsUI:function(t,e,r){var n=this._getNodeElement(t),i=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&i){var a=this._getNode(t.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,e,r)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(n)){var s=n.children(".".concat(gy)),l=n.children(".".concat(vy));this._toggleCustomExpanderIcons(s,l,e)}}else{var o=n.children(".".concat(od));o.toggleClass(Ok,e)}var p=n.children(".".concat(Ya)),h=p.length>0,m=new ae;return!e||h&&!p.is(":empty")?(this._animateNodeContainer(t,e,r,m),m.promise()):t.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(t,e,r,m),m.promise()):(this._renderSublevel(n,t,this._getChildNodes(t)),this._fireContentReadyAction(),this._animateNodeContainer(t,e,r,m),m.promise())},_loadNestedItemsWithUpdate:function(t,e,r,n){var i=this._getNodeElement(t);this._loadNestedItems(t).done(a=>{var o=this._getActualNode(t);if(this._renderSublevel(i,o,this._dataAdapter.getNodesByItems(a)),!a||!a.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(o,e,r,n)})},_loadNestedItems:function(t){if(this._useCustomChildrenLoader()){var e=this._dataAdapter.getPublicNode(t);return this._loadChildrenByCustomLoader(e).done(r=>{this._areNodesExists(r)||this._appendItems(r)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),t.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(r=>{this._areNodesExists(r)||this._appendItems(r)})):new ae().resolve([]).promise()},_areNodesExists:function(t,e){var r=this.keyOf(t[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(r,n)},_appendItems:function(t){this.option().items=this.option("items").concat(t),this._initDataAdapter()},_animateNodeContainer:function(t,e,r,n){var i=this._getNodeElement(t),a=i.children(".".concat(Ya));t&&n&&a.length===0&&n.resolve(),a.addClass(Fo);var o=vt(a);yr.stop(a,!0),yr.animate(a,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:o},to:{maxHeight:e?o:0},complete:(function(){a.css("maxHeight","none"),a.toggleClass(Fo,e),this.setAria("expanded",e,i),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,t,r),n&&n.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(t,e,r){if(!(!this._hasChildren(e)||this._skipContentReadyAndItemExpanded)){var n=t?"onItemExpanded":"onItemCollapsed";if(q(r))this._itemDXEventHandler(r,n,{node:this._dataAdapter.getPublicNode(e)});else{var i=this._getNodeElement(e);this._itemEventHandler(i,n,{event:r,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(t,e){var r=t.find(".".concat(my));if(r.length){var n;(n=Ci.getInstance(r))===null||n===void 0||n.option("visible",!1)}var i=t.children(".".concat(vy,",.").concat(od));if(e){i.show();return}i.removeClass(od),t.addClass(ad)},_emptyMessageContainer:function(){var t=this.getScrollable();return t?V(t.content()):this.callBase()},_renderContent:function(){var t=this.option("items");t&&t.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){t=t||this.$element().find(".".concat(Ya)).first(),this._$selectAllItem=V("<div>").addClass(Bp);var e=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Rl,{value:e,elementAttr:{"aria-label":"Select All"},text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,e),t.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(t){this._toggleSelectAll(t),this._fireSelectAllValueChanged(t.value)},_toggleSelectAll:function(t){this._dataAdapter.toggleSelectAll(t.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(t,e){var r=V("<div>").appendTo(t);this._createComponent(r,Rl,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(t,e){t.toggleClass(nne,!!e)},_toggleNodeDisabledState:function(t,e){var r=this._getNodeElement(t),n=r.find("."+on).eq(0);if(this._dataAdapter.toggleNodeDisabledState(t.internalFields.key,e),n.toggleClass(sd,!!e),this._showCheckboxes()){var i=this._getCheckBoxInstance(r);i.option("disabled",!!e)}},_itemOptionChanged:function(t,e,r){var n=this._dataAdapter.getNodeByItem(t);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,r)},_changeCheckboxValue:function(t){var e=V(t.element).parent("."+jn),r=e.children("."+on),n=this._getItemData(r),i=this._getNodeByElement(r),a=t.value;i&&i.internalFields.selected===a||this._updateItemSelection(a,n,t.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(t,e,r){var n=e.indexOf(t.key);return n>=0&&e.splice(n,1),r&&te(t.children,(function(i,a){this._isLastSelectedBranch(a,e,!0)}).bind(this)),t.parent&&this._isLastSelectedBranch(t.parent,e),e.length===0},_isLastRequired:function(t){var e=this.option("selectionRequired"),r=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(e)return r?n.length===1:this._isLastSelectedBranch(t.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(t,e,r){var n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===t)return!0;if(!t&&this._isLastRequired(n)){if(this._showCheckboxes()){var i=this._getNodeElement(n);this._getCheckBoxInstance(i).option("value",!0)}return!1}if(t&&this._isSingleSelection()){var a=this.getSelectedNodeKeys();te(a,(l,p)=>{this._dataAdapter.toggleSelection(p,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(p))})}this._dataAdapter.toggleSelection(n.internalFields.key,t);var o=this._dataAdapter.isAllSelected(),s=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==o;return this._updateItemsUI(),this._fireItemSelectionChanged(n,r),this._fireSelectionChanged(),s&&this._fireSelectAllValueChanged(o),!0},_fireItemSelectionChanged:function(t,e){var r=e||this._findItemElementByItem(t.internalFields.item),n=e?this._itemDXEventHandler:this._itemEventHandler;n.call(this,r,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(t),itemData:t.internalFields.item})},_getCheckBoxInstance:function(t){return t.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var t={};if(te(this._dataAdapter.getData(),(r,n)=>{var i=this._getNodeElement(n,t),a=n.internalFields.selected;i.length&&(this._toggleSelectedClass(i,a),this.setAria("selected",a,i),this._showCheckboxes()&&this._getCheckBoxInstance(i).option("value",a))}),this._selectAllEnabled()){var e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(t,e){if(e){var r=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),n=V(e.parents("."+jn)[0]);if(this._showCheckboxes()){var i=r.internalFields.selected;this._getCheckBoxInstance(n).option("value",i),this._toggleSelectedClass(n,i)}r.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(r,n)}},_itemEventHandlerImpl:function(t,e,r){var n=V(t).closest("."+jn).children("."+on);return e(Y(this._extendActionArgs(n),r))},_itemContextMenuHandler:function(t){this._createEventHandler("onItemContextMenu",t)},_itemHoldHandler:function(t){this._createEventHandler("onItemHold",t)},_createEventHandler:function(t,e){var r=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,t,{node:this._dataAdapter.getPublicNode(r)})},_itemClass:function(){return on},_itemDataKey:function(){return ene},_attachClickEvent:function(){var t="."+this._itemClass(),e="."+jn+", ."+Bp,r=Ee(jt,this.NAME),n=Ee(Mt.down,this.NAME),i=this._itemContainer(),a=this;X.off(i,r,t),X.off(i,n,e),X.on(i,r,t,function(o){a._itemClickHandler(o,V(this))}),X.on(i,n,e,function(o){a._itemPointerDownHandler(o)})},_itemClickHandler:function(t,e){var r=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(t,"onItemClick",{node:this._dataAdapter.getPublicNode(n)}),this.option("selectByClick")&&!t.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,r,t)},_updateSelectionToFirstItem:function(t,e){for(var r=e;r>=0;){var n=V(t[r]);this._updateItemSelection(!0,n.find("."+on).get(0)),r--}},_updateSelectionToLastItem:function(t,e){for(var r=t.length,n=e;n<r;){var i=V(t[n]);this._updateItemSelection(!0,i.find("."+on).get(0)),n++}},focus:function(){if(this._selectAllEnabled()){X.trigger(this._$selectAllItem,"focus");return}this.callBase()},_focusInHandler:function(t){this._updateFocusState(t,!0);var e=V(t.target).hasClass(Bp);if(e||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{var n=e?et(this._$selectAllItem):V(this.option("focusedElement"));this._setFocusedItem(n)});return}var r=this._getActiveItem();this.option("focusedElement",et(r.closest("."+jn)))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var e=V(t.target).closest("."+jn+", ."+Bp);if(e.length){var r=e.hasClass(sd)?null:e;this.option("focusedElement",et(r))}}},_findNonDisabledNodes:function(t){return t.not(function(){return V(this).children("."+on).hasClass(sd)})},_moveFocus:function(t,e){var r="up",n="down",i="first",a="last",o=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(Ya)).each(function(){yr.stop(this,!0)});var l=this._nodeElements();if(!(!l||!l.length))switch(t){case r:var p=this._prevItem(l);this.option("focusedElement",et(p));var h=this._getNodeItemElement(p);this.getScrollable().scrollToElement(h),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case n:var m=this._nextItem(l);this.option("focusedElement",et(m));var v=this._getNodeItemElement(m);this.getScrollable().scrollToElement(v),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,v);break;case i:var f=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",et(f)),this.getScrollable().scrollToElement(this._getNodeItemElement(f));break;case a:var u=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",et(u)),this.getScrollable().scrollToElement(this._getNodeItemElement(u));break;case s:this._expandFocusedContainer();break;case o:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(t){return t.find("."+on).get(0)},_nodeElements:function(){return this.$element().find("."+jn).not(":hidden")},_expandFocusedContainer:function(){var t=V(this.option("focusedElement"));if(!(!t.length||t.hasClass(ad))){var e=t.find(".".concat(Ya)).eq(0);if(e.hasClass(Fo)){var r=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",et(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r));return}var n=this._getNodeByElement(t.children("."+on));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(t){do t=t.parent().closest("."+jn);while(t.children(".dx-treeview-item.dx-state-disabled").length);return t},_collapseFocusedContainer:function(){var t=V(this.option("focusedElement"));if(t.length){var e=t.find(".".concat(Ya)).eq(0);if(!t.hasClass(ad)&&e.hasClass(Fo)){var r=this._getNodeByElement(t.children("."+on));this._toggleExpandedState(r,!1)}else{var n=this._getClosestNonDisabledNode(t);n.length&&this.option("focusedElement",et(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n))}}},_encodeString:function(t){return tt(t)?encodeURI(t):t},_decodeString:function(t){return tt(t)?decodeURI(t):t},getScrollable:function(){return this._scrollable},updateDimensions:function(){var t=new ae,e=this.getScrollable();return e?e.update().done(()=>{t.resolveWith(this)}):t.resolveWith(this),t.promise()},selectItem:function(t){return this._updateItemSelection(!0,t)},unselectItem:function(t){return this._updateItemSelection(!1,t)},expandItem:function(t){return this._toggleExpandedState(t,!0)},collapseItem:function(t){return this._toggleExpandedState(t,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(t=>{var e=this._dataAdapter.getNodeByKey(t);return this._dataAdapter.getPublicNode(e)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var t=this._dataAdapter.getData(),e=[];this._skipContentReadyAndItemExpanded=!0,t.forEach(r=>e.push(this._toggleExpandedState(r.internalFields.key,!0))),Promise.allSettled(e).then(()=>{var r;return(r=this._allItemsExpanded)===null||r===void 0?void 0:r.call(this)})},collapseAll:function(){te(this._dataAdapter.getExpandedNodesKeys(),(function(t,e){this._toggleExpandedState(e,!1)}).bind(this))},scrollToItem:function(t){var e=this._getNode(t);if(!e)return new ae().reject().promise();for(var r=[],n=e.internalFields.publicNode.parent;n!=null;)n.expanded||r.push(n.key),n=n.parent;var i=new ae;return this._expandNodes(r.reverse()).always(()=>{var a=this._getNodeElement(e);a&&a.length?(this.scrollToElementTopLeft(a.get(0)),i.resolve()):i.reject()}),i.promise()},scrollToElementTopLeft:function(t){var e=this.getScrollable(),{scrollDirection:r,rtlEnabled:n}=this.option(),i={top:0,left:0},a=wB(SB,t);if(r!==Mv){var o=V(e.container()).get(0);i.left=n?a.left+t.offsetWidth-o.clientWidth:a.left}r!==xB&&(i.top=a.top),e.scrollTo(i)},_expandNodes:function(t){if(!t||t.length===0)return new ae().resolve().promise();var e=new ae,r=t.map(n=>this.expandItem(n));return Ve.apply(V,r).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}});Dl.setEditorClass(Sf);var nL="dx-treeview",ane="".concat(nL,"-node-container"),Tf=ine.inherit(Dl).inherit({_addWidgetPrefix:function(t){return"".concat(nL,"-").concat(t)},_optionChanged:function(t){switch(t.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(t)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return Y(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(ane)).first()},_updateSearch:function(){if(this._searchEditor){var t=this._getSearchEditorOptions();this._searchEditor.option(t)}},_repaintContainer:function(){var t=this._getNodeContainer(),e;t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(t){return this._selectAllEnabled()?this._getNodeContainer():this._scrollable&&t?V(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Rt("dxTreeView",Tf);var one="column-chooser",iL="column-chooser-button",Ak="notouch-action",sne="column-chooser-list",lne="column-chooser-plain",une="column-chooser-mode-drag",cne="column-chooser-mode-select",aL="column-chooser",Dk="dx-column-chooser-item",dne=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],hne=function(t,e){var r=[],n=t.isSelectMode(),i=t.option("columnChooser.selection.recursive");return e.length&&te(e,(a,o)=>{var s={text:o.caption,cssClass:o.cssClass,allowHiding:o.allowHiding,expanded:!0,id:o.index,disabled:o.allowHiding===!1,parentId:q(o.ownerBand)?o.ownerBand:null},l=i&&o.hasColumns;n&&!l&&(s.selected=o.visible),r.push(s)}),r},fne={renderShowColumnChooserButton(t){var e=this,r=e.addWidgetPrefix(iL),n=e.option("columnChooser.enabled"),i=t.find(".".concat(r)),a;n?i.length?i.show():(a=V("<div>").addClass(r).appendTo(t),e._createComponent(a,vn,{icon:aL,onClick(){e.getView("columnChooserView").showColumnChooser()},hint:e.option("columnChooser.title"),integrationOptions:{}})):i.hide()},getPosition(){var t=this.getView("rowsView"),e=this.option("columnChooser.position");return q(e)?e:{my:"right bottom",at:"right bottom",of:t&&t.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},pne=ar.ViewController.inherit(fne),mne={_resizeCore:oe,_isWinDevice:()=>!!Ue.real().win,_initializePopupContainer(){var t=this,e=t.addWidgetPrefix(one),r=t.element().addClass(e),n=t.option("columnChooser"),i=pa(),a=y6(i),o=Mr(i),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:e},toolbarItems:[{text:n.title,toolbar:"top",location:a||o?"before":"center"}],position:t.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:t.option("rtlEnabled"),onHidden(){t._isWinDevice()&&V("body").removeClass(t.addWidgetPrefix(Ak))},container:n.container};a||o?Y(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},q(this._popupContainer)?this._popupContainer.option(s):(t._popupContainer=t._createComponent(r,ma,s),t._popupContainer.on("optionChanged",l=>{l.name==="visible"&&t.renderCompleted.fire()})),this.setPopupAttributes()},setPopupAttributes(){var t=this.isSelectMode(),e=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:he.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(une),!t).toggleClass(this.addWidgetPrefix(cne),t),this._popupContainer.$content().addClass(this.addWidgetPrefix(sne)),t&&!e&&this._popupContainer.$content().addClass(this.addWidgetPrefix(lne))},_renderCore(t){if(this._popupContainer){var e=!this.isSelectMode();!this._columnChooserList||t==="full"?this._renderTreeView():e&&this._updateItems()}},_renderTreeView(){var t,e,r,n=this,i=this._popupContainer.$content(),a=this.option("columnChooser"),o=this.isSelectMode(),s=q(a.allowSearch)?a.allowSearch:(t=a.search)===null||t===void 0?void 0:t.enabled,l=q(a.searchTimeout)?a.searchTimeout:(e=a.search)===null||e===void 0?void 0:e.timeout,p={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:s,searchTimeout:l,searchEditorOptions:(r=a.search)===null||r===void 0?void 0:r.editorOptions};if(this._isWinDevice()&&(p.useNativeScrolling=!1),Y(p,o?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)p.searchEnabled||(p.searchValue=""),this._columnChooserList.option(p),this._updateItems();else{this._columnChooserList=this._createComponent(i,Tf,p),this._updateItems();var h=0;this._columnChooserList.on("optionChanged",m=>{var v=m.component.getScrollable();h=v.scrollTop()}),this._columnChooserList.on("contentReady",m=>{Mn(()=>{var v=m.component.getScrollable();v.scrollTo({y:h}),n.renderCompleted.fire()})})}},_prepareDragModeConfig(){var t=this.option("columnChooser");return{noDataText:t.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(e,r,n){V(n).text(e.text).parent().addClass(e.cssClass).addClass(Dk)}}},_prepareSelectModeConfig(){var t=this,e=this.option("columnChooser.selection")||{},r=!1;return{selectByClick:e.selectByClick,selectNodesRecursive:e.recursive,showCheckBoxesMode:e.allowSelectAll?"selectAll":"normal",onSelectionChanged:n=>{if(!r){var i=(a=>{var o=(s,l)=>s.reduce((p,h)=>(p.push(h),h.children.length&&o(h.children,p),p),l);return o(a,[])})(n.component.getNodes());n.component.beginUpdate(),r=!0,((a,o)=>{o.filter(s=>s.itemData.allowHiding===!1).forEach(s=>a.component.selectItem(s.key))})(n,i),n.component.endUpdate(),r=!1,t.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(a=>{a.forEach(o=>{var s=o.itemData.id,l=o.selected!==!1;t._columnsController.columnOption(s,"visible",l)})})(i),t.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}},_updateItems(){var t=this.isSelectMode(),e=this._columnsController.getChooserColumns(t),r=hne(this,e);this._columnChooserList.option("items",r)},_updateItemsSelection(t){var e=t==null?void 0:t.map(r=>this._columnsController.columnOption(r));this._columnChooserList.beginUpdate(),e==null||e.forEach(r=>{var{visible:n,index:i}=r;n?this._columnChooserList.selectItem(i):this._columnChooserList.unselectItem(i)}),this._columnChooserList.endUpdate()},_columnOptionChanged(t){this.callBase(t);var e=this.isSelectMode();if(e&&this._columnChooserList&&this._isUpdatingColumnVisibility!==!0){var{optionNames:r}=t,n=r.visible&&r.length===1,i=q(t.columnIndex)?[t.columnIndex]:t.columnIndices,a=dne.some(o=>r[o])||t.changeTypes.columns&&r.all;a&&(this._updateItemsSelection(i),n||this._updateItems())}},optionChanged(t){switch(t.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(t)}},getColumnElements(){var t=[],e=this.isSelectMode(),r=this._columnsController.getChooserColumns(e),n=this._popupContainer&&this._popupContainer.$content(),i=n&&n.find(".dx-treeview-node");return i&&r.forEach(a=>{var o=i.filter("[data-item-id = '".concat(a.index,"']")),s=o.length?o.children(".".concat(Dk)).get(0):null;t.push(s)}),V(t)},getName:()=>"columnChooser",getColumns(){return this._columnsController.getChooserColumns()},allowDragging(t){var e=this._columnsController.isParentColumnVisible(t.index),r=!t.visible&&t.allowHiding;return this.isColumnChooserVisible()&&e&&r},allowColumnHeaderDragging(t){var e=!this.isSelectMode();return e&&this.isColumnChooserVisible()&&t.allowHiding},getBoundingRect(){var t=this._popupContainer&&this._popupContainer.$overlayContent();if(t&&t.is(":visible")){var e=t.offset();return{left:e.left,top:e.top,right:e.left+Pt(t),bottom:e.top+xt(t)}}return null},showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&V("body").addClass(this.addWidgetPrefix(Ak))},hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible(){var t=this._popupContainer;return t&&t.option("visible")},isSelectMode(){return this.option("columnChooser.mode")==="select"},hasHiddenColumns(){var t=this.option("columnChooser.enabled"),e=this.getColumns().filter(r=>!r.visible);return t&&e.length},publicMethods:()=>["showColumnChooser","hideColumnChooser"]},vne=hf.inherit(mne),wS={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:he.format("dxDataGrid-columnChooserTitle"),emptyPanelText:he.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:pne},views:{columnChooserView:vne},extenders:{views:{headerPanel:{_getToolbarItems(){var t=this.callBase();return this._appendColumnChooserItem(t)},_appendColumnChooserItem(t){var e=this,r=e.option("columnChooser.enabled");if(r){var n=e.option("columnChooser.title"),i={widget:"dxButton",options:{icon:aL,onClick:function(){e.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(a){V(a.element).addClass(e._getToolbarButtonClass(e.addWidgetPrefix(iL)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};t.push(i)}return t},optionChanged(t){switch(t.name){case"columnChooser":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},isVisible(){var t=this.option("columnChooser.enabled");return this.callBase()||t}},columnHeadersView:{allowDragging(t){var e=this.component.getView("columnChooserView"),r=!e.isSelectMode(),n=e.isColumnChooserVisible();return r&&n&&t.allowHiding||this.callBase(t)}}},controllers:{columns:{allowMoveColumn(t,e,r,n){var i=this.option("columnChooser.mode")==="select",a=i&&n==="columnChooser";return a?!1:this.callBase(t,e,r,n)}}}}};wS.controllers.columnChooser;wS.views.columnChooserView;Qe.registerModule("columnChooser",wS);function nl(t,e){for(var r=So(e.group),n=[],i=0;i<t.length;i++)n.push([r[i].selector,"=",t[i]]);return e.filter&&n.push(e.filter),Te.combineFilters(n)}function oL(t,e,r){for(var n=So(e.group),i=[],a=r?t.length-1:0;a<t.length;a++){for(var o=[],s=0;s<=a;s++){var{selector:l}=n[s];if(a===s&&(t[s]===null||t[s]===!1||t[s]===!0))t[s]===!1?o.push([l,"=",n[s].desc?!0:null]):(t[s]?!n[s].desc:n[s].desc)?o.push([l,"<>",t[s]]):(o.push([l,"<>",null]),o.push([l,"=",null]));else{var p=[l,a===s?n[s].desc?">":"<":"=",t[s]];p[1]==="<"?o.push([p,"or",[l,"=",null]]):o.push(p)}}i.push(Qe.combineFilters(o))}return i=Qe.combineFilters(i,"or"),Qe.combineFilters([i,e.filter])}var sL=Ft.inherit(function(){var t=function(r,n){var{hash:i}=r;return i&&i[JSON.stringify(n)]},e=function(r,n){var i=0,a=r.length-1;if(!r.length)return 0;do{var o=a+i>>1;r[o].offset>n?a=o:i=o}while(a-i>1);var s;for(s=i;s<=a&&!(r[s].offset>n);s++);return s};return{ctor(r){this._dataSource=r,this.reset()},reset(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection(){return this._totalCountCorrection},updateTotalItemsCount(r){this._totalCountCorrection=r||0},isGroupItemCountable(r){return!this._isVirtualPaging()||!r.isContinuation},_isVirtualPaging(){var r=this._dataSource.option("scrolling.mode");return r==="virtual"||r==="infinite"},itemsCount(){var r=this._dataSource,n=r._dataSource,i=Qe.normalizeSortingInfo(n.group()||[]).length,a=function o(s,l,p){var h=0;if(l)if(!p)h=l.length;else for(var m=0;m<l.length;m++)s.isGroupItemCountable(l[m])&&h++,h+=o(s,l[m].items,p-1);return h}(this,n.items(),i);return a},foreachGroups(r,n,i,a,o){var s=this;return function l(p,h,m,v){var f=[];function u(y,b,C,w){var x=b&&y(b,C);return x&&w.push(x),x}for(var c=0;c<p.length;c++){if(v.push(p[c].data),!m&&u(h,p[c].data,v,f)===!1)return!1;if(!p[c].data||p[c].data.isExpanded||i){var{children:d}=p[c],_=d.length&&l(d,h,m,v);if(_&&f.push(_),_===!1)return!1}if(m&&u(h,p[c].data,v,f)===!1)return!1;(!p[c].data||p[c].data.offset!==p[c].offset)&&(a=!0),v.pop()}var g=o&&v.slice(0);return a&&Ve.apply(V,f).always(()=>{s._updateGroupInfoOffsets(p,g)})}(s._groupsInfo,r,n,[])},_updateGroupInfoOffsets(r,n){n=n||[];for(var i=0;i<r.length;i++){var a=r[i];if(a.data&&a.data.offset!==a.offset){a.offset=a.data.offset;for(var o=0;o<n.length;o++)n[o].offset=a.offset}}r.sort((s,l)=>s.offset-l.offset)},findGroupInfo(r){for(var n,i=this._groupsInfo,a=0;i&&a<r.length;a++)n=t(i,r[a]),i=n&&n.children;return n&&n.data},addGroupInfo(r){for(var n,{path:i}=r,a=this._groupsInfo,o=0;o<i.length;o++){if(n=t(a,i[o]),!n){n={key:i[o],offset:r.offset,data:{offset:r.offset,isExpanded:!0,path:i.slice(0,o+1)},children:[]};var s=e(a,r.offset);a.splice(s,0,n),a.hash=a.hash||{},a.hash[JSON.stringify(n.key)]=n}o===i.length-1&&(n.data=r,n.offset!==r.offset&&this._updateGroupInfoOffsets(a)),a=n.children}},allowCollapseAll:()=>!0,refresh(r){var{storeLoadOptions:n}=r,i=So(n.group||[]),a="_group"in this?So(this._group||[]):i,o=Math.min(a.length,i.length);this._group=n.group;for(var s=0;s<o;s++)if(a[s].selector!==i[s].selector){o=s;break}o?function l(p,h,m){for(var v=0;v<p.length;v++)h+1>=m?p[v].children=[]:l(p[v].children,h+1,m)}(this._groupsInfo,0,o):this.reset()},handleDataLoading(){},handleDataLoaded(r,n){n(r)},handleDataLoadedCore(r,n){n(r)}}}());function yy(t,e,r,n){if(n=n||0,e>1&&r>0){var i=t-Math.floor(t/e)*e||e;return i+=r-n-2,i<0&&(i+=e),Math.floor(i/(e-n-1))}return 0}var Rk=sL.inherit(function(){var t=function(m,v,f){return m.foreachGroups((u,c)=>{if(u.isExpanded)return v(u,c)},!0,!1,f,f)},e=function m(v,f,u,c,d,_,g){var y;if(c.items=c.items||[],c.paths=c.paths||[],c.count=c.count||0,c.lastCount=c.lastCount||0,!!u)for(var b=0;b<f.length;b++){var C=f[b];if(C.items!==void 0){if(d.push(C.key),_)y=!0;else{var w=v.findGroupInfo(d);y=w&&w.isExpanded}y?C.items?m(v,C.items,u-1,c,d,_,g):u===1&&C.count&&(!_||g)&&(c.items.push(C),c.paths.push(d.slice(0)),c.count+=c.lastCount,c.lastCount=C.count):(C.collapsedItems=C.items,C.items=null),d.pop()}}},r=function(m,v,f,u,c){var d=m.findGroupInfo(u),_;d?(f?d.count=v.count>0?v.count:v.items&&v.items.length||0:v.count=d.count||v.count,d.offset=c):(f&&(_=v.count>0?v.count:v.items.length),m.addGroupInfo({isExpanded:m._isGroupExpanded(u.length-1),path:u.slice(0),offset:c,count:_||0}))},n=function m(v,f,u,c,d,_,g){var y=f.group?f.group.length:0,b=y===c,C=f.remoteOperations.paging,w=0,x=0,A;if(d=d||0,_=_||[],C&&!g&&(w=d===0?f.skip||0:f.skips[d-1]||0),d>=c)return u.length;for(var D=0;D<u.length;D++){var P=u[D];if(P){if(_.push(P.key),!P.count&&!P.items||P.items===void 0||(r(v,P,b,_,w+D),A=P.items?m(v,f,P.items,c,d+1,_,D):P.count||-1,A<0))return-1;x+=A,_.pop()}}return x},i=function(m,v){return m&&m.length&&m[v]&&!!m[v].isExpanded},a=function(m,v,f){for(var u,c=f,d=0;d<m.length;d++)u=m[d].offset+1,d>0&&(u+=m[d-1].childrenTotalCount,v&&(u+=yy(c,v,u,d-1)*d)),c+=u;return c};function o(m,v,f,u){var c=v.items[u],d=m.skips&&m.skips[f],_=m.takes&&m.takes[f],g=u===v.items.length-1,y=u===0,b=y&&d||0,C=c.count>_+b;y&&d!==void 0&&(c.isContinuation=!0),g&&_!==void 0&&C&&(c.isContinuationOnNextPage=!0)}function s(m){return!Array.isArray(m)}function l(m){s(m.data)||(m.data=new ae)}function p(m,v,f,u,c,d){v.isCustomLoading||(u={},e(m,d,f,u,[]),function(g,y,b){var C=b-1,w=g.group?g.group.length:0;y.skip=g.skips&&g.skips[C],g.takes&&g.takes[C]!==void 0&&(w===b?y.take=y.count?y.count-(y.skip||0):0:y.take=0,y.take+=g.takes[C])}(v,u,f));var _=v.group?v.group.length:0;u.paths.length&&_-f>0?(l(v),function(g,y,b,C,w,x){var A=y.group||[],D=A[w+1],P=[];te(b.paths,k=>{var B,E={requireTotalCount:!1,requireGroupCount:!0,group:[D],groupSummary:y.storeLoadOptions.groupSummary,filter:nl(b.paths[k],{filter:y.storeLoadOptions.filter,group:A}),select:y.storeLoadOptions.select,langParams:(B=y.storeLoadOptions)===null||B===void 0?void 0:B.langParams};k===0&&(E.skip=b.skip||0),k===b.paths.length-1&&(E.take=b.take);var O=E.take===0?[]:g._dataSource.loadFromStore(E);Ve(O).done(S=>{var R=b.items[k];o(y,b,w,k),R.items=S}),P.push(O)}),Ve.apply(null,P).done(()=>{n(g,y,x,C+1),p(g,y,C+1,b,w+1,x)})}(m,v,u,f,c,d)):u.paths.length&&v.storeLoadOptions.group?(l(v),function(g,y,b,C){var w=[],x=y.group||[];te(b.paths,(k,B)=>{w.push(nl(B,{group:y.isCustomLoading?y.storeLoadOptions.group:x}))});var{filter:A}=y.storeLoadOptions;y.storeLoadOptions.isLoadingAll||(A=Qe.combineFilters([A,Qe.combineFilters(w,"or")]));var D=Y({},y.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:x.concat(Qe.normalizeSortingInfo(y.storeLoadOptions.sort||[])),filter:A}),P=g._dataSource.isLastLevelGroupItemsPagingLocal();P||(D.skip=b.skip,D.take=b.take),Ve(b.take===0?[]:g._dataSource.loadFromStore(D)).done(k=>{P&&(k=g._dataSource.sortLastLevelGroupItems(k,x,b.paths),k=b.skip?k.slice(b.skip):k,k=b.take?k.slice(0,b.take):k),te(b.items,(B,E)=>{var O=E.count-(B===0&&b.skip||0),S=k.splice(0,O);o(y,b,x.length-1,B),E.items=S}),y.data.resolve(C)}).fail(y.data.reject)}(m,v,u,d)):s(v.data)&&v.data.resolve(d)}var h=function(m,v){var f=new ae,u=!!(v.group&&v.group.length),c=Y({skip:0,take:1,requireGroupCount:u,requireTotalCount:!u},v,{group:u?v.group:null});return m.load(c).done((d,_)=>{var g=_&&(u?_.groupCount:_.totalCount);if(!isFinite(g)){f.reject(qr.Error(u?"E4022":"E4021"));return}f.resolve(g)}).fail(f.reject.bind(f)),f};return{updateTotalItemsCount(m){var v=0,f=m.extra&&m.extra.totalCount||0,u=m.extra&&m.extra.groupCount||0,c=this._dataSource.pageSize(),d=this._isVirtualPaging();t(this,_=>{_.childrenTotalCount=0}),t(this,(_,g)=>{var y=a(g,d?0:c,v),b=_.count+_.childrenTotalCount;d||(b+=yy(y,c,b,g.length-1)),g[g.length-2]?g[g.length-2].childrenTotalCount+=b:v+=b}),this.callBase(v-f+u)},_isGroupExpanded(m){var v=this._dataSource.group();return i(v,m)},_updatePagingOptions(m,v){var f=this._isVirtualPaging(),u=this._dataSource.pageSize(),c=[],d=[],_=0,g=0;m.take&&(t(this,y=>{y.childrenTotalCount=0,y.skipChildrenTotalCount=0}),t(this,(y,b)=>{var C,w=0,x=0,A=a(b,f?0:u,g),D=0,P=0,k=y.count+y.childrenTotalCount,B=k;v&&v(y,A);var E=m.skip-A;A<=m.skip+m.take&&k&&(C=m.take,f||(D=yy(A,u,k,b.length-1),k+=D*b.length,B+=D,u&&E>=0&&(w=b.length,x=b.length-1,P=Math.floor(E/u))),E>=0?(A+k>m.skip&&c.unshift(E-P*w-y.skipChildrenTotalCount),A+k>=m.skip+C&&d.unshift(C-w-y.childrenTotalCount+y.skipChildrenTotalCount)):A+k>=m.skip+C&&d.unshift(C+E-y.childrenTotalCount)),A<=m.skip&&(b[b.length-2]?b[b.length-2].skipChildrenTotalCount+=Math.min(B,E+1-P*x):_+=Math.min(B,E+1)),A<=m.skip+C&&(k=Math.min(B,E+C-(P+1)*x),b[b.length-2]?b[b.length-2].childrenTotalCount+=k:g+=k)}),m.skip-=_,m.take-=g-_),m.skips=c,m.takes=d},changeRowExpand(m){var v=this.findGroupInfo(m),f=this._dataSource,u=f.remoteOperations().groupPaging,c=Qe.normalizeSortingInfo(f.group());return v?(v.isExpanded=!v.isExpanded,u&&v.isExpanded&&m.length<c.length?h(f,{filter:nl(m,{filter:f.lastLoadOptions().filter,group:f.group()}),group:[c[m.length]],select:f.select()}).done(d=>{v.count=d}):new ae().resolve()):new ae().reject()},handleDataLoading(m){var{storeLoadOptions:v}=m,f=Qe.normalizeSortingInfo(v.group||m.loadOptions.group);if(!(m.isCustomLoading||!f.length)){if(m.remoteOperations.grouping){var u=this._dataSource.remoteOperations().paging;v.group=Qe.normalizeSortingInfo(v.group),v.group.forEach((c,d)=>{var _=d===v.group.length-1;c.isExpanded=!u||!_})}m.group=m.group||f,m.remoteOperations.paging?(m.skip=v.skip,m.take=v.take,v.requireGroupCount=!0,v.group=f.slice(0,1),this._updatePagingOptions(m),v.skip=m.skip,v.take=m.take):(m.skip=m.loadOptions.skip,m.take=m.loadOptions.take,this._updatePagingOptions(m))}},handleDataLoadedCore(m,v){var f=Qe.normalizeSortingInfo(m.storeLoadOptions.group||m.loadOptions.group).length,u=m.group?m.group.length:0,c,d={};if(m.isCustomLoading)v(m),e(this,m.data,f,d,[],m.isCustomLoading,m.storeLoadOptions.isLoadingAll);else{if(m.remoteOperations.paging||this.foreachGroups(_=>{_.count=0}),c=n(this,m,m.data,f),c<0){m.data=new ae().reject(Et.Error("E1037"));return}if(m.remoteOperations.paging||f&&m.extra&&m.loadOptions.requireTotalCount&&(m.extra.totalCount=c,m.extra.groupCount=m.data.length),u&&m.storeLoadOptions.requireGroupCount&&!isFinite(m.extra.groupCount)){m.data=new ae().reject(qr.Error("E4022"));return}this.updateTotalItemsCount(m),m.remoteOperations.paging||this._updatePagingOptions(m),v(m),m.remoteOperations.paging||this._processPaging(m,f)}p(this,m,f,d,0,m.data)},_processSkips(m,v,f){if(f){var u=m[0],c=v[0],d=u&&u.items;c!==void 0&&(u.isContinuation=!0,d&&(u.items=d.slice(c),this._processSkips(u.items,v.slice(1),f-1)))}},_processTakes(m,v,f,u,c){if(!(!u||!m)){c=c||[];var d=m[m.length-1],_=d&&d.items,g=f[0],y=v[0];if(d){var b=d.count-(d.isContinuation&&y||0)||_.length;g!==void 0&&b>g&&(d.isContinuationOnNextPage=!0,c.forEach(C=>{C.isContinuationOnNextPage=!0}),_&&(_=_.slice(0,g),d.items=_)),c.push(d),this._processTakes(_,v.slice(1),f.slice(1),u-1,c)}}},_processPaging(m,v){this._processSkips(m.data,m.skips,v),this._processTakes(m.data,m.skips,m.takes,v)},isLastLevelGroupItemsPagingLocal:()=>!1,sortLastLevelGroupItems:m=>m,refresh(m,v){var f=this,u=f._dataSource,{storeLoadOptions:c}=m,d=m.group||m.storeLoadOptions.group,_=Qe.normalizeSortingInfo(f._group),g,y;function b(C,w){w.length===y+1&&(C.isExpanded=g)}for(y=0;y<_.length;y++)g=i(d,y),i(f._group,y)!==g&&f.foreachGroups(b);if(f.callBase.apply(this,arguments),d&&m.remoteOperations.paging&&v.reload)return t(f,C=>{var w=h(u,{filter:nl(C.path,{filter:c.filter,group:d}),group:d.slice(C.path.length),select:c.select}),x=h(u,{filter:oL(C.path,{filter:c.filter,group:d},!0),group:d.slice(C.path.length-1,C.path.length),select:c.select});return Ve(x,w).done((A,D)=>{A=parseInt(A.length?A[0]:A),D=parseInt(D.length?D[0]:D),C.offset=A,C.count!==D&&(C.count=D,f.updateTotalItemsCount(m))})},!0)}}}()),by=function(t,e){var r=new ae,n=Y({skip:0,take:1,requireTotalCount:!0},e);return t.load(n).done((i,a)=>{r.resolve(a&&a.totalCount)}).fail(r.reject.bind(r)),r},Pk=sL.inherit(function(){var t=function(a,o,s){return a.foreachGroups(l=>{if(!l.isExpanded)return o(l)},!1,!1,s,!0)},e=function(a,o){var s=0,l=o||0;return o&&(t(a,p=>{if(p.offset-s>=o)return!1;s+=p.count-1}),l+=s),l},r=function(a,o){if(a.length!==o.length)return!1;for(var s=0;s<a.length;s++)if(!rf(null,a[s],o[s]))return!1;return!0},n=function a(o,s,l,p,h){if(s){for(var m=0;m<s.length;m++){var v=s[m];if("key"in v&&v.items!==void 0){l.push(v.key),h&&r(h.path,l)&&!v.isContinuation&&(h.offset=p);var f=o.findGroupInfo(l);f&&!v.isContinuation&&(f.offset=p),f&&!f.isExpanded?p+=f.count:p=a(o,v.items,l,p,h),l.pop()}else p++}return p}},i=function a(o,s){var l=o.count||o.items.length;if(!o.count&&s>1){l=0;for(var p=0;p<o.items.length;p++)l+=a(o.items[p],s-1)}return l};return{handleDataLoading(a){var{storeLoadOptions:o}=a,s=[],l=0,p=!1,h,{group:m}=a.loadOptions,v=0;if(function(u,c){if(c.group){var d=Qe.normalizeSortingInfo(c.group),_=Qe.normalizeSortingInfo(u.sort);u.sort=Eo.arrangeSortingInfo(d,_),delete c.group}}(o,a.loadOptions),a.group=a.group||m,!a.isCustomLoading){var f=Y({},o);f.skip=e(this,o.skip),f.skip&&f.take&&m&&(f.skip--,f.take++,p=!0),f.take&&m&&(h=f.take,f.take++),t(this,u=>{if(u.offset>=f.skip+f.take+v)return!1;u.offset>=f.skip+v&&u.count&&(v+=u.count-1,s.push(u),l+=u.count)}),te(s,function(){f.filter=function(u,c,d){for(var _=Qe.normalizeSortingInfo(d||c.group),g=[],y=0;y<u.length;y++){for(var b=[],C=0;C<=y;C++)b.push([_[C].selector,y===C?"<>":"=",u[C]]);g.push(Qe.combineFilters(b))}return g=Qe.combineFilters(g,"or"),Qe.combineFilters([g,c.filter])}(this.path,f,m)}),a.storeLoadOptions=f,a.collapsedGroups=s,a.collapsedItemsCount=l,a.skip=f.skip||0,a.skipFirstItem=p,a.take=h}},handleDataLoaded(a,o){var{collapsedGroups:s}=a,l=Qe.normalizeSortingInfo(a.group),p=l.length;function h(u,c,d,_,g){if(!(!u||!c.length||!d.length)){var y,b,C=Cn(c[0],!0);for(b=0;b<u.length&&(y=Cn(u[b].key,!0),!(g>=_.offset||C===y));b++)g+=i(u[b],d.length);(!u.length||C!==y)&&u.splice(b,0,{key:c[0],items:[],count:c.length===1?_.count:void 0}),h(u[b].items,c.slice(1),d.slice(1),_,g)}}if(a.collapsedItemsCount&&a.extra&&a.extra.totalCount>=0&&(a.extra._totalCountWasIncreasedByCollapsedItems||(a.extra.totalCount+=a.collapsedItemsCount,a.extra._totalCountWasIncreasedByCollapsedItems=!0)),o(a),p){var{data:m}=a,v=Gn(m);if(Eo.multiLevelGroup(v,l).enumerate().done(u=>{m=u}),s)for(var f=0;f<s.length;f++)h(m,s[f].path,l,s[f],a.skip);a.isCustomLoading||function u(c,d,_,g,y,b){for(var C=0,w=!1,x=0;x<d.length;x++){var A=d[x];if(A.items!==void 0){_.push(A.key);var D=c.findGroupInfo(_);if(D&&!D.isExpanded)A.collapsedItems=A.items,A.items=null,g+=D.count,b--,b<0&&C++,y&&(w=!0);else if(A.items){var P=u(c,A.items,_,g,y,b);y&&(P.offset-g>1?A.isContinuation=!0:w=!0),g=P.offset,b=P.take,b<0&&(A.items.length?A.isContinuationOnNextPage=!0:C++)}_.pop()}else y&&(w=!0),g++,b--,b<0&&C++;y=!1}return w&&d.splice(0,1),C&&d.splice(-C,C),{offset:g,take:b}}(this,m,[],a.skip,a.skipFirstItem,a.take),a.data=m}},isGroupItemCountable:a=>a.items===null,updateTotalItemsCount(){var a=0;t(this,o=>{o.count&&(a-=o.count-1)}),this.callBase(a)},changeRowExpand(a){var o=this,s=o._dataSource,l=s.beginPageIndex?s.beginPageIndex():s.pageIndex(),p=s.items(),h=e(o,l*s.pageSize()),m=o.findGroupInfo(a),v;return m&&!m.isExpanded?v=new ae().resolve(m.count):v=by(s,{filter:nl(a,{filter:s.filter(),group:s.group()})}),Ve(v).done(f=>{f=parseInt(f.length?f[0]:f),m?(n(o,p,[],h),m.isExpanded=!m.isExpanded,m.count=f):(m={offset:-1,count:f,path:a,isExpanded:!1},n(o,p,[],h,m),m.offset>=0&&o.addGroupInfo(m)),o.updateTotalItemsCount()}).fail(function(){s._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:()=>!1,refresh(a,o){var s=this,{storeLoadOptions:l}=a,p=s._dataSource;if(this.callBase.apply(this,arguments),o.reload)return t(s,h=>{var m=by(p,{filter:nl(h.path,l)}),v=by(p,{filter:oL(h.path,l)});return Ve(v,m).done((f,u)=>{f=parseInt(f.length?f[0]:f),u=parseInt(u.length?u[0]:u),h.offset=f,h.count!==u&&(h.count=u,s.updateTotalItemsCount())})},!0)}}}()),Cy="dx-datagrid-group-panel",gne="dx-group-panel-message",Fp="dx-group-panel-item",Mk="dx-toolbar-label",_ne="dx-toolbar-item",yne="dx-datagrid-expand",bne="dx-group-row",Cne=".dx-header-filter",wne={init(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper(t){var e=this._grouping,r=this.option("grouping.autoExpandAll"),n=this.option("focusedRowEnabled"),i=t?t.remoteOperations:this.remoteOperations(),a=i.filtering&&i.sorting&&i.paging;a&&!i.grouping&&(r||!n)?(!e||e instanceof Rk)&&(this._grouping=new Pk(this)):(!e||e instanceof Pk)&&(this._grouping=new Rk(this))},totalItemsCount(){var t=this.callBase();return t>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?t+this._grouping.totalCountCorrection():t},itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll(){return this._grouping.allowCollapseAll()},isGroupItemCountable(t){return this._grouping.isGroupItemCountable(t)},isRowExpanded(t){var e=this._grouping.findGroupInfo(t);return e?e.isExpanded:!this._grouping.allowCollapseAll()},collapseAll(t){return this._collapseExpandAll(t,!1)},expandAll(t){return this._collapseExpandAll(t,!0)},_collapseExpandAll(t,e){var r=this._dataSource,n=r.group(),i=Qe.normalizeSortingInfo(n||[]);if(i.length){for(var a=0;a<i.length;a++)t===void 0||t===a?i[a].isExpanded=e:n&&n[a]&&(i[a].isExpanded=n[a].isExpanded);r.group(i),this._grouping.foreachGroups((o,s)=>{(t===void 0||t===s.length-1)&&(o.isExpanded=e)},!1,!0),this.resetPagesCache()}return!0},refresh(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand(t){var e=this._dataSource;if(e.group())return e.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(t).always(()=>{e.endLoading()})},_changeRowExpandCore(t){return this._grouping.changeRowExpand(t)},_hasGroupLevelsExpandState(t,e){if(t&&Array.isArray(t)){for(var r=0;r<t.length;r++)if(t[r].isExpanded===e)return!0}},_customizeRemoteOperations(t,e){var{remoteOperations:r}=t;t.storeLoadOptions.group?(r.grouping&&!t.isCustomLoading&&(!r.groupPaging||this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!0))&&(r.paging=!1),!r.grouping&&(!r.sorting||!r.filtering||t.isCustomLoading||this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!1))&&(r.paging=!1)):!t.isCustomLoading&&r.paging&&e.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading(t){return this.callBase(t),this._initGroupingHelper(t),this._grouping.handleDataLoading(t)},_handleDataLoaded(t){return this._grouping.handleDataLoaded(t,this.callBase.bind(this))},_handleDataLoadedCore(t){return this._grouping.handleDataLoadedCore(t,this.callBase.bind(this))}};ff.extend(wne);var xne={init(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems(t){var e=this._columnsController.getGroupColumns();return t=this.callBase(t),t.length&&e.length&&(t=this._processGroupItems(t,e.length)),t},_processItem(t,e){return q(t.groupIndex)&&tt(t.rowType)&&t.rowType.indexOf("group")===0?(t=this._processGroupItem(t,e),e.dataIndex=0):t=this.callBase.apply(this,arguments),t},_processGroupItem:t=>t,_processGroupItems(t,e,r){var n=this._columnsController.getGroupColumns(),i=n[n.length-e];if(!r){var a=this.option("scrolling.mode");r={collectContinuationItems:a!=="virtual"&&a!=="infinite",resultItems:[],path:[],values:[]}}var{resultItems:o}=r;if(r.data&&(r.collectContinuationItems||!r.data.isContinuation)&&o.push({rowType:"group",data:r.data,groupIndex:r.path.length-1,isExpanded:!!r.data.items,key:r.path.slice(0),values:r.values.slice(0)}),t)if(e===0)o.push.apply(o,t);else for(var s=0;s<t.length;s++){var l=t[s];l&&"items"in l?(r.data=l,r.path.push(l.key),r.values.push(i&&i.deserializeValue&&!i.calculateDisplayValue?i.deserializeValue(l.key):l.key),this._processGroupItems(l.items,e-1,r),r.data=void 0,r.path.pop(),r.values.pop()):o.push(l)}return o},publicMethods(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll(t){var e=this._dataSource;e&&e.collapseAll(t)&&(e.pageIndex(0),e.reload())},expandAll(t){var e=this._dataSource;e&&e.expandAll(t)&&(e.pageIndex(0),e.reload())},changeRowExpand(t){var e=this,r=e.isRowExpanded(t),n={key:t,expanded:r};return e.executeAction(r?"onRowCollapsing":"onRowExpanding",n),n.cancel?new ae().resolve():Ve(e._changeRowExpandCore(t)).done(()=>{n.expanded=!r,e.executeAction(r?"onRowCollapsed":"onRowExpanded",n)})},_changeRowExpandCore(t){var e=this,r=this._dataSource,n=new ae;return r?Ve(r.changeRowExpand(t)).done(()=>{e.load().done(n.resolve).fail(n.reject)}).fail(n.reject):n.resolve(),n},isRowExpanded(t){var e=this._dataSource;return e&&e.isRowExpanded(t)},expandRow(t){return this.isRowExpanded(t)?new ae().resolve():this.changeRowExpand(t)},collapseRow(t){return this.isRowExpanded(t)?this.changeRowExpand(t):new ae().resolve()},optionChanged(t){t.name==="grouping"&&(t.name="dataSource"),this.callBase(t)}},xS=function(t,e){var r=this._columnsController;switch(e.itemData.value){case"group":var n=r._dataSource.group()||[];r.columnOption(t.dataField,"groupIndex",n.length);break;case"ungroup":r.columnOption(t.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},lL=t=>{var e=t==null?void 0:t.visible;return e==="auto"?Ue.current().deviceType==="desktop":!!e},uL=(t,e)=>{var r=lL(t),n=(t==null?void 0:t.allowColumnDragging)&&e.allowGrouping;return r&&!!n},Sne={_getToolbarItems(){var t=this.callBase();return this._appendGroupingItem(t)},_appendGroupingItem(t){if(this._isGroupPanelVisible()){var e=!1,r={template:()=>{var n=V("<div>").addClass(Cy);return this._updateGroupPanelContent(n),Wd("groupPanel",this,n,void 0,this._handleActionKeyDown.bind(this)),n},name:"groupPanel",onItemRendered:()=>{e&&this.renderCompleted.fire(),e=!0},location:"before",locateInMenu:"never",sortIndex:1};t.push(r),this.updateToolbarDimensions()}return t},_handleActionKeyDown(t){var{event:e}=t,r=V(e.target),n=r.closest(".".concat(Fp)).index(),i=this._columnsController.getGroupColumns()[n],a=i&&i.index;r.is(Cne)?this.getController("headerFilter").showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),e.preventDefault()},_isGroupPanelVisible(){return lL(this.option("groupPanel"))},_renderGroupPanelItems(t,e){var r=this;t.empty(),te(e,(n,i)=>{r._createGroupPanelItem(t,i)}),cx(this)},_createGroupPanelItem(t,e){var r=V("<div>").addClass(e.cssClass).addClass(Fp).data("columnData",e).appendTo(t).text(e.caption);return oH(this,r),r},_columnOptionChanged(t){if(!this._requireReady&&!Qe.checkChanges(t.optionNames,["width","visibleWidth"])){var e=this.element(),r=e&&e.find(".".concat(Cy));r&&r.length&&(this._updateGroupPanelContent(r),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent(t){var e=this.getController("columns").getGroupColumns(),r=this.option("groupPanel");this._renderGroupPanelItems(t,e),r.allowColumnDragging&&!e.length&&(V("<div>").addClass(gne).text(r.emptyPanelText).appendTo(t),t.closest(".".concat(_ne)).addClass(Mk),t.closest(".".concat(Mk)).css("maxWidth","none"))},allowDragging(t){var e=this.option("groupPanel");return uL(e,t)},getColumnElements(){var t=this.element();return t&&t.find(".".concat(Fp))},getColumns(){return this.getController("columns").getGroupColumns()},getBoundingRect(){var t=this.element();if(t&&t.find(".".concat(Cy)).length){var e=t.offset();return{top:e.top,bottom:e.top+vt(t)}}return null},getName:()=>"group",getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),r=V(t.targetElement).closest(".".concat(Fp)),n;if(r.length&&(t.column=r.data("columnData")),e&&t.column){var{column:i}=t,a=q(i.allowGrouping)?i.allowGrouping:!0;if(a){var o=q(i.groupIndex)&&i.groupIndex>-1,s=this.option("grouping.texts"),l=xS.bind(this,i);n=[{text:s.ungroup,value:"ungroup",disabled:!o,onItemClick:l},{text:s.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return n},isVisible(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged(t){t.name==="groupPanel"?(this._invalidate(),t.handled=!0):this.callBase(t)}},Ene={getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),r;if(e&&t.row&&t.row.rowType==="group"){var n=this._columnsController,i=n.columnOption("groupIndex:".concat(t.row.groupIndex));if(i&&i.allowGrouping){var a=this.option("grouping.texts"),o=xS.bind(this,i);r=[],r.push({text:a.ungroup,value:"ungroup",onItemClick:o},{text:a.ungroupAll,value:"ungroupAll",onItemClick:o})}}return r},_rowClick(t){var e=this.option("grouping.expandMode"),r=this.option("scrolling.mode"),n=r!=="infinite"&&e==="rowClick"&&V(t.event.target).closest(".".concat(bne)).length,i=V(t.event.target).closest(".".concat(yne)).length;(n||i)&&this._changeGroupRowState(t),this.callBase(t)},_changeGroupRowState(t){var e=this.getController("data"),r=e.items()[t.rowIndex],n=this._columnsController.columnOption("groupIndex:".concat(r.groupIndex),"allowCollapsing");(r.rowType==="data"||r.rowType==="group"&&n!==!1)&&(e.changeRowExpand(r.key,!0),t.event.preventDefault(),t.handled=!0)}},Ine={getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),r=this.callBase(t);if(e&&t.row&&(t.row.rowType==="header"||t.row.rowType==="detailAdaptive")){var{column:n}=t;if(!n.command&&(!q(n.allowGrouping)||n.allowGrouping)){var i=this.option("grouping.texts"),a=q(n.groupIndex)&&n.groupIndex>-1,o=xS.bind(this,n);r=r||[],r.push({text:i.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:o}),n.showWhenGrouped&&r.push({text:i.ungroup,value:"ungroup",disabled:!a,onItemClick:o}),r.push({text:i.ungroupAll,value:"ungroupAll",onItemClick:o})}}return r},allowDragging(t){var e=this.option("groupPanel");return uL(e,t)||this.callBase(t)}};Qe.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:he.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:he.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:he.format("dxDataGrid-groupHeaderText"),ungroup:he.format("dxDataGrid-ungroupHeaderText"),ungroupAll:he.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:he.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:xne,columns:{_getExpandColumnOptions(){var t=this.callBase.apply(this,arguments);return t.cellTemplate=Qe.getExpandCellTemplate(),t}},editing:{_isProcessedItem:t=>q(t.groupIndex)&&tt(t.rowType)&&t.rowType.indexOf("group")===0}},views:{headerPanel:Sne,rowsView:Ene,columnHeadersView:Ine}}});var Tne="dx-master-detail-cell",Bk="dx-master-detail-row",One="dx-cell-focus-disabled",kne="dx-row-lines",Ane={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:{_getExpandColumnsCore(){var t=this.callBase();return this.option("masterDetail.enabled")&&t.push({type:"detailExpand",cellTemplate:Te.getExpandCellTemplate()}),t}},data:function(){var t=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init(){t(this),this.callBase()},expandAll(e){e<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll(e){e<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded(e){var r=Te.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(r>=0&&this._expandedItems[r].visible))},_getRowIndicesForExpand(e){var r=this.getRowIndexByKey(e);return[r,r+1]},_changeRowExpandCore(e){var r;if(Array.isArray(e))r=this.callBase.apply(this,arguments);else{var n=Te.getIndexByKey(e,this._expandedItems);if(n>=0){var{visible:i}=this._expandedItems[n];this._expandedItems[n].visible=!i}else this._expandedItems.push({key:e,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(e)}),r=new ae().resolve()}return r},_processDataItem(e,r){var n=this.callBase.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),r.detailColumnIndex===void 0&&(r.detailColumnIndex=-1,te(r.visibleColumns,(i,a)=>{if(a.command==="expand"&&!q(a.groupIndex))return r.detailColumnIndex=i,!1})),r.detailColumnIndex>=0&&(n.values[r.detailColumnIndex]=n.isExpanded),n},_processItems(e,r){var n=this,{changeType:i}=r,a=[];return e=n.callBase.apply(n,arguments),i==="loadingAll"?e:(i==="refresh"&&(n._expandedItems=Nn(n._expandedItems,o=>o.visible)),te(e,(o,s)=>{a.push(s);var l=Te.getIndexByKey(s.key,n._expandedItems);s.rowType==="data"&&(s.isExpanded||l>=0)&&!s.isNewRow&&a.push({visible:s.isExpanded,rowType:"detail",key:s.key,data:s.data,values:[]})}),a)},optionChanged(e){var r,n;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":var i=e.value||{},a=e.previousValue||{};r=i.enabled!==a.enabled,n=i.autoExpandAll!==a.autoExpandAll;break;case"masterDetail.template":t(this);break;case"masterDetail.enabled":r=!0;break;case"masterDetail.autoExpandAll":n=!0}(r||n)&&t(this)}this.callBase(e)}}}(),resizing:{fireContentReadyAction(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids(t){var e=t.closest(".".concat(Bk));e.length&&Ve(this._updateMasterDataGrid(e,t)).done(()=>{this._updateParentDataGrids(e.parent())})},_updateMasterDataGrid(t,e){var r=V(t).data("options"),n=V(t).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(r&&n)return this._updateMasterDataGridCore(n,r)},_updateMasterDataGridCore(t,e){var r=ae();if(t.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(t,e.rowIndex,V(e.rowElement)).done(r.resolve);else{if(t.option("scrolling.useNative")===!0){t.updateDimensions().done(()=>r.resolve(!0));return}var n=t.getScrollable();n?n==null||n.update().done(()=>r.resolve()):r.resolve()}return r.promise()},_updateFixedMasterDetailGrids(t,e,r){var n=ae(),i=V(t.getRowElement(e)),a=V(t.getView("rowsView").getTableElements()),o=(i==null?void 0:i.length)===2&&vt(i.eq(0))!==vt(i.eq(1)),s=(a==null?void 0:a.length)===2&&vt(a.eq(0))!==vt(a.eq(1));if(o||s){var l=ot(r);return t.updateDimensions().done(()=>{var p=this.option("columnAutoWidth")&&t.option("scrolling.useNative")===!0,h=p&&l!==ot(r);p&&h?this.updateDimensions().done(()=>n.resolve(!0)):n.resolve(!0)}),n.promise()}return ae().resolve()},_toggleBestFitMode(t){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var e=this._rowsView.getTableElement();e&&e.find(".dx-master-detail-cell").css("maxWidth",t?0:"")}}}},views:{rowsView:{_getCellTemplate(t){var{column:e}=t,r=this.getController("editing"),n=r&&r.isEditRow(t.rowIndex),i;return e.command==="detail"&&!n?i=this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(e)}:i=this.callBase.apply(this,arguments),i},_isDetailRow:t=>t&&t.rowType&&t.rowType.indexOf("detail")===0,_createRow(t){var e=this.callBase.apply(this,arguments);return t&&this._isDetailRow(t)&&(this.option("showRowLines")&&e.addClass(kne),e.addClass(Bk),q(t.visible)&&e.toggle(t.visible)),e},_renderCells(t,e){var{row:r}=e,n,i=this._columnsController.getVisibleColumns();r.rowType&&this._isDetailRow(r)?this._needRenderCell(0,e.columnIndices)&&(n=this._renderCell(t,{value:null,row:r,rowIndex:r.rowIndex,column:{command:"detail"},columnIndex:0,change:e.change}),n.addClass(One).addClass(Tne).attr("colSpan",i.length)):this.callBase.apply(this,arguments)}}}}};Qe.registerModule("masterDetail",Ane);var Bm=function(t){for(var e=0,r=0,n=0;n<t.length;++n)if(t[n]==="'"&&e++,t[n]==="."&&(++r,e%2===0))return{occurrence:r,index:n};return{occurrence:1,index:-1}},dw=function(t,e,r){for(var n=-1;r--&&n++<t.length;)n=t.indexOf(e,n);return n},hw=function(t,e){return e===-1?[t]:[t.slice(0,e),t.slice(e+1)]},Dne=function(t,e){return t&&$M(t/100,e)},jv=function(t,e){if(typeof e=="string"){var r=e.split(";"),n=nr.getSign(t,e);r[1]=r[1]||"-"+r[0],e=r[n<0?1:0],e=(o=e,o.replace(/'([^']*)'/g,s=>s.split("").map(()=>" ").join("").substr(2)));var i=/^[^#0.,]*/.exec(e)[0].length,a=/[^#0.,]*$/.exec(e)[0].length;return{start:i,end:t.length-a}}else return{start:0,end:t.length};var o},Lk=function(t,e){var r=nr.getDecimalSeparator(),n=new RegExp("[^0-9"+lo(r)+"]","g"),i=e.slice(0,t);return i.replace(n,"").length},Fk=function(t){return t.split("").reverse().join("")},Nk=function(t,e){if(!t)return-1;for(var r=/[0-9]/g,n=1,i=null,a=r.exec(e);a;){if(i=a.index,n>=t)return i;n++,a=r.exec(e)}return i===null?e.length:i},Rne=function(t){return t.replace(/[^0-9e]+$/,"")},il=function(t,e){return t.start===void 0&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},Pne=function(t,e,r,n){r=il(r,0);var i=nr.getDecimalSeparator(),a=Mne(t),o=Bm(n).occurrence,s=a?0:dw(t,i,o),l=dw(e,i,o),p=hw(t,s),h=hw(e,l),m=s!==-1&&r.start>s;if(m){var v=r.start-s-1,f=Lk(v,p[1]),u=h[1]?l+1+Nk(f,h[1])+1:e.length;return Xo(u,e,n)}else{var c=Rne(h[0]),d=p[0].length-r.start,_=Lk(d,Fk(p[0])),g=Nk(_,Fk(c)),y=c.length-(g+1);return Xo(y,e,n)}};function Mne(t){return t.length===1&&!!t.match(/^[,.][0-9]*$/g)}var Bne=function(t,e,r){t=il(t,0);var n=Xo(t,e,r);return t.start>=n.start&&t.end<=n.end};function Xo(t,e,r){t=il(t,0);var n=jv(e,r),i={start:En(t.start,n.start,n.end),end:En(t.end,n.start,n.end)};return i}var Lne=function(t,e,r){var n=jv(t,r),i=jv(e,r);return i.start-n.start},Fne="dx-numberbox-spin",Nne="dx-numberbox-spin-button",Vne=100,cL="dxNumberBox",Vk=Ee(Mt.up,cL),Hk=Ee(Mt.cancel,cL),hu=rn.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=Fne+"-"+this.option("direction");this.$element().addClass(Nne).addClass(t),this._spinIcon=V("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=Ee(Mt.down,this.NAME),e=this.$element();X.off(e,t),X.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),X.on(this.$element(),ys.name,(function(){this._feedBackDeferred=new ae,VW(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,Vne,{event:t})}).bind(this));var e=Ce.getDocument();X.on(e,Vk,this._clearTimer.bind(this)),X.on(e,Hk,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){X.off(this.$element(),ys.name);var t=Ce.getDocument();X.off(t,Vk),X.off(t,Hk),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),Hne="dx-numberbox-spin",jne="dx-numberbox-spin-container",$ne="dx-numberbox-spin-touch-friendly";class zne extends zg{_attachEvents(e,r){var{editor:n}=this,i=Ee(Mt.down,n.NAME),a=r.children(),o=n._createAction(s=>n._spinButtonsPointerDownHandler(s));X.off(r,i),X.on(r,i,s=>o({event:s})),hu.getInstance(a.eq(0)).option("onChange",s=>n._spinUpChangeHandler(s)),hu.getInstance(a.eq(1)).option("onChange",s=>n._spinDownChangeHandler(s))}_create(){var{editor:e}=this,r=V("<div>").addClass(jne),n=V("<div>").appendTo(r),i=V("<div>").appendTo(r),a=this._getOptions();return this._addToContainer(r),e._createComponent(n,hu,Y({direction:"up"},a)),e._createComponent(i,hu,Y({direction:"down"},a)),this._legacyRender(e.$element(),this._isTouchFriendly(),a.visible),{instance:r,$element:r}}_getOptions(){var{editor:e}=this,r=this._isVisible(),n=e.option("disabled");return{visible:r,disabled:n}}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){var{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,r,n){e.toggleClass($ne,r),e.toggleClass(Hne,n)}update(){var e=super.update();if(e){var{editor:r,instance:n}=this,i=r.$element(),a=this._isVisible(),o=this._isTouchFriendly(),s=n.children(),l=hu.getInstance(s.eq(0)),p=hu.getInstance(s.eq(1)),h=this._getOptions();l.option(h),p.option(h),this._legacyRender(i,o,a)}}}var Wne=Math,Une="dx-numberbox",Gne=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Kne="NumberBoxForceValueChange",qne=lS.inherit({_supportedKeys:function(){return Y(this.callBase(),{upArrow:function(t){tn(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){tn(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return Y(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:he.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:zne}])},_isSupportInputMode:function(){var t=parseFloat(mr.version);return mr.chrome&&t>=66||mr.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().generic&&!Ue.isSimulator()},options:{useLargeSpinButtons:!1}},{device:(function(){return Ue.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(Une),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=V("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(I3(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=IC(t),r=/[\d.,eE\-+]/.test(e);if(!r){var n=Cr(t);return tn(t)||n&&Gne.includes(n)?void 0:(t.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");(!t.length||Number(t)!==e)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var r=q(e)?null:he.format("dxNumberBox-noDataText");return this.setAria({valuenow:vr(e,""),valuetext:r}),this.option("text",this._input().val()),this._updateButtons(),new ae().resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),r=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(r)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:vr(this.option("min"),""),valuemax:vr(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();!this.option("useLargeSpinButtons")&&Ce.getActiveElement()!==t[0]&&X.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var r=parseFloat(this.option("step"));if(r!==0){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,r*t);var i=this.option("min"),a=this.option("max");q(i)&&(n=Math.max(i,n)),q(a)&&(n=Math.min(a,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var r=/[,.](.*)/,n=r.test(t),i=r.test(e);if(n||i){var a=n?r.exec(t)[0].length:0,o=i?r.exec(e)[0].length:0,s=Wne.max(a,o);return t=this._round(t+e,s),t}return t+e},_round:function(t,e){e=e||0;var r=Math.pow(10,e);return t*=r,t=Math.round(t)/r,t},_renderValueChangeEvent:function(){this.callBase();var t=Ee("focusout",Kne);X.off(this.element(),t),X.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),r=this._normalizeText(),n=this._parseValue(r),i=r!=="."&&r!=="-";if(this._isValueValid()&&!this._validateValue(n)){e.val(this._applyDisplayValueFormatter(n));return}i&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(r,n),this.validationRequest.fire({value:n,editor:this})},_applyValueBoundaries:function(t,e){var r=this._isValueIncomplete(t),n=this._isValueInRange(t);!r&&!n&&e!==null&&Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t=this.option("mode")==="number",e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return co(t,this.option("min"),this.option("max"))},_isNumber:function(t){return this._parseValue(t)!==null},_validateValue:function(t){var e=this._normalizeText(),r=this._isValueValid(),n=!0,i=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&r?n=!0:!i&&!r&&(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:En(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),wy="dxNumberFormatter",Np=1,xy=-1,jk="-",ld="minus",Xne="input",$k=0,$v=qne.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return t==="del"},_supportedKeys:function(){return this._useMaskBehavior()?Y(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,xy),rightArrow:this._arrowHandler.bind(this,Np),home:this._moveCaretToBoundaryEventHandler.bind(this,Np),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,xy)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=nr.getDecimalSeparator(),r=Bm(this.option("format")).occurrence;return dw(t,e,r)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var r=this._getInputVal(),n=this._getTextSeparatorIndex(r);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(xy,t)}}).bind(this),$k)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),r=this.option("value"),n=this._format(r,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&X.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var r=this._getInputVal(),n=this._getFormatPattern(),i=il(this._caret(),t);Bne(i,r,n)||(i=t===Np?i.end:i.start,e.preventDefault(),this._caret(Xo(i,r,n)))}},_moveCaretToBoundary:function(t){var e=jv(this._getInputVal(),this._getFormatPattern()),r=il(t===Np?e.start:e.end,0);this._caret(r)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var r=nr.getDecimalSeparator(),n=t.charAt(e.end)===r,i=(this._lastKey===r||this._lastKey==="."||this._lastKey===",")&&n;return i},_getInputVal:function(){return nr.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=nr.convertDigits(IC(t),!0),this._lastKeyName=Cr(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),r=this._caret(),n=this._lastKeyName===ld?"":this._lastKey,i=this._tryParse(e,r,n);return this._shouldMoveCaret(e,r)&&(this._moveCaret(1),t.originalEvent.preventDefault()),i===void 0?this._lastKeyName!==ld&&t.originalEvent.preventDefault():this._parsedValue=i,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),r=this._getInputVal(),n=e.start,i=e.end;this._lastKey=IC(t),this._lastKeyName=Cr(t);var a=this._isDeleteKey(this._lastKeyName),o=!a;if(n===i){var s=n,l=o&&s>0||a&&s<r.length;if(l)a&&i++,o&&n--;else{t.preventDefault();return}}var p=r.slice(n,i);if(this._isStub(p)){if(this._moveCaret(a?1:-1),this._parsedValue<0||1/this._parsedValue===-1/0){this._revertSign(t),this._setTextByParsedValue();var h=this.option("valueChangeEvent").split(" ").includes("input");h&&X.trigger(this._input(),"input")}t.preventDefault();return}var m=nr.getDecimalSeparator();if(p===m){var v=r.indexOf(m);this._isNonStubAfter(v+1)&&(this._moveCaret(a?1:-1),t.preventDefault());return}if(i-n<r.length){var f=this._replaceSelectedText(r,{start:n,end:i},""),u=f.search(/[0-9]/)<0;if(u&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var c=this._tryParse(r,{start:n,end:i},"");c===void 0?t.preventDefault():this._parsedValue=c},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return e.indexOf("%")!==-1},_parse:function(t,e){var r=this.option("format"),n=Me(r.parser),i=n?r.parser:nr.parse,a=0;if(!n){var o=Bm(e).index,s=this._getTextSeparatorIndex(t),l=o!==-1?o:e.length,p=s!==-1?s:t.length;p>l&&e.indexOf("#")===-1&&(a=p-l)}return t=t.substr(a),i(t,e)},_format:function(t,e){var r=this.option("format"),n=(r==null?void 0:r.formatter)||r,i=Me(n)?n:nr.format,a=t===null?"":i(t,e);return a},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=Me(t==null?void 0:t.parser),r=tt(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0),n=t==="exponential"||(t==null?void 0:t.type)==="exponential",i=e||r||n;this._currentFormat=i?t:q$(a=>{var o=this._format(a,t);return nr.convertDigits(o,!0)})},_getFormatForSign:function(t){var e=this._getFormatPattern();if(tt(e)){var r=e.split(";"),n=nr.getSign(t,e);return r[1]=r[1]||"-"+r[0],n<0?r[1]:r[0]}else{var i=nr.getSign(t);return i<0?"-":""}},_removeStubs:function(t,e){var r=this._getFormatForSign(t),n=nr.getThousandsSeparator(),i=this._getStubs(r),a=t;if(i.length){var o=i[0],s=new RegExp("("+lo(i[1]||"")+")$","g"),l=new RegExp("[-"+lo(e?"":n)+"]","g");a=a.replace(o,"").replace(s,"").replace(l,"")}return a},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),r=e&&e[0].trim();return t.split(r).map(function(n){return n.replace(/'/g,"")})},_truncateToPrecision:function(t,e){if(q(t)){var r=t.toString(),n=r.indexOf(".");if(r&&n>-1){var i=parseFloat(r.substr(0,n+e+1));return isNaN(i)?t:i}}return t},_tryParse:function(t,e,r){var n=this._replaceSelectedText(t,e,r),i=this._getFormatPattern(),a=e.start!==e.end,o=this._getParsedValue(n,i),s=!i.parser&&this._getPrecisionLimits(n).max,l=o!==this._parsedValue,p=nr.getDecimalSeparator(),h=r===p&&s===0,m=!a&&!l&&r!==jk&&!this._isValueIncomplete(n)&&this._isStub(r);if(!(h||m)&&(this._removeStubs(n)===""&&(o=Math.abs(0*this._parsedValue)),!isNaN(o))){var v=o===null?this._parsedValue:o;return o=s?this._truncateToPrecision(v,s):o,!i.parser&&this._isPercentFormat()?Dne(o,s):o}},_getParsedValue:function(t,e){var r=nr.getSign(t,(e==null?void 0:e.formatter)||e),n=this._removeStubs(t,!0),i=this._parse(n,e),a=i<0?-1:1,o=qt(i)&&r!==a?r*i:i;return o},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),r=nr.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),i=n>=0&&n<e.start,a=this._removeStubs(t,!0).split(r);if(!i||a.length!==2)return!1;var o=a[1].length,s=this._getFormatPattern(),l=!!s.parser,p=!l&&this._getPrecisionLimits(this._getFormatPattern(),t),h=l?!0:co(o,p.min,p.max),m=a[1].charAt(o-1)==="0";return h&&(m||!o)},_isValueInRange:function(t){var e=vr(this.option("min"),-1/0),r=vr(this.option("max"),1/0);return co(t,e,r)},_setInputText:function(t){var e=nr.convertDigits(t,!0),r=Pne(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(r)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t=this.option("mode")==="number",e=Ue.real().deviceType==="desktop";this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return tt(t)&&t.length===1},_moveCaret:function(t){if(t){var e=il(this._caret(),t),r=Xo(e,this._getInputVal(),this._getFormatPattern());this._caret(r)}},_shouldHandleKey:function(t){var e=Cr(t),r=tn(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===ld,i=this._useMaskBehavior();return i&&!r&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){X.off(this._input(),"."+wy)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return q(e)?e==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();X.on(t,Ee(Xne,wy),(function(e){this._formatValue(e),this._isValuePasted=!1}).bind(this)),X.on(t,Ee("dxclick",wy),(function(){this._caretTimeout||(this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0,this._caret(Xo(this._caret(),this._getInputVal(),this._getFormatPattern()))}).bind(this),$k))}).bind(this)),X.on(t,"dxdblclick",(function(){this.clearCaretTimeout()}).bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var r=lo(nr.getDecimalSeparator()),n="^[^0-9"+r+"]+$",i=new RegExp(n,"g");return i.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),r=Bm(e).index,n=(hw(e,r)[1]||"").replace(/[^#0]/g,""),i=n.replace(/^(0*)#*/,"$1").length,a=n.length;return{min:i,max:a}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end)if(Cr(t)===ld){this._applyRevertedSign(t,e,!0);return}else this._caret(Xo(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,r){var n=-1*vr(this._parsedValue,null);if((this._isValueInRange(n)||n===0)&&(this._parsedValue=n,r)){var i=this._getFormatPattern(),a=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var o=this._getInputVal(),s=Lne(a,o,i);e=il(e,s);var l=Xo(e,o,i);this._caret(l)}},_removeMinusFromText:function(t,e){var r=this._lastKeyName===ld&&t.charAt(e.start-1)===jk;return r?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),r=this._format(e,t)||"";this._setInputText(r)},_formatValue:function(t){var e=this._getInputVal(),r=this._caret(),n=this._removeMinusFromText(e,r),i=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n)){this._formattedValue=e,i&&this._setTextByParsedValue();return}var a=nr.convertDigits(this._formattedValue,!0)!==e;if(a){var o=this._tryParse(e,r,"");q(o)&&(this._parsedValue=o)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;if(!qt(e)){this._parsedValue=e;return}this._parsedValue=En(e,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});Rt("dxNumberBox",$v);var Yne="dx-dropdowneditor-button",Zne="dx-dropdowneditor-button-visible",Qne="dxDropDownEditor-selectLabel";let Jne=class extends zg{constructor(e,r,n){super(e,r,n),this.currentTemplate=null}_attachEvents(e){var{editor:r}=this;e.option("onClick",n=>{var i;if((i=r._shouldCallOpenHandler)!==null&&i!==void 0&&i.call(r)){r._openHandler(n);return}!r.option("openOnFieldClick")&&r._openHandler(n)}),X.on(e.$element(),"mousedown",n=>{r.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,r=V("<div>"),n=this._getOptions();this._addToContainer(r);var i=e._createComponent(r,vn,Y({},n,{elementAttr:{"aria-label":he.format(Qne)}}));return this._legacyRender(e.$element(),r,n.visible),{$element:r,instance:i}}_getOptions(){var{editor:e}=this,r=this._isVisible(),n=e.option("readOnly"),i={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:r};return this._addTemplate(i),i}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,r,n){e.toggleClass(Zne,n),r&&r.removeClass("dx-button").addClass(Yne)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:r,instance:n}=this,i=r.$element(),a=this._getOptions();n==null||n.option(a),this._legacyRender(i,n==null?void 0:n.$element(),a.visible)}}};var zv=function(t){if(lt())return Pt(t)},SS=function(t){return t===null&&(t=void 0),typeof t=="function"&&(t=t()),t},eie="dx-dropdowneditor",zk="dx-dropdowneditor-input-wrapper",tie="dx-dropdowneditor-icon",Vp="dx-dropdowneditor-overlay",rie="dx-dropdowneditor-overlay-flipped",nie="dx-dropdowneditor-active",iie="dx-dropdowneditor-field-clickable",aie="dx-dropdowneditor-field-template-wrapper",Wk=Ue.current().platform==="ios",ES=Sf.inherit({_supportedKeys:function(){return Y({},this.callBase(),{tab:function(t){if(this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(X.trigger(e,"focus"),e.select()),t.preventDefault()}},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!tn(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this.close(),!1):!0},downArrow:function(t){return!tn(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this._validatedOpening(),!1):!0},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:Jne}])},_getDefaultOptions:function(){return Y(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:he.format("OK"),cancelButtonText:he.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=Ts(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e=t.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+zk).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:r}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",Y({},n,{my:e,at:r}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(eie),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(V("<div>").addClass(zk)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var r;this._fieldRenderQueueLength=((r=this._fieldRenderQueueLength)!==null&&r!==void 0?r:0)+1;var n=vs(this._input()),i=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),i.empty();var a=V("<div>").addClass(aie).appendTo(i);t.render({model:e,container:et(a),onRendered:()=>{if(this._fieldRenderQueueLength--,this._fieldRenderQueueLength===0){var o=this._input();if(!o.length)throw Et.Error("E1010");this._integrateInput(),n&&X.trigger(o,"focus")}}}),this._attachWrapperContent(i)},_detachWrapperContent(){var t,e,r,n=this.option("useHiddenSubmitElement");n&&((t=this._$submitElement)===null||t===void 0||t.detach());var i=(e=this._$beforeButtonsContainer)===null||e===void 0?void 0:e[0].parentNode,a=(r=this._$afterButtonsContainer)===null||r===void 0?void 0:r[0].parentNode;i==null||i.removeChild(this._$beforeButtonsContainer[0]),a==null||a.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,r=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),r&&((e=this._$submitElement)===null||e===void 0||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){X.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new hc(function(t){var e=V("<div>").addClass(tie);V(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=Ee(jt,this.NAME),r=this.option("openOnFieldClick");X.off(t,e),X.on(t,e,this._getInputClickHandler(r)),this.$element().toggleClass(iie,r),r&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){Wk&&(this._detachFocusOutEvents(),X.on(this._inputWrapper(),Ee("focusout",this.NAME),t=>{var e=t.relatedTarget;if(e&&this.option("opened")){var r=this._isTargetOutOfComponent(e);r&&this.close()}}))},_isTargetOutOfComponent:function(t){var e=this.content?V(this.content()).closest(".".concat(Vp)):this._$popup,r=V(t).closest(".".concat(Vp),e).length===0;return r},_detachFocusOutEvents:function(){Wk&&X.off(this._inputWrapper(),Ee("focusout",this.NAME))},_getInputClickHandler:function(t){return t?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!vs(this._input())&&(this._resetCaretPosition(),X.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:r}=e,n=q(r)&&(t||this._isEditable())?r.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(nie,t),this._setPopupOption("visible",t);var e={expanded:t,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=V("<div>").addClass(Vp).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:oe,_renderPopup:function(){var t=Y(this._popupConfig(),this._options.cache("dropDownOptions"));delete t.closeOnOutsideClick,t.elementAttr&&!Object.keys(t.elementAttr).length&&delete t.elementAttr,this._popup=this._createComponent(this._$popup,ma,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new Lr,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:oe,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:Y(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>zv(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:t=>this._closeOutsideDropDownHandler(t),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_wrapperClassExternal:Vp,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){if(lt()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()},_updatePopupWidth:function(){var t=SS(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>zv(this.$element()))},_popupPositionedHandler:function(t){var e,r,{labelMode:n,stylingMode:i}=this.option();if(this._popup){var a=this._popup.$overlayContent(),o=(e=t.position)===null||e===void 0||(r=e.v)===null||r===void 0?void 0:r.flip,s=n!=="hidden"&&i==="outlined";if(t.position&&a.toggleClass(rie,o),o&&s&&this._label.isVisible()){var l=this._label.$element();dn(a,{top:Vi(a).top-parseInt(l.css("fontSize"))})}}},_popupShowingHandler:oe,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if(t!=="auto")return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:r}=ca.setup(this.$element()),{top:n}=ca.setup(this._popup.$content());e=r+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var{target:e}=t,r=V(e),n=this.getButton("dropDown"),i=n&&n.$element(),a=!!r.closest(this.$element()).length,o=!!r.closest(i).length,s=!a&&!o;return s},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=V(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(X.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){X.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),r=t;if(e!=="default"){var n=Nl(e);te(r,function(i,a){Y(a,{toolbar:n[0],location:n[1]})})}return r},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=rn.getOptionsFromContainer(t);this._setPopupOption(e);var r=Object.keys(e);(r.indexOf("width")!==-1||r.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=V("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":q(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":lt()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return et(this._input())},content:function(){return this._popup?this._popup.content():null}});Rt("dxDropDownEditor",ES);var oie="dx-list-item",Uk="dx-list-group",IS=20,sie=(1<<IS)-1,Gk=function(t){return(t.group<<IS)+t.item},Ns=function(t){return{group:t>>IS,item:t&sie}},lie=hS.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+Uk)},_groupItemElements:function(t){return t.find("."+oie)},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),r=!1;return t?(t.items&&t.items.length&&(t=t.items[0]),te(e,function(n,i){if(!i.items||(te(i.items,function(a,o){return o!==t?!0:(r={group:n,item:a},!1)}),r))return!1}),r):!1},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return qt(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),r=0;r<e.length;r++)e[r]&&e[r].items?t=t.concat(e[r].items):t.push(e[r]);return t},deleteItemAtIndex:function(t){var e=Ns(t),r=this._collectionWidget.option("items")[e.group].items;r.splice(e.item,1)},getKeysByItems:function(t){var e=[],r;for(r=0;r<t.length;r++)t[r]&&t[r].items?e=e.concat(t[r].items):e.push(t[r]);var n=[];for(r=0;r<e.length;r++)n.push(this._collectionWidget.keyOf(e[r]));return n},getIndexByKey:function(t,e){var r=e||this._collectionWidget.option("items"),n=-1,i=this;return te(r,function(a,o){if(o.items&&(te(o.items,function(s,l){var p=i._collectionWidget.keyOf(l);if(i._equalKeys(p,t))return n={group:a,item:s},!1}),n!==-1))return!1}),n},_getGroups:function(t){var e=this._collectionWidget._dataController,r=e.group();return r?Eo.queryByOptions(Gn(t),{group:r}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var r=[],n=this._getGroups(e),i={},a=o=>{var s=this.getIndexByKey(o,n),l=s&&n[s.group];if(l)return{groupKey:l.key,item:l.items[s.item]}};return te(t,function(o,s){var l=a(s);if(l){var p=l.groupKey,h=l.item,m=i[p];m||(m={key:p,items:[]},i[p]=m,r.push(m)),m.items.push(h)}}),r},moveItemAtIndexToIndex:function(t,e){var r=this._collectionWidget.option("items"),n=Ns(t),i=Ns(e),a=r[n.group].items,o=r[i.group].items,s=a[n.item];a.splice(n.item,1),o.splice(i.item,0,s)},_isItemIndex:function(t){return t&&qt(t.group)&&qt(t.item)},_getNormalizedItemIndex:function(t){var e=V(t),r=e.closest("."+Uk);return r.length?Gk({group:this._groupElements().index(r),item:this._groupItemElements(r).index(e)}):-1},_normalizeItemIndex:function(t){return Gk(t)},_denormalizeItemIndex:function(t){return Ns(t)},_getItemByNormalizedIndex:function(t){var e=Ns(t),r=this._groupElements().eq(e.group);return this._groupItemElements(r).eq(e.item)},_itemsFromSameParent:function(t,e){return Ns(t).group===Ns(e).group}}),dL={};function uie(t,e,r){var n=dL,i={};i[t]=n[t]?n[t]:{},i[t][e]=r,Y(n,i)}var hL=[],t_=function(t,e,r){hL.push({enabled:t,decoratorType:e,decoratorSubType:r})};t_(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});t_(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return t==="toggle"||t==="slideButton"||t==="swipe"||t==="static"?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return t==="slideItem"&&(t="slide"),t});t_(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});t_(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var cie="dx-list-item-before-bag",die="dx-list-item-after-bag",hie="beforeBag",fie="afterBag",pie="modifyElement",mie="afterRender",vie="getExcludedSelectors",gie=Ft.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&te(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],te(hL,(function(t,e){var r=e.enabled.call(this._list);if(r){var n=e.decoratorType.call(this._list),i=e.decoratorSubType.call(this._list),a=this._createDecorator(n,i);this._decorators.push(a)}}).bind(this))},_createDecorator:function(t,e){var r=this._findDecorator(t,e);return new r(this._list)},_findDecorator:function(t,e){var r,n=(r=dL[t])===null||r===void 0?void 0:r[e];if(!n)throw Et.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=V(t.itemElement),r={$itemElement:e};this._prependBeforeBags(e,r),this._appendAfterBags(e,r),this._applyDecorators(pie,r)},afterItemsRendered:function(){this._applyDecorators(mie)},_prependBeforeBags:function(t,e){var r=this._collectDecoratorsMarkup(hie,e,cie);t.prepend(r)},_appendAfterBags:function(t,e){var r=this._collectDecoratorsMarkup(fie,e,die);t.append(r)},_collectDecoratorsMarkup:function(t,e,r){var n=V("<div>");return te(this._decorators,function(){var i=V("<div>").addClass(r);this[t](Y({$container:i},e)),i.children().length&&n.append(i)}),n.children()},_applyDecorators:function(t,e){te(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,r=e.length,n=0;n<r;n++)if(e[n][t]!==oe)return!0;return!1},_eventHandler:function(t,e,r){if(!this._decorators)return!1;for(var n=!1,i=this._decorators,a=i.length,o=0;o<a&&(n=i[o][t](e,r),!n);o++);return n},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators(vie,t),t.join(",")}}),_ie="dx-list-item-selected",yie="dx-list-item-response-wait",bie=yS.inherit({_supportedKeys(){var t=this,e=this.callBase(),r=(n,i)=>{var a=this._editStrategy,o=this.option("focusedElement"),s=a.getNormalizedIndex(o),l=s===this._getLastItemIndex();if(!(l&&this._dataController.isLoading()))if(n.shiftKey&&t.option("itemDragging.allowReordering")){var p=s+(i?-1:1),h=a.getItemElement(p);this.reorderItem(o,h),this.scrollToItem(o),n.preventDefault()}else{var m=this._editProvider,v=m.handleKeyboardEvents(s,i);v||(i?e.upArrow(n):e.downArrow(n))}};return Y({},e,{del:n=>{t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:n=>r(n,!0),downArrow:n=>r(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var r=t&&t.__dx_key__;return r&&!this.key()&&this._selection.isItemSelected(r)?!1:this.callBase(t,e)},_getDefaultOptions(){return Y(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:he.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:t=>t.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new gie(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new lie(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>_ie,_itemResponseWaitClass:()=>yie,_itemClickHandler(t){var e=V(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=this._editProvider.handleClick(e,t);r||(this._saveSelectionChangeEvent(t),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(t){var e=V(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=Jh(t)&&this._editProvider.handleContextMenu(e,t);if(r){t.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(t){if(this.option("grouped")){var e,r=(e=this._editStrategy.getIndexByItemData(t))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(r)}else return this.callBase(t)},_itemContextMenuHandler(t){var e=V(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);if(r){t.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(t){this.callBase(...arguments),this._editProvider.modifyItemElement(t)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(t){return this._itemElements().index(t)},getItemElementByFlatIndex(t){var e=this._itemElements();return t<0||t>=e.length?V():e.eq(t)},getItemByIndex(t){return this._editStrategy.getItemDataByIndex(t)}}),kc=bie.inherit(Dl).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t=this._dataController,e={filter:t.filter()};t.addSearchFilter(e);var r=e.filter;return r},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),r=this.option("searchMode");this.callBase();var n=this._dataController;t&&t.length&&n.searchValue(t),r.length&&n.searchOperation(Dl.getOperationBySearchMode(r)),e&&n.searchExpr(e)}});Rt("dxList",kc);var Kk=Y({},$g,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new Va({store:new Tc(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=er(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=er(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new ae;return t=this._unwrappedValue(t),q(t)?(this._loadSingle(this._valueGetterExpr(),t).done((function(r){this._isValueEquals(this._valueGetter(r),t)?e.resolve(r):e.reject()}).bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;(t=this._loadValueDeferred)===null||t===void 0||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=(e=t)!==null&&e!==void 0?e:this._getCurrentValue(),t&&this._dataSource&&this._valueGetterExpr()==="this"&&(t=this._getItemKey(t)),Fn.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var r={},n=0,i=e.length;n<i;n++)r[e[n]]=t[e[n]];return r}return e&&typeof t=="object"&&(t=t[e]),t},_isValueEquals:function(t,e){var r=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&r&&q(t)&&q(e)&&(Array.isArray(r)?n=this._compareByCompositeKey(t,e,r):n=this._compareByKey(t,e,r)),n},_compareByCompositeKey:function(t,e,r){var n=rt;if(!n(t)||!n(e))return!1;for(var i=0,a=r.length;i<a;i++)if(t[r[i]]!==e[r[i]])return!1;return!0},_compareByKey:function(t,e,r){var n=Fn.unwrap,i=vr(n(t[r]),t),a=vr(n(e[r]),e);return this._compareValues(i,a)},_compareValues:function(t,e){return Cn(t,!0)===Cn(e,!0)},_initDynamicTemplates:oe,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=tt(t)&&t!=="this"||Me(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),qk=pt(),Cie=".dx-list-item",wie="dxListItemData",xie="dx-dropdownlist-popup-wrapper",Sie="input",Eie=["startswith","contains","endwith","notcontains"],Xk=Ue.real().platform!=="android",fL=ES.inherit({_supportedKeys:function(){var t=this.callBase();return Y({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var r=V(this._list.option("focusedElement"));r.length&&this._setSelectedElement(r)}t.tab.apply(this,arguments)},space:oe,home:oe,end:oe})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return Y(this.callBase(),Y(Kk._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:he.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:oe,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Px("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,r){return t>r?e:t<e?r:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new Gn(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),r=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[r]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),r=-1;return te(t,(function(n,i){if(this._isValueEquals(i,e))return r=n,!1}).bind(this)),r},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();X.off(t,"mouseup"),X.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&V(t);if(e&&e.length&&!Dr(e.get(0))){var r=[].slice.call(e.parents());r.unshift(e.get(0)),te(r,(function(n,i){if(i===V("body").get(0))return!1;if(qk.getComputedStyle(i).overflowY==="hidden")return this._$customBoundaryContainer=V(i),!1}).bind(this))}},_popupWrapperClass:function(){return xie},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var r,n;return e&&typeof t!="object"&&(e.itemByValue||(e.itemByValue={},r=this._getPlainItems(),r.forEach(function(i){e.itemByValue[this._valueGetter(i)]=i},this)),n=e.itemByValue[t]),n||(r=this._getPlainItems(),n=Nn(r,(function(i){return this._isValueEquals(this._valueGetter(i),t)}).bind(this))[0]),n},_loadItem:function(t,e){var r=this._getItemFromPlain(t,e);return r!==void 0?new ae().resolve(r).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var r=0;r<t.length;r++)t[r]&&t[r].items?e=e.concat(t[r].items):e.push(t[r]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),r=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),n=V("#".concat(r)).length>0,i=e&&n&&r;this.setAria({activedescendant:i||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",vr(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each((function(e,r){var n=V(r),i=this._valueGetter(n.data(wie)),a=this._isSelectedValue(i,t);a?this._list.selectItem(n):this._list.unselectItem(n)}).bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!Eie.includes(e))throw Et.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail((function(){this._isCustomValueAllowed()||this._clearSelectedItem()}).bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(Cie):V()},_popupConfig:function(){return Y(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_renderList:function(){this._listId="dx-"+new Lr()._value;var t=V("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=t,this._list=this._createComponent(t,kc,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=Ee("mousedown","dxDropDownList");X.off(this._$list,t),X.on(this._$list,t,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return Ue.real().deviceType==="desktop"},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:oe,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return Ee(Sie,this.NAME+"Search")},_getCompositionStartEvent:function(){return Ee("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return Ee("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return Ee("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),X.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(X.on(this._input(),this._getSearchEvent(),t=>{this._searchHandler(t)}),Xk&&(X.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),X.on(this._input(),this._getCompositionEndEvent(),t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){X.off(this._input(),this._getSearchEvent()),X.off(this._input(),this._getSetFocusPolicyEvent()),Xk&&(X.off(this._input(),this._getCompositionStartEvent()),X.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(arguments.length)this._isTextComposition=t;else return this._isTextComposition},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var r=this.option("searchTimeout");r?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},r)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(t){this._dataController.pageIndex()===0?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataController,e=t.items()||[],r=e.length,n=this._needPassDataSourceToList();return!!(n&&r)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),r=q(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,r},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,r=t.offset().top-(e?e.offset().top:0),n=xt(qk),i=e?Math.min(xt(e),n):n,a=Math.max(r,i-r-xt(t));return Math.min(.5*i,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return this.option("valueExpr")==="this"&&rt(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(Kk,H5);Rt("dxDropDownList",fL);var Iie="dx-radiobutton",Yk="dx-radiobutton-icon",Tie="dx-radiobutton-icon-dot",Oie="dx-radiobutton-checked",kie="dx-radiobutton-icon-checked",pL=ha.inherit({_supportedKeys:function(){return Y(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return Y(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(Iie)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=V("<div>").addClass(Yk),V("<div>").addClass(Tie).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass(Oie,t).find("."+Yk).toggleClass(kie,t),this.setAria("checked",t)},_renderClick:function(){var t=Ee(jt,this.NAME);this._clickAction=this._createAction((function(e){this._clickHandler(e.event)}).bind(this)),X.off(this.$element(),t),X.on(this.$element(),t,(function(e){this._clickAction({event:e})}).bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}}});Rt("dxRadioButton",pL);var TS="dxListEditDecorator",Aie=Ee(Zg,TS),Die=Ee(Qg,TS),Rie=Ee(If,TS),Pie=Ft.inherit({ctor:function(t){this._list=t,this._init()},_init:oe,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=ot(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};X.on(t.$itemElement,Aie,e,this._itemSwipeStartHandler.bind(this)),X.on(t.$itemElement,Die,this._itemSwipeUpdateHandler.bind(this)),X.on(t.$itemElement,Rie,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=V(t.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t)},_itemSwipeUpdateHandler:function(t){var e=V(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=V(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:oe,afterBag:oe,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:oe,handleClick:oe,handleKeyboardEvents:oe,handleEnterPressing:oe,handleContextMenu:oe,_swipeStartHandler:oe,_swipeUpdateHandler:oe,_swipeEndHandler:oe,visibilityChange:oe,getExcludedSelectors:oe,dispose:oe}),Zk="dx-list-select-decorator-enabled",Mie="dx-list-select-all",Bie="dx-list-select-all-checkbox",Lie="dx-list-select-all-label",Fie="dx-list-select-checkbox-container",Nie="dx-list-select-checkbox",Vie="dx-list-select-radiobutton-container",Hie="dx-list-select-radiobutton",jie="dx-state-focused",Qk=Ee(jt,"dxListEditDecorator");uie("selection","default",Pie.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy=t==="single",this._containerClass=this._singleStrategy?Vie:Fie,this._controlClass=this._singleStrategy?Hie:Nie,this._controlWidget=this._singleStrategy?pL:Rl,this._list.$element().addClass(Zk)},beforeBag:function(t){var e=t.$itemElement,r=t.$container.addClass(this._containerClass),n=V("<div>").addClass(this._controlClass).appendTo(r);new this._controlWidget(n,Y(this._commonOptions(),{value:this._isSelected(e),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(i){i.event&&this._list._saveSelectionChangeEvent(i.event),this._processCheckedState(e,i.value),i.event&&i.event.stopPropagation()}).bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,r=this._controlWidget.getInstance(e.find("."+this._controlClass));X.on(e,"stateChanged",(function(n,i){r.option("value",i)}).bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var r=!e,n=this._list,i=this._$selectAll,a=n._getLastItemIndex(),o=e&&t===0||r&&t===a,s=!!i;return s&&o?(n.option("focusedElement",i),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing:function(t){if(this._$selectAll&&this._$selectAll.hasClass(jie))return t.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=V("<div>").addClass(Mie),e=this._list,r=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(V("<div>").addClass(Bie).appendTo(t),Rl,{elementAttr:{"aria-label":"Select All"},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",r),V("<div>").addClass(Lie).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),X.off(this._$selectAll,Qk),X.on(this._$selectAll,Qk,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value");t.event&&this._list._saveSelectionChangeEvent(t.event),e===!0?this._selectAllItems():e===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability:function(){var t=this._list,e=t._dataController;return t.option("selectAllMode")==="allPages"&&t.option("grouped")&&!e.group()?(Et.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(t){this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(Zk),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var $ie=".dx-state-disabled",zie="dx-selectbox",Wie="dx-selectbox-popup",Uie="dx-selectbox-container",Jk="dx-selectbox-popup-wrapper",r_=fL.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),r=function(i){var a=this._isEditable();a?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(i.preventDefault(),this.reset()),this._savedTextRemoveEvent=i,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return Y({},e,{tab:function(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(i){if(e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(i),!0},downArrow:function(i){if(e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(i),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var i=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),i??!0},enter:function(i){var a=this.option("opened"),o=this._input().val().trim(),s=o&&this._list&&!this._list.option("focusedElement");if(!o&&q(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(i),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return i.preventDefault(),s&&(a&&this._toggleOpenState(),this._valueChangeEventHandler(i)),a;if(e.enter&&e.enter.apply(this,arguments))return a}},space:function(i){var a=this.option("opened"),o=this.option("searchEnabled"),s=this.option("acceptCustomValue");if(!(!a||o||s))return i.preventDefault(),this._valueChangeEventHandler(i),!0},backspace:r,del:r})},_getDefaultOptions:function(){return Y(this.callBase(),{placeholder:he.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){q(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(zie),this._renderTooltip(),this.callBase(),this._$container.addClass(Uie)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(Wie),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+Jk},_setDeprecatedOptions(){this.callBase(),Y(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t,e=this._searchValue();if(!e){this._focusListElement(null);return}var{items:r,selectedItem:n}=this.option(),i=this._list._itemElements(),a=(t=r==null?void 0:r.indexOf(n))!==null&&t!==void 0?t:-1,o=a!==-1&&!this._isCustomItemSelected()?i.eq(a):null;this._focusListElement(o)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(!t||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),r=e.not($ie).eq(0);this._focusListElement(r)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",et(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataController.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new ae().resolve()},_renderInputValue:function(){return this.callBase().always((function(){this._renderInputValueAsync()}).bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always((function(){this._refreshSelected()}).bind(this))},_renderInputValueImpl:function(){return this._renderField(),new ae().resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),r=this._valueGetter(e);this._setValue(r)},_setNextValue:function(t){var e=this._dataController.isLoaded()?new ae().resolve():this._dataController.load();e.done((function(){var r=this._getSelectedIndex(),n=this._dataController.pageSize(),i=this._dataController.isLastPage(),a=r===this._items().length-1;this._saveValueChangeEvent(t);var o=Cr(t)==="downArrow"?1:-1;n&&!i&&a&&o>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,o))):this._setNextItem(o)}).bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&t===void 0;this.callBase(e?null:t),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!q(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=Y(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&Y(t,{showSelectionControls:!0,selectByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,r=V(e.option("focusedElement")),n=e._getItemData(r);this._updateField(n)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var r=this._displayGetter(t);this.option("text",r),this._renderDisplayText(r);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):oe},_selectionChangeHandler:function(t){te(t.addedItems||[],(function(e,r){this._setValue(this._valueGetter(r))}).bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),!t&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var r=this._getActualSearchValue();r&&this._wasSearch(!0),this._filterDataSource(r||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(t===null)return!1;var e=this._displayGetter(t),r=e?String(e):"",n=this._searchValue();return r===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always((function(){var{acceptCustomValue:e,text:r,selectedItem:n}=this.option();if(e){!t&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(r)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((function(i){var a=vr(i,n);this._setSelectedItem(a),this._updateField(a),this._clearFilter()}).bind(this))}).bind(this))},_valueChangeEventIncludesBlur:function(){var t=this.option(this._getValueChangeEventOptionName());return t.includes("blur")},_isPreventedFocusOutEvent:function(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(t){if(!this._isPreventedFocusOutEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),r=this._isOverlayNestedTarget(t==null?void 0:t.relatedTarget),n=this._wasSearch()&&e&&!r;if(n){var i,a=(i=this._popup)===null||i===void 0?void 0:i._hideAnimationProcessing;this._clearSearchTimer(),a?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!V(t).closest(".".concat(Jk)).length},_clearTextValue:function(){var t=this.option("selectedItem"),e=this._displayGetter(t),r=t&&e!=="";r&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=Ce.getActiveElement(this.element());return this.callBase()&&V(t).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&V(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement(V(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var r=this,n=new ae;return this.callBase(t,e).done((function(i){n.resolve(i)}).bind(this)).fail((function(i){if(!(i!=null&&i.shouldSkipCallback)){var a=r.option("selectedItem");r.option("acceptCustomValue")&&t===r._valueGetter(a)?n.resolve(a):n.reject()}}).bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),r=this._displayGetter(t);return!r||e!==r.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},r=this._customItemCreatingAction(e),n=vr(r,e.customItem);return q(r)&&Yt.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),r=this._createCustomItem(e);if(this._saveValueChangeEvent(t),r===void 0)throw this._renderValue(),Yt.Error("E0121");xc(r)?cn(r).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(r)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(t){this.callBase(),t!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,r=t.selectionStart===0&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,i=e===t.selectionEnd;return this._wasSearch()&&n&&!r&&i&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),r=e.val().length;if(r!==0){var n=e.get(0),i=this._displayGetter(t).toString();n.value=i,this._caret({start:r,end:i.length})}}},_dispose:function(){this._renderInputValueAsync=oe,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});Rt("dxSelectBox",r_);const Gie=Object.freeze(Object.defineProperty({__proto__:null,default:r_},Symbol.toStringTag,{value:"Module"}));var eA=t=>t.getMonth()+1,tA=(t,e)=>{var r=t.getDate(),n=Nh("M",t),i=En(parseInt(e),n.min,n.max);t.setMonth(i-1,1);var{min:a,max:o}=Nh("dM",t),s=En(r,a,o);t.setDate(s)},Kie={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:eA,L:eA,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},qie=Y({},bz(),{a:(t,e)=>{var r=t.getHours(),n=r>=12;n!==!!parseInt(e)&&t.setHours((r+12)%24)},d:(t,e)=>{var r=Nh("dM",t).max;e>r&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:(t,e)=>{var r=t.getHours()>=12;t.setHours(+e%12+(r?12:0))},M:tA,L:tA,E:(t,e)=>{e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:(t,e)=>{var r=t.getFullYear(),n=String(e).length,i=String(Nh("y",t).max).length,a=parseInt(String(r).substr(0,i-n)+e);t.setFullYear(a)}}),Xie=t=>Kie[t]||(()=>t),Yie=(t,e)=>{for(var r=e.regexp.exec(t),n=0,i=0,a=[],o=function(){n=i,i=n+r[s].length;var l=e.patterns[s-1].replace(/^'|'$/g,""),p=Xie(l[0]);a.push({index:s-1,isStub:l===r[s],caret:{start:n,end:i},pattern:l,text:r[s],limits:function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];return Nh(l[0],...m)},setter:qie[l[0]]||oe,getter:p})},s=1;s<r.length;s++)o();return a},Nh=(t,e,r)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[r||t]||n.getAmPm},Zie=(t,e)=>{for(var r=0;r<t.length;r++){var n=t[r].caret.end>=e;if(!t[r].isStub&&n)return r}return null},Sy=["year","day","month","day"],rA=["hours","minutes","seconds","milliseconds"],mL=6e4,vL=60*mL*24,Qie=365*vL,Jie=function(t){var e=typeof t;return e==="string"?"format":e==="object"&&t.type!==void 0?t.type:null},Wt={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:mL,ONE_DAY:vL,ONE_YEAR:Qie,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:Sy},time:{getStandardPattern:function(){return"HH:mm"},components:rA},datetime:{getStandardPattern:function(){var t;return function(){var e=V("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),Wt.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...Sy,...rA]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...Sy,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var r=Wt.FORMATS_INFO[e].getStandardPattern();return Vr.serializeDate(t,r)},fromStandardDateFormat:function(t){var e=Vr.dateParser(t);return Kn(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,r){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var i=new Date(t.valueOf()),a=Wt.FORMATS_INFO[r];return te(a.components,function(){var o=Wt.DATE_COMPONENTS_INFO[this];i[o.setter](e[o.getter]())}),i},getLongestCaptionIndex:function(t){var e=0,r=0,n;for(n=0;n<t.length;++n)t[n].length>r&&(e=n,r=t[n].length);return e},formatUsesMonthName:function(t){return _t.formatUsesMonthName(t)},formatUsesDayName:function(t){return _t.formatUsesDayName(t)},getLongestDate:function(t,e,r){var n=Jie(t),i=9;(!n||Wt.formatUsesMonthName(n))&&(i=Wt.getLongestCaptionIndex(e));var a=new Date(1888,i,21,23,59,59,999);if(!n||Wt.formatUsesDayName(n)){var o=a.getDate()-a.getDay()+Wt.getLongestCaptionIndex(r);a.setDate(o)}return a},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};Wt.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var r=new Date(e.getTime());return r.setFullYear(t),_t.format(r,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var r=new Date(e.getTime());return r.setDate(t),_t.format(r,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return _t.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return _t.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return _t.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return _t.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return _t.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var gL="dxSwipeable",eae="dx-swipeable",tae={onStart:Zg,onUpdated:Qg,onEnd:If,onCancel:"dxswipecancel"},rae=180,Wv=za.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:rae,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(eae),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),te(tae,(function(e,r){var n=this._createActionByOption(e,{context:this});r=Ee(r,t),X.on(this.$element(),r,this._eventData,function(i){return n({event:i})})}).bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){X.off(this.$element(),"."+gL)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});sf(Wv,gL);var nae="dx-calendar-navigator",iae="dx-calendar-navigator-previous-month",aae="dx-calendar-navigator-next-month",oae="dx-calendar-navigator-previous-view",sae="dx-calendar-navigator-next-view",lae="dx-calendar-disabled-navigator-link",uae="dx-calendar-caption-button",cae="dx-button-text";class dae extends rn{_getDefaultOptions(){return Y(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Mr()},options:{type:"default",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass(nae),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:e,type:r,stylingMode:n}=this.option();this._prevButton=this._createComponent(V("<div>"),vn,{focusStateEnabled:!1,icon:e?"chevronright":"chevronleft",onClick:s=>{this._clickAction({direction:-1,event:s})},type:r,stylingMode:n,integrationOptions:{}});var i=this._prevButton.$element().addClass(oae).addClass(iae);this._nextButton=this._createComponent(V("<div>"),vn,{focusStateEnabled:!1,icon:e?"chevronleft":"chevronright",onClick:s=>{this._clickAction({direction:1,event:s})},type:r,stylingMode:n,integrationOptions:{}});var a=this._nextButton.$element().addClass(sae).addClass(aae);this._caption=this._createComponent(V("<div>").addClass(uae),vn,{focusStateEnabled:!1,onClick:s=>{this._captionClickAction({event:s})},type:r,stylingMode:n,template:(s,l)=>{var{text:p}=this.option(),h=p.split(" - ");h.forEach(m=>{V(l).append(V("<span>").addClass(cae).text(m))})},integrationOptions:{}});var o=this._caption.$element();this.$element().append(i,o,a)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(e,r){var n="_"+e+"Button",i=this[n];i&&(i.option("disabled",r),i.$element().toggleClass(lae,r))}_optionChanged(e){switch(e.name){case"text":this._renderCaption();break;default:super._optionChanged(e)}}}var{abstract:Ca}=rn,hae="dx-calendar-other-view",fae="dx-calendar-cell",pae="dx-calendar-cell-start",mae="dx-calendar-cell-end",vae="dx-calendar-cell-start-in-row",gae="dx-calendar-cell-end-in-row",_ae="dx-calendar-week-number-cell",Ey="dx-calendar-empty-cell",yae="dx-calendar-today",nA="dx-calendar-selected-date",iA="dx-calendar-cell-in-range",Iy="dx-calendar-cell-range-hover",Ty="dx-calendar-cell-range-hover-start",Oy="dx-calendar-cell-range-hover-end",aA="dx-calendar-range-start-date",oA="dx-calendar-range-end-date",ky="dx-calendar-contoured-date",sA="td:not(.".concat(_ae,")"),lA=Ee(jt,"dxCalendar"),uA=Ee(Bg,"dxCalendar"),Ay="dxDateValueKey",Hp=rn.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return Y(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=V("<table>");var t=he.format("dxCalendar-ariaWidgetName"),e=he.format("dxCalendar-ariaHotKeysInfo");return this.setAria({label:"".concat(t,". ").concat(e),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=V("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,r=this.option("rowCount");e<r;e++){t.row=this._createRow();for(var n=0,i=this.option("colCount");n<i;n++)this._renderCell(t,n);this._renderWeekNumberCell(t)}},_createRow:function(){var t=Ce.createElement("tr");return this.setAria("role","row",V(t)),this.$body.get(0).appendChild(t),t},_createCell:function(t,e){var r=Ce.createElement("td"),n=V(r);return r.className=this._getClassNameByDate(t,e),r.setAttribute("data-value",Vr.serializeDate(t,Ze.getShortDateFormat())),br(r,Ay,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},n),{cell:r,$cell:n}},_renderCell:function(t,e){var{cellDate:r,prevCellDate:n,row:i}=t;n&&Ze.fixTimezoneGap(n,r),t.prevCellDate=r;var{cell:a,$cell:o}=this._createCell(r,e),s=this.option("cellTemplate");V(i).append(a),s?s.render(this._prepareCellTemplateData(r,e,o)):a.innerHTML=this._getCellText(r),t.cellDate=this._getNextCellData(r)},_getClassNameByDate:function(t,e){var r=fae;return this._isTodayCell(t)&&(r+=" ".concat(yae)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(r+=" ".concat(Ey)),this._isOtherView(t)&&(r+=" ".concat(hae)),this.option("selectionMode")==="range"&&(e===0&&(r+=" ".concat(vae)),e===this.option("colCount")-1&&(r+=" ".concat(gae)),this._isStartDayOfMonth(t)&&(r+=" ".concat(pae)),this._isEndDayOfMonth(t)&&(r+=" ".concat(mae))),r},_prepareCellTemplateData:function(t,e,r){var n=t instanceof Date,i=n?this._getCellText(t):t,a=n?t:void 0,o=this._getViewName();return{model:{text:i,date:a,view:o},container:et(r),index:e}},_renderEvents:function(){this._createCellClickAction(),X.off(this._$table,lA),X.on(this._$table,lA,sA,t=>{V(t.currentTarget).hasClass(Ey)||this._cellClickAction({event:t,value:V(t.currentTarget).data(Ay)})}),X.off(this._$table,uA),this.option("selectionMode")==="range"&&(this._createCellHoverAction(),X.on(this._$table,uA,sA,t=>{V(t.currentTarget).hasClass(Ey)||this._cellHoverAction({event:t,value:V(t.currentTarget).data(Ay)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||oe},_getDefaultDisabledDatesHandler:function(t){return oe},_isTodayCell:Ca,_isDateOutOfRange:Ca,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:Ca,_isStartDayOfMonth:Ca,_isEndDayOfMonth:Ca,_getCellText:Ca,_getFirstCellData:Ca,_getNextCellData:Ca,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),r=this._getCellByDate(t);e.removeClass(ky),t&&r.addClass(ky)}},_getContouredCell:function(){return this._$table.find(".".concat(ky))},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value");Array.isArray(t)||(t=[t]),this._updateSelectedClass(t)}},_updateSelectedClass:function(t){var e;(e=this._$selectedCells)===null||e===void 0||e.forEach(r=>{r.removeClass(nA)}),this._$selectedCells=t.map(r=>this._getCellByDate(r)),this._$selectedCells.forEach(r=>{r.addClass(nA)})},_renderRange:function(){var t,e,r,n,i,a,o,s,{allowValueSelection:l,selectionMode:p,value:h,range:m}=this.option();!l||p!=="range"||((t=this._$rangeCells)===null||t===void 0||t.forEach(v=>{v.removeClass(iA)}),(e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(v=>{v.removeClass(Iy)}),(r=this._$rangeStartHoverCell)===null||r===void 0||r.removeClass(Ty),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass(Oy),(i=this._$rangeStartDateCell)===null||i===void 0||i.removeClass(aA),(a=this._$rangeEndDateCell)===null||a===void 0||a.removeClass(oA),this._$rangeCells=m.map(v=>this._getCellByDate(v)),this._$rangeStartDateCell=this._getCellByDate(h[0]),this._$rangeEndDateCell=this._getCellByDate(h[1]),this._$rangeCells.forEach(v=>{v.addClass(iA)}),(o=this._$rangeStartDateCell)===null||o===void 0||o.addClass(aA),(s=this._$rangeEndDateCell)===null||s===void 0||s.addClass(oA))},_renderHoveredRange(){var t,e,r,n,i,{allowValueSelection:a,selectionMode:o,hoveredRange:s}=this.option();!a||o!=="range"||((t=this._$hoveredRangeCells)===null||t===void 0||t.forEach(l=>{l.removeClass(Iy)}),(e=this._$rangeStartHoverCell)===null||e===void 0||e.removeClass(Ty),(r=this._$rangeEndHoverCell)===null||r===void 0||r.removeClass(Oy),this._$hoveredRangeCells=s.map(l=>this._getCellByDate(l)),this._$rangeStartHoverCell=this._getCellByDate(s[0]),this._$rangeEndHoverCell=this._getCellByDate(s[s.length-1]),this._$hoveredRangeCells.forEach(l=>{l.addClass(Iy)}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.addClass(Ty),(i=this._$rangeEndHoverCell)===null||i===void 0||i.addClass(Oy))},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=Ze.getViewFirstCellDate(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:Ca,isBoundary:Ca,_optionChanged:function(t){var{name:e,value:r}=t;switch(e){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(r);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),bae="dx-calendar-other-month",Cae="dx-calendar-other-view",wae="dx-calendar-week-number-cell",xae={month:Hp.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return Y(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(Cae)).addClass(bae)},_renderFocusTarget:oe,getCellAriaLabel:function(t){return _t.format(t,"longdate")},_renderHeader:function(){var t=V("<tr>"),e=V("<thead>").append(t);this._$table.prepend(e);for(var r=0,n=this.option("colCount");r<n;r++)this._renderHeaderCell(r,t);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(t)},_renderHeaderCell:function(t,e){var{firstDayOfWeek:r}=this.option(),{full:n,abbreviated:i}=this._getDayCaption(r+t),a=V("<th>").attr({scope:"col",abbr:n}).text(i);e.append(a)},_renderWeekHeaderCell:function(t){var e=V("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});t.prepend(e)},_renderWeekNumberCell:function(t){var{showWeekNumbers:e,cellTemplate:r}=this.option();if(e){var n=this._getWeekNumber(t.prevCellDate),i=Ce.createElement("td"),a=V(i);i.className=wae,r?r.render(this._prepareCellTemplateData(n,-1,a)):i.innerHTML=n,t.row.prepend(i),this.setAria({role:"gridcell",label:"Week ".concat(n)},a)}},_getWeekNumber:function(t){var{weekNumberRule:e,firstDayOfWeek:r}=this.option();return e==="auto"?Ze.getWeekNumber(t,r,r===1?"firstFourDays":"firstDay"):Ze.getWeekNumber(t,r,e)},getNavigatorCaption:function(){return _t.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return Ze.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),r=this.option("max");return!Ze.dateInRange(t,e,r,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(t){return Ze.sameDate(t,Ze.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(t){return Ze.sameDate(t,Ze.getLastMonthDate(this.option("date")))},_getCellText:function(t){return _t.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),r=t%e;return{full:_t.getDayNames()[r],abbreviated:_t.getDayNames("abbreviated")[r]}},_getFirstCellData:function(){var{firstDayOfWeek:t}=this.option(),e=Ze.getFirstMonthDate(this.option("date")),r=t-e.getDay(),n=this.option("colCount");return r>=0&&(r-=n),e.setDate(e.getDate()+r),e},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(Vr.serializeDate(t,Ze.getShortDateFormat()),"']"))},isBoundary:function(t){return Ze.sameMonthAndYear(t,this.option("min"))||Ze.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var r=t.some(function(n){return Ze.sameDate(n,e.date)});if(r)return!0}}}),year:Hp.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Ze.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!Ze.dateInRange(t,Ze.getFirstMonthDate(this.option("min")),Ze.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return _t.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(Vr.serializeDate(e,Ze.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return _t.format(t,"monthandyear")},getNavigatorCaption:function(){return _t.format(this.option("date"),"yyyy")},isBoundary:function(t){return Ze.sameYear(t,this.option("min"))||Ze.sameYear(t,this.option("max"))},_renderWeekNumberCell:oe}),decade:Hp.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Ze.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),r=this.option("max");return!Ze.dateInRange(t.getFullYear(),e&&e.getFullYear(),r&&r.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Ze.sameDecade(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return _t.format(t,"yyyy")},_getFirstCellData:function(){var t=Ze.getFirstYearInDecade(this.option("date"))-1;return Ze.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=Ze.getFirstYearInDecade(t),r=new Date(t),n=new Date(t);return r.setFullYear(e),n.setFullYear(e+9),_t.format(r,"yyyy")+"-"+_t.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return Ze.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(Vr.serializeDate(e,Ze.getShortDateFormat()),"']"))},isBoundary:function(t){return Ze.sameDecade(t,this.option("min"))||Ze.sameDecade(t,this.option("max"))},_renderWeekNumberCell:oe}),century:Hp.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Ze.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=Ze.getFirstYearInDecade(t),r=Ze.getFirstYearInDecade(this.option("min")),n=Ze.getFirstYearInDecade(this.option("max"));return!Ze.dateInRange(e,r,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Ze.sameCentury(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){var e=_t.format(t,"yyyy"),r=new Date(t);return r.setFullYear(r.getFullYear()+9),e+" - "+_t.format(r,"yyyy")},_getFirstCellData:function(){var t=Ze.getFirstDecadeInCentury(this.option("date"))-10;return Ze.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(Ze.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(Vr.serializeDate(e,Ze.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=Ze.getFirstDecadeInCentury(t),r=new Date(t),n=new Date(t);return r.setFullYear(e),n.setFullYear(e+99),_t.format(r,"yyyy")+"-"+_t.format(n,"yyyy")},isBoundary:function(t){return Ze.sameCentury(t,this.option("min"))||Ze.sameCentury(t,this.option("max"))},_renderWeekNumberCell:oe})};class OS{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,r){this.calendar._dateValue(e,r)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,r){this.calendar._updateAriaSelected(e,r),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,r){var n,i;e=((n=e)===null||n===void 0?void 0:n.map(a=>this._convertToDate(a)))||[],r=((i=r)===null||i===void 0?void 0:i.map(a=>this._convertToDate(a)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,r),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,r){this.calendar._updateViewsOption(e,r)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}}class Sae extends OS{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,r){this.skipNavigate(),this.dateValue(e,r)}updateAriaSelected(e,r){var n,i;(n=e)!==null&&n!==void 0||(e=[this.dateOption("value")]),(i=r)!==null&&i!==void 0||(r=[]),super.updateAriaSelected(e,r)}getDefaultCurrentDate(){return this.dateOption("value")}_updateViewsValue(e){this._updateViewsOption("value",e[0])}}class Eae extends OS{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("values"),range:[],selectionMode:"multi"}}selectValue(e,r){var n=[...this.dateOption("values")],i=n.findIndex(a=>(a==null?void 0:a.toDateString())===e.toDateString());i>-1?n.splice(i,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,r)}updateAriaSelected(e,r){var n,i;(n=e)!==null&&n!==void 0||(e=this.dateOption("values")),(i=r)!==null&&i!==void 0||(r=[]),super.updateAriaSelected(e,r)}getDefaultCurrentDate(){var e=this.dateOption("values").filter(r=>r);return this._getLowestDateInArray(e)}}var _L=864e5,cA=120*_L;class Iae extends OS{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){var e=this._getValues(),r=this._getDaysInRange(e[0],e[1]);return{value:e,range:r,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this)}}selectValue(e,r){var[n,i]=this._getValues();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.calendar.option("_allowChangeSelectionOrder")===!0?(this.calendar._valueSelected=!0,this.calendar.option("_currentSelection")==="startDate"?this.calendar._convertToDate(e)>this.calendar._convertToDate(i)?this.dateValue([e,null],r):this.dateValue([e,i],r):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],r):this.dateValue([e,null],r)):!n||i?this.dateValue([e,null],r):this.dateValue(n<e?[n,e]:[e,n],r)}updateAriaSelected(e,r){var n,i;(n=e)!==null&&n!==void 0||(e=this._getValues()),(i=r)!==null&&i!==void 0||(r=[]),super.updateAriaSelected(e,r)}processValueChanged(e,r){super.processValueChanged(e,r);var n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:e,_currentSelection:r}=this.calendar.option(),n=this.dateOption("values");if(e){if(r==="startDate"&&n[0])return n[0];if(r==="endDate"&&n[1])return n[1]}var i=n.filter(a=>a);return this._getLowestDateInArray(i)}_getValues(){var e=this.dateOption("values");if(!e.length)return e;var[r,n]=e;return r&&n&&r>n&&([r,n]=[n,r]),[r,n]}_getRange(){var[e,r]=this._getValues();return this._getDaysInRange(e,r)}_getDaysInRange(e,r){if(!e||!r)return[];var n=this.calendar.option("currentDate").getTime(),i=new Date(Math.max(n-cA,e)),a=new Date(Math.min(n+cA,r));return[...Ze.getDatesOfInterval(i,a,_L),a]}_cellHoverHandler(e){var r=this._isMaxZoomLevel(),[n,i]=this._getValues(),{_allowChangeSelectionOrder:a,_currentSelection:o}=this.calendar.option();if(r){var s=a&&o==="startDate";if(n&&!i&&!s){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&i&&!(a&&o==="endDate")){if(e.value<i){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,i));return}}else if(n&&i){if(o==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}else if(o==="endDate"&&e.value>i){this._updateViewsOption("hoveredRange",this._getDaysInRange(i,e.value));return}}this._updateViewsOption("hoveredRange",[])}}}var Tae="dx-calendar",Oae="dx-calendar-body",kae="dx-calendar-cell",Aae="dx-calendar-footer",Dae="dx-calendar-today-button",Rae="dx-calendar-with-footer",Pae="dx-calendar-views-wrapper",dA="dx-calendar-view",Mae="dx-calendar-multiview",Bae="dx-calendar-range",Lae="dx-state-focused",Fae="dx-gesture-cover",jp=250,hA=.6,fA=1,Nae="yyyy-MM-dd",Vae="dxDateValueKey",pA=Ee(lf,"dxCalendar"),fu={month:3,year:2,decade:1,century:0},_n={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},Hae={SingleSelection:Sae,MultiSelection:Eae,RangeSelection:Iae};function jae(t){return t.hasClass(Lae)}var yL=ha.inherit({_activeStateUnit:"."+kae,_getDefaultOptions:function(){return Y(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,values:[],dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:_n.MONTH,maxZoomLevel:_n.MONTH,minZoomLevel:_n.CENTURY,selectionMode:"single",showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return Y(this.callBase(),{rightArrow:function(t){t.preventDefault(),tn(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),tn(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),tn(t))this._navigateUp();else{if(yr.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),tn(t))this._navigateDown();else{if(yr.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),r=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(r)){var i=Ze.sameView(e,r,n)?n:Ze.getViewFirstCellDate(e,r);this._moveToClosestAvailableDate(i)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),r=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(r)){var i=Ze.sameView(e,r,n)?n:Ze.getViewLastCellDate(e,r);this._moveToClosestAvailableDate(i)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:oe,enter:this._enterKeyHandler})},_enterKeyHandler:function(t){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(e,t)}},_getSerializationFormat:function(t){var e=this.option(t||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(qt(e))return"number";if(tt(e))return Vr.getDateSerializationFormat(e)},_convertToDate:function(t){return Vr.deserializeDate(t)},_dateValue:function(t,e){var r=Array.isArray(t)?"values":"value";if(e){if(e.type==="keydown"){var n=this._view._getContouredCell().get(0);e.target=n}this._saveValueChangeEvent(e)}this._dateOption(r,t)},_dateOption:function(t,e){if(arguments.length===1){var r,n=(r=this.option("values"))!==null&&r!==void 0?r:[];return t==="values"?n.map(o=>this._convertToDate(o)):this._convertToDate(this.option(t))}var i=this._getSerializationFormat(t),a=t==="values"?(e==null?void 0:e.map(o=>Vr.serializeDate(o,i)))||[]:Vr.serializeDate(e,i);this.option(t,a)},_shiftDate:function(t,e,r,n){switch(t){case _n.MONTH:e.setDate(e.getDate()+r*n);break;case _n.YEAR:e.setMonth(e.getMonth()+r*n);break;case _n.DECADE:e.setFullYear(e.getFullYear()+r*n);break;case _n.CENTURY:e.setFullYear(e.getFullYear()+10*r*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),r=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,r,t,1);for(var i=this._getMaxDate(),a=this._getMinDate(),o=this._areDatesInNeighborView(n,r,e),s=co(r,a,i)&&o,l=new Date(r);s;){if(!this._view.isDateDisabled(l)){r=l;break}this._shiftDate(n,l,t,1),o=this._areDatesInNeighborView(n,l,e),s=co(l,a,i)&&o}this._view.isDateDisabled(e)||this._view.isDateDisabled(r)?this._waitRenderView(t>0?1:-1):(this._skipNavigate=!0,this.option("currentDate",r))},_areDatesInSameView(t,e,r){switch(t){case _n.MONTH:return e.getMonth()===r.getMonth();case _n.YEAR:return e.getYear()===r.getYear();case _n.DECADE:return parseInt(e.getYear()/10)===parseInt(r.getYear()/10);case _n.CENTURY:return parseInt(e.getYear()/100)===parseInt(r.getYear()/100)}},_areDatesInNeighborView(t,e,r){switch(t){case _n.MONTH:return n=e.getMonth(),i=r.getMonth(),a=Math.abs(n-i),Math.min(a,12-a)<=1;case _n.YEAR:return Math.abs(e.getYear()-r.getYear())<=1;case _n.DECADE:return Math.abs(e.getYear()-r.getYear())<=10;case _n.CENTURY:return Math.abs(e.getYear()-r.getYear())<=100}var n,i,a},_moveToClosestAvailableDate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),e=new Date(t),r=this.option("zoomLevel"),n=!this._isDateNotAvailable(e),i=n,a=n,o,s,l=new Date(e),p=new Date(e);do{if(i){e=l;break}if(a){e=p;break}this._shiftDate(r,l,1,1),this._shiftDate(r,p,1,-1),o=this._areDatesInSameView(r,l,t),s=this._areDatesInSameView(r,p,t),i=o&&!this._isDateNotAvailable(l),a=s&&!this._isDateNotAvailable(p)}while(o||s);this.option("currentDate",e)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),r=this._getMinDate();return!co(t,r,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var t=this._getSelectionStrategyName(),e=Hae[t];(!this._selectionStrategy||this._selectionStrategy.NAME!==t)&&(this._selectionStrategy=new e(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._refresh()},_getSelectionStrategyName:function(){var t=this.option("selectionMode");switch(t){case"multi":return"MultiSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),r=this.option("zoomLevel");fu[e]<fu[t]||(fu[r]>fu[e]?this.option("zoomLevel",e):fu[r]<fu[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t,e=(t=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))!==null&&t!==void 0?t:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(t){return t=Ze.normalizeDate(t,this._getMinDate(),this._getMaxDate()),q(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new hc(function(t){var e=t.model;V(t.container).append(V("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate:function(t){yr.isAnimating(this._$viewsWrapper)&&yr.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),r=this._getMaxDate();if(e>r){this.option("currentDate",new Date);return}var n=this._getNormalizedDate(t);if(t.getTime()!==n.getTime()){this.option("currentDate",new Date(n));return}var i=this._getViewsOffset(this._view.option("date"),n);i!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(i=0),this._view&&i!==0&&!this._suppressNavigation?this._additionalView?i>2||i<-1?(this._refreshViews(),this._setViewContoured(n),this._updateAriaId(n),this._renderNavigator()):i===1&&this._skipNavigate?(this._setViewContoured(n),this._updateAriaId(n)):this._navigate(i,n):this._navigate(i,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n)),this._skipNavigate=!1},_isAdditionalViewDate(t){return this._additionalView?t>=this._additionalView._getFirstAvailableDate():!1},_getActiveView:function(t){return this._isAdditionalViewDate(t)?this._additionalView:this._view},_setViewContoured:function(t){if(this.option("skipFocusCheck")||jae(this._focusTarget())){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null);var r=this._isAdditionalViewDate(t)?this._additionalView:this._view;r.option("contouredDate",t)}},_getMinDate:function(){var t=this.option("_rangeMin");return t||(this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min))},_getMaxDate:function(){var t=this.option("_rangeMax");return t||(this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max))},_getViewsOffset:function(t,e){var r=this.option("zoomLevel");if(r===_n.MONTH)return this._getMonthsOffset(t,e);var n;switch(r){case _n.CENTURY:n=100;break;case _n.DECADE:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(t.getFullYear()/n)},_getMonthsOffset:function(t,e){var r=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*r+n},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var r;e=this._getDate((r=e)!==null&&r!==void 0?r:this.option("currentDate"));var n=e.getDate(),i=Ze.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+i);var a=Ze.getLastMonthDate(e).getDate();return e.setDate(n>a?a:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass(Tae),t.toggleClass(Bae,this.option("selectionMode")==="range"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderEvents(),this._renderNavigator(),t.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=V("<div>").addClass(Oae),this._$viewsWrapper=V("<div>").addClass(Pae),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(dA+"-"+this.option("zoomLevel"));var{currentDate:t,viewsCount:e}=this.option();if(this.$element().toggleClass(Mae,e>1),this._view=this._renderSpecificView(t),lt()){var r=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(r)?this._renderSpecificView(r):null;var n=this._getDateByOffset(e,t);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}e>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()},_renderSpecificView:function(t){var{zoomLevel:e}=this.option(),r=xae[e],n=V("<div>").appendTo(this._$viewsWrapper),i=this._viewConfig(t),a=this._createComponent(n,r,i);return a},_viewConfig:function(t){var e,r=this.option("disabledDates");return r=Me(r)?this._injectComponent(r.bind(this)):r,we({},this._selectionStrategy.getViewOptions(),{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:(e=this.option("firstDayOfWeek"))!==null&&e!==void 0?e:_t.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:r,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){X.off(this._$viewsWrapper,pA),this.option("selectionMode")==="range"&&X.on(this._$viewsWrapper,pA,null,t=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent:function(t){var e=this;return function(r){return Y(r,{component:e}),t(r)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),r=Ze.getViewMinBoundaryDate(e,this._getMinDate()),n=Ze.getViewMaxBoundaryDate(e,this._getMaxDate());return Ze.dateInRange(t,r,n)},_translateViews:function(){var{viewsCount:t}=this.option();dn(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,t),this._moveViewElement(this._additionalView,1)},_moveViewElement(t,e){t&&dn(t.$element(),{left:this._getViewPosition(e),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),r=Ze.getViewDown(e),n=this._isMaxZoomLevel();if(r&&!n)this._navigateDown(t.event.currentTarget);else{var i=this._updateTimeComponent(t.value);this._selectionStrategy.selectValue(i,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),r=this._dateOption("value");return r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds()),e.setMilliseconds(r.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var r=Ze.getViewDown(e);if(r){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=V(t).data(Vae)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",r),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new dae(V("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{rtlEnabled:t}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:t}},_navigatorClickHandler:function(t){var{currentDate:e,viewsCount:r}=this.option(),n=t.direction;if(r>1){var i=this._isAdditionalViewDate(e),a=i&&n<0||!i&&n>0;a&&(n*=2)}var o=this._getDateByOffset(n,e);this._moveToClosestAvailableDate(o)},_navigateUp:function(){var t=this.option("zoomLevel"),e=Ze.getViewUp(t);!e||this._isMinZoomLevel(t)||(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),r=this._getMaxDate();return Ze.sameView(t,e,r)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!q(this._afterView)),this._navigator.toggleButton("prev",!q(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),Wv,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){yr.stop(this._$viewsWrapper,!0);var{viewsCount:e}=this.option();this._toggleGestureCoverCursor("grabbing"),t.event.maxLeftOffset=this._getRequiredView("next")?1/e:0,t.event.maxRightOffset=this._getRequiredView("prev")?1/e:0},_toggleGestureCoverCursor:function(t){V(".".concat(Fae)).css("cursor",t)},_getRequiredView:function(t){var e,r=this.option("rtlEnabled");return t==="next"?e=r?this._beforeView:this._afterView:t==="prev"&&(e=r?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;dn(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){this._toggleGestureCoverCursor("auto");var{currentDate:e,rtlEnabled:r}=this.option(),n=t.event.targetOffset,i=n?n/Math.abs(n):0,a=this._isAdditionalViewDate(e),o=a&&(r?i===-1:i===1);if(i===0){this._animateWrapper(0,jp);return}var s=-i*this._getRtlCorrection()*(o?2:1),l=this._getDateByOffset(s);this._isDateInInvalidRange(l)&&(i>=0?l=new Date(this._getMinDate()):l=new Date(this._getMaxDate())),this.option("currentDate",l)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=ot(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this.option("viewsCount")>1,r,n;t>.5&&this._beforeView?(r=this._beforeView,n=e&&this._view):t<-.5&&this._afterView?(r=e?this._additionalView:this._afterView,n=e?this._afterView:null):(r=this._view,n=e?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(r,n))},_getViewsCaption:function(t,e){var r=t.getNavigatorCaption(),{viewsCount:n}=this.option();if(n>1&&e){var i=e.getNavigatorCaption();r="".concat(r," - ").concat(i)}return r},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),r=this._getMaxDate(),n=Ze.normalizeDate(t,e,r);return n===e||n===r}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent(V("<div>"),vn,{focusStateEnabled:this.option("focusStateEnabled"),text:he.format("dxCalendar-todayButtonText"),onClick:r=>{this._toTodayView(r)},type:"default",stylingMode:"text",integrationOptions:{}}).$element().addClass(Dae);this._$footer=V("<div>").addClass(Aae).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(Rae,t)},_renderSubmitElement:function(){this._$submitElement=V("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(Vr.serializeDate(e,Nae))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){yr.stop(this._view.$element(),!0),this._popAnimationView(this._view,hA,fA,jp),this.option("viewsCount")>1&&(yr.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,hA,fA,jp))},_popAnimationView:function(t,e,r,n){return yr.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:r,opacity:r},duration:n})},_navigate:function(t,e){if(t!==0&&Math.abs(t)!==1&&this._isViewAvailable(e)){var r=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=r):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=r),this._translateViews()}var n=this._getRtlCorrection(),i=t>0?1:t<0?-1:0,a=-n*i*this._viewWidth(),o=this._$viewsWrapper.position().left;o!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(a,jp).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return yr.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:t=>new Date(t),_toTodayView:function(t){var e=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(e,t.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(e,t.event),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(t){var e;if(t!==0){var{viewsCount:r}=this.option(),n,i,a,o,s;if(t<0?(n=1,i="_beforeView",a="_afterView",o="_view",s=r===1?"_view":"_additionalView"):(n=-1,i="_afterView",a="_beforeView",o=r===1?"_view":"_additionalView",s="_view"),!!this[i]){var l=this[i].option("date");(e=this[a])===null||e===void 0||e.$element().remove(),this[a]=this._renderSpecificView(this._getDateByOffset(n*r,l)),this[s].$element().remove(),r===1?this[s]=this[i]:(this[s]=this[o],this[o]=this[i]);var p=this._getDateByOffset(-n,l);this[i]=this._isViewAvailable(p)?this._renderSpecificView(p):null}}},_resetLocation:function(){dn(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._setViewContoured(this.option("currentDate"))},_focusOutHandler:function(){var t;this.callBase.apply(this,arguments),this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null)},_updateViewsOption:function(t,e){var r,n,i;this._view.option(t,e),(r=this._additionalView)===null||r===void 0||r.option(t,e),(n=this._beforeView)===null||n===void 0||n.option(t,e),(i=this._afterView)===null||i===void 0||i.option(t,e)},_setViewsMinOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(t)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(t)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateAriaSelected:function(t,e){e.forEach(r=>{this.setAria("selected",void 0,this._view._getCellByDate(r))}),t.forEach(r=>{this.setAria("selected",!0,this._view._getCellByDate(r))}),this.option("viewsCount")>1&&(e.forEach(r=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(r))}),t.forEach(r=>{this.setAria("selected",!0,this._additionalView._getCellByDate(r))}))},_updateAriaId:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("currentDate");var r="dx-"+new Lr,n=this._getActiveView(t),i=n._getCellByDate(t);this.setAria("id",r,i),this.setAria("activedescendant",r),this._onContouredChanged(r)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var{value:e,previousValue:r}=t;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(r)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(dA+"-"+r),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this.option("selectionMode")==="single"&&this._selectionStrategy.processValueChanged([e],[r]),this._setSubmitValue(e),this.callBase(t);break;case"values":this.option("selectionMode")!=="single"&&this._selectionStrategy.processValueChanged(e,r),this._raiseValueChangeAction(e,r),this._saveValueChangeEvent(void 0);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});Rt("dxCalendar",yL);var $p=Ft.abstract,n_=Ft.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||V("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),r=this._getWidgetOptions();return this.dateBox._createComponent(t,e,r)},_getWidgetOptions:$p,_getWidgetName:$p,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:$p,supportedKeys:oe,getKeyboardListener:oe,customizeButtons:oe,getParsedText:function(t,e){var r=_t.parse(t,e);return r||_t.parse(t)},renderInputMinMax:oe,renderOpenedState:function(){this._updateValue()},popupConfig:$p,_dimensionChanged:function(){var t;(t=this._getPopup())===null||t===void 0||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();X.off(e,"mousedown"),X.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:oe,getLastPopupElement:oe,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:oe,popupHiddenHandler:oe,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:oe,getDefaultDate:function(){return new Date},textChangedHandler:oe,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),bL=n_.inherit({NAME:"Calendar",getDefaultOptions:function(){return Y(this.callBase(),{todayButtonText:he.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var t=function(e){return this.option("opened")?(e.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:(function(e){if(this.dateBox.option("opened"))if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var r=this._getContouredValue(),n=this._lastActionElement,i=this._closeDropDownByEnter();return i&&r&&n==="calendar"&&this.dateBoxValue(r,e),i&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!i}else return!0;else this.dateBox._valueChangeEventHandler(e)}).bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return yL},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return Y(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:Me(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(r){return Y(r,{component:e.dateBox}),t(r)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},_getTodayButtonConfig(){var t=this.dateBox.option("buttonsLocation"),e=t==="default",r=e?["bottom","center"]:Nl(t);return{widget:"dxButton",toolbar:r[0],location:r[1]==="after"?"before":r[1],options:{onInitialized:(function(n){n.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}).bind(this),onClick:n=>{this._widget._toTodayView(n)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var{calendarOptions:t}=this.dateBox.option();return di(t)||t.visible!==!1},_getPopupToolbarItems(t){var e=this.dateBox.option("applyValueMode")==="useButtons",r=e&&this._isCalendarVisible();if(r){var n=this._getTodayButtonConfig();return[n,...t]}return t},popupConfig:function(t){return Y(!0,t,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=t.value,r=t.previousValue;Ze.sameDate(e,r)&&Ze.sameHoursAndMinutes(e,r)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;e.option("applyValueMode")==="instantly"&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}});class $ae{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??Mv}get isHorizontal(){return this.direction===xB||this.direction===j0}get isVertical(){return this.direction===Mv||this.direction===j0}get isBoth(){return this.direction===j0}}function zae(t,e){if(yt(t)){var r=vr(t.left,t.x),n=vr(t.top,t.y);return{left:q(r)?r:void 0,top:q(n)?n:void 0}}var{isHorizontal:i,isVertical:a}=new $ae(e);return{left:i&&q(t)?t:void 0,top:a&&q(t)?t:void 0}}var Wae="dx-dateviewroller",Uae="dx-state-active",Gae="dx-dateviewroller-current",mA="dx-dateview-item",Kae="dx-dateview-item-selected",qae="dx-dateview-item-selected-frame",Xae="dx-dateview-item-selected-border";class CL extends wi{_getDefaultOptions(){return Y(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(Wae),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){X.on(V(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var e=Ee(jt,this.NAME),r=this._createActionByOption("onClick");X.off(V(this.container()),e),X.on(V(this.container()),e,function(n){r({event:n})})}}_renderItems(){var e=this.option("items")||[],r=V();V(this.content()).empty(),e.forEach(function(n){r=r.add(V("<div>").addClass(mA).append(n))}),V(this.content()).append(r),this._$items=r,this.update()}_renderSelectedItemFrame(){V("<div>").addClass(qae).append(V("<div>").addClass(Xae)).appendTo(V(this.container()))}_renderSelectedValue(e){var r=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(r)}),this._renderActiveStateItem()}_fitIndex(e){var r=this.option("items")||[],n=r.length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),r=Ee(jt,this.NAME);X.off(this.$element(),r,e),X.on(this.$element(),r,e,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+mA}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");te(this._$items,function(r){V(this).toggleClass(Kae,e===r)})}_shouldScrollToNeighborItem(){return Ue.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){var{top:r,left:n}=zae(e),i=this.scrollOffset(),a={x:i.left-n,y:i.top-r};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var o=this;yr.stop(V(this.content())),yr.animate(V(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){cf(V(o.content())),o.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var r=this.option("items").length;return Math.max(Math.min(e,r-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var r=this.scrollOffset().top,n=e*this._itemHeight(),i=r-n;if(this._isInNullNeighborhood(i))return e;var a=i>0?1:-1,o=this._fitSelectedIndexInRange(e+a);return o}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var r=this.scrollOffset().top/this._itemHeight();return Math.round(r)}_endActionHandler(){var e=this.option("selectedIndex"),r=this._getNewSelectedIndex(e);r===e?this._renderSelectedValue(r):this.option("selectedIndex",r),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return vt(e)}_toggleActive(e){this.$element().toggleClass(Uae,e)}_isVisible(){return V(this.container()).is(":visible")}_fireSelectedIndexChanged(e,r){this._selectedIndexChanged({value:e,previousValue:r,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass(Gae,e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),r=this._fitIndex(e);r===e?this._renderActiveStateItem():this.option("selectedIndex",r)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}Rt("dxDateViewRoller",CL);var Dy="dx-dateview",Yae="dx-dateview-compact",Zae="dx-dateview-wrapper",Qae="dx-dateview-rollers",Jae="dx-dateviewroller",vA={date:"date",datetime:"datetime",time:"time"},ei={year:"year",month:"month",day:"day",hours:"hours"},wL=ha.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===vA.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return Y(this.callBase(),{minDate:Wt.MIN_DATEVIEW_DEFAULT_DATE,maxDate:Wt.MAX_DATEVIEW_DEFAULT_DATE,type:vA.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return t.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(Dy),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(Dy+"-"+t),e&&this.$element().removeClass(Dy+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(Yae,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=V("<div>").addClass(Zae),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=V("<div>").addClass(Qae)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;te(t._rollerConfigs,function(e){var r=V("<div>").appendTo(t._$rollersContainer).addClass(Jae+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(r,CL,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex"))},onEnd:function(n){var i=n.component;i._toggleActive(!1)},onClick:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged:function(n){var i=n.component;t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},_t.getFormatParts(Wt.FORMATS_MAP[t]).forEach(function(r){e._createRollerConfig(r)})},_createRollerConfig:function(t){for(var e=Wt.DATE_COMPONENTS_INFO[t],r=this._calculateRollerConfigValueRange(t),n=r.startValue,i=r.endValue,a=e.formatter,o=this._getCurrentDate(),s={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(p){return p[e.getter]()-n}},l=n;l<=i;l++)s.valueItems.push(l),s.displayItems.push(a(l,o));s.selectedIndex=s.getIndex(o),this._rollerConfigs[t]=s},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];te(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition:function(){var t=this;te(this._rollers,function(e){var r=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",r)})},_setRollerState:function(t,e){if(e!==t.selectedIndex){var r=t.valueItems[e],n=t.setValue,i=new Date(this._getCurrentDate()),a=i.getDate(),o=this.option("minDate"),s=this.option("maxDate");t.type===ei.month?a=Math.min(a,Wt.getMaxMonthDay(i.getFullYear(),r)):t.type===ei.year&&(a=Math.min(a,Wt.getMaxMonthDay(r,i.getMonth()))),i.setDate(a),i[n](r);var l=Ze.normalizeDate(i,o,s);i=Wt.mergeDates(l,i,"time"),i=Ze.normalizeDate(i,o,s),this.option("value",i),t.selectedIndex=e}t.type===ei.year&&this._refreshRollers(),t.type===ei.month&&(this._refreshRoller(ei.day),this._refreshRoller(ei.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var r=this._rollerConfigs[t];(t===ei.day||r.displayItems.toString()!==e.option("items").toString())&&e.option({items:r.displayItems,selectedIndex:r.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),r=this.option("maxDate");return Ze.normalizeDate(t,e,r)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),r=this.option("minDate"),n=this.option("maxDate"),i=Ze.sameYear(e,r),a=i&&e.getMonth()===r.getMonth(),o=Ze.sameYear(e,n),s=o&&e.getMonth()===n.getMonth(),l=a&&e.getDate()===r.getDate(),p=s&&e.getDate()===n.getDate(),h=Wt.DATE_COMPONENTS_INFO[t],m=h.startValue,v=h.endValue;return t===ei.year&&(m=r.getFullYear(),v=n.getFullYear()),t===ei.month&&(i&&(m=r.getMonth()),o&&(v=n.getMonth())),t===ei.day&&(v=Wt.getMaxMonthDay(e.getFullYear(),e.getMonth()),i&&a&&(m=r.getDate()),o&&s&&(v=n.getDate())),t===ei.hours&&(m=l?r.getHours():m,v=p?n.getHours():v),{startValue:m,endValue:v}},_refreshRollers:function(){this._refreshRoller(ei.month),this._refreshRoller(ei.day),this._refreshRoller(ei.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Rt("dxDateView",wL);var eoe=pt(),toe=n_.inherit({NAME:"DateView",getDefaultOptions:function(){return Y(this.callBase(),{openOnFieldClick:!0,applyButtonText:he.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||Wt.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var r=e.platform;return r==="generic"||r==="ios"},options:{width:"auto",height:"auto"}},{device:function(e){var r=e.platform,n=e.phone;return r==="generic"&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:eoe}}}]}},_renderWidget:function(){if(Eg(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=V("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return wL},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*Wt.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),roe=n_.inherit({NAME:"Native",popupConfig:function(t){return Y({},t,{width:"auto"})},getParsedText:function(t){return t?this.dateBox.option("type")==="datetime"?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):Wt.fromStandardDateFormat(t):null},renderPopupContent:oe,_getWidgetName:oe,_getWidgetOptions:oe,_getDateBoxType:function(){var t=this.dateBox.option("type");return Wt.SUPPORTED_FORMATS.includes(t)?t==="datetime"&&!Eg(t)&&(t="datetime-local"):t="date",t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");Ue.real().android&&t&&t.on("click",(function(){this.dateBox._input().get(0).click()}).bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||Wt.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:Vr.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Vr.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),noe="dx-box",ioe="dx-box-flex",aoe="dx-box-item",xL="dxBoxItemData",ooe=1,soe={row:"minWidth",col:"minHeight"},loe={row:"maxWidth",col:"maxHeight"},gA={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},_A={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},uoe={row:"row",col:"column"},pu=(t,e,r)=>{if(r=uc(e,r),t.style[Vl(e)]=r,!lt()){if(r===""||!q(r))return;var n=ax(e),i=n+": "+r+";";V3(t,i,!1)}};class coe extends zl{_renderVisible(e,r){super._renderVisible(e),q(r)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:r})}}class doe{constructor(e,r){this._$element=e,this._option=r}renderBox(){this._$element.css({display:xm("flexDirection")+"flex"}),pu(this._$element.get(0),"flexDirection",uoe[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in gA?gA[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in _A?_A[e]:e}renderItems(e){var r=xm("flexDirection"),n=this._option("direction");te(e,function(){var i=V(this),a=i.data(xL);i.css({display:r+"flex"}).css(loe[n],a.maxSize||"none").css(soe[n],a.minSize||"0"),pu(i.get(0),"flexBasis",a.baseSize||0),pu(i.get(0),"flexGrow",a.ratio),pu(i.get(0),"flexShrink",q(a.shrink)?a.shrink:ooe),i.children().each((o,s)=>{V(s).css({width:"auto",height:"auto",display:xm("flexDirection")+"flex",flexBasis:0}),pu(s,"flexGrow",1),pu(s,"flexDirection",V(s)[0].style.flexDirection||"column")})})}}class bs extends Ul{_getDefaultOptions(){return Y(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return aoe}_itemDataKey(){return xL}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass(ioe),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new doe(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(e,r){this._queue.push({$item:e,config:r})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(noe),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){for(super._renderItems(e);this._queueIsNotEmpty();){var r=this._shiftItemFromQueue();this._createComponent(r.$item,bs,Y({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},r.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(e){var r=e.itemData&&e.itemData.node;return r?this._renderItemContentByNode(e,r):super._renderItemContent(e)}_postprocessRenderItem(e){var r=e.itemData.box;r&&this._pushItemToQueue(e.itemContent,r)}_createItemByTemplate(e,r){return r.itemData.box?e.source?e.source():V():super._createItemByTemplate(e,r)}_itemOptionChanged(e,r,n,i){r==="visible"&&this._onItemStateChanged({name:r,state:n,oldState:i!==!1}),super._itemOptionChanged(e,r,n)}_optionChanged(e){switch(e.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){var e=super._itemOptions();return e.fireItemStateChangedAction=r=>{this._onItemStateChanged(r)},e}}bs.ItemClass=coe;Rt("dxBox",bs);var hoe="dx-timeview",foe="dx-timeview-clock",poe="dx-timeview-field",moe="dx-timeview-hourarrow",voe="dx-timeview-time-separator",goe="dx-timeview-format12",Ry=-1,Py=1,_oe="dx-timeview-minutearrow",yA=function(t,e,r){yoe(t,e,r)},yoe=function(t,e,r){t.css("transform","rotate("+e+"deg) translate(0,"+r+"px)")},SL=ha.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(hoe)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=V("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,bs,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,r){this._$hourArrow=V("<div>").addClass(moe),this._$minuteArrow=V("<div>").addClass(_oe);var n=V(r);n.addClass(foe).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,r=t.getMinutes()/60*360;yA(this._$hourArrow,e,this.option("_arrowOffset")),yA(this._$minuteArrow,r,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:V("<div>").addClass(voe).text(_t.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent(V("<div>").addClass(poe),bs,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this._hourBox=this._createComponent(V("<div>"),$v,Y({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:r=>this._keyboardHandler(r)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(t){var{value:e,component:r}=t,n=this._getValue(),i=new Date(n),a=this._convertMaxHourToMin(e);r.option("value",a),this._isPM()&&(a+=12),i.setHours(a),Wt.normalizeTime(i),this.option("value",i)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this._minuteBox=this._createComponent(V("<div>"),$v,Y({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:r,component:n}=e,i=(60+r)%60;n.option("value",i);var a=new Date(this._getValue());a.setMinutes(i),Wt.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()));t.setAria("label","minutes")},_createFormat12Box:function(){var t=_t.getPeriodNames(),e=this._format12=this._createComponent(V("<div>").addClass(goe),r_,{items:[{value:Ry,text:t[0]},{value:Py,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:r=>this._keyboardHandler(r),onValueChanged:r=>{var{value:n}=r,i=this._getValue().getHours(),a=new Date(this._getValue()),o=(i+12*n)%24;a.setHours(o),this.option("value",a)},value:this._getValue().getHours()>=12?Py:Ry,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),r=e>=12,n=r?Py:Ry;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});Rt("dxTimeView",SL);var boe=pt(),Coe=573,woe="dx-datebox-adaptivity-mode",bA="dx-datebox-datetime-time-side",xoe=bL.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return Y(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return Ze.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return _t.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(V("<div>"),SL,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(woe,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((function(){this._getPopup()&&this._getPopup().repaint()}).bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,e!==void 0):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();!e&&!t&&(e=new Date,Wt.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return ot(boe)<=Coe},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(V("<div>").appendTo(t),bs,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(e,r,n){var i=V("<div>");switch(e.name){case"calendar":i.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(bA),i.append(this._timeView.$element()));break;case"time":i.append(this._timeView.$element()),V(n).addClass(bA)}return i}).bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return Y(e,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(e){e.shiftKey&&(e.preventDefault(),t.focus())})},_preventFocusOnPopup:function(t){V(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=(t=this._widget.option("value"))!==null&&t!==void 0?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),Soe=pt(),Eoe="date",Ioe={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},Toe=n_.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:t,applyValueMode:e}=this.option();t&&e==="instantly"&&this.close()},space:oe,home:oe,end:oe}},getDefaultOptions:function(){return Y(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(t===-1)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return kc},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);e===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,r=0,n=this._widgetItems.length;r<n;r++)if(this._areDatesEqual(t,this._widgetItems[r])){e=r;break}return e},_areDatesEqual:function(t,e){return Kn(t)&&Kn(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),r=this.dateBox.dateOption("value")||null,n=e-t,i=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>Wt.ONE_DAY&&(n=Wt.ONE_DAY),r-t<Wt.ONE_DAY?this._getRangeItems(t,new Date(t),n):(t=this._getBoundaryDate("min"),t.setMinutes(i),r&&Math.abs(r-e)<Wt.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-i))*Wt.ONE_MINUTE),this._getRangeItems(t,new Date(t),n)))},_getRangeItems:function(t,e,r){for(var n=[],i=this.dateBox.option("interval");e-t<=r;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+i);return n},_getBoundaryDate:function(t){var e=Ioe[t],r=new Date(vr(this.dateBox.dateOption("value"),0));return new Date(r.getFullYear(),r.getMonth(),r.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return _t.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if(this.dateBox.option("applyValueMode")!=="useButtons"){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),r=t.getHours(),n=t.getMinutes(),i=t.getSeconds(),a=t.getFullYear(),o=t.getMonth(),s=t.getDate();return e?(this.dateBox.option("dateSerializationFormat")?e=Vr.deserializeDate(e):e=new Date(e),e.setHours(r),e.setMinutes(n),e.setSeconds(i),e.setFullYear(a),e.setMonth(o),e.setDate(s)):e=new Date(a,o,s,r,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=SS(this.dateBox.option("dropDownOptions.height"));if(t===void 0||t==="auto"){this.dateBox._setPopupOption("height","auto");var e=xt(this._widget.$element()),r=.45*vt(Soe);this.dateBox._setPopupOption("height",Math.min(e,r))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var r=this.callBase(t,e);return r&&(r=Wt.mergeDates(r,new Date(null),Eoe)),r}}),ud=pt(),cd="dx-datebox",Ooe="dx-auto-width",koe="dx-show-invalid-badge",Aoe="dx-clear-button-area",zp="dx-datebox-wrapper",Doe="dx-dropdowneditor-overlay",pi={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Ri={date:"date",datetime:"datetime",time:"time"},dd={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},Roe={Calendar:bL,DateView:toe,Native:roe,CalendarWithTime:xoe,List:Toe},Poe=ES.inherit({_supportedKeys:function(){return Y(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return Y(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:pi.calendar,invalidDateMessage:he.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:he.format("validation-range"),applyButtonText:he.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=Ue.real(),e=t.platform;return e==="ios"||e==="android"},options:{pickerType:pi.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=Y({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t===pi.list&&(e===Ri.datetime||e===Ri.date)&&(t=pi.calendar),e===Ri.time&&t===pi.calendar&&(t=pi.list),this.option("showDropDownButton",Ue.real().platform!=="generic"||t!==pi.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option(Y({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=Roe[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),r=/d|M|Y/g.test(t),n="";return r&&(n+=Ri.date),e&&(n+=Ri.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===pi.rollers?dd.dateView:e===pi.native?dd.native:t===Ri.date?dd.calendar:t===Ri.datetime?dd.calendarWithTime:dd.list},_initMarkup:function(){this.$element().addClass(cd),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(Ooe,!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){if(this._popup){var t,e;(t=(e=this._strategy)._updatePopupHeight)===null||t===void 0||t.call(e)}},_refreshFormatClass:function(){var t=this.$element();te(Ri,function(e,r){t.removeClass(cd+"-"+r)}),t.addClass(cd+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();te(pi,function(e,r){t.removeClass(cd+"-"+r)}),t.addClass(cd+"-"+this._pickerType)},_formatValidationIcon:function(){if(lt()){var t=this._input().get(0),e=this.option("rtlEnabled"),r=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),i=parseFloat(ud.getComputedStyle(t).width)-r,a=n.width>i,o=t.style;this.$element().toggleClass(koe,!a&&this.option("_showValidationIcon")),a?(this._storedPadding===void 0&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?o.paddingLeft=0:o.paddingRight=0):e?o.paddingLeft=this._storedPadding+"px":o.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&this._input().val()===""){var e=this.$element().find("."+Aoe).get(0);t=parseFloat(ud.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=_t.format(Wt.getLongestDate(t,_t.getMonthNames(),_t.getDayNames()),t),r=this._input(),n=r.get(0),i=EH(r,e),a=this._storedPadding!==void 0,o=a?this._storedPadding:0;i.appendTo(this.$element());var s=parseFloat(ud.getComputedStyle(i.get(0)).width),l=parseFloat(ud.getComputedStyle(n).paddingRight),p=parseFloat(ud.getComputedStyle(n).paddingLeft),h=s+p+l+o;return i.remove(),{width:h,leftPadding:p,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(zp),this._renderPopupWrapper()},_getPopupToolbarItems(){var t,e,r,n=this.callBase();return(t=(e=(r=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(r,n))!==null&&t!==void 0?t:n},_popupConfig:function(){var t=this.callBase();return Y(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=Y({},Ri,pi);te(e,(function(r,n){t.removeClass(zp+"-"+n)}).bind(this)),this._popup.$wrapper().addClass(zp+"-"+this.option("type")).addClass(zp+"-"+this._pickerType).addClass(Doe)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===pi.rollers)return!0;var t=Ue.real().platform,e=this._isNativeType()&&(t==="ios"||t==="android");return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),r=Wt.SUBMIT_FORMATS_MAP[this.option("type")],n=e?Vr.serializeDate(t,e):Wt.toStandardDateFormat(t,r);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e=this.option("mode"),r;if(e==="text"){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));r=_t.format(t,n)}else{var i=this._getFormatByMode(e);i?r=_t.format(t,i):r=Wt.toStandardDateFormat(t,e)}return r},_getFormatByMode:function(t){return Eg(t)?null:Wt.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:e,type:r,validationError:n}=this.option(),i=this.dateOption("value");if(e===this._getDisplayedText(i)){this._recallInternalValidation(i,n);return}var a=this._getParsedDate(e),o=i??this._getDateByDefault(),s=Wt.mergeDates(o,a,r),l=a&&r==="time"?s:a;if(this._applyInternalValidation(l).isValid){var p=this._getDisplayedText(s);o&&s&&o.getTime()===s.getTime()&&p!==e?this._renderValue():this.dateValue(s,t)}},_recallInternalValidation(t,e){(!e||e.editorSpecific)&&(this._applyInternalValidation(t),this._applyCustomValidation(t))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),r=this._strategy.getParsedText(t,e);return r??void 0},_applyInternalValidation(t){var e=this.option("text"),r=!!e&&t!==null,n=!!t&&Kn(t)&&!isNaN(t.getTime()),i=n&&Ze.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),a=!r&&!t||i,o="";return n?i||(o=this.option("dateOutOfRangeMessage")):o=this.option("invalidDateMessage"),this._updateInternalValidationState(a,o),{isValid:a,isDate:n}},_updateInternalValidationState(t,e){this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:e}})},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),r=e&&e.getTime(),n=t&&t.getTime();return r!==n},_isTextChanged:function(t){var e=this.option("text"),r=t&&this._getDisplayedText(t)||"";return e!==r},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===Ri.time?he.format("dxDateBox-simulatedDataPickerTitleTime"):e===Ri.date||e===Ri.datetime?he.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this.dateValue(e,t.event),this.callBase()},_dispose:function(){var t;this.callBase(),(t=this._strategy)===null||t===void 0||t.dispose()},_isNativeType:function(){return this._pickerType===pi.native},_updatePopupTitle:function(){var t;(t=this._popup)===null||t===void 0||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");if(this.option("dateSerializationFormat")&&ur().forceIsoDateParsing)return this.option("dateSerializationFormat");if(qt(t))return"number";if(tt(t))return Vr.getDateSerializationFormat(t)},_updateValue:function(t){this.callBase(),this._applyInternalValidation(t??this.dateOption("value"))},dateValue:function(t,e){var r=this._isValueChanged(t);return r&&e&&this._saveValueChangeEvent(e),r||(this._isTextChanged(t)?this._updateValue(t):this.option("text")===""&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(arguments.length===1)return Vr.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return Vr.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),t===null&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),t===null&&this._applyInternalValidation(null)}}),mu="dateBoxMask",No=1,vu=-1,Moe=Poe.inherit({_supportedKeys(t){var e=this.callBase(t),r=i=>{var a=e[Cr(i)];return a&&a.apply(this,[i])},n=(i,a)=>this._shouldUseOriginalHandler(i)?r.apply(this,[i]):a.apply(this,[i]);return Y({},e,{del:i=>n(i,a=>{this._revertPart(No),this._isAllSelected()||a.preventDefault()}),backspace:i=>n(i,a=>{this._revertPart(vu),this._isAllSelected()||a.preventDefault()}),home:i=>n(i,a=>{this._selectFirstPart(),a.preventDefault()}),end:i=>n(i,a=>{this._selectLastPart(),a.preventDefault()}),escape:i=>n(i,a=>{this._revertChanges(a)}),enter:i=>n(i,()=>{this._enterHandler()}),leftArrow:i=>n(i,a=>{this._selectNextPart(vu),a.preventDefault()}),rightArrow:i=>n(i,a=>{this._selectNextPart(No),a.preventDefault()}),upArrow:i=>n(i,a=>{this._upDownArrowHandler(No),a.preventDefault()}),downArrow:i=>n(i,a=>{this._upDownArrowHandler(vu),a.preventDefault()})})},_shouldUseOriginalHandler(t){var e=this.option("opened")&&t&&["backspace","del"].indexOf(Cr(t))===-1;return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),r=this._getActivePartValue(),n=r-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions(){return Y(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:e,alt:r}=t,n=e.data||e.key;return typeof n=="string"&&n.length===1&&!r&&!tn(e)},_isSingleDigitKey(t){var e,r=(e=t.originalEvent)===null||e===void 0?void 0:e.data;return(r==null?void 0:r.length)===1&&parseInt(r,10)},_useBeforeInputEvent:function(){return Ue.real().android},_keyInputHandler(t,e){var r=this._input().val();this._processInputKey(e),t.preventDefault();var n=r!==this._input().val();n&&X.trigger(this._input(),"input")},_keyboardHandler(t){var e=t.originalEvent.key,r=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(mr.chrome&&t.key==="Process"&&t.code.indexOf("Digit")===0?(e=t.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,e)),r},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:e}=t.originalEvent;e==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var r=e==="deleteContentBackward",n=e==="deleteContentForward";if(r||n){var i=r?vu:No;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(i)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(t))){var a=t.originalEvent.data;return this._keyInputHandler(t,a),!0}},_keyPressHandler(t){var{originalEvent:e}=t;(e==null?void 0:e.inputType)==="insertCompositionText"&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=tt(t)&&!_t._getPatternByFormat(t);return e?this._formatPattern=t:this._formatPattern=Ix(function(r){return _t.format(r,t)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t=this.option("type")==="time"?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var e=String(t).length,r=this._getActivePartProp("pattern").length,n=r===1,i=n?e:Math.min(r,e),a=this._searchValue.length===i,o=parseInt(this._searchValue+"0")>t;return a||o},_searchNumber(t){var{max:e}=this._getActivePartLimits(),r=String(e).length;this._searchValue=(this._searchValue+t).substr(-r),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(No)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),r=this._searchValue+t.toLowerCase(),n=e.max-e.min,i=0;i<=n;i++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(i+1),this._getActivePartProp("text").toLowerCase().indexOf(r)===0){this._searchValue=r;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=s6(this._getFormatPattern(),_t);var t=this._regExpInfo.regexp,e=t.source,r=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),i=e.split(n).map(a=>n.test(a)?a:nr.convertDigits(a,!1)).join("");this._regExpInfo.regexp=new RegExp(i,r)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=Yie(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){X.off(this._input(),"."+mu)},_attachMaskEvents(){X.on(this._input(),Ee("dxclick",mu),this._maskClickHandler.bind(this)),X.on(this._input(),Ee("paste",mu),this._maskPasteHandler.bind(this)),X.on(this._input(),Ee("drop",mu),()=>{this._renderSelectedPart()}),X.on(this._input(),Ee("compositionend",mu),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&X.on(this._input(),Ee("beforeinput",mu),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(vu))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(No))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?No:vu,t)},_selectNextPart(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){t&&(this._initialMaskValue=new Date(this._maskValue));var e=En(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var r=e===0&&t<0||e===this._dateParts.length-1&&t>0;if(r)e=this._activePartIndex;else{this._selectNextPart(t>=0?t+1:t-1);return}}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return Me(e)?e(t):t[e]()},_addLeadingZeroes(t){var e=this._searchValue.match(/^0+/),r=this._getActivePartLimits(),n=String(r.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue(t,e){e=e||this._maskValue;var r=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=co(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes(En(t,n.min,n.max)),Me(r)?r(e,t):e[r](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(t){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&this.option("type")==="date"&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,e){this._setNewDateIfEmpty();var{max:r,min:n}=this._getActivePartLimits(e),i=r-n;i===1&&i++;var a=t+this._getActivePartValue();a>r?a=this._applyLimits(a,{limitBase:n,limitClosest:r,limitDelta:i}):a<n&&(a=this._applyLimits(a,{limitBase:r,limitClosest:n,limitDelta:i})),this._setActivePartValue(a)},_applyLimits(t,e){var{limitBase:r,limitClosest:n,limitDelta:i}=e,a=(t-n)%i;return a?r+a-1*cc(a):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=Zie(this._dateParts,this._caret().start),this._isAllSelected()||(q(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),kC(t)),r=_t.parse(e,this._getFormatPattern());r&&this._isDateValid(r)&&(this._maskValue=r,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>Kn(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&X.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(No)},_focusOutHandler(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?this._maskValue===null&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});Rt("dxDateBox",Moe);var{isWrapped:Boe}=Fn,Loe="checkbox-size",Foe="dx-editor-inline-block",EL=function(){var t=function(h,m){return Y(h,{readOnly:m.readOnly,placeholder:m.placeholder,inputAttr:{id:m.id,"aria-labelledby":m["aria-labelledby"]},tabIndex:m.tabIndex},m.editorOptions)},e=function(){return mr.mozilla||Ue.real().ios},r=function(h){var m={},v=e(),f=h.sharedData||m;return t({placeholder:h.placeholder,width:h.width,value:h.value,onValueChanged:function(u){var c=h.parentType==="filterRow"||h.parentType==="searchPanel",d=u.event&&(u.event.type==="input"||u.event.type==="keyup"),_=function(g,y){h&&h.setValue(g.value,y)};clearTimeout(m.valueChangeTimeout),d&&c?f.valueChangeTimeout=m.valueChangeTimeout=setTimeout(function(){_(u,m.valueChangeTimeout!==f.valueChangeTimeout)},q(h.updateValueTimeout)?h.updateValueTimeout:0):_(u)},onKeyDown:function(u){v&&Cr(u.event)==="enter"&&X.trigger(V(u.component._input()),"change")},valueChangeEvent:"change"+(h.parentType==="filterRow"?" keyup input":"")},h)},n=function(h){h.editorName="dxDateBox",h.editorOptions=t({value:h.value,onValueChanged:function(m){h.setValue(m.value)},onKeyDown:function(m){var{component:v,event:f}=m,u=v.option("useMaskBehavior");(e()||u)&&Cr(f)==="enter"&&(v.blur(),v.focus())},displayFormat:h.format,type:h.dataType,dateSerializationFormat:null,width:h.parentType==="filterBuilder"?void 0:"auto"},h)},i=function(h){var m=r(h),v=h.parentType==="searchPanel";h.editorType&&h.editorType!=="dxTextBox"?m.value=h.value:m.value=(f=h.value,q(f)?f.toString():"");var f;m.valueChangeEvent+=v?" keyup input search":"",m.mode=m.mode||(v?"search":"text"),h.editorName="dxTextBox",h.editorOptions=m},a=function(h){var m=r(h);m.value=q(h.value)?h.value:null,h.editorName="dxNumberBox",h.editorOptions=m};function o(h){var m=h.lookup,v,f,u,c=h.parentType==="filterRow";if(m){var d;v=er(m.displayExpr),f=m.dataSource,Me(f)&&!Boe(f)&&(f=f(h.row||{}),function(g){if(g.row&&g.row.watch&&g.parentType==="dataRow"){var y=g.editorOptions||{};g.editorOptions=y;var b,C=y.onInitialized;y.onInitialized=function(A){C&&C.apply(this,arguments),b=A.component,b.on("disposing",x)};var w,x=g.row.watch(()=>(w=g.lookup.dataSource(g.row),w&&w.filter),()=>{b.option("dataSource",w)},A=>{g.row=A})}}(h)),(rt(f)||Array.isArray(f))&&(f=Oc(f),c&&(u=f.postProcess,f.postProcess=function(g){return this.pageIndex()===0&&(g=g.slice(0),g.unshift(null)),u?u.call(this,g):g}));var _=!!(m.allowClearing&&!c);h.editorName=(d=h.editorType)!==null&&d!==void 0?d:"dxSelectBox",h.editorOptions=t({searchEnabled:!0,value:h.value,valueExpr:h.lookup.valueExpr,searchExpr:h.lookup.searchExpr||h.lookup.displayExpr,allowClearing:_,showClearButton:_,displayExpr:function(g){return g===null?h.showAllText:v(g)},dataSource:f,onValueChanged:function(g){var y=[g.value];!c&&y.push(g.component.option("text")),h.setValue.apply(this,y)}},h)}}function s(h){h.editorName="dxCheckBox",h.editorOptions=t({elementAttr:{id:h.id},value:q(h.value)?h.value:void 0,hoverStateEnabled:!h.readOnly,focusStateEnabled:!h.readOnly,activeStateEnabled:!1,onValueChanged:function(m){h.setValue&&h.setValue(m.value,m)}},h)}var l=h=>{h.editorName=h.editorType,h.editorOptions=t({value:h.value,onValueChanged:function(m){h.setValue(m.value)}},h)},p=h=>{var m={dxDateBox:n,dxCheckBox:s,dxNumberBox:a,dxTextBox:i};if(h.lookup)o(h);else if(h.editorType){var v;((v=m[h.editorType])!==null&&v!==void 0?v:l)(h)}else switch(h.dataType){case"date":case"datetime":n(h);break;case"boolean":(function(f){f.parentType==="filterRow"||f.parentType==="filterBuilder"?o(Y(f,{lookup:{displayExpr:function(u){if(u===!0)return f.trueText||"true";if(u===!1)return f.falseText||"false"},dataSource:[!0,!1]}})):s(f)})(h);break;case"number":a(h);break;default:i(h)}};return{createEditor:function(h,m){m.cancel=!1,m.editorElement=et(h),q(m.tabIndex)||(m.tabIndex=this.option("tabIndex")),p(m),this.executeAction("onEditorPreparing",m),!m.cancel&&(m.parentType==="dataRow"&&!m.isOnForm&&!q(m.editorOptions.showValidationMark)&&(m.editorOptions.showValidationMark=!1),function(v,f){var u=V(f.editorElement);if(f.editorName&&f.editorOptions&&u[f.editorName]){if((f.editorName==="dxCheckBox"||f.editorName==="dxSwitch")&&(f.isOnForm||(u.addClass(v.addWidgetPrefix(Loe)),u.parent().addClass(Foe))),v._createComponent(u,f.editorName,f.editorOptions),f.editorName==="dxDateBox"){var c=u.dxDateBox("instance"),d=c._supportedKeys().enter;c.registerKeyHandler("enter",_=>(c.option("opened")&&d(_),!0))}f.editorName==="dxTextArea"&&u.dxTextArea("instance").registerKeyHandler("enter",function(_){Cr(_)==="enter"&&!_.ctrlKey&&!_.shiftKey&&_.stopPropagation()})}}(this,m),this.executeAction("onEditorPrepared",m))}}}(),Noe="dx-editor-inline-block",My="dx-cell-focus-disabled",CA="focus-overlay",Voe="content",By="dx-focused",Hoe="dx-row",IL="dxDataGridEditorFactory",wA=Ee([Mt.down,"focusin",jt].join(" "),IL),Ly="dx-hidden",joe=ar.ViewController.inherit(EL);let $oe=class extends joe{_getFocusedElement(e){var r=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(r,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),i=e.find(n);return this.elementIsInsideGrid(i)&&i}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var e=this.component&&this.component.$element();if(e){var r=this._getFocusedElement(e);if(r&&r.length){var n;if(!r.hasClass(My)&&!r.hasClass(Hoe)){var i=r.closest("".concat(this._getFocusCellSelector(),", .").concat(My));i.get(0)!==r.get(0)&&(n=this._needHideBorder(i),r=i)}if(r.length&&!r.hasClass(My)){this.focus(r,n);return}}}this.loseFocus()}_needHideBorder(e){return e.hasClass(Noe)}_updateFocus(e){var r=this,n=e&&e.event&&V(e.event.target).hasClass(r.addWidgetPrefix(CA));r._isFocusOverlay=r._isFocusOverlay||n,clearTimeout(r._updateFocusTimeoutID),r._updateFocusTimeoutID=setTimeout(()=>{delete r._updateFocusTimeoutID,r._isFocusOverlay||r._updateFocusCore(),r._isFocusOverlay=!1})}_updateFocusOverlaySize(e,r){e.hide();var n=ca.calculate(e,Y({collision:"fit"},r));n.h.oversize>0&&SI(e,Pt(e)-n.h.oversize),n.v.oversize>0&&EI(e,xt(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}focus(e,r){var n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(By),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,r),e.addClass(By),n.focused.fire(e)}))}refocus(){var e=this.focus();this.focus(e)}renderFocusOverlay(e,r){if(Te.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=V("<div>").addClass(this.addWidgetPrefix(CA))),r)this._$focusOverlay.addClass(Ly);else if(e.length){var n=mr.mozilla?"right bottom":"left top",i=e.closest(".".concat(this.addWidgetPrefix(Voe))),a=Hr(e.get(0));this._$focusOverlay.removeClass(Ly).appendTo(i),EI(this._$focusOverlay,a.bottom-a.top+1),SI(this._$focusOverlay,a.right-a.left+1);var o={precise:!0,my:n,at:n,of:e,boundary:i.length&&i};this._updateFocusOverlaySize(this._$focusOverlay,o),ca.setup(this._$focusOverlay,o),this._$focusOverlay.css("visibility","visible")}}}resize(){var e=this._$focusedElement;e&&this.focus(e)}loseFocus(){this._$focusedElement&&this._$focusedElement.removeClass(By),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(Ly)}init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),X.on(this._subscribedContainerRoot,wA,this._updateFocusHandler),this._attachContainerEventHandlers()}_getContainerRoot(){var e,r=(e=this.component)===null||e===void 0?void 0:e.$element(),n=Ce.getRootNode(r==null?void 0:r.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?Ce.getDocument():n}_attachContainerEventHandlers(){var e=this,r=e.component&&e.component.$element();r&&X.on(r,Ee("keydown",IL),n=>{Cr(n)==="tab"&&e._updateFocusHandler(n)})}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),X.off(this._subscribedContainerRoot,wA,this._updateFocusHandler)}};var zoe={defaultOptions:()=>({}),controllers:{editorFactory:$oe}};Qe.registerModule("editorFactory",zoe);var Wp=pt(),Woe={text:"OK",onClick:function(){return!0}},Kl="dx-dialog",Uoe="".concat(Kl,"-wrapper"),Goe="".concat(Kl,"-root"),Koe="".concat(Kl,"-content"),qoe="".concat(Kl,"-message"),Xoe="".concat(Kl,"-buttons"),Yoe="".concat(Kl,"-button"),xA="dx-button",Zoe=function(t){var e,r=new ae;t=t||{};var n=V("<div>").addClass(Kl).appendTo(gs()),i="message"in t,a="messageHtml"in t;i&&Et.log("W1013");var o=String(a?t.messageHtml:t.message),s=V("<div>").addClass(qoe).html(o),l=[];te(t.buttons||[Woe],function(){var m=new ai(this.onClick,{context:p});l.push({toolbar:"bottom",location:Ue.current().android?"after":"center",widget:"dxButton",options:Y({},this,{onClick:function(){var v=m.execute(...arguments);h(v)}})})});var p=new ma(n,Y({title:(e=t.title)!==null&&e!==void 0?e:"",showTitle:vr(t.showTitle,!0),dragEnabled:vr(t.dragEnabled,!0),height:"auto",width:t.width,showCloseButton:t.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:Wp,dragAndResizeArea:Wp,onContentReady:function(m){m.component.$content().addClass(Koe).append(s)},onShowing:function(m){m.component.bottomToolbar().addClass(Xoe).find(".".concat(xA)).addClass(Yoe),Ec()},onShown:function(m){var v=m.component.bottomToolbar().find(".".concat(xA)).first();X.trigger(v,"focus")},onHiding:function(){r.reject()},onHidden:function(m){var{element:v}=m;V(v).remove()},toolbarItems:l,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:ur().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},t.popupOptions));p.$wrapper().addClass(Uoe),t.position&&p.option("position",t.position),p.$wrapper().addClass(Goe);function h(m){r.resolve(m),p.hide()}return{show:function(){if(Ue.real().deviceType==="phone"){var m=vt(Wp)>ot(Wp),v=m?"90%":"60%";p.option({width:v})}return p.show(),r.promise()},hide:h}},Qoe=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=yt(t)?t:{title:e,messageHtml:t,showTitle:r,buttons:[{text:he.format("Yes"),onClick:function(){return!0}},{text:he.format("No"),onClick:function(){return!1}}],dragEnabled:r};return Zoe(n).show()},i_="dx-editor-cell",Wo="dx-row",Joe="dx-cell-modified",SA="dx-selection",Uv="edit-form",Ea="insert",Qa="remove",Lm="editing.popup",Fy="editing.form",gi="editing.editRowKey",al="editing.editColumnName",TL="targetComponent",OL="input:not([type='hidden'])",kS="[tabindex]:not([disabled]), ".concat(OL,":not([disabled])"),fc="batch",Cs="row",Vh="cell",Ac="form",AS="popup",EA="first",Up="last",IA="pageBottom",Ny="pageTop",TA="viewportBottom",kL="viewportTop",ese=[fc,Cs,Vh,Ac,AS],tse=[Cs,Ac,AS],rse=[fc,Cs,Vh],nse=[Cs,Ac],ise="readonly",ase="dx-link",ose="dx-link-icon",sse="dx-selection",lse="dx-edit-button",AL="dx-command-edit",OA="".concat(AL,"-with-icons"),Vo="__DX_INSERT_INDEX__",use="dx-row-inserted",cse="dx-row-modified",kA="dx-cell-modified",dse="dxDataGridEditing",hse="dx-cell-focus-disabled",hd="update",fse="click",pse={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},mse={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},vse={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},gse={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},_se=["edit","save","cancel","delete","undelete"],Ja="editing.changes",yse="focus-overlay",bse="addrow-button",Cse="dx-dropdowneditor-overlay",wse="dx-data-row",xse="dx-row-removed",Sse=!!wi.IS_RENOVATED_WIDGET,DL="edit-form-item",Ese="edit-popup",Ise="edit-popup-form",Tse=Sse?"dx-scrollable":"dx-scrollable-container",Ose="dx-button",kse="form-buttons-container",AA="dx-edit-row",fw="_DX_KEY_",Ase=36,Gp=function(t){return function(e){var r=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");t.reject(r)}},RL=function(t,e){return e.isEditing||t&&e.column.allowEditing},DA=function(t,e){var r=!!e.column.command,n=RL(t,e),i=!r&&(n||e.column.showEditorAlways);return e.rowType==="data"&&i},Dse=t=>{var e=t.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},Rse=()=>"".concat(fw).concat(new Lr),Pse=t=>typeof t=="string"&&t.startsWith(fw)&&t.length===fw.length+Ase,gu=(t,e)=>{var r=-1;return t.some((n,i)=>{if(PL(n)===e)return r=i,!0}),r};function PL(t){return rt(t)?t.name:t}function Mse(t){return t&&(t.is("input")||t.is("textarea"))}var Bse=t=>{var e,{column:r}=t;return t.isCustomEditorType?t.editorType:(e=r.formItem)===null||e===void 0?void 0:e.editorType},ML=(t,e)=>{t.forEach(r=>{r.items||r.tabs?ML(r.items||r.tabs,e):e(r)})};class Lse extends ar.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>e.reject("cancel")),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[gi]=!0,this.component._optionsByReference[Ja]=!0}getEditMode(){var e=this.option("editing.mode");return ese.includes(e)?e:Cs}_getDefaultEditorTemplate(){return(e,r)=>{var n=V("<div>").appendTo(e),i=Y({},r.column,{value:r.value,setValue:r.setValue,row:r.row,parentType:"dataRow",width:null,readOnly:!r.setValue,isOnForm:r.isOnForm,id:r.id}),a=rse.includes(this.getEditMode());a&&(i["aria-labelledby"]=r.column.headerId),this.getController("editorFactory").createEditor(n,i)}}_getNewRowPosition(){var e=this.option("editing.newRowPosition"),r=this.option("scrolling.mode");if(r==="virtual")switch(e){case Ny:return kL;case IA:return TA;default:return e}return e}getChanges(){return this.option(Ja)}getInsertRowCount(){var e=this.option(Ja);return e.filter(r=>r.type==="insert").length}resetChanges(){var e=this.getChanges(),r=e==null?void 0:e.length;r&&this._silentOption(Ja,[])}_getInternalData(e){return this._internalState.filter(r=>Jt(r.key,e))[0]}_addInternalData(e){var r=this._getInternalData(e.key);return r?Y(r,e):(this._internalState.push(e),e)}_getOldData(e){var r;return(r=this._getInternalData(e))===null||r===void 0?void 0:r.oldData}getUpdatedData(e){var r=this._dataController.keyOf(e),n=this.getChanges(),i=Te.getIndexByKey(r,n);return n[i]?Jo(e,n[i].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===Ea).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===Qa).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e!=="cancel"){var r=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,r)}}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,r){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(r);break;case"undelete":n=!1}return n}_isButtonVisible(e,r){var{visible:n}=e;return q(n)?Me(n)?n.call(e,{component:r.component,row:r.row,column:r.column}):n:this._isDefaultButtonVisible(e,r)}_isButtonDisabled(e,r){var{disabled:n}=e;return Me(n)?n.call(e,{component:r.component,row:r.row,column:r.column}):!!n}_getButtonConfig(e,r){var n=rt(e)?e:{},i=PL(e),a=Dse(r),o=vse[i],s=this.option("editing"),l=gse[i],p=l?s[l]:!0;return Y({name:i,text:a[i],cssClass:pse[i]},{onClick:o&&(h=>{var{event:m}=h;m.stopPropagation(),m.preventDefault(),setTimeout(()=>{r.row&&p&&this[o]&&this[o](r.row.rowIndex)})})},n)}_getEditingButtons(e){var r,n=!!e.column.buttons,i=(e.column.buttons||[]).slice();return n?(r=gu(i,"edit"),r>=0&&(gu(i,"save")<0&&i.splice(r+1,0,"save"),gu(i,"cancel")<0&&i.splice(gu(i,"save")+1,0,"cancel")),r=gu(i,"delete"),r>=0&&gu(i,"undelete")<0&&i.splice(r+1,0,"undelete")):i=_se.slice(),i.map(a=>this._getButtonConfig(a,e))}_renderEditingButtons(e,r,n,i){r.forEach(a=>{this._isButtonVisible(a,n)&&this._createButton(e,a,n,i)})}_getEditCommandCellTemplate(){return(e,r,n)=>{var i=V(e);if(r.rowType==="data"){var a=this._getEditingButtons(r);this._renderEditingButtons(i,a,r,n),r.watch&&r.watch(()=>a.map(o=>({visible:this._isButtonVisible(o,r),disabled:this._isButtonDisabled(o,r)})),()=>{i.empty(),this._renderEditingButtons(i,a,r)})}else Te.setEmptyText(i)}}isRowBasedEditMode(){var e=this.getEditMode();return tse.includes(e)}getFirstEditableColumnIndex(){var e=this.getController("columns"),r,n=e.getVisibleColumns();return te(n,(i,a)=>{if(a.allowEditing)return r=i,!1}),r}getFirstEditableCellInRow(e){var r=this.getView("rowsView"),n=this.getFirstEditableColumnIndex();return r==null?void 0:r._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,r){return Te.getIndexByKey(e,r)}hasChanges(e){for(var r=this.getChanges(),n=!1,i=0;i<(r==null?void 0:r.length);i++)if(r[i].type&&(!q(e)||this._dataController.getRowIndexByKey(r[i].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),X.off(Ce.getDocument(),Mt.up,this._pointerUpEditorHandler),X.off(Ce.getDocument(),Mt.down,this._pointerDownEditorHandler),X.off(Ce.getDocument(),jt,this._saveEditorHandler)}_silentOption(e,r){e==="editing.changes"&&(this._changes=Fi([],r)),super._silentOption(e,r)}optionChanged(e){if(e.name==="editing"){var{fullName:r}=e;if(r===gi)this._handleEditRowKeyChange(e);else if(r===Ja){var n=Jt(e.value,this._changes,{maxDepth:4});n||(this._changes=Fi([],e.value),this._handleChangesChange(e))}else e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){var r=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(e.previousValue)+n;q(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(r,i):this.cancelEditData()}_handleChangesChange(e){var r=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(i=>{var a;if(i.type==="insert")this._addInsertInfo(i);else{var o=r.getCachedStoreData()||((a=r.items())===null||a===void 0?void 0:a.map(l=>l.data)),s=Te.getIndexByKey(i.key,o,r.key());this._addInternalData({key:i.key,oldData:o[s]})}}),r.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){q(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){var e=q(this.option(gi));return e}isEditRow(e){return!1}_setEditRowKey(e,r){r?this._silentOption(gi,e):this.option(gi,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(e,r){var n=this._dataController.getKeyByRowIndex(e);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,r)}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){var r=this._dataController.getKeyByRowIndex(e),n=q(r)&&Jt(this.option(gi),r);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,r){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===r}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,r,n){var i=-1,a=this._dataController,o=this._getInsertAfterOrBeforeKey(r);return!q(o)&&e.length===0?i=0:q(o)&&e.some((s,l)=>{var p=n||this._isProcessedItem(s);if(rt(s)&&(p||q(s[Vo])?Jt(s.key,o)&&(i=l):Jt(a.keyOf(s),o)&&(i=l)),i>=0){var h=e[i+1];return h&&(h.rowType==="detail"||h.rowType==="detailAdaptive")&&q(r.insertAfterKey)?void 0:(q(r.insertAfterKey)&&(i+=1),!0)}}),i}_generateNewItem(e){var r,n={key:e},i=(r=this._getInternalData(e))===null||r===void 0?void 0:r.insertInfo;return i!=null&&i[Vo]&&(n[Vo]=i[Vo]),n}_getLoadedRowIndex(e,r,n){var i=this._getInsertRowIndex(e,r,n),a=this._dataController;if(i<0){var o=this._getNewRowPosition(),s=a.pageIndex(),l=this._getInsertAfterOrBeforeKey(r);o!==Up&&s===0&&!q(l)?i=0:o===Up&&a.isLastPageLoaded()&&(i=e.length)}return i}processItems(e,r){var{changeType:n}=r;this.update(n);var i=this.getChanges();return i.forEach(a=>{var o,s=a.type===Ea;if(s){var{key:l}=a,p=(o=this._getInternalData(l))===null||o===void 0?void 0:o.insertInfo;(!q(l)||!q(p))&&(p=this._addInsertInfo(a),l=p.key);var h=this._getLoadedRowIndex(e,a),m=this._generateNewItem(l);h>=0&&e.splice(h,0,m)}}),e}processDataItem(e,r,n){var i=r.visibleColumns,a=e.data[Vo]?e.data.key:e.key,o=this.getChanges(),s=Te.getIndexByKey(a,o);e.isEditing=!1,s>=0&&this._processDataItemCore(e,o[s],a,i,n)}_processDataItemCore(e,r,n,i,a){var{data:o,type:s}=r;switch(s){case Ea:e.isNewRow=!0,e.key=n,e.data=o;break;case hd:e.modified=!0,e.oldData=e.data,e.data=Jo(e.data,o),e.modifiedValues=a(o,i,!0);break;case Qa:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){var r=new ae;return Ve(cn(e.promise)).done(r.resolve).fail(Gp(r)).fail(n=>this._fireDataErrorOccurred(n)),r}}_createInsertInfo(){var e={};return e[Vo]=this._getInsertIndex(),e}_addInsertInfo(e,r){var n,i;e.key=this.getChangeKeyValue(e);var{key:a}=e;if(i=(n=this._getInternalData(a))===null||n===void 0?void 0:n.insertInfo,!q(i)){var o=this._getInsertAfterOrBeforeKey(e);i=this._createInsertInfo(),q(o)||this._setInsertAfterOrBeforeKey(e,r)}return this._addInternalData({insertInfo:i,key:a}),{insertInfo:i,key:a}}getChangeKeyValue(e){if(q(e.key))return e.key;var r=this._dataController.key(),n;return e.data&&r&&!Array.isArray(r)&&(n=e.data[r]),q(n)||(n=Rse()),n}_setInsertAfterOrBeforeKey(e,r){var n=this._dataController,i=n.items(!0),a=this.getView("rowsView"),o=this._getNewRowPosition();switch(o){case EA:case Up:break;case Ny:case IA:if(i.length){var s=o===Ny?0:i.length-1;e[s===0?"insertBeforeKey":"insertAfterKey"]=i[s].key}break;default:var l=o===TA,p=l?a==null?void 0:a.getBottomVisibleItemIndex():a==null?void 0:a.getTopVisibleItemIndex(),h=n.getVisibleRows()[p];h&&(!h.isEditing&&h.rowType==="detail"||h.rowType==="detailAdaptive")&&p++;var m=n.getKeyByRowIndex(p);q(m)&&(e.insertBeforeKey=m)}}_getInsertIndex(){var e=0;return this.getChanges().forEach(r=>{var n,i=(n=this._getInternalData(r.key))===null||n===void 0?void 0:n.insertInfo;q(i)&&r.type===Ea&&i[Vo]>e&&(e=i[Vo])}),e+1}_getInsertAfterOrBeforeKey(e){var r;return(r=e.insertAfterKey)!==null&&r!==void 0?r:e.insertBeforeKey}_getPageIndexToInsertRow(){var e=this._getNewRowPosition(),r=this._dataController,n=r.pageIndex(),i=r.pageCount()-1;return e===EA&&n!==0?0:e===Up&&n!==i?i:-1}addRow(e){var r=this._dataController,n=r.store();return n?this._addRow(e):(r.fireError("E1052",this.component.NAME),new ae().reject())}_addRow(e){var r=this._dataController,n=r.store(),i=n&&n.key(),a={data:{}},o=this._getVisibleEditRowIndex(),s=new ae;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(i||(a.data.__KEY__=String(new Lr)),Ve(this._initNewRow(a,e)).done(()=>{this._allowRowAdding()?Ve(this._addRowCore(a.data,e,o)).done(s.resolve).fail(s.reject):s.reject("cancel")}).fail(s.reject),s.promise()):(Ve(this._navigateToNewRow(o)).done(s.resolve).fail(s.reject),s.promise())}_allowRowAdding(e){var r=this._getInsertIndex();return!(r>1)}_addRowCore(e,r,n){var i={data:e,type:Ea},a=this._getVisibleEditRowIndex(),o=this._addInsertInfo(i,r),{key:s}=o;return this._setEditRowKey(s,!0),this._addChange(i),this._navigateToNewRow(n,i,a)}_navigateToNewRow(e,r,n){var i=new ae,a=this._dataController,o=this.getController("focus");if(n=n??-1,r=r??this.getChanges().filter(m=>m.type===Ea)[0],!r)return i.reject("cancel").promise();var s=this._getPageIndexToInsertRow(),l=this._getLoadedRowIndex(a.items(),r,!0),p=m=>{Ve(o==null?void 0:o.navigateToRow(m)).done(()=>{l=a.getRowIndexByKey(r.key),i.resolve()})},h=this._getInsertAfterOrBeforeKey(r);return s>=0?a.pageIndex(s).done(()=>{p(r.key)}).fail(i.reject):l<0&&q(h)?p(h):(a.updateItems({changeType:"update",rowIndices:[e,n,l]}),l=a.getRowIndexByKey(r.key),l<0?p(r.key):i.resolve()),i.done(()=>{var m;(m=this._rowsView)===null||m===void 0||m.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(l),this._afterInsertRow(r.key)})}),i.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var r=this._dataController,n=this.getController("keyboardNavigation"),i=r.getKeyByRowIndex(e),a=this.getFirstEditableCellInRow(e);n==null||n.focus(a),this.option("focusedRowKey",i),this._editCellInProgress=!0,this._delayedInputFocus(a,()=>{e=r.getRowIndexByKey(i),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(){}_getVisibleEditColumnIndex(){var e=this.option(al);return q(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,r){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName((n=i[e])===null||n===void 0?void 0:n.name,r)}_setEditColumnName(e,r){r?this._silentOption(al,e):this.option(al,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var e=this.option(al);return this._getColumnByName(e)}_getColumnByName(e){var r=this._columnsController.getVisibleColumns(),n;return q(e)&&r.some(i=>{if(i.name===e)return n=i,!0}),n}_getVisibleEditRowIndex(e){var r=this._dataController,n=this.option(gi),i=r.getRowIndexByKey(n);return i===-1?i:i+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){var r=e?this._getColumnByName(e):this._getEditColumn(),n=(r==null?void 0:r.visibleWidth)==="adaptiveHidden";return n?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){var r,n=this._dataController,i=n.items(),a=i[e],o={data:a&&a.data,cancel:!1},s=this._getVisibleEditRowIndex();if(a){if(e===s)return!0;if(a.key===void 0){this._dataController.fireError("E1043");return}a.isNewRow||(o.key=a.key),!this._isEditingStart(o)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:a.key,oldData:(r=a.oldData)!==null&&r!==void 0?r:a.data}),this._setEditRowKey(a.key))}}_editRowFromOptionChanged(e,r){var n=[r,e];this._beforeUpdateItems(n,e,r),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,r,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,r){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}}_getCancelButtonConfig(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}}_removeInternalData(e){var r=this._getInternalData(e),n=this._internalState.indexOf(r);n>-1&&this._internalState.splice(n,1)}_updateInsertAfterOrBeforeKeys(e,r){var n=e[r];e.forEach(i=>{var a=this._getInsertAfterOrBeforeKey(i);Jt(a,n.key)&&(i[q(i.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})}_removeChange(e){if(e>=0){var r=[...this.getChanges()],{key:n}=r[e];this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(r,e),r.splice(e,1),this._silentOption(Ja,r),Jt(this.option(gi),n)&&this._resetEditIndices()}}executeOperation(e,r){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(r(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return Ve(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,r,n){this._needFocusEditor=!0,!e||!e.showEditorAlways||r&&!r.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==r&&this._dataController.updateItems({changeType:"update",rowIndices:[]})}_delayedInputFocus(e,r,n){var i=()=>{if(r&&r(),e){var a=e.find(kS).first();Te.focusAndSelectElement(this,a)}this._beforeFocusCallback=null};Ue.real().ios||Ue.real().android?i():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=r),this._inputFocusTimeoutID=setTimeout(i))}_focusEditingCell(e,r,n){var i=this.getView("rowsView"),a=this._getVisibleEditColumnIndex();r=r||i&&i._getCellElement(this._getVisibleEditRowIndex(),a),r&&this._delayedInputFocus(r,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){var r=this.option("editing"),n=r==null?void 0:r.texts,i=r==null?void 0:r.confirmDelete,a=n==null?void 0:n.confirmDeleteMessage,o=this._dataController.items()[e],s=!this.isEditing()||o.isNewRow;if(o&&s)if(!i||!a)this._deleteRowCore(e);else{var l=n&&n.confirmDeleteTitle,p=q(l)&&l.length>0;Qoe(a,l,p).done(h=>{h&&this._deleteRowCore(e)})}}_deleteRowCore(e){var r=this._dataController,n=r.items()[e],i=n&&n.key,a=this._getVisibleEditRowIndex();this.refresh();var o=this.getChanges(),s=Te.getIndexByKey(i,o);return s>=0?o[s].type===Ea?this._removeChange(s):this._addChange({key:i,type:Qa}):this._addChange({key:i,oldData:n.data,type:Qa}),this._afterDeleteRow(e,a)}_afterDeleteRow(e,r){return this.saveEditData()}undeleteRow(e){var r=this._dataController,n=r.items()[e],i=this._getVisibleEditRowIndex(),a=n&&n.key,o=this.getChanges();if(n){var s=Te.getIndexByKey(a,o);if(s>=0){var{data:l}=o[s];di(l)?this._removeChange(s):this._addChange({key:a,type:hd}),r.updateItems({changeType:"update",rowIndices:[i,e]})}}}_fireOnSaving(){var e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);var r=new ae;return Ve(cn(e.promise)).done(()=>{r.resolve(e)}).fail(n=>{this._fireDataErrorOccurred(n),r.resolve({cancel:!0})}),r}_executeEditingAction(e,r,n){if(this.component._disposed)return null;var i=new ae;return this.executeAction(e,r),Ve(cn(r.cancel)).done(a=>{a?setTimeout(()=>{i.resolve("cancel")}):n(r).done(i.resolve).fail(Gp(i))}).fail(Gp(i)),i}_processChanges(e,r,n,i){var a=this._dataController.store();te(i,(o,s)=>{var l=this._getOldData(s.key),{data:p,type:h}=s,m=we({},s),v,f;if(!this._beforeSaveEditData(s,o)){switch(h){case Qa:f={data:l,key:s.key,cancel:!1},v=this._executeEditingAction("onRowRemoving",f,()=>a.remove(s.key).done(c=>{n.push({type:"remove",key:c})}));break;case Ea:f={data:p,cancel:!1},v=this._executeEditingAction("onRowInserting",f,()=>a.insert(f.data).done((c,d)=>{q(d)&&(m.key=d),c&&rt(c)&&c!==f.data&&(m.data=c),n.push({type:"insert",data:c,index:0})}));break;case hd:f={newData:p,oldData:l,key:s.key,cancel:!1},v=this._executeEditingAction("onRowUpdating",f,()=>a.update(s.key,f.newData).done((c,d)=>{c&&rt(c)&&c!==f.newData&&(m.data=c),n.push({type:"update",key:d,data:c})}))}if(i[o]=m,v){var u=new ae;v.always(c=>{r.push({key:s.key,result:c})}).always(u.resolve),e.push(u.promise())}}})}_processRemoveIfError(e,r){var n=e[r];return(n==null?void 0:n.type)===Qa&&r>=0&&e.splice(r,1),!0}_processRemove(e,r,n){var i=e[r];if(!n||!i||i.type===Qa)return this._processRemoveCore(e,r,!n||!i)}_processRemoveCore(e,r,n){return r>=0&&e.splice(r,1),!0}_processSaveEditDataResult(e){for(var r=!1,n=[...this.getChanges()],i=n.length,a=0;a<e.length;a++){var o=e[a].result,s=o==="cancel",l=Te.getIndexByKey(e[a].key,n),p=n[l],h=o&&o instanceof Error;if(h){if(p&&this._addInternalData({key:p.key,error:o}),this._fireDataErrorOccurred(o),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,s)&&(r=!s)}return n.length<i&&this._silentOption(Ja,n),r}_fireSaveEditDataEvents(e){te(e,(r,n)=>{var{data:i,key:a,type:o}=n,s=this._addInternalData({key:a}),l={key:a,data:i};switch(s.error&&(l.error=s.error),o){case Qa:this.executeAction("onRowRemoved",Y({},l,{data:s.oldData}));break;case Ea:this.executeAction("onRowInserted",l);break;case hd:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){var e=new ae;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}Ve(this._beforeSaveEditData()).done(r=>{if(r){this._resolveAfterSave(e,{cancel:r});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){var{cancel:r,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ve(this._afterSaveEditData(r)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){var e=new ae,r=[],n=[],i=[],a=this._dataController.dataSource();return Ve(this._fireOnSaving()).done(o=>{var{cancel:s,changes:l}=o;if(s)return e.resolve().promise();if(this._processChanges(n,r,i,l),n.length)return this._refocusEditCell=!0,a==null||a.beginLoading(),Ve(...n).done(()=>{this._processSaveEditDataResult(r)?this._endSaving(i,l,e):(a==null||a.endLoading(),e.resolve())}).fail(p=>{a==null||a.endLoading(),e.resolve(p)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,r,n){var i=this._dataController.dataSource();this._beforeEndSaving(r),i==null||i.endLoading(),this._refreshDataAfterSave(e,r,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,r,n){var i=this._dataController,a=this.option("editing.refreshMode"),o=a!=="reshape"&&a!=="repaint";o||i.push(e),Ve(i.refresh({selection:o,reload:o,load:a==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(r)}).done(()=>{this._resolveAfterSave(n)}).fail(s=>{this._resolveAfterSave(n,{error:s})})}isSaving(){return this._saving}_updateEditColumn(){var e=this._isEditColumnVisible(),r=this.option("editing.useIcons"),n=AL+(r?" ".concat(OA):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){var e=this.option("editing");return e.allowDeleting}_isEditButtonDisabled(){var e=this.hasChanges(),r=q(this.option("editing.editRowKey"));return!(r||e)}_updateEditButtons(){var e=this.getView("headerPanel"),r=this._isEditButtonDisabled();e&&(e.setToolbarItemDisabled("saveButton",r),e.setToolbarItemDisabled("revertButton",r))}_applyModified(e,r){e&&e.addClass(kA)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){var e=this.getChanges(),r={cancel:!1,changes:e};this.executeAction("onEditCanceling",r),r.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){var r=this._dataController;r.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){var r=this._dataController;r&&this._pageIndex!==r.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=r.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,r){return r?[]:[e.rowIndex]}addDeferred(e){this._deferreds.indexOf(e)<0&&(this._deferreds.push(e),e.always(()=>{var r=this._deferreds.indexOf(e);r>=0&&this._deferreds.splice(r,1)}))}_prepareChange(e,r,n){var i,a={},o=(i=e.row)===null||i===void 0?void 0:i.data,s=e.key,l=new ae;if(s!==void 0){e.value=r;var p=cn(e.column.setCellValue(a,r,Y(!0,{},o),n));p.done(()=>{l.resolve({data:a,key:s,oldData:o,type:hd})}).fail(Gp(l)).fail(h=>this._fireDataErrorOccurred(h)),q(n)&&e.column.displayValueMap&&(e.column.displayValueMap[r]=n),this._updateRowValues(e),this.addDeferred(l)}return l}_updateRowValues(e){if(e.values){var r=this._dataController,n=r.getRowIndexByKey(e.key),i=r.getVisibleRows()[n];i&&(e.row.values=i.values,e.values=i.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,r,n,i){var a=e.key,o=new ae;return a===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,r,n).done(s=>{Ve(this._applyChange(e,s,i)).always(()=>{o.resolve()})}):o.resolve(),o.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){var r=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,i=r.some(a=>a.calculateCellValue!==a.defaultCalculateCellValue);return n||i}_applyChange(e,r,n){var i=we(we({},e),{forceUpdateRow:n});return this._addChange(r,i),this._updateEditButtons(),this._applyChangeCore(e,i.forceUpdateRow)}_applyChangeCore(e,r){var n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:i}=e;i&&(r||n?this._updateEditRow(i,r,n):i.update&&i.update())}_updateEditRowCore(e,r,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,r)})}_updateEditRow(e,r,n){r?this._updateRowImmediately(e,r,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,r,n){this._updateEditRowCore(e,!r,n),this._validateEditFormAfterUpdate(e,n),r||this._focusEditingCell()}_updateRowWithDelay(e,r){var n=new ae;this.addDeferred(n),setTimeout(()=>{var i,a=((i=this._editForm)===null||i===void 0?void 0:i.element())||this.component.$element().get(0),o=V(Ce.getActiveElement(a)),s=this._rowsView.getCellIndex(o,e.rowIndex),l=o.get(0),p=Te.getSelectionRange(l);if(this._updateEditRowCore(e,!1,r),this._validateEditFormAfterUpdate(e,r),s>=0){var h=this._rowsView._getCellElement(e.rowIndex,s);this._delayedInputFocus(h,()=>{setTimeout(()=>{var m;l=Ce.getActiveElement((m=this.component.$element())===null||m===void 0?void 0:m.get(0)),p.selectionStart>=0&&Te.setSelectionRange(l,p)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,r){var n,i=r==null?void 0:r.row,a=[...this.getChanges()],o=Te.getIndexByKey(e.key,a);o<0&&(o=a.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,a.push(e));var s=we({},a[o]);return s&&(e.data&&(s.data=Jo(s.data,e.data)),(!s.type||!e.data)&&e.type&&(s.type=e.type),i&&(i.oldData=this._getOldData(i.key),i.data=Jo(i.data,e.data))),a[o]=s,this._silentOption(Ja,a),r&&s!==((n=this.getChanges())===null||n===void 0?void 0:n[o])&&(r.forceUpdateRow=!0),s}_getFormEditItemTemplate(e,r){return r.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){var{column:r}=e,n=e.row&&e.row.rowIndex,i,a=this.isRowBasedEditMode(),o=this.isEditRow(n),s=this.isEditCell(n,e.columnIndex),l;if((r.showEditorAlways||r.setCellValue&&(o&&r.allowEditing||s))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!r.command){var p=this.allowUpdating(e);((p||o)&&r.allowEditing||s)&&(o||!a)&&(r.showEditorAlways&&!a&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:r},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(h,m)=>{this.updateFieldValue(e,h,m)})),i=r.editCellTemplate||this._getDefaultEditorTemplate()}else r.command==="detail"&&e.rowType==="detail"&&o&&(i=this===null||this===void 0?void 0:this.getEditFormTemplate(e));return i}_createButton(e,r,n,i){var a=mse[r.name],o=this.option("editing.useIcons"),s=this.option("useLegacyColumnButtonTemplate"),l=V("<a>").attr("href","#").addClass(ase).addClass(r.cssClass);if(r.template&&s)this._rowsView.renderTemplate(e,r.template,n,!0);else{if(r.template)l=V("<span>").addClass(r.cssClass);else if(o&&a||r.icon){a=r.icon||a;var p=pf(a);p==="image"||p==="svg"?l=Io(a).addClass(r.cssClass):l.addClass("dx-icon".concat(p==="dxIcon"?"-":" ").concat(a)).attr("title",r.text),l.addClass(ose),e.addClass(OA);var h=this.getButtonLocalizationNames()[r.name];h&&l.attr("aria-label",he.format(h))}else l.text(r.text);q(r.hint)&&l.attr("title",r.hint),this._isButtonDisabled(r,n)?l.addClass("dx-state-disabled"):(!r.template||r.onClick)&&X.on(l,Ee("click",dse),this.createAction(m=>{var v;(v=r.onClick)===null||v===void 0||v.call(r,Y({},m,{row:n.row,column:n.column})),m.event.preventDefault(),m.event.stopPropagation()})),e.append(l,"&nbsp;"),r.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,r.template,n,!0,i))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,r,n,i){var a,o=(a=this.option("editing.texts"))!==null&&a!==void 0?a:{},s={revert:o.cancelAllChanges,save:o.saveAllChanges,addRow:o.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[r],p=s[r],h=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:m=>{V(m.element).addClass(e._getToolbarButtonClass("".concat(lse," ").concat(this.addWidgetPrefix(l),"-button")))},icon:"edit-button-".concat(l),disabled:h,onClick:()=>{setTimeout(()=>{this[n]()})},text:p,hint:p},showText:"inMenu",name:"".concat(r,"Button"),location:"after",locateInMenu:"auto",sortIndex:i}}prepareEditButtons(e){var r,n=(r=this.option("editing"))!==null&&r!==void 0?r:{},i=[];return n.allowAdding&&i.push(this.prepareButtonItem(e,"addRow","addRow",20)),i}highlightDataCell(e,r){this.shouldHighlightCell(r)&&e.addClass(kA)}_afterInsertRow(){}_beforeSaveEditData(e){if(e&&!q(e.key)&&q(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,r){var n=this.option("editing.".concat(e));return Me(n)&&(n=n({component:this.component,row:r.row})),n}allowUpdating(e,r){var n,i=(n=this.option("editing.startEditAction"))!==null&&n!==void 0?n:fse,a=arguments.length>1?i===r||r==="down":!0;return a&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var{columnIndex:r}=e,n=e.row&&(e.row.isNewRow?e.row.values:e.row.modifiedValues);return!!n&&n[r]!==void 0}isNewRowInEditMode(){var e=this._getVisibleEditRowIndex(),r=this._dataController.items();return e>=0?r[e].isNewRow:!1}_isRowDeleteAllowed(){}shouldHighlightCell(e){var r=this.isCellModified(e);return r&&e.column.setCellValue&&(this.getEditMode()!==Cs||!e.row.isEditing)}}var Fse={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:kL,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:he.format("dxDataGrid-editingEditRow"),saveAllChanges:he.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:he.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:he.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:he.format("dxDataGrid-editingCancelRowChanges"),addRow:he.format("dxDataGrid-editingAddRow"),deleteRow:he.format("dxDataGrid-editingDeleteRow"),undeleteRow:he.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:he.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:Lse},extenders:{controllers:{data:{init(){this._editingController=this.getController("editing"),this.callBase()},reload(t,e){return!e&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow(t){var e,r=this.option(gi),n=Te.getIndexByKey(r,t),i=t[n];i&&(i.isEditing=!0,(e=this._updateEditItem)===null||e===void 0||e.call(this,i))},_updateItemsCore(t){this.callBase(t),this._updateEditRow(this.items(!0))},_applyChangeUpdate(t){this._updateEditRow(t.items),this.callBase(t)},_applyChangesOnly(t){this._updateEditRow(t.items),this.callBase(t)},_processItems(t,e){return t=this._editingController.processItems(t,e),this.callBase(t,e)},_processDataItem(t,e){return this._editingController.processDataItem(t,e,this.generateDataValues),this.callBase(t,e)},_processItem(t,e){return t=this.callBase(t,e),t.isNewRow&&(e.dataIndex--,delete t.dataIndex),t},_getChangedColumnIndices(t,e,r,n){if(!(t.isNewRow!==e.isNewRow||t.removed!==e.removed))return this.callBase.apply(this,arguments)},_isCellChanged(t,e,r,n,i){var a=this.getController("editing"),o=t.cells&&t.cells[n],s=a&&a.isEditCell(r,n);return i&&s?!1:o&&o.column&&!o.column.showEditorAlways&&o.isEditing!==s?!0:this.callBase.apply(this,arguments)},needToRefreshOnDataSourceChange(t){var e=this.getController("editing"),r=Array.isArray(t.value)&&t.value===t.previousValue&&e.isSaving();return!r},_handleDataSourceChange(t){var e=this.callBase(t),r=this.option("editing.changes"),n=t.value;if(Array.isArray(n)&&r.length){var i=n.map(l=>this.keyOf(l)),a=r.filter(l=>l.type==="insert"||i.some(p=>Jt(l.key,p)));a.length!==r.length&&this.option("editing.changes",a);var o=this.option("editing.editRowKey"),s=a.some(l=>l.type==="insert"&&Jt(o,l.key));!s&&i.every(l=>!Jt(o,l))&&this.option("editing.editRowKey",null)}return e}}},views:{rowsView:{init(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex(t,e){if(!t.is("td")&&e>=0){var r=this.getCellElements(e),n=-1;return te(r,(i,a)=>{V(a).find(t).length&&(n=i)}),n}return this.callBase.apply(this,arguments)},publicMethods(){return this.callBase().concat(["cellValue"])},_getCellTemplate(t){var e=this._editingController.getColumnTemplate(t);return e||this.callBase(t)},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var r=!!t.removed,n=!!t.isNewRow,i=!!t.modified;n&&e.addClass(use),i&&e.addClass(cse),(n||r)&&e.removeClass(sse)}return e},_getColumnIndexByElement(t){for(var e=t.closest("table"),r=this.getTableElements();e.length&&!r.filter(e).length;)t=e.closest("td"),e=t.closest("table");return this._getColumnIndexByElementCore(t)},_getColumnIndexByElementCore(t){var e=t.closest(".".concat(Wo,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(e)},_editCellByClick(t,e){var r=this._editingController,n=V(t.event.target),i=this._getColumnIndexByElement(n),a=this._dataController.items()[t.rowIndex],o=r.allowUpdating({row:a},e)||a&&a.isNewRow,s=this._columnsController.getVisibleColumns()[i],l=r.isEditCell(t.rowIndex,i),p=o&&s&&(s.allowEditing||l),h=this.option("editing.startEditAction")||"click",m=s&&s.showEditorAlways;if(l)return!0;if(e==="down")return(Ue.real().ios||Ue.real().android)&&Ec(),m&&p&&r.editCell(t.rowIndex,i);if(e==="click"&&h==="dblClick"){var v=a==null?void 0:a.isNewRow;r.closeEditCell(!1,v)}if(p&&e===h)return r.editCell(t.rowIndex,i)||r.isEditRow(t.rowIndex)},_rowPointerDown(t){this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(t,"down")})},_rowClick(t){var e=V(t.rowElement).hasClass(this.addWidgetPrefix(Uv));t.event[TL]=this.component,!this._editCellByClick(t,"click")&&!e&&this.callBase.apply(this,arguments)},_rowDblClick(t){this._editCellByClick(t,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared(t,e){var r,n=this._editingController,i=!!e.column.command,a=e.setValue,o=n.isEditRow(e.rowIndex),s=RL(o,e);if(DA(o,e)){var{alignment:l}=e.column;t.toggleClass(this.addWidgetPrefix(ise),!a).toggleClass(hse,!a),l&&t.find(OL).first().css("textAlign",l)}s&&this._editCellPrepared(t);var p=!!(!((r=e.column)===null||r===void 0)&&r.cellTemplate);e.column&&!i&&(!p||n.shouldHighlightCell(e))&&n.highlightDataCell(t,e),this.callBase.apply(this,arguments)},_editCellPrepared:oe,_formItemPrepared:oe,_getCellOptions(t){var e=this.callBase(t);return e.isEditing=this._editingController.isEditCell(e.rowIndex,e.columnIndex),e},_createCell(t){var e=this.callBase(t),r=this._editingController.isEditRow(t.rowIndex);return DA(r,t)&&e.addClass(i_),e},cellValue(t,e,r,n){var i=this.getCellOptions(t,e);if(i){if(r===void 0)return i.value;this._editingController.updateFieldValue(i,r,n,!0)}},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore(){return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this.getController("editing").prepareEditButtons(this);return e.concat(t)},optionChanged(t){var{fullName:e}=t;switch(t.name){case"editing":var r=[Lm,Ja,al,gi],n=e&&!r.some(i=>i===e);n&&this._invalidate(),this.callBase(t);break;case"useLegacyColumnButtonTemplate":t.handled=!0;break;default:this.callBase(t)}},isVisible(){var t=this.getController("editing").option("editing");return this.callBase()||(t==null?void 0:t.allowAdding)}}}}};Qe.registerModule("editing",Y(!0,{},Fse,{extenders:{controllers:{data:{_changeRowExpandCore(t){var e=this._editingController;return Array.isArray(t)&&e&&e.refresh(),this.callBase.apply(this,arguments)}}}}}));var Nse=t=>class extends t{isRowEditMode(){return this.getEditMode()===Cs}_afterCancelEditData(e){var r=this._dataController;this.isRowBasedEditMode()&&e>=0?r.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,r){var n=this.isRowBasedEditMode(),i=r.row&&Jt(r.row.key,this.option(gi));if(n)switch(e.name){case"edit":return!i&&this.allowUpdating(r);case"delete":return super._isDefaultButtonVisible(e,r)&&!i;case"save":case"cancel":return i;default:return super._isDefaultButtonVisible(e,r)}return super._isDefaultButtonVisible(e,r)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){var{allowCancelEditing:r}=e??{};if(this.isRowBasedEditMode()){var n=this.getChanges().filter(i=>i.type==="update").length>0;this.init(),r&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){var e=super._isEditColumnVisible(),r=this.option("editing"),n=this.isRowEditMode(),i=r.allowUpdating||r.allowAdding;return e||n&&i}_focusEditorIfNeed(){var e=this.getEditMode();if(this._needFocusEditor){if(nse.includes(e)){var r=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(r,()=>{r&&this.component.focus(r)})}this._needFocusEditor=!1}}},Vse={extenders:{controllers:{editing:Nse,data:{_getChangedColumnIndices(t,e,r,n){var i=this.getController("editing");if(!(i.isRowBasedEditMode()&&t.isEditing!==e.isEditing))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var r=this._editingController,n=r.isEditRow(t.rowIndex);n&&(e.addClass(AA),e.removeClass(SA),t.rowType==="detail"&&e.addClass(this.addWidgetPrefix(Uv)))}return e},_update(t){this.callBase(t),t.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(".".concat(AA)).removeClass(SA)}}}}};Qe.registerModule("editingRowBased",Vse);class BL{constructor(){this._map={}}_findWidgetInstance(e){var r;return te(this._map,function(n,i){var{widgetInstance:a,item:o}=i;if(e(o))return r=a,!1}),r}_findFieldByCondition(e,r){var n;return te(this._map,function(i,a){if(e(a))return n=r==="guid"?i:a[r],!1}),n}clear(){this._map={}}removeItemsByItems(e){te(e.getItems(),r=>this.removeItemByKey(r))}removeItemByKey(e){delete this._map[e]}add(e){var r=e.guid||new Lr;return this._map[r]=e,r}addItemsOrExtendFrom(e){e.each((r,n)=>{this._map[r]?(n.widgetInstance&&(this._map[r].widgetInstance=n.widgetInstance),this._map[r].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:r,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,r){this._map[e]&&(this._map[e]=Y(this._map[e],r))}findWidgetInstanceByItem(e){return this._findWidgetInstance(r=>r===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(r=>{var{path:n}=r;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(r=>{var{path:n}=r;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(r=>e===r.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(r=>e===(tt(r)?r:r.dataField))}findItemContainerByItem(e){for(var r in this._map)if(this._map[r].item===e)return this._map[r].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(r=>{var{item:n}=r;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(r=>{var{item:n}=r;return n===e},"preparedItem")}getItems(){return this._map}each(e){te(this._map,function(r,n){e(r,n)})}removeItemsByPathStartWith(e){var r=Object.keys(this._map),n=r.filter(i=>this._map[i].path?this._map[i].path.indexOf(e,0)>-1:!1);n.forEach(i=>this.removeItemByKey(i))}}var Kp={move(t,e){dn(t,{left:e})}},Vy={moveTo(t,e,r,n){yr.animate(t,{type:"slide",to:{left:e},duration:r,complete:n})},complete(t){yr.stop(t,!0)}},Hse="dx-multiview",jse="dx-multiview-wrapper",$se="dx-multiview-item-container",RA="dx-multiview-item",zse="dx-multiview-item-hidden",Wse="dxMultiViewItemData",Use=200,PA=t=>+t,Gse=t=>Vi(t).left,LL=_S.inherit({_activeStateUnit:"."+RA,_supportedKeys:function(){return Y(this.callBase(),{pageUp:oe,pageDown:oe})},_getDefaultOptions:function(){return Y(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return RA},_itemDataKey:function(){return Wse},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=ot(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass(Hse),this._$wrapper=V("<div>").addClass(jse),this._$wrapper.appendTo(t),this._$itemContainer=V("<div>").addClass($se),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,r){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,r)},_renderItemContent:function(t){var e=new ae,r=this,n=this.callBase,i=new ae;return i.done(function(){var a=n.call(r,t);e.resolve(a)}),this._deferredItems[t.index]=i,this.option("deferRendering")||i.resolve(),e.promise()},_render:function(){this.callBase(),Gr(()=>{var t=this._getSelectedItemIndices();this._updateItems(t[0])})},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var r=this._itemElements(),n=q(e)?-this._animationDirection(e,t):void 0,i=r.eq(t);Kp.move(i,0),q(e)&&Kp.move(r.eq(e),100*n+"%")},_updateItemsVisibility:function(t,e){var r=this._itemElements();r.each((function(n,i){var a=V(i),o=n!==t&&n!==e;o||this._renderSpecificItem(n),a.toggleClass(zse,o),this.setAria("hidden",o||void 0,a)}).bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),r=e.find(this._itemContentClass()).length>0;q(t)&&!r&&(this._deferredItems[t].resolve(),Ra(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:oe,_updateSelection:function(t,e){var r=t[0],n=e[0];Vy.complete(this._$itemContainer),this._updateItems(n,r);var i=this._animationDirection(r,n);this._animateItemContainer(i*this._itemWidth(),(function(){Kp.move(this._$itemContainer,0),this._updateItems(r),ot(this._$itemContainer)}).bind(this))},_animateItemContainer:function(t,e){var r=this.option("animationEnabled")?Use:0;Vy.moveTo(this._$itemContainer,t,r,e)},_animationDirection:function(t,e){var r=Gse(this._$itemContainer),n=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),i=r!==0,a=i?r:n;return cc(a)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),Wv,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:t=>this._swipeStartHandler(t.event),onUpdated:t=>this._swipeUpdateHandler(t.event),onEnd:t=>this._swipeEndHandler(t.event)})},_findBoundaryIndices(){var t,e,r=this.option("items"),n,i;r.forEach((a,o)=>{var s=!!(a!=null&&a.disabled);if(!s){var l;(l=n)!==null&&l!==void 0||(n=o),i=o}}),this._boundaryIndices={firstAvailableIndex:(t=n)!==null&&t!==void 0?t:0,lastAvailableIndex:(e=i)!==null&&e!==void 0?e:r.length-1,firstTrueIndex:0,lastTrueIndex:r.length-1}},_swipeStartHandler:function(t){Vy.complete(this._$itemContainer);var e=this.option("selectedIndex"),r=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:i}=this._boundaryIndices,a=this.option("rtlEnabled");t.maxLeftOffset=PA(r||(a?e>n:e<i)),t.maxRightOffset=PA(r||(a?e<i:e>n)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,r=cc(e)*this._getRTLSignCorrection();if(Kp.move(this._$itemContainer,e*this._itemWidth()),r!==this._swipeDirection){this._swipeDirection=r;var n=this.option("selectedIndex"),i=this._normalizeIndex(n-r);this._updateItems(n,i)}},_findNextAvailableIndex(t,e){var{items:r,loop:n}=this.option(),{firstAvailableIndex:i,lastAvailableIndex:a,firstTrueIndex:o,lastTrueIndex:s}=this._boundaryIndices,l=[o,i].includes(t),p=[s,a].includes(t);if(n){if(l&&e<0)return a;if(p&&e>0)return i}for(var h=t+e;h>=i&&h<=a;h+=e){var m=!!r[h].disabled;if(!m)return h}return t},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){var r=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",r);var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",et(n))}else this._animateItemContainer(0,oe)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState(){var t=this._getSwipeDisabledState();Wv.getInstance(this.$element()).option("disabled",t)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(t);break;default:this.callBase(t)}}});Rt("dxMultiView",LL);var Kse="dx-tabs-item-badge",MA="dx-badge",qse=zl.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children("."+MA).remove(),!!t){var e=V("<div>").addClass(Kse).addClass(MA).text(t);this._$element.append(e)}}}),BA="dx-tabs-expanded";function FL(t){return t.scrollWidth-t.clientWidth}function Xse(t,e){return Math.round(t)<=e}function Yse(t,e,r){return Math.round(FL(t)-e)<=r}var Zse="dx-tabs",Qse="dx-tabs-wrapper",LA="dx-tabs-stretched",Jse="dx-tabs-scrollable",FA="dx-tabs-nav-buttons",NA="dx-overflow-hidden",VA="dx-tab",ele="dx-tab-selected",tle="dx-tabs-nav-button",rle="dx-tabs-nav-button-left",nle="dx-tabs-nav-button-right",ile="dx-tab-text",ale="dx-focused-next-tab",ole="dxTabData",HA="chevronnext",jA="chevronprev",sle=100,$A=5,lle=300,zA=30,DS=_S.inherit({_activeStateUnit:"."+VA,_getDefaultOptions:function(){return Y(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=pa();return this.callBase().concat([{device:function(){return Ue.real().deviceType!=="desktop"},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Mr(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(Zse),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=sle},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Wl((function(t,e){yt(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var r=Io(e.icon);r&&r.prependTo(t),t.wrapInner(V("<span>").addClass(ile))}).bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var{itemData:r,container:n,index:i}=e;return this._deferredTemplates[i]=new ae,t.render({model:r,container:n,index:i,onRendered:()=>this._deferredTemplates[i].resolve()})},_itemClass:function(){return VA},_selectedItemClass:function(){return ele},_itemDataKey:function(){return ole},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(NA)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){Ve.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var t=[LA,BA,NA];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var r=FL(V(this.getScrollable().container()).get(0));e.scrollTo({left:r})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(LA),this.$element().removeClass(FA).addClass(BA))},_isItemsWidthExceeded:function(){var t=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return t-1>ot(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=ot(this.$element()),r=[];te(t,(i,a)=>{r.push(Pt(a,!0))});var n=Math.max.apply(null,r);return n>=e/t.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=Zx()},_getPointerEvent:()=>Mt.up,_toggleActiveState:function(t,e,r){if(this.callBase.apply(this,arguments),!!this._inkRipple){var n={element:t,event:r};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=V("<div>").addClass(Qse),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner(V("<div>").addClass(Jse)).children();this._scrollable=this._createComponent(t,wi,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(FA,this.option("showNavButtons")),!!this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-zA,t?HA:jA);var e=this._leftButton.$element();e.addClass(rle),this.$element().prepend(e),this._rightButton=this._createNavButton(zA,t?jA:HA);var r=this._rightButton.$element();r.addClass(nle),this.$element().append(r)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",Xse(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",Yse(V(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var r=this,n=r._createAction(function(){r._holdInterval=setInterval(function(){r._updateScrollPosition(t,$A)},$A)}),i=Ee(ys.name,"dxNavButton"),a=Ee(Mt.up,"dxNavButton"),o=Ee(Mt.out,"dxNavButton"),s=this._createComponent(V("<div>").addClass(tle),vn,{focusStateEnabled:!1,icon:e,onClick:function(){r._updateScrollPosition(t,1)},integrationOptions:{}}),l=s.$element();return X.on(l,i,{timeout:lle},(function(p){n({event:p})}).bind(this)),X.on(l,a,function(){r._clearInterval()}),X.on(l,o,function(){r._clearInterval()}),s},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleFocusedNextClass(t,e){this._itemElements().eq(t).toggleClass(ale,e)},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;case"focusedElement":var{selectedIndex:e}=this.option(),r=V(t.value).index();r!==e&&this._toggleFocusedNextClass(e,r===e+1),this.callBase(t),this._scrollToItem(t.value);break;default:this.callBase(t)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable(){return this._scrollable}});DS.ItemClass=qse;Rt("dxTabs",DS);class ule extends zl{_renderWatchers(){return this._startWatcher("badge",oe),super._renderWatchers()}}var cle="dx-tabpanel",dle="dx-tabpanel-tabs",hle="dx-tabpanel-container",fle="dx-tab-text",ple="dx-disabled-focused-tab",RS=LL.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!El},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(cle),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Wl(function(t,e){if(yt(e)){var r=Io(e.icon);r&&t.append(r),q(e.title)&&!yt(e.title)&&t.append(Ce.createTextNode(e.title))}else q(e)&&t.text(String(e));t.wrapInner(V("<span>").addClass(fle))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){t._updateLayout()},0))},_renderLayout:function(){if(this._tabs){this._updateLayout();return}var t=this.$element();this._$tabContainer=V("<div>").addClass(dle).appendTo(t);var e=V("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,DS,this._tabConfig()),this._$container=V("<div>").addClass(hle).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){if(lt()){var t=xt(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),r=V(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,V(e)),this.setAria("controls",n,r)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(t){if(t.name==="focusedElement")if(t.value){var e=V(t.value),r=this._itemElements().eq(e.index());this.option("focusedElement",et(r))}else this.option("focusedElement",t.value)}).bind(this),onFocusIn:(function(t){this._focusInHandler(t.event)}).bind(this),onFocusOut:(function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}).bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_toggleWrapperFocusedClass(t){this._toggleFocusClass(t,this._$wrapper)},_toggleDisabledFocusedClass(t){this._focusTarget().toggleClass(ple,t)},_updateFocusState:function(t,e){this.callBase(t,e);var r=t.target===this._tabs._focusTarget().get(0),n=t.target===this._focusTarget().get(0);if(r&&this._toggleFocusClass(e,this._focusTarget()),r||n){var i=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!i),this._toggleDisabledFocusedClass(e&&i)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,r=t.value,n=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,r),this.callBase(t),this.option("focusStateEnabled")===!0){var i=this.option("selectedIndex"),a=this._itemElements().eq(i);this.option("focusedElement",et(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,r),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,r);break;case"focusedElement":var o=r&&V(r).index(),s=r&&this._tabs._itemElements().eq(o);this._setTabsOption("focusedElement",et(s));var l=this._isDisabled(r);this._toggleWrapperFocusedClass(!l),this._toggleDisabledFocusedClass(l),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",r);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});RS.ItemClass=ule;Rt("dxTabPanel",RS);class ql{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){Ft.abstract()}}var pw=(t,e)=>"".concat(e?"tabs":"items","[").concat(t,"]"),NL=(t,e)=>q(t)&&q(e)?"".concat(t,".").concat(e):t||e,mw=t=>t?t.replace(/\s/g,""):void 0,mle=(t,e)=>t?t.dataField===e||t.name===e||mw(t.title)===e||t.itemType==="group"&&mw(t.caption)===e:!1,Od=(t,e)=>"".concat(t,".").concat(e),WA=t=>{var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},vle=t=>{for(var e=t.split("."),r=[...e],n=e.length-1;n>=0;n--){if(VL(e[n]))return r.join(".");r.splice(n,1)}return""},VL=t=>t.indexOf("tabs")>-1,HL=(t,e,r)=>{var n=t.indexOf(e);if(n>-1)return pw(n,r);for(var i=0;i<t.length;i++){var a=t[i],o=a.tabs||a.items;if(o){var s=HL(o,e,a.tabs);if(s)return NL(pw(i,r),s)}}};function gle(t){var{form:e,$formElement:r,formOptions:n,items:i,validationGroup:a,extendedLayoutManagerOptions:o,onFieldDataChanged:s,onContentReady:l,onDisposing:p,onFieldItemRendered:h}=t,m={form:e,items:i,$formElement:r,validationGroup:a,onFieldDataChanged:s,onContentReady:l,onDisposing:p,onFieldItemRendered:h,validationBoundary:n.scrollingEnabled?r:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},v=Y(m,{isRoot:o.isRoot,colCount:o.colCount,alignItemLabels:o.alignItemLabels,cssItemClass:o.cssItemClass,colCountByScreen:o.colCountByScreen,onLayoutChanged:o.onLayoutChanged,width:o.width});return v}class _le extends ql{tryExecute(){var{value:e}=this._options,r=this.findInstance();return r?(r.option(e),!0):!1}}class UA extends ql{tryExecute(){var e=this.findInstance();if(e){var{optionName:r,item:n,value:i}=this._options,a=this._itemsRunTimeInfo.findItemIndexByItem(n);if(a>=0)return e.option(Od("items[".concat(a,"]"),r),i),!0}return!1}}class yle extends ql{tryExecute(){return!1}}class ble extends ql{tryExecute(){var e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}}class Cle extends ql{tryExecute(){var e=this.findInstance();if(e){var{value:r}=this._options;return e.option("dataSource",r),!0}return!1}}class wle extends ql{tryExecute(){var{item:e}=this._options,r=this.findInstance(),n=r&&br(r.$element()[0],"dxValidator");if(n&&e){var i=s=>s.type==="required",a=(n.option("validationRules")||[]).some(i),o=(e.validationRules||[]).some(i);if(!a&&!o||a&&o)return n.option("validationRules",e.validationRules),!0}return!1}}class xle extends ql{tryExecute(){var e=this.findItemContainer(),{previousValue:r,value:n}=this._options;return e?(e.removeClass(r).addClass(n),!0):!1}}var Sle=(t,e)=>{switch(t){case"editorOptions":case"buttonOptions":return new _le(e);case"validationRules":return new wle(e);case"cssClass":return new xle(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new UA(Y(e,{optionName:t}));case"tabs":return new Cle(e);case"template":var r,n,i,a=(r=e==null||(n=e.item)===null||n===void 0?void 0:n.itemType)!==null&&r!==void 0?r:(i=e.itemsRunTimeInfo.findPreparedItemByItem(e==null?void 0:e.item))===null||i===void 0?void 0:i.itemType;return a==="simple"?new yle(e):a==="group"?new ble(e):new UA(Y(e,{optionName:t}));default:return null}},jL="dx-responsivebox",GA=jL+"-screen-",Ele="dx-box-item",KA="dxBoxItemData",Ile=1920,$L=Ul.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",J1),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return Ele},_itemDataKey:function(){return KA},_initMarkup:function(){this.callBase(),this.$element().addClass(jL)},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(GA+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(GA+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),te(this._rows,(function(){var e=[];t.push(e),te(this._cols,(function(){e.push(this._createEmptyCell())}).bind(this))}).bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var r=this._filterByScreen(t),n=[],i=0;i<e;i++){var a=this._defaultSizeConfig();i<r.length&&q(r[i].shrink)&&(a.shrink=r[i].shrink),n.push(a)}return n}else return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col}),te(this._screenItems,function(t,e){Y(e.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return Xr(this._filterByScreen(t),(function(e){return Y(this._defaultSizeConfig(),e)}).bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var r=[],n=0;n<t;n++)r.push(e);return r},_filterByScreen:function(t){var e=this._screenRegExp();return Nn(t,function(r){return!r.screen||e.test(r.screen)})},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return lt()?ot(pt()):Ile},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){te(this._screenItems,(function(t,e){var r=e.location||{},n=r.col,i=r.row,a=this._grid[i],o=a&&a[n];this._occupyCells(o,e)}).bind(this))},_itemsByScreen:function(){return this.option("items").reduce((t,e)=>{var r=e.location||{};return r=yt(r)?[r]:r,this._filterByScreen(r).forEach(n=>{t.push({item:e,location:Y({rowspan:1,colspan:1},n)})}),t},[])},_occupyCells:function(t,e){!t||this._isItemCellOccupied(t,e)||(Y(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!di(t.item))return!0;var r=!1;return this._loopOverSpanning(e.location,function(n){r=r||!di(n.item)}),r},_loopOverSpanning:function(t,e){var r=t.row+t.rowspan-1,n=t.col+t.colspan-1,i=Math.min(r,this._rows.length-1),a=Math.min(n,this._cols.length-1);t.rowspan-=r-i,t.colspan-=n-a;for(var o=t.row;o<=i;o++)for(var s=t.col;s<=a;s++)(o!==t.row||s!==t.col)&&e(this._grid[o][s])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(e){Y(e,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){te(this._itemElements(),function(t,e){var r=V(e),n=r.data(KA);n.box||(n.node=r.children())})},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(!(!t&&!e)){var r=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(r.box||{direction:"row",items:[Y(r,{ratio:1})]});Y(n,this._rootBoxConfig(n.items)),this._$root=V("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,bs,n)}},_rootBoxConfig:function(t){var e=te(t,(function(r,n){this._needApplyAutoBaseSize(n)&&Y(n,{baseSize:"auto"})}).bind(this));return{width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||t.minSize==="auto")&&(!t.maxSize||t.maxSize==="auto")},_prepareBoxConfig:function(t){return Y(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,r=t.row.end-t.row.start===e.rowspan-1,n=t.col.end-t.col.start===e.colspan-1;return r&&n},_itemByCell:function(t,e){var r=this._grid[t][e];return r.spanningCell?null:r.item},_layoutDirection:function(t){for(var e=[],r=t.direction,n=this._crossDirection(r),i;i=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,i))throw Et.Error("E1025");var a=this._layoutBlock({direction:n,row:i.row,col:i.col,prevBlockOptions:t});a&&(Y(a,this._blockSize(i,n)),e.push(a)),t[n].start=i[n].end+1}return{box:this._prepareBoxConfig({direction:r,items:e})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return t==="col"?"row":"col"},_nextBlock:function(t){var e=t.direction,r=this._crossDirection(e),n=t[e].start,i=t[e].end,a=t[r].start;if(a>t[r].end)return null;for(var o=1,s=a;s<a+o;s++){for(var l=1,p=n;p<=i;p++){var h=this._cellByDirection(e,p,s);l=Math.max(l,h.location[r+"span"])}var m=s+l,v=a+o;m>v&&(o+=m-v)}var f={};return f[e]={start:n,end:i},f[r]={start:a,end:a+o-1},f},_cellByDirection:function(t,e,r){return t==="col"?this._grid[r][e]:this._grid[e][r]},_blockSize:function(t,e){for(var r=e==="row"?"auto":0,n=e==="row"?this._rows:this._cols,i=Y(this._createDefaultSizeConfig(),{ratio:0}),a=t[e].start;a<=t[e].end;a++){var o=n[a];i.ratio+=o.ratio,i.baseSize+=o.baseSize,i.minSize+=o.minSize,i.maxSize+=o.maxSize,q(o.shrink)&&(i.shrink=o.shrink)}return i.minSize=i.minSize?i.minSize:r,i.maxSize=i.maxSize?i.maxSize:"auto",this._isSingleColumnScreen()&&(i.baseSize="auto"),i},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&te(this._assistantRoots,function(t,e){V(e).remove()})},_clearItemNodeTemplates:function(){te(this.option("items"),function(){delete this.node})},_attachClickEvent:oe,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Rt("dxResponsiveBox",$L);var Tle="dx-form",Hy="dx-form-group",Ole="dx-form-group-caption",qA="dx-col-",zL="dx-field-item",XA="dx-layout-manager-one-col",WL="dx-field-item-label-content",kle="dx-layout-manager",UL="dx-field-item-label",vw="dx-field-item-content",Ale="dx-single-column-item-content",GL="dx-root-simple-item",Dle="dx-form-group-content",Rle="dx-field-item-has-group",Ple="dx-field-item-has-tabs",Mle="dx-form-group-with-caption",YA="dx-field-item-tab",ZA="dx-group-colcount-",QA="group-col-count",Ble="dx-form-validation-summary",Lle="dx-form-styling-mode-underlined",gw="simple",Fle=Ft.inherit({ctor(t,e){this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var r=n=>{this.validationRequestsCallbacks.forEach(i=>i(n))};t.validationRequest.add(r),t.on("disposing",function(){t.validationRequest.remove(r)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),Nle="dx-validator",JA="valid",Vle="invalid",jy="pending",a_=za.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(Gt.initValidationOptions(t))},_getDefaultOptions(){return Y(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=Ht(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var t=this._findGroup();this._groupWasInit||this.on("disposing",function(e){Gt.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==t)&&(Gt.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,Gt.registerValidatorInGroup(t,this))},_setOptionsByReference(){this.callBase(),Y(this._optionsByReference,{validationGroup:!0})},_getEditor(){var t=this.$element()[0];return br(t,"dx-validation-target")},_initAdapter(){var t=this._getEditor(),e=this.option("adapter");if(!e){if(t){e=new Fle(t,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw Et.Error("E0120")}var r=e.validationRequestsCallbacks;r&&r.push(n=>{this.validate(n)})},_toggleRTLDirection(t){var e,r,n,i=(e=(r=this.option("adapter"))===null||r===void 0||(n=r.editor)===null||n===void 0?void 0:n.option("rtlEnabled"))!==null&&e!==void 0?e:t;this.callBase(i)},_initMarkup(){this.$element().addClass(Nle),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],r=e.some(n=>{var{type:i}=n;return i==="required"})||null;t.isInitialized()&&t.setAria("required",r),t.option("_onMarkupRendered",()=>{t.setAria("required",r)})}},_visibilityChanged(t){t&&this._initGroupRegistration()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(Gt.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules(){return this._validationRules||(this._validationRules=Xr(this.option("validationRules"),(t,e)=>Y({},t,{validator:this,index:e}))),this._validationRules},_findGroup(){var t=this.$element();return this.option("validationGroup")||Gt.findGroup(t,this._modelByElement(t))},_resetValidationRules(){delete this._validationRules},validate(t){var e=this.option("adapter"),r=this.option("name"),n=e.bypass&&e.bypass(),i=t&&t.value!==void 0?t.value:e.getValue(),a=e.getCurrentValidationError&&e.getCurrentValidationError(),o=this._getValidationRules(),s=this._validationInfo&&this._validationInfo.result;if(s&&s.status===jy&&s.value===i)return Y({},s);var l;return n?l={isValid:!0,status:JA}:a&&a.editorSpecific?(a.validator=this,l={isValid:!1,status:Vle,brokenRule:a,brokenRules:[a]}):l=Gt.validate(i,o,r),l.id=new Lr().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(p=>{p.id===this._validationInfo.result.id&&this._applyValidationResult(p,e)}),Y({},this._validationInfo.result)},reset(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:JA,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult(t){if(!this._validationInfo.result||this._validationInfo.result.id!==t.id){var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=Y({},t,{complete:e})}else for(var r in t)r!=="id"&&r!=="complete"&&(this._validationInfo.result[r]=t[r])},_applyValidationResult(t,e){var r=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===jy){this._validationInfo.deferred||(this._validationInfo.deferred=new ae,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==jy&&(r(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});Rt("dxValidator",a_);var Hle=["dxTagBox","dxRangeSlider","dxDateRangeBox"],jle=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function $le(t){var{$parent:e,rootElementCssClassList:r,formOrLayoutManager:n,createComponentCallback:i,item:a,template:o,labelTemplate:s,name:l,formLabelLocation:p,requiredMessageTemplate:h,validationGroup:m,editorValue:v,canAssignUndefinedValueToEditor:f,editorValidationBoundary:u,editorStylingMode:c,showColonAfterLabel:d,managerLabelLocation:_,itemId:g,managerMarkOptions:y,labelMode:b,onLabelTemplateRendered:C}=t,w=q(a.isRequired)?a.isRequired:!!Ule(a.validationRules),x=a.itemType===gw,A=a.helpText?"dx-"+new Lr:null,D=Gle({item:a,id:g,isRequired:w,managerMarkOptions:y,showColonAfterLabel:d,labelLocation:_,formLabelMode:b,labelTemplate:s,onLabelTemplateRendered:C}),P=D.visible&&(D.text||D.labelTemplate&&x),{location:k,labelID:B}=D,E=k!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(a.editorType),O=Wle({editorType:a.editorType,editorValue:v,defaultEditorName:a.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:a.editorOptions,editorInputId:g,editorValidationBoundary:u,editorStylingMode:c,formLabelMode:b,labelText:D.textWithoutColon,labelMark:D.markOptions.showRequiredMark?String.fromCharCode(160)+D.markOptions.requiredMark:""}),S=D.markOptions.showOptionalMark&&!D.visible&&O.labelMode!=="hidden"&&!q(a.helpText),R=S?D.markOptions.optionalMark:a.helpText;return{$parent:e,rootElementCssClassList:r,formOrLayoutManager:n,createComponentCallback:i,labelOptions:D,labelNeedBaselineAlign:E,labelLocation:k,needRenderLabel:P,item:a,isSimpleItem:x,isRequired:w,template:o,helpID:A,labelID:B,name:l,helpText:R,formLabelLocation:p,requiredMessageTemplate:h,validationGroup:m,editorOptions:O}}function zle(t){var{showRequiredMark:e,requiredMark:r,showOptionalMark:n,optionalMark:i}=t;return!e&&!n?"":String.fromCharCode(160)+(e?r:i)}function KL(t,e){var{showRequiredMark:r,requiredMark:n,showOptionalMark:i,optionalMark:a}=t;return{showRequiredMark:r&&e,requiredMark:n,showOptionalMark:i&&!e,optionalMark:a}}function Wle(t){var{editorType:e,defaultEditorName:r,editorValue:n,canAssignUndefinedValueToEditor:i,externalEditorOptions:a,editorInputId:o,editorValidationBoundary:s,editorStylingMode:l,formLabelMode:p,labelText:h,labelMark:m}=t,v={};(n!==void 0||i)&&(v.value=n),Hle.indexOf(e)!==-1&&(v.value=v.value||[]);var f=a==null?void 0:a.labelMode;q(f)||(f=p==="outside"?"hidden":p);var u=(a==null?void 0:a.stylingMode)||l,c=Y(!0,v,a,{inputAttr:{id:o},validationBoundary:s,stylingMode:u,label:h,labelMode:f,labelMark:m});return a&&(c.dataSource&&(c.dataSource=a.dataSource),c.items&&(c.items=a.items)),r&&!c.name&&(c.name=r),c}function Ule(t){var e;return t&&t.length&&te(t,function(r,n){if(n.type==="required")return e=!0,!1}),e}function Gle(t){var{item:e,id:r,isRequired:n,managerMarkOptions:i,showColonAfterLabel:a,labelLocation:o,labelTemplate:s,formLabelMode:l,onLabelTemplateRendered:p}=t,h=jle.includes(e.editorType),m=Y({showColon:a,location:o,id:r,visible:l==="outside"||h&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:KL(i,n),labelTemplate:s,onLabelTemplateRendered:p});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(m.labelID="dx-label-".concat(new Lr)),!m.text&&e.dataField&&(m.text=wl(e.dataField)),m.text&&(m.textWithoutColon=m.text,m.text+=m.showColon?":":""),m}var Kle="dx-field-item-required-mark",qL="dx-field-item-label-location-",qle="dx-field-item-optional-mark",Xle="dx-field-item-label-text";function Yle(t){var{text:e,id:r,location:n,alignment:i,labelID:a=null,markOptions:o={},labelTemplate:s,labelTemplateData:l,onLabelTemplateRendered:p}=t;if((!q(e)||e.length<=0)&&!q(s))return null;var h=V("<label>").addClass(UL+" "+qL+n).attr("for",r).attr("id",a).css("textAlign",i),m=V("<span>").addClass(WL),v=V("<span>").addClass(Xle).text(e);return s&&(v=V("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,s.render({container:et(v),model:l,onRendered(){p==null||p()}})),h.append(m.append(v,Zle(o)))}function Zle(t){var e=zle(t);return e===""?null:V("<span>").addClass(t.showRequiredMark?Kle:qle).text(e)}function Qle(t,e,r){var n="".concat(e," > .").concat(UL,":not(.").concat(qL,"top) > .").concat(WL),i=t.find(n),a=i.length,o,s,l=0;for(s=0;s<a;s++)o=Jle(i[s]),o>l&&(l=o);for(s=0;s<a;s++)i[s].style.width=l+"px"}function Jle(t){for(var e=0,r=t.children.length,n=0;n<r;n++){var i=t.children[n];e+=i.offsetWidth}return e}var eue="dx-flex-layout",tue="dx-field-item-optional",rue="dx-field-item-required",XL="dx-field-item-content-wrapper",nue="dx-field-item-content-location-",iue="dx-field-item-label-align",aue="dx-field-item-help-text",oue="dx-label-v-align",sue="dx-label-h-align",lue="dx-toggle-controls-paddings",uue="dx-template-wrapper",_w="dx-validation-target",cue="dx-invalid";function due(t){var{$parent:e,rootElementCssClassList:r,formOrLayoutManager:n,createComponentCallback:i,labelOptions:a,labelNeedBaselineAlign:o,labelLocation:s,needRenderLabel:l,formLabelLocation:p,item:h,editorOptions:m,isSimpleItem:v,isRequired:f,template:u,helpID:c,labelID:d,name:_,helpText:g,requiredMessageTemplate:y,validationGroup:b}=t,C=V("<div>").addClass(r.join(" ")).appendTo(e);C.addClass(f?rue:tue),v&&C.addClass(eue),v&&o&&C.addClass(iue);var w=V("<div>");w.data("dx-form-item",h),w.addClass(vw).addClass(nue+{right:"left",left:"right",top:"bottom"}[p]);var x=null;if(l&&(a.labelTemplate&&(a.labelTemplateData=rD(h,m,n)),x=Yle(a)),x){var{editorType:A}=h;C.append(x),(s==="top"||s==="left")&&C.append(w),s==="right"&&C.prepend(w),s==="top"?C.addClass(oue):C.addClass(sue),(A==="dxCheckBox"||A==="dxSwitch")&&X.on(x,jt,function(){X.trigger(w.children(),jt)});var D=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(A),P=a.alignment,k=P==="left"||!P,B=!u,E=s==="top";B&&D&&E&&k&&w.addClass(lue)}else C.append(w);var O;if(u)u.render({container:et(w),model:rD(h,m,n),onRendered(){var W=eD(w),G=hue(W);tD(G)}});else{var S=V("<div>").appendTo(w);try{O=i(S,h.editorType,m),O.setAria("describedby",c),d&&O.setAria("labelledby",d),O.setAria("required",f)}catch(W){Et.log("E1035",W.message)}}var R=eD(w),T=R&&R.data(_w);if(T){var I=h.label&&h.label.text,M=I?null:_,N=I?h.label.text:M&&wl(M),j;if(v)if(h.validationRules)j=h.validationRules;else{var H=la(y,N||"");j=h.isRequired?[{type:"required",message:H}]:null}Array.isArray(j)&&j.length&&i(R,a_,{validationRules:j,validationGroup:b,dataGetter:function(){return{formItem:h}}}),tD(T)}if(g&&v){var U=w.parent();U.append(V("<div>").addClass(XL).append(w).append(V("<div>").addClass(aue).attr("id",c).text(g)))}return{$fieldEditorContainer:w,$rootElement:C,widgetInstance:O}}function eD(t){var e=t.children().first();return e.hasClass(uue)?e.children().first():e}function hue(t){var e,r;return(t==null?void 0:t.data(_w))||(t==null||(e=t.parent)===null||e===void 0||(r=e.call(t))===null||r===void 0?void 0:r.data(_w))}function tD(t){if(t&&Mr()){var e=".".concat(XL),r=n=>{var{element:i,component:a}=n,{isValid:o,validationMessageMode:s}=a.option();V(i).parents(e).toggleClass(cue,o===!1&&(a._isFocused()||s==="always"))};t.on("optionChanged",n=>{n.name==="isValid"&&r(n)}),t.on("focusIn",r).on("focusOut",r).on("enterKey",r)}}function rD(t,e,r){return{dataField:t.dataField,editorType:t.editorType,editorOptions:e,component:r,name:t.name}}var fue="dx-field-button-item";function pue(t){var{item:e,$parent:r,rootElementCssClassList:n,validationGroup:i,createComponentCallback:a}=t,o=V("<div>").appendTo(r).addClass(n.join(" ")).addClass(fue).css("textAlign",mue(e.horizontalAlignment));r.css("justifyContent",vue(e.verticalAlignment));var s=V("<div>").appendTo(o);return{$rootElement:o,buttonInstance:a(s,"dxButton",Y({validationGroup:i},e.buttonOptions))}}function mue(t){return q(t)?t:"right"}function vue(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var gue="dx-field-empty-item";function nD(t){var{$parent:e,rootElementCssClassList:r}=t;return V("<div>").addClass(gue).html("&nbsp;").addClass(r.join(" ")).appendTo(e)}var _ue="dxTextBox",yue="dx-first-row",bue="dx-last-row",Cue="dx-first-col",wue="dx-last-col",xue=rn.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:he.format("dxForm-optionalMark"),requiredMessage:he.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new BL,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this.option("layoutData"),e=this.option("items");q(e)&&e.forEach(r=>{if(r.dataField&&this._getDataByField(r.dataField)===void 0){var n;r.editorOptions&&(n=r.editorOptions.value),(q(n)||r.dataField in t)&&this._updateFieldValue(r.dataField,n)}})},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var{allowIndeterminateState:e,editorType:r,dataField:n}=t;if(e===!0&&r==="dxCheckBox"){var i=["layoutData",...n.split(".")],a=i.pop(),o=this.option(i.join("."));return o&&a in o}return!1},_updateFieldValue:function(t,e){var r=this.option("layoutData"),n=e;!Fn.isWrapped(r[t])&&q(t)?this.option("layoutData."+t,n):Fn.isWritableWrapped(r[t])&&(n=Me(n)?n():n,r[t](n)),this._triggerOnFieldDataChanged({dataField:t,value:n})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,r=this.option("items"),n=q(r),i=e.option("customizeItem"),a=n?r:this._generateItemsByData(t);if(q(a)){var o=[];te(a,function(s,l){e._isAcceptableItem(l)&&(l=e._processItem(l),i&&i(l),rt(l)&&Fn.unwrap(l.visible)!==!1&&o.push(l))}),(!e._itemWatchers.length||!n)&&e._updateItemWatchers(a),this._setItems(o),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(t){t()}),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,r=e._getWatch();t.forEach(function(n){rt(n)&&q(n.visible)&&Me(r)&&e._itemWatchers.push(r(function(){return Fn.unwrap(n.visible)},function(){e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(t){var e=[];return q(t)&&te(t,function(r){e.push({dataField:r})}),e},_isAcceptableItem:function(t){var e=t.dataField||t,r=this._getDataByField(e);return!(Me(r)&&!Fn.isWrapped(r))},_processItem:function(t){if(typeof t=="string"&&(t={dataField:t}),typeof t=="object"&&!t.itemType&&(t.itemType=gw),!q(t.editorType)&&q(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=q(e)?this._getEditorTypeByDataType(Si(e)):_ue}if(t.editorType==="dxCheckBox"){var r;t.allowIndeterminateState=(r=t.allowIndeterminateState)!==null&&r!==void 0?r:!0}return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){kh(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(t,e){var r=t.visibleIndex,n=e.visibleIndex,i;return r>n?i=1:r<n?i=-1:i=0,i})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(kle),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),r=V("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(r,$L,this._getResponsiveBoxConfig(n,e,t)),lt()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this,r=0;t.forEach(n=>{var i,{item:a}=n;a!=null&&(i=a.label)!==null&&i!==void 0&&i.template&&r++}),te(t,function(n,i){switch(i.itemType){case"empty":nD(i);break;case"button":e._renderButtonItem(i);break;default:e._renderFieldItem(i,r)}})},_getResponsiveBoxConfig:function(t,e,r){var n=this,i=n.option("colCountByScreen"),a=i&&i.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var o=n.option("onLayoutChanged"),s=n.isSingleColumnMode();o&&(n.$element().toggleClass(XA,s),o(s))},onContentReady:function(o){lt()&&n._renderTemplates(r),n.option("onLayoutChanged")&&n.$element().toggleClass(XA,n.isSingleColumnMode(o.component))},itemTemplate:function(o,s,l){if(o.location){var p=V(l),h=o.location.row*e,m=n._items[o.location.col+h];if(m){var v=[m.cssClass];p.toggleClass(Ale,n.isSingleColumnMode(this)),o.location.row===0&&v.push(yue),o.location.col===0&&v.push(Cue),m.itemType===gw&&n.option("isRoot")&&p.addClass(GL);var f=o.location.col===e-1||o.location.col+o.location.colspan===e,u=n._getRowsCount(),c=o.location.row===u-1;f&&v.push(wue),c&&v.push(bue),m.itemType!=="empty"&&(v.push(zL),v.push(n.option("cssItemClass")),q(m.col)&&v.push("dx-col-"+m.col)),r.push({itemType:m.itemType,item:m,$parent:p,rootElementCssClassList:v})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t,screenByWidth:n.option("screenByWidth"),singleColumnScreen:a?!1:"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var r=this.option("form").getTargetScreenFactor();r||(r=lt()?O3(this.option("screenByWidth")):"lg"),t=e[r]||t}if(t==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!lt())return 1;var t=this.option("minColWidth"),e=ot(this.$element()),r=this._items.length,n=Math.floor(e/t)||1;return r<n?r:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e=this._items.slice(0),r,n,i=[],a,o;for(o=0;o<e.length;o++)if(r=e[o],i.push(r),(this.option("alignItemLabels")||r.alignItemLabels||r.colSpan)&&(r.col=this._getColByIndex(i.length-1,t)),r.colSpan>1&&r.col+r.colSpan<=t){for(n=[],a=0;a<r.colSpan-1;a++)n.push({merged:!0});i=i.concat(n)}else delete r.colSpan;this._setItems(i)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t=this._items,e=this._getColCount(),r=[],n,i;for(i=0;i<t.length;i++)if(n=t[i],!n.merged){var a={location:{row:parseInt(i/e),col:this._getColByIndex(i,e)}};q(n.disabled)&&(a.disabled=n.disabled),q(n.visible)&&(a.visible=n.visible),q(n.colSpan)&&(a.location.colspan=n.colSpan),q(n.rowSpan)&&(a.location.rowspan=n.rowSpan),r.push(a)}return r},_renderEmptyItem:function(t){nD({$container:t})},_renderButtonItem:function(t){var{item:e,$parent:r,rootElementCssClassList:n}=t,{$rootElement:i,buttonInstance:a}=pue({item:e,$parent:r,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:a,guid:e.guid,$itemContainer:i})},_renderFieldItem:function(t,e){var r,n,{item:i,$parent:a,rootElementCssClassList:o}=t,s=this._getDataByField(i.dataField),l=!1;if(s===void 0){var{allowIndeterminateState:p,editorType:h,dataField:m}=i;l=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:p,editorType:h,dataField:m})}var v=i.dataField||i.name,f=this._getFormOrThis(),{$fieldEditorContainer:u,widgetInstance:c,$rootElement:d}=due($le({$parent:a,rootElementCssClassList:o,item:i,name:v,editorValue:s,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,labelTemplate:(r=i.label)!==null&&r!==void 0&&r.template?this._getTemplate(i.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(v),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(f,e)&&f._alignLabels(this,this.isSingleColumnMode(f))}}));(n=this.option("onFieldItemRendered"))===null||n===void 0||n(),c&&i.dataField&&this._bindDataField(c,i.dataField,i.editorType,u),this._itemsRunTimeInfo.add({item:i,widgetInstance:c,guid:i.guid,$itemContainer:d})},_incTemplateRenderedCallCount(){var t;this._labelTemplateRenderedCallCount=((t=this._labelTemplateRenderedCallCount)!==null&&t!==void 0?t:0)+1},_shouldAlignLabelsOnTemplateRendered(t,e){return t.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,r,n){var i=this._getFormOrThis();t.on("enterKey",function(a){i._createActionByOption("onEditorEnterKey")(Y(a,{dataField:e}))}),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e,r)},_createWatcher:function(t,e,r){var n=this,i=n._getWatch();if(Me(i)){var a=i(function(){return n._getDataByField(r)},function(){var o=n._getDataByField(r);if(t.NAME==="dxTagBox"){var s=t.option("value");if(o!==s&&function(l,p){if(!Array.isArray(l)||!Array.isArray(p)||l.length!==p.length)return!1;for(var h=0;h<l.length;h++)if(l[h]!==p[h])return!1;return!0}(o,s))return}t.option("value",o)},{deep:!0,skipImmediate:!0});X.on(e,fa,a)}},_getWatch:function(){if(!q(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,r){var n=this.option("readOnly"),i=Object.hasOwn(r,"readOnly"),a=this.callBase(t,e,we({},r,{readOnly:i?r.readOnly:n})),o=!1;return a.on("optionChanged",s=>{s.name==="readOnly"&&!o&&(i=!0)}),this.on("optionChanged",function(s){s.name==="readOnly"&&!i&&(o=!0,a.option(s.name,s.value),o=!1)}),a},_generateRatio:function(t,e){var r=[],n,i;for(i=0;i<t;i++)n={ratio:1},e&&(n.baseSize="auto"),r.push(n);return r},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this.option("layoutData");rt(e)&&Object.getOwnPropertyNames(e).forEach(r=>delete this._optionsByReference["layoutData."+r]),rt(t)&&Object.getOwnPropertyNames(t).forEach(r=>this._optionsByReference["layoutData."+r]=!0)},_resetWidget(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged(t){if(t.fullName.search("layoutData.")!==0)switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?di(t.value)||this._itemsRunTimeInfo.each((e,r)=>{if(q(r.item)){var n=r.item.dataField;if(n&&q(r.widgetInstance)){var i=er(n),a=i(t.value),{allowIndeterminateState:o,editorType:s}=r.item;a!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:o,editorType:s,dataField:n})?r.widgetInstance.option("value",a):this._resetWidget(r.widgetInstance)}}}):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(t,e){this.on("optionChanged",r=>{r.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",r.value)}),t.on("valueChanged",r=>{var n=rt(r.value)||Array.isArray(r.value);!this._disableEditorValueChangedHandler&&!(n&&r.value===r.previousValue)&&this._updateFieldValue(e,r.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var r=this;rt(t)?te(t,function(n,i){r._updateFieldValue(n,i)}):typeof t=="string"&&r._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Rt("dxLayoutManager",xue);var PS="dx-validationsummary",Sue=PS+"-item",Eue=PS+"-item-data",YL=Ul.inherit({_getDefaultOptions(){return Y(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),Y(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var t=this.$element(),e=this.option("validationGroup")||Gt.findGroup(t,this._modelByElement(t)),r=Gt.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),r.on("validated",this.groupSubscription)},_unsubscribeGroup(){var t=Gt.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems(t,e){var r=[];return te(t,function(n,i){var a=Nn(e,function(o){if(o.validator===i)return!0});a.length&&(r=r.concat(a))}),r},_groupValidationHandler(t){var e=this._getOrderedItems(t.validators,Xr(t.brokenRules,function(r){return{text:r.message,validator:r.validator,index:r.index}}));this.validators=t.validators,te(this.validators,(r,n)=>{if(n._validationSummary!==this){var i=this._itemValidationHandler.bind(this);n.on("validated",i),n.on("disposing",function(){n.off("validated",i),n._validationSummary=null,i=null}),n._validationSummary=this}}),this.option("items",e)},_itemValidationHandler(t){for(var{isValid:e,validator:r,brokenRules:n}=t,i=this.option("items"),a=!1,o=0,s=function(){var p=i[o];if(p.validator===r){var h=Nn(n||[],function(m){return m.index===p.index})[0];if(e||!h)return i.splice(o,1),a=!0,"continue";h.message!==p.text&&(p.text=h.message,a=!0)}o++};o<i.length;)var l=s();te(n,function(p,h){var m=Nn(i,function(v){return v.validator===r&&v.index===h.index})[0];m||(i.push({text:h.message,validator:r,index:h.index}),a=!0)}),a&&(i=this._getOrderedItems(this.validators,i),this.option("items",i))},_initMarkup(){this.$element().addClass(PS),this.callBase()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:()=>Sue,_itemDataKey:()=>Eue,_postprocessRenderItem(t){X.on(t.itemElement,"click",function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});Rt("dxValidationSummary",YL);var iD="dx-validationgroup",Iue="dx-validator",Tue="dx-validationsummary";class Oue extends za{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Gt.addGroup(this)}_initMarkup(){var e=this.$element();e.addClass(iD),e.find(".".concat(Iue)).each(function(r,n){a_.getInstance(V(n))._initGroupRegistration()}),e.find(".".concat(Tue)).each(function(r,n){YL.getInstance(V(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return Gt.validateGroup(this)}reset(){return Gt.resetGroup(this)}_dispose(){Gt.removeGroup(this),this.$element().removeClass(iD),super._dispose()}_useTemplates(){return!1}}Rt("dxValidationGroup",Oue);var aD="dx-state-focused",kue=["items","isRequired","validationRules","visible"],MS=rn.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new BL,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return Y(this.callBase(),{formID:"dx-"+new Lr,formData:{},colCount:1,screenByWidth:J1,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:he.format("dxForm-optionalMark"),requiredMessage:he.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:ur().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Mr()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),Y(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr(QA))},_applyLabelsWidthByCol:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.inOneColumn?zL:qA+e,i=r.excludeTabbed?":not(.".concat(YA,")"):"";Qle(t,".".concat(n).concat(i))},_applyLabelsWidth:function(t,e,r,n,i){n=r?1:n||this._getGroupColCount(t);var a={excludeTabbed:e,inOneColumn:r},o;for(o=0;o<n;o++)this._applyLabelsWidthByCol(t,o,a,i)},_getGroupElementsInColumn:function(t,e,r){var n=q(r)?"."+ZA+r:"",i="."+qA+e+" > ."+vw+" > ."+Hy+n;return t.find(i)},_applyLabelsWidthWithGroups:function(t,e,r,n){if(this.option("alignRootItemLabels")===!0)for(var i=t.find(".".concat(GL)),a=0;a<e;a++)this._applyLabelsWidthByCol(i,a,r,n);var o=this.option("alignItemLabelsInAllGroups");if(o)this._applyLabelsWidthWithNestedGroups(t,e,r,n);else{var s=this.$element().find("."+Hy),l;for(l=0;l<s.length;l++)this._applyLabelsWidth(s.eq(l),r,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(t,e,r,n){var i={excludeTabbed:r},a,o,s,l;for(a=0;a<e;a++)for(l=this._getGroupElementsInColumn(t,a),this._applyLabelsWidthByCol(l,0,i,n),o=0;o<this._groupsColCount.length;o++){l=this._getGroupElementsInColumn(t,a,this._groupsColCount[o]);var p=this._getGroupColCount(l);for(s=1;s<p;s++)this._applyLabelsWidthByCol(l,s,i,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var{layoutManager:e,inOneColumn:r,$container:n,excludeTabbed:i,items:a}=t;if(!(!lt()||this._labelLocation()==="top")){var o=KL(e._getMarkOptions());r?this._applyLabelsWidth(n,i,!0,void 0,o):this._checkGrouping(a)?this._applyLabelsWidthWithGroups(n,e._getColCount(),i,o):this._applyLabelsWidth(n,i,!1,e._getColCount(),o)}},_prepareFormData:function(){q(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(Lle)},_initMarkup:function(){Gt.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(Tle),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){if(lt()){var t=this.$element().get(0);vl.unobserve(t),vl.observe(t,()=>{this._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&te(this._cachedLayoutManagers,(t,e)=>{var r;(r=e.option("onLayoutChanged"))===null||r===void 0||r(e.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return lt()?O3(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),Ra(this.$element().find(".".concat(N5)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,vl.unobserve(this.$element().get(0))},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new wi(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?V(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;(t=this._$validationSummary)===null||t===void 0||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=V("<div>").addClass(Ble).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(t,e,r,n){if(t){for(var i=[],a=0;a<t.length;a++){var o=t[a],s=NL(r,pw(a,n)),l={item:o,itemIndex:a,path:s},p=this._itemsRunTimeInfo.add(l);if(tt(o)&&(o={dataField:o}),rt(o)){var h=we({},o);l.preparedItem=h,h.guid=p,this._tryPrepareGroupItem(h),this._tryPrepareTabbedItem(h,s),this._tryPrepareItemTemplate(h),e&&(h.cssItemClass=YA),h.items&&(h.items=this._prepareItems(h.items,e,s)),i.push(h)}else i.push(o)}return i}},_tryPrepareGroupItem:function(t){t.itemType==="group"&&(t.alignItemLabels=vr(t.alignItemLabels,!0),t._prepareGroupItemTemplate=e=>{t.template&&(t.groupContentTemplate=this._getTemplate(e)),t.template=this._itemGroupTemplate.bind(this,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){t.itemType==="tabbed"&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){var r=t[e];if(r.itemType==="group")return!0}},_renderLayout:function(){var t=this,e=t.option("items"),r=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(r,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(n){t._alignLabels.bind(t)(t._rootLayoutManager,n)},onContentReady:function(n){t._alignLabels(n.component,n.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,r){var n,i=V("<div>").appendTo(r),a=Y({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:l=>{var p,h;(p=t.tabPanelOptions)===null||p===void 0||(h=p.onItemRendered)===null||h===void 0||h.call(p,l),Rx(l.itemElement)},itemTemplate:(l,p,h)=>{var m=V(h),v=vr(l.alignItemLabels,!0),f=this._renderLayoutManager(m,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:v,screenByWidth:this.option("screenByWidth"),colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:u=>{this._alignLabelsInColumn({$container:m,layoutManager:f,items:l.items,inOneColumn:u})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid,{layoutManager:f}),v&&this._alignLabelsInColumn({$container:m,layoutManager:f,items:l.items,inOneColumn:f.isSingleColumnMode()})}}),o=(l,p)=>{Array.isArray(l)&&l.forEach(h=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(h.guid,{widgetInstance:p}))},s=this._createComponent(i,RS,a);V(r).parent().addClass(Ple),s.on("optionChanged",l=>{l.fullName==="dataSource"&&o(l.value,l.component)}),o([{guid:t.guid},...(n=t.tabs)!==null&&n!==void 0?n:[]],s)},_itemGroupTemplate:function(t,e,r){var n=e.editorOptions.inputAttr.id,i=V("<div>").toggleClass(Mle,q(t.caption)&&t.caption.length).addClass(Hy).appendTo(r),a={role:"group",labelledby:n};this.setAria(a,i),V(r).parent().addClass(Rle),t.caption&&V("<span>").addClass(Ole).text(t.caption).attr("id",n).appendTo(i);var o=V("<div>").addClass(Dle).appendTo(i);if(t.groupContentTemplate)t._renderGroupContentTemplate=()=>{o.empty();var p={formData:this.option("formData"),component:this};t.groupContentTemplate.render({model:p,container:et(o)})},t._renderGroupContentTemplate();else{var s=this._renderLayoutManager(o,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:s});var l=s._getColCount();this._groupsColCount.includes(l)||this._groupsColCount.push(l),i.addClass(ZA+l),i.attr(QA,l)}},_createLayoutManagerOptions:function(t,e){return gle({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:r=>{this._isDataUpdating||this._triggerOnFieldDataChanged(r)},onContentReady:r=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(r.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(r)},onDisposing:r=>{var{component:n}=r,i=n.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(i)},onFieldItemRendered:()=>{var r;(r=this._validationSummary)===null||r===void 0||r.refreshValidationGroup()}})},_renderLayoutManager:function(t,e){var r={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:Y(r,e.colCountByScreen)});var n=V("<div>");n.appendTo(t);var i=this._createComponent(n,"dxLayoutManager",e);return i.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(i),i},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,r){return r=r||{},this._extendConfig(r,{readOnly:this.option("readOnly")}),this.callBase(t,e,r)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",function(e){var r=e.fullName;r==="formData"&&(q(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&te(t._cachedLayoutManagers,function(n,i){r==="formData"&&(t._isDataUpdating=!0,i.option("layoutData",e.value),t._isDataUpdating=!1),(e.name==="readOnly"||e.name==="disabled")&&i.option(r,e.value)})})},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&e[0].search("items")!==-1&&this._itemsOptionChangedHandler(t)||e.length>1&&e[0].search("formData")!==-1&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?di(t.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":Gt.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),r=t.value,n=this._getItemPath(e),i=this.option(n),a=t.fullName.replace(n+".",""),o=a.split(".")[0].replace(/\[\d+]/,""),s=this._tryCreateItemOptionAction(o,i,i[o],t.previousValue,n),l=this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(t.fullName,r);if(!l&&i){this._changeItemOption(i,a,r);var p=this._generateItemsFromData(this.option("items"));this.option("items",p),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),r=t.value,n=e.slice(1).join("."),i=this.getEditor(n);return i?i.option("value",r):this._triggerOnFieldDataChanged({dataField:n,value:r}),!0},_tryCreateItemOptionAction:function(t,e,r,n,i){return t==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(i,".tabs")),r=this._prepareItems(r,!0,i,!0)),Sle(t,{item:e,value:r,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e=WA(t);if(kue.indexOf(e)>-1&&(Gt.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var r;(r=this._validationSummary)===null||r===void 0||r.refreshValidationGroup()}},_setLayoutManagerItemOption(t,e,r,n){if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var i=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(i,()=>(!t._disposed&&t.endUpdate(),new ae().resolve()))}var a=o=>{if(o.component.off("contentReady",a),VL(n)){var s=vle(n),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(s);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};t.on("contentReady",a),t.option(e,r),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(t,e){var r=t.split("."),n=WA(t);if(n==="items"&&r.length>1){var i=this._getItemPath(r),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(i);if(a){this._itemsRunTimeInfo.removeItemsByItems(a.getItemsRunTimeInfo());var o=this._prepareItems(e,!1,i);return this._setLayoutManagerItemOption(a,n,o,i),!0}}else if(r.length>2){var s=r.length-2,l=this._getItemPath(r.slice(0,s)),p=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(p){var h=Od(r[s],n);if(n==="editorType"&&p.option(h)!==e)return!1;if(n==="visible"){var m=this.option(Od(l,"items"));if(m&&m.length){var v=p.option("items");m.forEach((f,u)=>{var c=v[u];c.visibleIndex=f.visibleIndex})}}return this._setLayoutManagerItemOption(p,h,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(t,e){var r;return this.beginUpdate(),te(e,(n,i)=>{if(r=this._tryChangeLayoutManagerItemOption(Od(t,n),i),!r)return!1}),this.endUpdate(),r},_getItemPath:function(t){var e=t[0],r;for(r=1;r<t.length&&t[r].search(/items\[\d+]|tabs\[\d+]/)!==-1;r++)e+="."+t[r];return e},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&rt(t)&&te(t,function(r,n){e._triggerOnFieldDataChanged({dataField:r,value:n})})},_updateFieldValue:function(t,e){if(q(this.option("formData"))){var r=this.getEditor(t);if(this.option("formData."+t,e),r){var n=r.option("value");n!==e&&r.option("value",e)}}},_generateItemsFromData:function(t){var e=this.option("formData"),r=[];return!t&&q(e)&&te(e,function(n){r.push({dataField:n})}),t&&te(t,function(n,i){rt(i)?r.push(i):r.push({dataField:i})}),r},_getItemByField:function(t,e){var r=this,n=rt(t)?t:r._getFieldParts(t),i=n.fieldName,a=n.fieldPath,o;return e.length&&te(e,function(s,l){var p=l.itemType;if(a.length){var h=a.slice();l=r._getItemByFieldPath(h,i,l)}else if(p==="group"&&!(l.caption||l.name)||p==="tabbed"&&!l.name){var m=r._getSubItemField(p);l.items=r._generateItemsFromData(l.items),l=r._getItemByField({fieldName:i,fieldPath:a},l[m])}if(mle(l,i))return o=l,!1}),o},_getFieldParts:function(t){for(var e=t,r=e.indexOf("."),n=[];r!==-1;)n.push(e.substr(0,r)),e=e.substr(r+1),r=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(t,e,r){var n=r.itemType,i=this._getSubItemField(n),a=n==="group"||n==="tabbed"||r.title,o;do if(a){var s=r.name||r.caption||r.title,l=q(s),p=mw(s),h=void 0;if(r[i]=this._generateItemsFromData(r[i]),l&&(h=t.pop()),!t.length&&(o=this._getItemByField(e,r[i]),o))break;(!l||l&&p===h)&&t.length&&(o=this._searchItemInEverySubItem(t,e,r[i]))}else break;while(t.length&&!q(o));return o},_getSubItemField:function(t){return t==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(t,e,r){var n=this,i;return te(r,function(a,o){if(i=n._getItemByFieldPath(t.slice(),e,o),i)return!1}),i||(i=!1),i},_changeItemOption:function(t,e,r){rt(t)&&(t[e]=r)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var r=!1;return te(this._cachedColCountOptions,function(n,i){if(i.colCountByScreen[t]!==i.colCountByScreen[e])return r=!0,!1}),r},_refresh:function(){var t="."+aD+" input, ."+aD+" textarea";X.trigger(this.$element().find(t),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(t,e){q(e.widgetInstance)&&ha.isEditor(e.widgetInstance)&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))}),Gt.resetGroup(this._getValidationGroup())},_updateData:function(t,e,r){var n=this,i=r?e:t;rt(i)?te(i,function(a,o){n._updateData(r?t+"."+a:a,o,rt(o))}):tt(t)&&n._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each(function(r,n){q(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(t,e)})},_focusTarget:function(){return this.$element().find("."+vw+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),Gt.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new ae;return t._scrollable?t._scrollable.update().done(function(){e.resolveWith(t)}):e.resolveWith(t),e.promise()},itemOption:function(t,e,r){var n=this._generateItemsFromData(this.option("items")),i=this._getItemByField(t,n),a=HL(n,i);if(i)switch(arguments.length){case 1:return i;case 3:var o=this._tryCreateItemOptionAction(e,i,r,i[e],a);this._changeItemOption(i,e,r);var s=Od(a,e);!this._tryExecuteItemOptionAction(o)&&!this._tryChangeLayoutManagerItemOption(s,r)&&this.option("items",n);break;default:if(rt(e)&&!this._tryChangeLayoutManagerItemOptions(a,e)){var l;te(e,(p,h)=>{var m=this._tryCreateItemOptionAction(p,i,h,i[p],a);this._changeItemOption(i,p,h),!l&&!this._tryExecuteItemOptionAction(m)&&(l=!0)}),l&&this.option("items",n)}}},validate:function(){return Gt.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new Lr)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Rt("dxForm",MS);var Aue=t=>class extends t{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isPopupEditMode(){var e=this.option("editing.mode");return e===AS}isFormEditMode(){var e=this.option("editing.mode");return e===Ac}getFirstEditableColumnIndex(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var r=this.option(gi),n=this._dataController.getRowIndexByKey(r),i=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(i,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var e=super._isEditColumnVisible(),r=this.option("editing");return this.isFormOrPopupEditMode()&&r.allowUpdating||e}_handleDataChanged(e){var r,n;if(this.isPopupEditMode()){var i=this.option("editing.editRowKey"),a=(r=e==null?void 0:e.items)===null||r===void 0?void 0:r.some(s=>Jt(s.key,i)),o=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(s=>s==="insert");(e.changeType==="refresh"||a&&e.isOptionChanged)&&!o&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e,r=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&r)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,r,n){var i,a=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?((i=e.update)===null||i===void 0||i.call(e,e),this._rowsView.renderDelayedTemplates()):a&&(this._updateEditFormDeferred=new ae().done(()=>a.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(e,r,n)}_showEditPopup(e,r){var n=Ue.current().deviceType!=="desktop",i=this.addWidgetPrefix(Ese),a=Y({showTitle:!1,fullScreen:n,wrapperAttr:{class:i},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(Lm));if(!this._editPopup){var o=V("<div>").appendTo(this.component.$element()).addClass(i);this._editPopup=this._createComponent(o,ma),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",s=>{var l;X.trigger(s.component.$content().find(kS).not(".".concat(Tse)).first(),"focus"),r&&((l=this._editForm)===null||l===void 0||l.repaint())})}this._editPopup.option(a),this._editPopup.show(),super._showEditPopup(e,r)}_getPopupEditFormTemplate(e){var r=this.component.getVisibleRows()[e],n={row:r,values:r.values,rowType:r.rowType,key:r.key,rowIndex:e};return this._rowsView._addWatchMethod(n,r),i=>{var a=this.getEditFormTemplate(),o=this._createComponent(V("<div>").appendTo(i),wi);this._$popupContent=V(o.content()),a(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),V(i).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){var e,r,n=this._getVisibleEditRowIndex();if(n>=0){var i=(e=this._editPopup)===null||e===void 0?void 0:e.option("animation");(r=this._editPopup)===null||r===void 0||r.option("animation",null),this._showEditPopup(n,!0),i!==void 0&&this._editPopup.option("animation",i)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var{fullName:r}=e;r.indexOf(Fy)===0?(this._handleFormOptionChange(e),e.handled=!0):r.indexOf(Lm)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var r;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else!((r=this._editPopup)===null||r===void 0)&&r.option("visible")&&e.fullName.indexOf(Fy)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){var r=this._editPopup;if(r){var n=e.fullName.slice(Lm.length+1);n?r.option(n,e.value):r.option(e.value)}}renderFormEditorTemplate(e,r,n,i,a){var o=this,s=V(i),{column:l}=r,p=Bse(r),h=e==null?void 0:e.row.data,m=n.component,{label:v,labelMark:f,labelMode:u}=n.editorOptions||{},c=Y({},e,{data:h,cellElement:null,isOnForm:!0,item:r,id:m.getItemID(r.name||r.dataField),column:Y({},l,{editorType:p,editorOptions:Y({label:v,labelMark:f,labelMode:u},l.editorOptions,r.editorOptions)}),columnIndex:l.index,setValue:!a&&l.allowEditing&&function(_,g){o.updateFieldValue(c,_,g)}});c.value=l.calculateCellValue(h);var d=this._getFormEditItemTemplate.bind(this)(c,l);return this._rowsView.renderTemplate(s,d,c,!!Tg(s)).done(()=>{this._rowsView._updateCell(s,c)}),c}getFormEditorTemplate(e,r){var n=this.component.columnOption(r.dataField);return(i,a)=>{var o,s,l=V(a);(s=(o=e.row).watch)===null||s===void 0||s.call(o,()=>n.selector(e.row.data),()=>{var p=l.find(".dx-widget").first(),h=p.data("dxValidator"),m=h==null?void 0:h.option();l.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,r,i,l),p=l.find(".dx-widget").first(),h=p.data("dxValidator"),m&&!h&&p.dxValidator({validationRules:m.validationRules,validationGroup:m.validationGroup,dataGetter:m.dataGetter})}),e=this.renderFormEditorTemplate.bind(this)(e,r,i,l)}}getEditFormOptions(e){var r,n=(r=this._getValidationGroupsInForm)===null||r===void 0?void 0:r.call(this,e),i=this.option("editing.form.customizeItem"),a=this.addWidgetPrefix(DL),o=this.option("editing.form.items"),s={};if(o)ML(o,p=>{var h=(p==null?void 0:p.name)||(p==null?void 0:p.dataField);h&&(s[h]=!!p.editorType)});else{var l=this.getController("columns").getColumns();o=[],te(l,(p,h)=>{!h.isBand&&!h.type&&o.push({column:h,name:h.name,dataField:h.dataField})})}return Y({},n,{items:o,formID:"dx-".concat(new Lr),customizeItem:p=>{var h,m=p.name||p.dataField;if((p.column||m)&&(h=p.column||this._columnsController.columnOption(p.name?"name:".concat(p.name):"dataField:".concat(p.dataField))),h){if(p.label=p.label||{},p.label.text=p.label.text||h.caption,h.dataType==="boolean"&&p.label.visible===void 0){var v=this.option("editing.form.labelMode");(v==="floating"||v==="static")&&(p.label.visible=!0)}p.template=p.template||this.getFormEditorTemplate(e,p),p.column=h,p.isCustomEditorType=s[m],h.formItem&&Y(p,h.formItem),p.isRequired===void 0&&h.validationRules&&(p.isRequired=h.validationRules.some(u=>u.type==="required"),p.validationRules=[]);var f=q(p.visible)?p.visible:!0;!this._firstFormItem&&f&&(this._firstFormItem=p)}i==null||i.call(this,p),p.cssClass=tt(p.cssClass)?"".concat(p.cssClass," ").concat(a):a}})}getEditFormTemplate(){return(e,r,n)=>{var i=this.option(Fy),a=this.getEditFormOptions(r),o=V("<div>").appendTo(e),s=n==null?void 0:n.isPopupForm;if(this._firstFormItem=void 0,s&&o.addClass(this.addWidgetPrefix(Ise)),this._editForm=this._createComponent(o,MS,Y({},i,a)),!s){var l=V("<div>").addClass(this.addWidgetPrefix(kse)).appendTo(e);this._createComponent(V("<div>").appendTo(l),vn,this._getSaveButtonConfig()),this._createComponent(V("<div>").appendTo(l),vn,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var p;this._rowsView.renderDelayedTemplates(),(p=this._editPopup)===null||p===void 0||p.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){var r;super._beforeEndSaving(e),this.isPopupEditMode()&&((r=this._editPopup)===null||r===void 0||r.hide())}_processDataItemCore(e,r,n,i,a){var{type:o}=r;this.isPopupEditMode()&&o===Ea&&(e.visible=!1),super._processDataItemCore(e,r,n,i,a)}_editRowFromOptionChangedCore(e,r){var n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,r,n),n&&this._showEditPopup(r)}},Due={extenders:{controllers:{editing:Aue,data:{_updateEditItem(t){this._editingController.isFormEditMode()&&(t.rowType="detail")},_getChangedColumnIndices(t,e,r,n){if(!(n===!1&&e.isEditing&&this._editingController.isFormEditMode()))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent(t,e){e.rowType==="data"&&this._editingController.isPopupEditMode()&&e.row.visible===!1||this.callBase.apply(this,arguments)},getCellElements(t){var e=this.callBase(t),r=this._editingController,n=r.getEditForm(),i=r.getEditFormRowIndex();return i===t&&e&&n?n.$element().find(".".concat(this.addWidgetPrefix(DL),", .").concat(Ose)):e},_getVisibleColumnIndex(t,e,r){var n=this._editingController.getEditFormRowIndex();if(n===e&&tt(r)){var i=this._columnsController.columnOption(r);return this._getEditFormEditorVisibleIndex(t,i)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex(t,e){var r=-1;return te(t,(n,i)=>{var a=V(i).find(".dx-field-item-content").data("dx-form-item");if(a!=null&&a.column&&e&&a.column.index===e.index)return r=n,!1}),r},_isFormItem(t){var e=t.rowType==="detail"||t.rowType==="detailAdaptive",r=t.rowType==="data"&&this._editingController.isPopupEditMode();return(e||r)&&t.item},_updateCell(t,e){this._isFormItem(e)?this._formItemPrepared(e,t):this.callBase(t,e)}}}}};Qe.registerModule("editingFormBased",Due);var Rue=t=>class extends t{init(){var e=!this._saveEditorHandler;if(super.init(),e){var r,n;this._pointerUpEditorHandler=()=>{var i;n=(i=this.getController("columnsResizer"))===null||i===void 0?void 0:i.isResizing()},this._pointerDownEditorHandler=i=>r=V(i.target),this._saveEditorHandler=this.createAction(function(i){var{event:a}=i,o=V(a.target),s=a[TL],{component:l}=this;if(Mse(r)&&!r.is(o))return;function p(c){if(!c)return!1;var d=c.closest(".".concat(Cse)),_=l.$element();return d.length>0&&_.closest(d).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var h=p(o)||p(s==null?void 0:s.$element()),m=s&&!s._disposed&&s!==this.component,v=!!o.closest(".".concat(this.addWidgetPrefix(bse))).length,f=o.hasClass(this.addWidgetPrefix(yse)),u=this.isCellEditMode();!n&&!h&&!f&&!(v&&u&&this.isEditing())&&(Tg(o)||m)&&this._closeEditItem.bind(this)(o)}}),X.on(Ce.getDocument(),Mt.up,this._pointerUpEditorHandler),X.on(Ce.getDocument(),Mt.down,this._pointerDownEditorHandler),X.on(Ce.getDocument(),jt,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===Vh}isBatchEditMode(){return this.option("editing.mode")===fc}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){var r,n=this.component.$element(),i=this.isEditing(),a=!n||!!e.closest(n).length;if(a){var o=e.closest(".".concat(wse)).length;if(o){var s=this.getView("rowsView"),l=e.closest(".".concat(Wo,"> td")),p=s.getRowIndex(l.parent()),h=s.getCellElements(p);if(h!=null&&h.length){var m=h.index(l),v=this._columnsController.getVisibleColumns(),f=(r=v[m])===null||r===void 0?void 0:r.allowEditing,u=this.isEditCell(p,m);i=i&&!f&&!u}}}return i||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){var e;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var r=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),r);n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var e=q(this.option(gi)),r=q(this.option(al));return e&&r}return super.isEditing()}_handleEditColumnNameChange(e){var r=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&r!==-1&&q(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),i=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,i,r)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){var r=new ae;return this.saveEditData().done(()=>{this.hasChanges()?r.reject("cancel"):this.addRow(e).done(r.resolve).fail(r.reject)}),r.promise()}return super._addRow(e)}editCell(e,r){return this._editCell({rowIndex:e,columnIndex:r})}_editCell(e){var r=new ae,n;return this.executeOperation(r,()=>{n=this._editCellCore(e),Ve(n).done(r.resolve).fail(r.reject)}),n!==void 0?n:r.promise()}_editCellCore(e){var r=this._dataController,n=q(e.oldColumnIndex)||q(e.oldRowIndex),{columnIndex:i,rowIndex:a,column:o,item:s}=this._getNormalizedEditCellOptions(e),l={data:s==null?void 0:s.data,cancel:!1,column:o};if(s.key===void 0){this._dataController.fireError("E1043");return}if(o&&(s.rowType==="data"||s.rowType==="detailAdaptive")&&!s.removed&&this.isCellOrBatchEditMode()){if(!n&&this.isEditCell(a,i))return!0;var p=a+r.getRowIndexOffset();return Ve(this._beforeEditCell(a,i,s)).done(h=>{h||this._prepareEditCell(l,s,i,p)||this._processCanceledEditingCell()})}return!1}_beforeEditCell(e,r,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var i=new ae;return this.saveEditData().always(()=>{i.resolve(this.hasChanges())}),i}}publicMethods(){var e=super.publicMethods();return e.concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){var{oldColumnIndex:r,oldRowIndex:n,columnIndex:i,rowIndex:a}=e,o=this._columnsController,s=o.getVisibleColumns(),l=this._dataController.items(),p=l[a],h;q(r)?h=s[r]:h=this._getEditColumn(),q(n)||(n=this._getVisibleEditRowIndex()),tt(i)&&(i=o.columnOption(i,"index"),i=o.getVisibleIndex(i));var m=s[i];return{oldColumn:h,columnIndex:i,oldRowIndex:n,rowIndex:a,column:m,item:p}}_prepareEditCell(e,r,n,i){var a;return r.isNewRow||(e.key=r.key),this._isEditingStart(e)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(r.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:r.key,oldData:(a=r.oldData)!==null&&a!==void 0?a:r.data}),!0)}closeEditCell(e,r){var n=Ve(),i=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var a=new ae;n=new ae,this.executeOperation(a,()=>{this._closeEditCellCore(e,i,r).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,r,n){var i=this._dataController,a=new ae,o=a.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(l=>{if(!this.hasChanges()){this.closeEditCell(!!l).always(a.resolve);return}a.resolve()}),o}else if(this._resetEditRowKey(),this._resetEditColumnName(),r>=0){var s=[r];this._beforeCloseEditCellInBatchMode(s),e||i.updateItems({changeType:"update",rowIndices:s})}return a.resolve(),o}_resetModifiedClassCells(e){if(this.isBatchEditMode()){var r=this._columnsController.getVisibleColumns().length;e.forEach(n=>{for(var{key:i}=n,a=this._dataController.getRowIndexByKey(i),o=0;o<r;o++){var s=this._rowsView._getCellElement(a,o);s==null||s.removeClass(Joe)}})}}_prepareChange(e,r,n){var i=V(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(i,e),super._prepareChange(e,r,n)}_cancelSaving(e){var r=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),r.updateItems()),super._cancelSaving(e)}optionChanged(e){var{fullName:r}=e;e.name==="editing"&&r===al?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,r,n){var i=this._columnsController.getVisibleColumns();e>-1&&Gr(()=>{this._repaintEditCell(i[e],i[r],n)})}_handleEditRowKeyChange(e){var r;if(this.isCellOrBatchEditMode()){var n=this._getVisibleEditColumnIndex(),i=this._getEditRowIndexCorrection(),a=this._dataController.getRowIndexByKey(e.previousValue)+i;q(e.value)&&e.value!==e.previousValue&&((r=this._editCellFromOptionChanged)===null||r===void 0||r.call(this,n,n,a))}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:r}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,r).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){var{isPageChanged:r}=e??{},n=this.isBatchEditMode()||r&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,r){var n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[r,e]}),new ae().resolve()):super._afterDeleteRow(e,r)}_updateEditRow(e,r,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,r,n):super._updateEditRow(e,r,n)}_isDefaultButtonVisible(e,r){if(this.isCellOrBatchEditMode()){var n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,r)&&(!n||!r.row.removed);case"undelete":return n&&this.allowDeleting(r)&&r.row.removed;default:return super._isDefaultButtonVisible(e,r)}}return super._isDefaultButtonVisible(e,r)}_isRowDeleteAllowed(){var e=super._isRowDeleteAllowed();return e||this.isBatchEditMode()}_beforeEndSaving(e){var r;this.isCellEditMode()?((r=e[0])===null||r===void 0?void 0:r.type)!=="update"&&super._beforeEndSaving(e):(this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e))}prepareEditButtons(e){var r,n=(r=this.option("editing"))!==null&&r!==void 0?r:{},i=super.prepareEditButtons(e),a=n.allowUpdating||n.allowAdding||n.allowDeleting;return a&&this.isBatchEditMode()&&(i.push(this.prepareButtonItem(e,"save","saveEditData",21)),i.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),i}_saveEditDataInner(){var e=this._dataController.getVisibleRows()[this.getEditRowIndex()],r=this._getEditColumn(),n=r==null?void 0:r.showEditorAlways,i=this.isCellEditMode()&&!(e!=null&&e.isNewRow),a;return i&&n&&(a=new ae,this.addDeferred(a)),super._saveEditDataInner().always(a==null?void 0:a.resolve)}_applyChange(e,r,n){var i=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:a}=e.column,o=e.column.setCellValue!==e.column.defaultSetCellValue,s=a&&!n&&i&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(s){this._focusEditingCell(),this._updateEditRow(e.row,!0,o);return}return super._applyChange(e,r,n)}_applyChangeCore(e,r){var{showEditorAlways:n}=e.column,i=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!r){if(i)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return r=this._needUpdateRow(e.column),super._applyChangeCore(e,r)}return super._applyChangeCore(e,r)}_processDataItemCore(e,r,n,i,a){var{data:o,type:s}=r;this.isBatchEditMode()&&s===Qa&&(e.data=Jo(e.data,o)),super._processDataItemCore(e,r,n,i,a)}_processRemoveCore(e,r,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,r,n)}_processRemoveIfError(e,r){if(!this.isBatchEditMode())return super._processRemoveIfError(e,r)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);var r=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(r,n)}},Pue={extenders:{controllers:{editing:Rue},views:{rowsView:{_createTable(){var t=this.callBase.apply(this,arguments),e=this._editingController;return e.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&X.on(t,Ee(ys.name,"dxDataGridRowsView"),"td:not(.".concat(i_,")"),this.createAction(()=>{e.isEditing()&&e.closeEditCell()})),t},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var r=this._editingController,n=!!t.removed;r.isBatchEditMode()&&n&&e.addClass(xse)}return e}},headerPanel:{isVisible(){var t=this.getController("editing").option("editing");return this.callBase()||t&&(t.allowUpdating||t.allowDeleting)&&t.mode===fc}}}}};Qe.registerModule("editingCellBased",Pue);var ZL="invalid",$y="revert-tooltip",oD="dx-invalid-message",zy="invalid-message",sD="dx-invalid-message-always",Mue="dx-revert-button",QL="validator",Wy="dx-pending-indicator",lD="dx-validation-pending",uD="content",cD="__DX_INSERT_INDEX__",Bue=2,Lue="row",Fue="form",Uy="batch",kd="cell",Nue="popup",Vue="dx-group-cell",JL=[Nue,Fue],Hue="transparent",ri={valid:"valid",invalid:"invalid",pending:"pending"},Ad="insert",jue="remove",Dd="cancel",Rd=function(t){return q(t)&&t!==Dd},dD=function(t,e){return t!==void 0||t===void 0&&e&&!e.isNewRow},$ue=ar.Controller.inherit({init(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated(t){var e=this._getValidationData(t==null?void 0:t.key);return!!e&&!!e.validated},_getValidationData(t,e){var r=ua(t),n=rt(r),i;return n?i=this._validationState.filter(a=>Jt(a.key,t))[0]:i=this._validationStateCache[r],!i&&e&&(i={key:t,isValid:!0},this._validationState.push(i),n||(this._validationStateCache[r]=i)),i},_getBrokenRules(t,e){var r;return e?r=e.brokenRules||e.brokenRule&&[e.brokenRule]:r=t.brokenRules||[],r},_rowValidating(t,e){var r=new ae,n=this._editingController.getChangeByKey(t==null?void 0:t.key),i=this._getBrokenRules(t,e),a=e?e.isValid:t.isValid,o={brokenRules:i,isValid:a,key:n.key,newData:n.data,oldData:this._editingController._getOldData(n.key),promise:null,errorText:this.getHiddenValidatorsErrorText(i)};return this.executeAction("onRowValidating",o),Ve(cn(o.promise)).always(()=>{t.isValid=o.isValid,t.errorText=o.errorText,r.resolve(o)}),r.promise()},getHiddenValidatorsErrorText(t){var e=[];return te(t,(r,n)=>{var{column:i}=n,a=i&&i.groupIndex!==void 0&&!i.showWhenGrouped,o=i&&i.visible;!n.validator.$element().parent().length&&(!o||a)&&e.push(n.message)}),e.join(", ")},validate(t){var e=!0,r=this._editingController,n=new ae,i=[],a=r.getEditMode();if(t=t||a===Lue,this._isValidationInProgress)return n.resolve(!1).promise();if(this._isValidationInProgress=!0,t){r.addDeferred(n);var o=r.getChanges();te(o,(l,p)=>{var{type:h,key:m}=p;if(h!=="remove"){var v=this._getValidationData(m,!0),f=this.validateGroup(v);i.push(f),f.done(u=>{v.validated=!0,e=e&&u.isValid})}})}else if(this._currentCellValidator){var s=this.validateGroup(this._currentCellValidator._findGroup());i.push(s),s.done(l=>{e=l.isValid})}return Ve(...i).done(()=>{this._isValidationInProgress=!1,n.resolve(e)}),n.promise()},validateGroup(t){var e=new ae,r=t&&Gt.getGroupConfig(t),n;return r!=null&&r.validators.length&&(this.resetRowValidationResults(t),n=Gt.validateGroup(t)),Ve((n==null?void 0:n.complete)||n).done(i=>{Ve(this._rowValidating(t,i)).done(e.resolve)}),e.promise()},isRowDataModified:t=>!di(t.data),updateValidationState(t){var e=this._editingController.getEditMode(),{key:r}=t,n=this._getValidationData(r,!0);if(JL.includes(e))n.isValid=!0;else{if(t.type===Ad&&!this.isRowDataModified(t)){n.isValid=!0;return}this.setDisableApplyValidationResults(!0);var i=Gt.getGroupConfig(n);if(i){var a=Gt.validateGroup(n);Ve(a.complete||a).done(o=>{n.isValid=o.isValid,n.brokenRules=o.brokenRules})}else(!n.brokenRules||!n.brokenRules.length)&&(n.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator(t){this._currentCellValidator=t},renderCellPendingIndicator(t){var e=t.find(".".concat(Wy));if(!e.length){var r=t;e=V("<div>").appendTo(r).addClass(Wy),this._createComponent(e,Ci),t.addClass(lD)}},disposeCellPendingIndicator(t){var e=t.find(".".concat(Wy));if(e.length){var r=Ci.getInstance(e);r&&(r.dispose(),r.$element().remove()),t.removeClass(lD)}},validationStatusChanged(t){var{validator:e}=t,r=e.option("validationGroup"),{column:n}=e.option("dataGetter")();this.updateCellValidationResult({rowKey:r.key,columnIndex:n.index,validationResult:t})},validatorInitialized(t){t.component.on("validating",this.validationStatusChanged.bind(this)),t.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing(t){var e=t.component,r=e.option("validationGroup"),{column:n}=e.option("dataGetter")(),i=this.getCellValidationResult({rowKey:r==null?void 0:r.key,columnIndex:n.index});Rd(i)&&i.status===ri.pending&&this.cancelCellValidationResult({change:r,columnIndex:n.index})},applyValidationResult(t,e){var{validator:r}=e,n=r.option("validationGroup"),{column:i}=r.option("dataGetter")();if(e.brokenRules&&e.brokenRules.forEach(p=>{p.columnIndex=i.index,p.column=i}),t){var a=this.getCellValidationResult({rowKey:n.key,columnIndex:i.index}),o=Rd(a)&&a.disabledPendingId===e.id;if(this._disableApplyValidationResults||o)return;if(e.status===ri.invalid){var s=t.find(":focus");vs(s)||(X.trigger(s,"focus"),X.trigger(s,Mt.down))}var l=!i.editCellTemplate&&this.getController("editorFactory").getEditorInstance(t);e.status===ri.pending?l?l.option("validationStatus",ri.pending):this.renderCellPendingIndicator(t):l?l.option("validationStatus",ri.valid):this.disposeCellPendingIndicator(t),t.toggleClass(this.addWidgetPrefix(ZL),e.status===ri.invalid)}},_syncInternalEditingData(t){var e,r=this._editingController,n=r.getChangeByKey(t.key),i=r._getOldData(t.key),a=(e=t.row)===null||e===void 0?void 0:e.oldData;n&&a&&!i&&r._addInternalData({key:t.key,oldData:a})},createValidator(t,e){var r,n,i=this._editingController,{column:a}=t,{showEditorAlways:o}=a;if(!(q(a.command)||!a.validationRules||!Array.isArray(a.validationRules)||!a.validationRules.length)){var s=i.getIndexByKey(t.key,i.getChanges()),l=s>-1;if(!l){if(!o){var p=this.getController("columns"),h=(p==null?void 0:p.getVisibleColumns())||[];o=h.some(b=>b.showEditorAlways)}var m=Jt(this.option("editing.editRowKey"),t.key),v=i.isCellOrBatchEditMode()&&i.allowUpdating({row:t.row});l=m||v&&o,v&&o&&i._addInternalData({key:t.key,oldData:(n=(r=t.row)===null||r===void 0?void 0:r.oldData)!==null&&n!==void 0?n:t.data})}if(l){if(e&&!e.length){Et.log("E1050");return}this._syncInternalEditingData(t);var f=this._getValidationData(t.key,!0),u=()=>{var b=i.getChangeByKey(f==null?void 0:f.key),C=a.calculateCellValue((b==null?void 0:b.data)||{});return C!==void 0?C:t.value},c=e&&e.hasClass("dx-widget");e&&e.addClass(this.addWidgetPrefix(QL));var d=new a_(e||V("<div>"),{name:a.caption,validationRules:Y(!0,[],a.validationRules),validationGroup:f,adapter:c?null:{getValue:u,applyValidationResults:b=>{this.applyValidationResult(e,b)}},dataGetter(){var b=f==null?void 0:f.key,C=i.getChangeByKey(b),w=i._getOldData(b);return{data:Jo(w,C==null?void 0:C.data),column:a}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(c){var _=d.option("adapter");if(_){var g=_.bypass,y=()=>t.row.isNewRow&&!this._isValidationInProgress&&!i.isCellModified(t);_.getValue=u,_.validationRequestsCallbacks=[],_.bypass=()=>g.call(_)||y()}}return d}}},setDisableApplyValidationResults(t){this._disableApplyValidationResults=t},getDisableApplyValidationResults(){return this._disableApplyValidationResults},isCurrentValidatorProcessing(t){var{rowKey:e,columnIndex:r}=t;return this._currentCellValidator&&Jt(this._currentCellValidator.option("validationGroup").key,e)&&this._currentCellValidator.option("dataGetter")().column.index===r},validateCell(t){var e={rowKey:t.option("validationGroup").key,columnIndex:t.option("dataGetter")().column.index},r=this.getCellValidationResult(e),n=Rd(r),i=t.option("adapter");if(!n)r=t.validate();else{var a=i.getValue();Jt(a,r.value)||(r=t.validate())}var o=new ae;return n&&r.status===ri.pending&&(this.updateCellValidationResult(e),i.applyValidationResults(r)),Ve(r.complete||r).done(s=>{n&&i.applyValidationResults(s),o.resolve(s)}),o.promise()},updateCellValidationResult(t){var{rowKey:e,columnIndex:r,validationResult:n}=t,i=this._getValidationData(e);if(i){i.validationResults||(i.validationResults={});var a;if(n){if(a=Y({},n),i.validationResults[r]=a,n.status===ri.pending&&(this._editingController.getEditMode()===kd&&(a.deferred=new ae,a.complete.always(()=>{a.deferred.resolve()}),this._editingController.addDeferred(a.deferred)),this._disableApplyValidationResults)){a.disabledPendingId=n.id;return}}else a=i.validationResults[r];a&&a.disabledPendingId&&delete a.disabledPendingId}},getCellValidationResult(t){var{rowKey:e,columnIndex:r}=t,n,i=this._getValidationData(e,!0);return(n=i==null?void 0:i.validationResults)===null||n===void 0?void 0:n[r]},removeCellValidationResult(t){var{change:e,columnIndex:r}=t,n=this._getValidationData(e==null?void 0:e.key);n&&n.validationResults&&(this.cancelCellValidationResult({change:e,columnIndex:r}),delete n.validationResults[r])},cancelCellValidationResult(t){var{change:e,columnIndex:r}=t,n=this._getValidationData(e.key);if(e&&n.validationResults){var i=n.validationResults[r];i&&(i.deferred&&i.deferred.reject(Dd),n.validationResults[r]=Dd)}},resetRowValidationResults(t){t&&(t.validationResults&&delete t.validationResults,delete t.validated)},isInvalidCell(t){var{rowKey:e,columnIndex:r}=t,n=this.getCellValidationResult({rowKey:e,columnIndex:r});return Rd(n)&&n.status===ri.invalid},getCellValidator(t){var{rowKey:e,columnIndex:r}=t,n=this._getValidationData(e),i=n&&Gt.getGroupConfig(n),a=i&&i.validators;return a&&a.filter(o=>{var{column:s}=o.option("dataGetter")();return s?s.index===r:!1})[0]},setCellValidationStatus(t){var e=this.getCellValidationResult({rowKey:t.key,columnIndex:t.column.index});q(e)?t.validationStatus=e!==Dd?e.status:Dd:delete t.validationStatus}}),zue={defaultOptions:()=>({editing:{texts:{validationCancelChanges:he.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:$ue},extenders:{controllers:{editing:{_addChange(t){var e=this.callBase.apply(this,arguments),r=this.getController("validating");return e&&t.type!==jue&&r.updateValidationState(e),e},_handleChangesChange(t){this.callBase.apply(this,arguments);var e=this.getController("validating");t.value.forEach(r=>{e._getValidationData(r.key)===void 0&&e.updateValidationState(r)})},_updateRowAndPageIndices(){var t=this,e=t.getView("rowsView").getTopVisibleItemIndex(),r=e;te(t.getChanges(),(n,i)=>{var{key:a,type:o}=i,s=this.getController("validating")._getValidationData(a);s&&!s.isValid&&s.pageIndex!==t._pageIndex&&(s.pageIndex=t._pageIndex,o===Ad?s.rowIndex=e:s.rowIndex=r,r++)})},_getValidationGroupsInForm(t){var e=this.getController("validating"),r=e._getValidationData(t.key,!0);return{validationGroup:r}},_validateEditFormAfterUpdate(t,e){e&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell(t){var e=this.callBase.apply(this,arguments),r=this.getController("validating");return e&&t.column.showEditorAlways&&r.updateValidationState({key:t.key}),e},processItems(t,e){var r=this.getChanges(),n=this.getController("data"),i=this.getController("validating");t=this.callBase(t,e);var a=t.length,o=function(s,l){var p={key:s.key},h=function(v,f){var u=-1,c=v.type===Ad,{key:d}=v;return te(f,(_,g)=>{if(Jt(d,c?g.key:n.keyOf(g)))return u=_,!1}),u}(s,t);if(!(h>=0)){l.rowIndex=l.rowIndex>a?l.rowIndex%a:l.rowIndex;var{rowIndex:m}=l;p[cD]=1,t.splice(m,0,p)}};return this.getEditMode()===Uy&&e!=="prepend"&&e!=="append"&&r.forEach(s=>{var{key:l}=s,p=i._getValidationData(l);p&&s.type&&p.pageIndex===this._pageIndex&&(s==null?void 0:s.pageIndex)!==this._pageIndex&&o(s,p)}),t},processDataItem(t){var e=t.data[cD],r=e?t.data.key:t.key,n=this.getEditMode();if(n===Uy&&e&&r){var i=this.getChanges(),a=Te.getIndexByKey(r,i);if(a>=0){var o=i[a];if(o.type!==Ad){var s=this._getOldData(o.key);t.data=Y(!0,{},s,o.data),t.key=r}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators(t){var e=this,r=this.getController("validating"),n=this.getController("columns"),i=n.getColumns(),a=n.getInvisibleColumns().filter(p=>!p.isBand),o=n.getGroupColumns().filter(p=>!p.showWhenGrouped&&a.indexOf(p)===-1),s=[],l=(p,h)=>this._dataController.getRowIndexByKey(h)>=0&&a.indexOf(p)<0;return a.push(...o),JL.includes(this.getEditMode())||te(i,(p,h)=>{t.forEach(m=>{var v;if(!l(h,m.key)){if(m.type===Ad)v=m.data;else if(m.type==="update"){var f=e._getOldData(m.key);if(!q(f))return;v=Jo(f,m.data)}if(v){var u=r.createValidator({column:h,key:m.key,value:h.calculateCellValue(v)});u&&s.push(u)}}})}),function(){s.forEach(p=>{p.dispose()})}},_beforeSaveEditData(t,e){var r=this.callBase.apply(this,arguments),n=this.getController("validating"),i=n._getValidationData(t==null?void 0:t.key);if(t){var a=t.type==="remove"||i.isValid;r=r||!a}else{var o=this._createInvisibleColumnValidators(this.getChanges());r=new ae,this.executeOperation(r,()=>{n.validate(!0).done(s=>{switch(o(),this._updateRowAndPageIndices(),this.getEditMode()){case kd:s||this._focusEditingCell();break;case Uy:s||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}r.resolve(!s)})})}return r.promise?r.promise():r},_beforeEditCell(t,e,r){var n=this.callBase(t,e,r);if(this.getEditMode()===kd){var i=this._rowsView._getCellElement(t,e),a=i&&i.data("dxValidator"),o=i&&i.closest(".dx-row").data("options"),s=a&&a.option("adapter").getValue();if(a&&dD(s,o)){var l=this.getController("validating"),p=new ae;return Ve(l.validateCell(a),n).done((h,m)=>{p.resolve(h.status===ri.valid&&m)}),p.promise()}if(!a)return n}},_afterSaveEditData(t){var e,r=this.getEditMode()===kd;if(te(this.getChanges(),(l,p)=>{var h=this._showErrorRow(p);e=e||h}),e){var n=this._rowsView.getScrollable();n&&(n.update(),n.scrollToElement(e))}if(t&&r&&this._needUpdateRow()){var i=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[i]}),this._focusEditingCell()}else if(!t){var a=!0;if(r){var o=this.getController("columns").getColumns(),s=o.filter(l=>{var p;return l.showEditorAlways&&((p=l.validationRules)===null||p===void 0?void 0:p.length)>0}).length>0;a=!s}a&&this.getController("validating").initValidationState()}},_handleDataChanged(t){var e=this.getController("validating")._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),t.changeType==="prepend"&&te(e,(r,n)=>{n.rowIndex+=t.items.length}),this.callBase(t)},resetRowAndPageIndices(){var t=this.getController("validating")._validationState;te(t,(e,r)=>{r.pageIndex!==this._pageIndex&&(delete r.pageIndex,delete r.rowIndex)})},_beforeCancelEditData(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow(t){var e,r=this.getController("errorHandling"),n=this.getController("data").items(),i=this.getIndexByKey(t.key,n),a=this.getController("validating")._getValidationData(t.key);if(!(a!=null&&a.isValid)&&(a!=null&&a.errorText)&&i>=0)return e=this.getPopupContent(),r&&r.renderErrorRow(a==null?void 0:a.errorText,i,e)},updateFieldValue(t){var e=this.getController("validating"),r=new ae;return e.removeCellValidationResult({change:this.getChangeByKey(t.key),columnIndex:t.column.index}),this.callBase.apply(this,arguments).done(()=>{var n=e.getCellValidator({rowKey:t.key,columnIndex:t.column.index});Ve(n&&e.validateCell(n)).done(i=>{this.getController("editorFactory").refocus(),r.resolve(i)})}),r.promise()},highlightDataCell(t,e){this.callBase.apply(this,arguments);var r=this.getController("validating");r.setCellValidationStatus(e);var n=!!e.setValue,i=this.isCellModified(e),a=q(e.validationStatus),o=i&&e.column.setCellValue||n&&!i&&!(e.row.isNewRow||!a);if(o){var s=t.data("dxValidator");s&&Ve(this.getController("validating").validateCell(s)).done(()=>{r.setCellValidationStatus(e)})}},getChangeByKey(t){var e=this.getChanges();return e[Te.getIndexByKey(t,e)]},isCellModified(t){var e=this.callBase(t),r=this.getChangeByKey(t.key),n=!!t.row&&this.getController("validating").isInvalidCell({rowKey:t.key,columnIndex:t.column.index});return e||this.getController("validating")._rowIsValidated(r)&&n}},editorFactory:{_showRevertButton(t){var e,r=(e=this._revertTooltip)===null||e===void 0?void 0:e.$element();if(!t||!t.length){r==null||r.remove(),this._revertTooltip=void 0;return}if(!t.find(r).length){var n=t.closest(".".concat(this.addWidgetPrefix(uD))),i=this.addWidgetPrefix($y);r==null||r.remove(),r=V("<div>").addClass(i).appendTo(t);var a={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:n,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:i},contentTemplate:()=>{var o=V("<div>").addClass(Mue),s={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),onClick:()=>{this._editingController.cancelEditData()}};return new vn(o,s).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:t},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new da(r,a)}},_hideFixedGroupCell(t,e){var r,n,i=this._rowsView.isFixedColumns(),a=this._editingController.isFormOrPopupEditMode();if(i&&!a){var o=t.closest(".dx-row").next().data("options");o&&o.rowType==="group"&&(r=V(this._rowsView.getRowElement(o.rowIndex)).last(),n=r.find(".".concat(Vue)),n.length&&n.get(0).style.visibility!=="hidden"&&(n.css("visibility","hidden"),e.onDisposing=function(){n.css("visibility","")}))}},_positionedHandler(t,e){if(!t.component.__skipPositionProcessing){var r=V(t.element).hasClass(this.addWidgetPrefix($y)),n=!r&&this._rowsView.updateFreeSpaceRowHeight(),i=this._normalizeValidationMessagePositionAndMaxWidth(t,r,e);t.component.__skipPositionProcessing=!!(n||i),i?t.component.option(i):n&&t.component.repaint()}},_showValidationMessage(t,e,r){var n,i=t.find(".dx-dropdowneditor-overlay").data("dxPopup"),a=i&&i.option("visible"),o=a?"top right":"top ".concat(r),s=a?"top left":"bottom ".concat(r),l=((n=this._columnsController.getFixedColumns())===null||n===void 0?void 0:n.length)>0,p=l?this.getView("rowsView").element():t.closest(".".concat(this.addWidgetPrefix(uD))),h="";e&&e.forEach(u=>{h+=(h.length?"<br/>":"")+b3(u)});var m=this.addWidgetPrefix(zy);this._rowsView.element().find(".".concat(m)).remove();var v=V("<div>").addClass(oD).addClass(sD).addClass(m).html(h).appendTo(t),f={container:p,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:"".concat(oD," ").concat(sD," ").concat(m)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!a&&mr.mozilla?-1:0},my:o,at:s,of:t},onPositioned:u=>{this._positionedHandler(u,a),this._shiftValidationMessageIfNeed(u.component.$content(),t)}};this._hideFixedGroupCell(t,f),new da(v,f)},_hideValidationMessage(){var t,e=(t=this._rowsView.element())===null||t===void 0?void 0:t.find(this._getValidationMessagesSelector());e==null||e.remove()},_normalizeValidationMessagePositionAndMaxWidth(t,e,r){var n=this._columnsController.getFixedColumns();if(!(!n||!n.length)){var i,a=!e&&(o=this,s=t.element,l=V(s).closest("tr").index(),p=V(o._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),o._rowsView._getWidths(p).reduce((c,d)=>c+d,0)),o,s,l,p,h=t.component.$content(),m=Pt(h,!0),v=!e&&m>a,f=this._rowsView.getCellIndex(V(t.element).closest("td")),u=function(c){var d,_;return c.some((g,y)=>{if(g.command===Hue)return d=y===0?-1:y,_=y===c.length-1?-1:y+g.colspan-1,!0}),{startColumnIndex:d,endColumnIndex:_}}(n);return!e&&(f===u.startColumnIndex||v)?i={collision:"none flip",my:"top left",at:r?"top right":"bottom left"}:f===u.endColumnIndex&&(i={collision:"none flip",my:"top right",at:e||r?"top left":"bottom right"},e&&(i.offset="-1 0")),i&&{position:i,maxWidth:v?a-2:void 0}}},_shiftValidationMessageIfNeed(t,e){var r=this._revertTooltip&&this._revertTooltip.$content();if(r){var n=t.offset(),i=r.offset();if(n.top===i.top&&n.left+ot(t)>i.left){var a=ot(r)+Bue;t.css("left",i.left<e.offset().left?-a:a)}}},_getRevertTooltipsSelector(){var t=this.addWidgetPrefix($y);return".dx-editor-cell .".concat(t)},_getValidationMessagesSelector(){var t=this.addWidgetPrefix(zy);return".dx-editor-cell .".concat(t,", .dx-cell-modified .").concat(t)},init(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus(t){t||this.getController("validating").setValidator(null),this.callBase()},updateCellState(t,e,r){var n,i=t==null?void 0:t.closest(this._getFocusCellSelector()),a=i!=null&&i.is("td")?i:null,o=i==null?void 0:i.closest(".dx-row").data("options"),s=o?this.getController("editing").getChangeByKey(o.key):null,l=a&&this.getController("columns").getVisibleColumns()[a.index()],p=((n=s==null?void 0:s.data)===null||n===void 0?void 0:n[l==null?void 0:l.name])!==void 0&&!this._editingController.isSaving();this._editingController.getEditMode()===kd&&((e==null?void 0:e.status)===ri.invalid||p?this._showRevertButton(i):this._revertTooltip&&this._revertTooltip.$element().remove());var h=e&&e.status===ri.invalid;if(h&&a&&l&&e&&e.brokenRules){var m=[];e.brokenRules.forEach(v=>{v.message&&m.push(v.message)}),m.length&&this._showValidationMessage(i,m,l.alignment||"left")}!r&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus(t,e){if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),t!=null&&t.hasClass("dx-row")||t!=null&&t.hasClass("dx-master-detail-cell"))return this.callBase(t,e);var r=t==null?void 0:t.closest(this._getFocusCellSelector()),{callBase:n}=this,i=r&&(r.data("dxValidator")||t.find(".".concat(this.addWidgetPrefix(QL))).eq(0).data("dxValidator")),a=r&&r.closest(".dx-row").data("options"),o=this.getController("editing"),s=a?o.getChangeByKey(a.key):null,l=this.getController("validating"),p;if(i){l.setValidator(i);var h=i.option("adapter").getValue();if(dD(h,a)||l._rowIsValidated(s))return o.waitForDeferredOperations().done(()=>{Ve(l.validateCell(i)).done(m=>{p=m;var{column:v}=p.validator.option("dataGetter")();s&&v&&!l.isCurrentValidatorProcessing({rowKey:s.key,columnIndex:v.index})||(p.status===ri.invalid&&(e=!0),this.updateCellState(t,p,e),n.call(this,t,e))})}),this.callBase(t,e)}return this.updateCellState(t,p,e),this.callBase(t,e)},getEditorInstance(t){var e=t.find(".dx-texteditor").eq(0);return Te.getWidgetInstance(e)}},data:{_getValidationStatus(t){var e=Rd(t)?t.status:t;return e||ri.valid},_isCellChanged(t,e,r,n,i){var a,o,s=(a=t.cells)===null||a===void 0?void 0:a[n],l=this._getValidationStatus({status:s==null?void 0:s.validationStatus}),p=this.getController("validating"),h=p.getCellValidationResult({rowKey:t.key,columnIndex:n}),m=p._getValidationData(t.key),v=this._getValidationStatus(h),f=JSON.stringify(e.modifiedValues)!==JSON.stringify(t.modifiedValues),u=l!==v&&f,c=V(s==null?void 0:s.cellElement).hasClass(this.addWidgetPrefix(ZL)),d=(o=s==null?void 0:s.column.validationRules)===null||o===void 0?void 0:o.length,_=t.isEditing!==e.isEditing&&d,g=u||m.isValid&&c;return _||g?!0:this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight(t){var e,r,n,i=this.element(),a=i&&i.find(".".concat(this.addWidgetPrefix(zy)," .dx-overlay-content"));if(this.callBase(t),a&&a.length&&(e=this._getRowElements(),n=this._getFreeSpaceRowElements(t),r=n.first(),r&&e.length===1&&(!r.is(":visible")||xt(a)>xt(r))))return n.show(),ms(n,xt(a)),!0},_formItemPrepared(t,e){this.callBase.apply(this,arguments),Mn(()=>{var r=e.find(".dx-widget").first(),n=r.length&&!r.children().length;n||this.getController("validating").createValidator(t,r)})},_cellPrepared(t,e){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(e,t),this.callBase.apply(this,arguments)},_restoreErrorRow(t){var e=this.getController("editing");e&&e.hasChanges()&&this._getRowElements(t).each((r,n)=>{var i=V(n).data("options");if(i){var a=e.getChangeByKey(i.key);a&&e._showErrorRow(a)}})}}}}};Qe.registerModule("validating",zue);var Gy="scrolling.legacyMode",eF=t=>t.option("scrolling.loadTwoPagesOnStart")||t._controller.isVirtual()||t._controller.getViewportItemIndex()>0,Fm=t=>t._cache.length?t._cache[0].pageIndex:-1,yw=t=>t._cache.length?t._cache[t._cache.length-1].pageIndex:-1,Gv=(t,e,r)=>{t._isChangedFiring=!0,e(r),t._isChangedFiring=!1},hD=(t,e,r)=>{if(t._isDelayChanged)return t._isDelayChanged=!1,Gv(t,e,r),!0},Wue=t=>{var e=t._dataOptions.pageSize(),r=t.option("scrolling.preventPreload");if(r)return 0;var n=t._controller.viewportSize();if(t._controller.isVirtualMode()&&t.option("scrolling.removeInvisiblePages")){n=0;for(var i=t._controller.viewportSize()*t._controller.viewportItemSize(),a=t._controller.getContentOffset(),o=t._controller.getViewportPosition(),s=t._controller.virtualItemsCount(),l=t._dataOptions.totalItemsCount(),p=s.begin;p<l&&!(a>=o+i);p++){var h=t._controller.getItemSizes()[p]||t._controller.viewportItemSize();a+=h,a>=o&&n++}}return e&&n>0?Math.ceil(n/e):1},Nm=(t,e)=>{var r=t.option("scrolling.preloadEnabled"),n=Wue(t),i=t._controller.isAppendMode();return n&&(e?n=r?1:0:(r&&n++,(i||!eF(t))&&n--)),n},Uue=t=>{var e=-1,r=Fm(t),n=t._dataOptions;if(r<0)e=t._pageIndex;else if(!t._cache[t._pageIndex-r])e=t._pageIndex;else if(r>=0&&t._controller.viewportSize()>=0){if(r>0){var i=yw(t)+1===n.pageCount()&&t._cache.length<Nm(t)+1,a=i||t._pageIndex===r&&Nm(t,!0);a&&(e=r-1)}if(e<0){var o=r+t._cache.length<=t._pageIndex+Nm(t);o&&(e=r+t._cache.length)}}return t._loadingPageIndexes[e]&&(e=-1),e},Gue=(t,e)=>{var r=t._dataOptions;if(e===t.pageIndex()||!r.isLoading()&&e<r.pageCount()||!r.hasKnownLastPage()&&e===r.pageCount())return r.pageIndex(e),t._loadingPageIndexes[e]=!0,Ve(r.load()).always(()=>{t._loadingPageIndexes[e]=!1})},fD=(t,e,r,n,i)=>{var a=t._dataOptions,o=a.items().slice(),s=rt(r)?r:void 0,l=r==="prepend",p=a.viewportItems();r&&tt(r)&&!t._isDelayChanged&&(s={changeType:r,items:o},i&&(s.removeCount=i.itemsCount,s.removeCount&&a.correctCount&&(s.removeCount=a.correctCount(p,s.removeCount,l))));var h=i?i.itemsLength:0;h&&a.correctCount&&(h=a.correctCount(p,h,l)),r==="append"?(p.push.apply(p,o),i&&p.splice(0,h)):l?(p.unshift.apply(p,o),i&&p.splice(-h)):t._dataOptions.viewportItems(o),a.updateLoading(),t._lastPageIndex=t.pageIndex(),t._isDelayChanged=n,n||Gv(t,e,s)};class Kue{constructor(e,r){this._dataOptions=r,this._controller=e,this._pageIndex=this._lastPageIndex=r.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){var r=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),i=this._controller.isVirtualMode(),a=this._controller.isAppendMode(),o=this._dataOptions.totalItemsCount(),s;if(r&&(i||a)&&o>=0){var l=this._controller.viewportSize();if(l&&e+l>=o&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){s=n-1;var p=o%r;s>0&&p>0&&p<l&&s--}else s=n;else{s=Math.floor(e/r);var h=n-1;s=Math.max(s,0),s=Math.min(s,h)}return this.pageIndex(s),this.load()}}pageIndex(e){var r=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(Gy)!==!1&&(r||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){var r=Fm(this);return r<0&&(r=e!==void 0?e:this.pageIndex()),r}endPageIndex(){var e=yw(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var e=this._dataOptions,r,n=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if(this.option(Gy)!==!1&&(n||i)){var a=Uue(this);if(a>=0){var o=Gue(this,a);o&&(r=new ae,o.done(()=>{var s=this._delayDeferred;s?s.done(r.resolve).fail(r.reject):r.resolve()}).fail(r.reject),e.updateLoading())}}else r=e.load();return!r&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),r||new ae().resolve()}loadIfNeed(){var e=this._controller.isVirtualMode(),r=this._controller.isAppendMode();if((e||r)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,r){var n=this._dataOptions,i=this._cache.length,a,o,s=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(r&&r.changes)Gv(this,e,r);else if(this.option(Gy)!==!1&&(s||l)){var p=Fm(this);if(p>=0&&(s&&p+this._cache.length!==n.pageIndex()&&p-1!==n.pageIndex()&&(i=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<yw(this)){Gv(this,e,{changeType:"append",items:[]});return}}var h={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&s?o=this._cache.length>Math.max(Nm(this)+(this.option("scrolling.preloadEnabled")?1:0),2):hD(this,e,{isDelayed:!0});var m;p===n.pageIndex()+1?(o&&(m=this._cache.pop()),a="prepend",this._cache.unshift(h)):(o&&(m=this._cache.shift()),a="append",this._cache.push(h));var v=s&&i===0&&eF(this);fD(this,e,this._cache.length>1?a:void 0,v,m),this._delayDeferred=this.load().done(()=>{hD(this,e)&&this.load()})}else fD(this,e,r)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){var r=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(i=>{r+=i.itemsCount}):r=this._dataOptions.itemsCount(),r}virtualItemsCount(){var e=Fm(this);e<0&&(e=this._dataOptions.pageIndex());var r=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),i=Math.max(0,this._dataOptions.totalItemsCount()-n-r);return{begin:r,end:i}}reset(){this._loadingPageIndexes={},this._cache=[]}}var que="infinite",tF="virtual",qp="scrolling.legacyMode",pD=t=>t.option("scrolling.mode")===tF||t._isVirtual,Xue=t=>t.option("scrolling.mode")===que&&!t._isVirtual;function rF(t,e,r){var n,i=[],a=[];r=r||t;function o(h){var m=h.element?h.$element():h,v=ca.offset(m);return v?h.scrollTop()-(v.top-t.offset().top):t.offset().top}var s={on(h,m,v){h.on("scroll",v)},off(h,m,v){h.off("scroll",v)}};function l(h){var m=h.get(0).nodeName==="#document",v=h.get(0).nodeType===pt().Node.ELEMENT_NODE,f=h.data("dxScrollable"),u=s;if(!(!f&&(f=m&&V(pt())||v&&h.css("overflowY")==="auto"&&h,u=X,!f))){var c=function(d){return function(){var _=d.scrollTop()-o(d);_=_>0?_:0,e(_)}}(f);u.on(f,"scroll",c),i.push(d=>{var _=o(f),g=f.scrollTo?"scrollTo":"scrollTop";d-_>=0&&f[g](d+_)}),a.push(()=>{u.off(f,"scroll",c)})}}var p=h=>{var m;return V((m=h.get(0).parentNode)!==null&&m!==void 0?m:h.get(0).host)};for(n=r.parent();n.length;n=p(n))l(n);return{scrollTo(h){te(i,(m,v)=>{v(h)})},dispose(){te(a,(h,m)=>{m()})}}}var nF=Ft.inherit(function(){var t={ctor(e,r,n){this._dataOptions=r,this.component=e,this._viewportSize=e.option(qp)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=Ht(),this._dataLoader=new Kue(this,this._dataOptions)},getItemSizes(){return this._itemSizes},option(){return this.component.option.apply(this.component,arguments)},isVirtual(){return this._isVirtual},virtualItemsCount(){if(pD(this)){var e=this._dataOptions,r=e.totalItemsCount();if(this.option(qp)===!1&&r!==-1){var n=this.getViewportParams(),i=e.loadedOffset(),a=e.loadedItemCount(),o=Math.max(n.skip,i),s=Math.min(n.take,a),l=Math.max(r-(o+s),0);return{begin:o,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout(){var e,r=this.option("scrolling.renderAsync"),n=0;return q(r)?r&&(n=(e=this.option("scrolling.timeout"))!==null&&e!==void 0?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),n<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0)),n},setViewportPosition(e){var r=new ae,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),r.resolve()},n):(this._setViewportPositionCore(e),r.resolve()),r.promise()},getViewportPosition(){return this._position},getItemIndexByPosition(e,r,n){e=e??this._position;for(var i=this.getItemSize(),a=0,o=0,s=Object.keys(this._itemSizes).concat(-1),l=0;l<s.length&&a<e;l++){var p=parseInt(s[l]),h=(e-a)/i;if(p<0||o+h<p){o+=h,this._sizeRatio<1&&q(r)&&(o=r+n/this._viewportItemSize);break}else h=p-o,a+=h*i,o+=h;var m=this._itemSizes[p];a+=m,o+=a<e?1:(e-a+m)/m}return Math.round(50*o)/50},isScrollingBack(){return this._isScrollingBack},_setViewportPositionCore(e){var r=this._position||0;this._position=e,r!==this._position&&(this._isScrollingBack=this._position<r);var n=this.getItemIndexByPosition(),i=this.setViewportItemIndex(n);return this.positionChanged.fire(),i},setContentItemSizes(e){var r=this.virtualItemsCount();if(this._contentSize=e.reduce((a,o)=>a+o,0),r){e.forEach((a,o)=>{this._itemSizes[r.begin+o]=a});var n=(r.begin+r.end+this.itemsCount())*this._viewportItemSize,i=Te.getContentHeightLimit(mr);n>i?this._sizeRatio=i/n:this._sizeRatio=1}},getItemSize(){return this._viewportItemSize*this._sizeRatio},getItemOffset(e,r){var n=this.virtualItemsCount(),i=e;if(!n)return 0;var a=0,o=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(s=>{i&&(r?s>=o-e:s<e)&&(a+=this._itemSizes[s],i--)}),Math.floor(a+i*this._viewportItemSize*this._sizeRatio)},getContentOffset(e){var r=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(r?n.end:n.begin,r):0},getVirtualContentSize(){var e=this.virtualItemsCount();return e?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex(){return this._viewportItemIndex},setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(qp)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize},viewportHeight(e,r){var n=r??this._position,i=this.getItemIndexByPosition(n),a=this.getItemIndexByPosition(n+e,i,e);this.viewportSize(Math.ceil(a-i)),!q(r)&&this._viewportItemIndex!==i&&this._setViewportPositionCore(n)},reset(e){this._dataLoader.reset(),e||(this._itemSizes={})},subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||rF(e,r=>{this.viewportItemSize()&&this.setViewportPosition(r)})},dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)},isVirtualMode(){return pD(this)},isAppendMode(){return Xue(this)},getViewportParams(){var e,r=this.option("scrolling.mode")===tF,n=this._dataOptions.totalItemsCount(),i=this._dataOptions.hasKnownLastPage(),a=i&&this._viewportItemIndex>n?n:this._viewportItemIndex,o=this._viewportSize+a,s=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),p=(e=this.option("scrolling.prerenderedRowCount"))!==null&&e!==void 0?e:1,h=l?p:0,m=l?0:p,v=Math.floor(Math.max(0,a-h)/s)*s,f=Math.ceil((o+m-v)/s)*s;if(r){var u=Math.max(0,n-v);f=Math.min(f,u)}return{skip:v,take:f}},itemsCount(){var e=0;return this.option(qp)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(e=>{t[e]=function(){return this._dataLoader[e].apply(this._dataLoader,arguments)}}),t}()),mD="bottom-load-panel",Yue="group-space",vD="dx-freespace-row",Zue="dx-column-lines",Xp="dx-virtual-row",Que="dx-row-inserted",Jue="infinite",ece="virtual",iF=300,Dt="scrolling.legacyMode",Ky="paging.pageIndex",Bn=function(t){return t.option("scrolling.mode")===ece},Fa=function(t){return t.option("scrolling.mode")===Jue},wa=function(t){return Bn(t)||Fa(t)},gD=function(t,e,r,n){for(var i=0;i<e+1;i++){var a=t[r?t.length-1-i:i];a&&!n(a,i===e,r)&&e++}return e},Vm=function(t,e){return t.rowType==="data"&&!t.isNewRow||t.rowType==="group"&&e.isGroupItemCountable(t.data)},tce=function(t){return t.forEach((e,r)=>{e.rowIndex=r}),t},rce=function(){var t=function(r){var n=r._virtualScrollController.beginPageIndex(-1);Bn(r)&&(n<0||r.viewportSize()>=0&&r.getViewportItemIndex()>=0&&(n*r.pageSize()>r.getViewportItemIndex()||n*r.pageSize()+r.itemsCount()<r.getViewportItemIndex()+r.viewportSize())&&r._dataSource.isLoading()?r._isLoading||(r._isLoading=!0,r.loadingChanged.fire(!0)):r._isLoading&&(r._isLoading=!1,r.loadingChanged.fire(!1)))},e={init(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new nF(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions(){var r=this;return{pageSize:()=>r.pageSize(),totalItemsCount:()=>r.totalItemsCount(),hasKnownLastPage:()=>r.hasKnownLastPage(),pageIndex:n=>r._dataSource.pageIndex(n),isLoading:()=>r._dataSource.isLoading()&&!r.isCustomLoading(),pageCount:()=>r.pageCount(),load:()=>r._dataSource.load(),updateLoading(){t(r)},itemsCount:()=>r.itemsCount(!0),items:()=>r._dataSource.items(),viewportItems(n){return n&&(r._items=n),r._items},onChanged(n){r.changed.fire(n)},changingDuration(){return r.isLoading()?iF:r._renderTime||0}}},_handleLoadingChanged(r){if(this.option(Dt)===!1){this.callBase.apply(this,arguments);return}(!Bn(this)||this._isLoadingAll)&&(this._isLoading=r,this.callBase.apply(this,arguments)),r?this._startLoadTime=new Date:this._startLoadTime=void 0},_handleLoadError(){this.option(Dt)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged(r){if(this.option(Dt)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),this.callBase.apply(this,arguments);return}var n=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(n,r)},_customizeRemoteOperations(r,n){var i=this.option(Dt)===!1,a=this.option("scrolling.renderAsync");q(a)||(a=this._renderTime>=this.option("scrolling.renderingThreshold")),(Bn(this)||Fa(this)&&i)&&!n.reload&&(n.skip||i)&&!a&&(r.delay=void 0),this.callBase.apply(this,arguments)},items(){return this._items},_dataSourceTotalCount(r){return this.option(Dt)===!1&&Bn(this)&&!r?this._totalCount:this.callBase()},itemsCount(r){return r||this.option(Dt)===!1?this.callBase():this._virtualScrollController.itemsCount()},load(r){return this.option(Dt)===!1||r?this.callBase(r):this._virtualScrollController.load()},isLoading(){return this.option(Dt)===!1?this._dataSource.isLoading():this._isLoading},isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache(r){r||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore(){var r=this.callBase.apply(this,arguments);return this.option(Dt)===!1||(this.resetPagesCache(),t(this)),r},reload(){this._dataSource.pageIndex(this.pageIndex());var r=this._virtualScrollController;if(this.option(Dt)!==!1&&r){var n=new ae;return this.callBase.apply(this,arguments).done(i=>{var a=r.getDelayDeferred();a?a.done(n.resolve).fail(n.reject):n.resolve(i)}).fail(n.reject),n}return this.callBase.apply(this,arguments)},refresh(r,n){if(this.option(Dt)!==!1){var{storeLoadOptions:i}=r,a=this._dataSource;n.reload?(this._virtualScrollController.reset(),a.items().length=0,this._isLoaded=!1,t(this),this._isLoaded=!0,Fa(this)?(this.pageIndex(0),a.pageIndex(0),i.pageIndex=0,r.pageIndex=0,i.skip=0):(a.pageIndex(this.pageIndex()),a.paginate()&&(r.pageIndex=this.pageIndex(),i.skip=this.pageIndex()*this.pageSize()))):Fa(this)&&i.skip&&this._totalCountCorrection<0&&(i.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount(r){if(!q(r))return this._loadPageCount;this._loadPageCount=r},_handleDataLoading(r){var n=this.loadPageCount(),i=this.pageSize(),a=this.option(Dt)===!1,{storeLoadOptions:o}=r,s=q(o.take);r.loadPageCount=n,!r.isCustomLoading&&a&&s&&n>1&&i>0&&(o.take=n*i),this.callBase.apply(this,arguments)},_loadPageSize(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(r=>{e[r]=function(){if(this.option(Dt)===!1){var n=this._dataSource;return n.pageIndex.apply(n,arguments)}var i=this._virtualScrollController;return i[r].apply(i,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(r=>{e[r]=function(){var n=this._virtualScrollController;return n[r].apply(n,arguments)}}),e}(),nce=function(){var t=function(e,r){var n=e.toArray().map(o=>V(o).parent(".".concat(r)).get(0)).filter(o=>o);n.length&&(e=V(n));for(var i=r===vD?e.length-1:e.length,a=0;a<i;a++)e.eq(a).remove()};return{init(){var e,r=this.getController("data");this.callBase(),r.pageChanged.add(n=>{var i=this._scrollTop;this.scrollToPage(n??r.pageIndex()),this.option(Dt)===!1&&this._scrollTop===i&&r.updateViewport()}),r.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=r.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize(){var e=this.getController("data");if(e.pageIndex()>0){var r=()=>{this.resizeCompleted.remove(r),this.scrollToPage(e.pageIndex())};this.resizeCompleted.add(r)}},scrollToPage(e){var r=this._dataController,n=r?r.pageSize():0,i;if(Bn(this)||Fa(this)){var a=r.getItemSize(),o=r.getItemSizes(),s=e*n;i=s*a;for(var l in o)parseInt(l)<s&&(i+=o[l]-a)}else i=0;this.scrollTo({y:i,x:this._scrollLeft})},renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore(e){var r=new Date,n=this.callBase.apply(this,arguments),i=this._dataController._dataSource;if(i&&e){var a=e.items?e.items.length:20,o=this._dataController.viewportSize()||20;Te.isVirtualRowRendering(this)&&a>0&&this.option(Dt)!==!1?i._renderTime=(new Date-r)*o/a:i._renderTime=new Date-r}return n},_getRowElements(e){var r=this.callBase(e);return r&&r.not(".".concat(Xp))},_removeRowsElements(e,r,n){var i=this._getRowElements(e).toArray();n==="append"?i=i.slice(0,r):i=i.slice(-r);var a=this.getController("errorHandling");i.map(o=>{var s=V(o);a&&a.removeErrorRow(s.next()),s.remove()})},_updateContent(e,r){var n,i=this._findContentElement(),a=r&&r.changeType,o=ae(),s=i.children().first();return a==="append"||a==="prepend"?this.waitAsyncTemplates().done(()=>{var l=this._getBodies(e);l.length===1?this._getBodies(s)[a==="append"?"append":"prepend"](l.children()):l[a==="append"?"appendTo":"prependTo"](s),e.remove(),n=this._getFreeSpaceRowElements(s),t(n,vD),r.removeCount&&this._removeRowsElements(s,r.removeCount,a),this._restoreErrorRow(s),o.resolve()}).fail(o.reject):this.callBase.apply(this,arguments).done(()=>{a==="update"&&this._restoreErrorRow(s),o.resolve()}).fail(o.reject),o.promise().done(()=>{this._updateBottomLoading()})},_addVirtualRow(e,r,n,i){if(i){var a=this._createEmptyRow(Xp,r,i);a=this._wrapRowIfNeed(e,a),this._appendEmptyRow(e,a,n)}},_updateContentItemSizes(){var e=this._getRowHeights(),r=this._correctRowHeights(e);this._dataController.setContentItemSizes(r)},_updateViewportSize(e,r){q(e)||(e=this._hasHeight?xt(this.element()):xt(pt())),this._dataController.viewportHeight(e,r)},_getRowHeights(){var e,r,n=(r=(e=this.getController("editing"))===null||e===void 0?void 0:e.isPopupEditMode)===null||r===void 0?void 0:r.call(e),i=this._getRowElements(this._tableElement).toArray();return n&&(i=i.filter(a=>!V(a).hasClass(Que))),i.map(a=>Hr(a).height)},_correctRowHeights(e){for(var r=this._dataController,n=r._dataSource,i=[],a=r.getVisibleRows(),o=0,s=!0,l=-1,p=0;p<e.length;p++){var h=a[p];q(h)&&(this.option(Dt)===!1?(l>=0&&l!==h.loadIndex&&(i.push(o),o=0),l=h.loadIndex):Vm(h,n)&&(s?s=!1:(i.push(o),o=0)),o+=e[p])}return o>0&&i.push(o),i},_updateContentPosition(e){var r=this._dataController,n=this._rowHeight||20;if(r.viewportItemSize(n),Bn(this)||Te.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var i=r.getContentOffset("begin"),a=r.getContentOffset("end"),o=this.getTableElements(),s=o.children("tbody").children(".".concat(Xp));t(s,Xp),o.each((l,p)=>{var h=l>0,m=this._isFixedTableRendering;this._isFixedTableRendering=h,this._addVirtualRow(V(p),h,"top",i),this._addVirtualRow(V(p),h,"bottom",a),this._isFixedTableRendering=m})}},_isTableLinesDisplaysCorrect(e){var r=e.find(".".concat(Zue)).length>0;return r===this.option("showColumnLines")},_isColumnElementsEqual(e,r){var n=e.length===r.length;return n&&te(e,(i,a)=>{if(a.style.width!==r[i].style.width)return n=!1,n}),n},_getCellClasses(e){var r=[],{cssClass:n}=e,i=e.command==="expand";return n&&r.push(n),i&&r.push(this.addWidgetPrefix(Yue)),r},_findBottomLoadPanel(e){var r=e||this.element(),n=r&&r.find(".".concat(this.addWidgetPrefix(mD)));if(n&&n.length)return n},_updateBottomLoading(){var e=Bn(this),r=Fa(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||r),i=this._findContentElement(),a=this._findBottomLoadPanel(i);n?a||V("<div>").addClass(this.addWidgetPrefix(mD)).append(this._createComponent(V("<div>"),Ci).$element()).appendTo(i):a&&a.remove()},_handleScroll(e){var r=this.option(Dt)===!0,n=e.scrollOffset.top===0,i=this._scrollTop!==e.scrollOffset.top,a=i||e.forceUpdateScrollPosition,o=this._hasHeight||!r&&n;if(a&&o&&this._rowHeight){this._scrollTop=e.scrollOffset.top;var s=Bn(this)||this.option("scrolling.rowRenderingMode")!=="standard";s&&this.option(Dt)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)}this.callBase.apply(this,arguments)},_needUpdateRowHeight(e){return this.callBase.apply(this,arguments)||e>0&&Fa(this)&&!Te.isVirtualRowRendering(this)},_updateRowHeight(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?xt(this.element()):xt(pt()),r=this._dataController;this.option(Dt)===!1?(this._updateViewportSize(e),r.updateViewport()):r.viewportSize(Math.ceil(e/this._rowHeight))}},updateFreeSpaceRowHeight(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading(e,r){var n=this._dataController,i=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();this.option(Dt)===!1&&e&&n.isViewportChanging()||(i&&(e=!1),this.callBase.call(this,e,r))},_resizeCore(){var e=this,r=e.element();e.callBase(),e.component.$element()&&!e._windowScroll&&Tg(r)&&(e._windowScroll=rF(r,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option(Dt)!==!1&&e.loadIfNeed()},loadIfNeed(){var e,r=this._dataController;(e=r==null?void 0:r.loadIfNeed)===null||e===void 0||e.call(r)},_restoreErrorRow(){if(this.option(Dt)===!1){var e=this.getController("errorHandling");e==null||e.removeErrorRow()}this.callBase.apply(this,arguments)},dispose(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),aF={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{dataSourceAdapter:rce,controllers:{data:function(){var t={_refreshDataSource(){var e=this.callBase.apply(this,arguments)||new ae().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},_loadDataSource(){var e;if(this._rowsScrollController&&wa(this)){var{loadPageCount:r}=q(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0};r>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(r))}return this.callBase.apply(this,arguments)},getRowPageSize(){var e=this.option("scrolling.rowPageSize"),r=this.pageSize();return r&&r<e?r:e},reload(){var e=this._rowsScrollController||this._dataSource,r=e&&e.getItemIndexByPosition(),n=this.callBase.apply(this,arguments);return n&&n.done(()=>{var i;if(Bn(this)||Te.isVirtualRowRendering(this)){var a=this.getRowIndexOffset(),o=Math.floor(r)-a,{component:s}=this,l=s.getScrollable&&s.getScrollable(),p=this.dataSource().operationTypes().sorting;if(l&&!p&&o>=0){var h=s.getRowElement(o),m=h&&h[0]&&V(h[0]),v=m&&m.position().top,f=mr.chrome&&Number((i=mr.version)!==null&&i!==void 0?i:0)>=91,u=mr.mozilla||f?1:0;v>u&&(v=Math.round(v+xt(m)*(r%1)),l.scrollTo({y:v}))}}})},initVirtualRows(){var e=Te.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option(Dt)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var r=!Bn(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(r*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(Dt)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new nF(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option(Dt)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(Dt)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(Dt)!==!1&&this._rowsScrollController.load()},isViewportChanging(){return this._viewportChanging},_getRowsScrollDataOptions(){var e=this,r=function(n){return Vm(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return Bn(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return wa(e)?e.totalItemsCount():e.option(Dt)===!1?e._itemCount:e._items.filter(r).length},hasKnownLastPage:()=>e.option(Dt)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){var n=Math.ceil(this.totalItemsCount()/this.pageSize());return n||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((i,a)=>{i.rowIndex=a}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,i,a)=>gD(n,i,a,(o,s,l)=>o.isNewRow?s&&!l:s&&l?!o.isNewRow:r(o)),items(n){var i=e._items;if(e.option(Dt)){var a=e.dataSource(),o=a==null?void 0:a.virtualItemsCount(),s=o?o.begin:0,l=e.getRowPageSize(),p=e._rowPageIndex*l-s,h=l;if(p<0)return[];p&&(p=this.correctCount(i,p),i=i.slice(p)),h&&(h=this.correctCount(i,h),i=i.slice(0,h))}return n?i.filter(r):i},viewportItems(n){return n&&e.option(Dt)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){var n=e.dataSource();return n!=null&&n.isLoading()&&e.option(Dt)!==!1?iF:(n==null?void 0:n._renderTime)||0}}},_updateItemsCore(e){var r=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),this.option(Dt)===!1&&Te.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}var n=this._rowsScrollController;if(n){var i=this._visibleItems,a=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;a||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,a&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((o,s)=>{var l=e.changeTypes[s],p=e.items[s];l==="update"?i[o]=p:l==="insert"?i.splice(o,0,p):l==="remove"&&i.splice(o,1)}):(i.forEach((o,s)=>{i[s]=this._items[s+r]||i[s]}),e.items=i),tce(i))}},_updateLoadViewportParams(){var e=this._rowsScrollController.getViewportParams(),r=this.pageSize();if(e&&!wa(this)&&r>0){var n=this.pageIndex()*r;e.skip+=n}this._loadViewportParams=e},_processItems(){var e,r=this.callBase.apply(this,arguments);if(this.option(Dt)===!1){var n=this._dataSource,i=(e=n==null?void 0:n.lastLoadOptions().skip)!==null&&e!==void 0?e:0,a,o,s,l=!1,p=[];r.forEach(h=>{var{rowType:m}=h,v=Vm(h,n),f=m==="group"&&(a||v||o!=="group"&&i>0),u=m==="data"&&v&&(a||o!=="group");if(!h.isNewRow&&q(a)){var c=s&&!l;(f||u)&&!c&&i++}(f||u)&&(l=!0),h.isNewRow?p.push(h):(p.forEach(d=>{d.loadIndex=i}),p=[]),h.loadIndex=i,a=v,o=m,s=h.isNewRow}),p.forEach(h=>{h.loadIndex=i})}return r},_afterProcessItems(e){if(this._itemCount=e.filter(o=>Vm(o,this._dataSource)).length,q(this._loadViewportParams)){this._updateLoadViewportParams();var r=e;if(this._allItems=e,e.length){var{skipForCurrentPage:n}=this.getLoadPageParams(!0),i=e[0].loadIndex+n,{take:a}=this._loadViewportParams;r=e.filter(o=>{var s=o.isNewRow&&o.loadIndex===i&&a===0,l=o.loadIndex>=i,p=o.loadIndex<i+a||s;return l&&p})}return r}return this.callBase.apply(this,arguments)},_applyChange(e){var r=this,{items:n}=e,{changeType:i}=e,{removeCount:a}=e;if(a){var o=i==="prepend";a=gD(r._items,a,o,(s,l)=>s.rowType==="data"&&!s.isNewRow||s.rowType==="group"&&(r._dataSource.isGroupItemCountable(s.data)||l)),e.removeCount=a}switch(i){case"prepend":r._items.unshift.apply(r._items,n),a&&r._items.splice(-a);break;case"append":r._items.push.apply(r._items,n),a&&r._items.splice(0,a);break;default:r.callBase(e)}},items(e){return e?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta(){var e=0;if(this.option(Dt)){var r=this._visibleItems;r&&r[0]&&(e=this._items.indexOf(r[0]))}return e<0?0:e},getRowIndexOffset(e){var r,n=0,i=this.dataSource(),a=this._rowsScrollController,o=this.option(Dt)===!1,s=wa(this);if(a&&!e)if(o&&q(this._loadViewportParams)){var{skipForCurrentPage:l,pageIndex:p}=this.getLoadPageParams(!0),h=this.items(!0);if(n=s?p*this.pageSize():0,h.length){var m=h[0].loadIndex;n+=h.filter(v=>v.loadIndex<m+l).length}}else n=a.beginPageIndex()*a.pageSize();else s&&o&&i?n=(r=i.lastLoadOptions().skip)!==null&&r!==void 0?r:0:Bn(this)&&i&&(n=i.beginPageIndex()*i.pageSize());return n},getDataIndex(){return this.option(Dt)===!1?this.getRowIndexOffset(!0):this.callBase.apply(this,arguments)},viewportSize(){var e=this._rowsScrollController,r=this._dataSource,n=e==null?void 0:e.viewportSize.apply(e,arguments);return this.option(Dt)===!1?n:r==null?void 0:r.viewportSize.apply(r,arguments)},viewportHeight(e,r){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,r)},viewportItemSize(){var e=this._rowsScrollController,r=this._dataSource,n=e==null?void 0:e.viewportItemSize.apply(e,arguments);return this.option(Dt)===!1?n:r==null?void 0:r.viewportItemSize.apply(r,arguments)},setViewportPosition(){var e=this._rowsScrollController,r=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):r==null||r.setViewportPosition.apply(r,arguments)},setContentItemSizes(e){var r=this._rowsScrollController,n=this._dataSource,i=r==null?void 0:r.setContentItemSizes(e);return this.option(Dt)===!1?i:n==null?void 0:n.setContentItemSizes(e)},getPreloadedRowCount(){var e=this.option("scrolling.preloadedRowCount"),r=this.option("scrolling.preloadEnabled");if(q(e))return e;var n=this.viewportSize();return r?2*n:n},getLoadPageParams(e){var r,n,i=this.pageSize(),a=this._loadViewportParams,o=(r=this._dataSource)===null||r===void 0?void 0:r.lastLoadOptions(),s=(o==null?void 0:o.pageIndex)||0,l=(o==null?void 0:o.take)||0,p=this._rowsScrollController.isScrollingBack(),h=p?this.getPreloadedRowCount():0,m=p?0:this.getPreloadedRowCount(),v=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,f=Math.max(0,a.skip-h),u=e?s:Math.floor(i?f/i:0),c=u*i,d=a.skip-c,_=a.take+d+m-v,g=e?l:_,y=Math.ceil(i?g/i:0);return{pageIndex:u,loadPageCount:Math.max(1,y),skipForCurrentPage:Math.max(0,d)}},_updateVisiblePageIndex(e){if(this._rowsScrollController){if(q(e)){this._silentOption(Ky,e),this.pageChanged.fire();return}var r=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(r/this.pageSize());this.pageIndex()!==n&&(this._silentOption(Ky,n),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams(){var e=this.getLoadPageParams(!0),{pageIndex:r,loadPageCount:n}=this.getLoadPageParams(),i=this._pageIndexIsValid(r),a=null;return!this._isLoading&&i&&(r!==e.pageIndex||n!==e.loadPageCount)&&(a={pageIndex:r,loadPageCount:n}),a},_pageIndexIsValid(e){var r=!0;return(Fa(this)&&this.hasKnownLastPage()||Bn(this))&&(r=e*this.pageSize()<this.totalItemsCount()),r},_loadItems(e,r){var n,i,a=wa(this),o=this._dataSource,s=this._getChangedLoadParams(),l=(n=o==null?void 0:o.loadPageCount())!==null&&n!==void 0?n:0,p=this.pageSize()*l,h=(i=o==null?void 0:o.pageIndex())!==null&&i!==void 0?i:0,m=(s==null?void 0:s.pageIndex)===h,v=Fa(this)&&this.totalItemsCount()<p,f=this.option("editing.refreshMode")==="repaint",u=(s==null?void 0:s.pageIndex)>h,c=!1;if(!o||a&&e&&(f&&r||u||m&&v))return c;if(a&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),a&&s){c=!0,o.pageIndex(s.pageIndex),o.loadPageCount(s.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var d=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var _=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(d||_)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return c},loadViewport(e){var r,n,{checkLoadedParamsOnly:i,checkLoading:a,viewportIsNotFilled:o}=e??{},s=wa(this);if(s||Te.isVirtualRowRendering(this)){this._updateLoadViewportParams();var l=this._loadItems(a,!o),p=!(l||this._isLoading&&a||i);if(p){var h=!(!((n=(r=this.getController("editing"))===null||r===void 0?void 0:r.getChanges())===null||n===void 0)&&n.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:h,cancelEmptyChanges:!0})}}},updateViewport(){var e,r,n=this.viewportSize(),i=this.items().length,a=n>i,o=(r=(e=this._loadViewportParams)===null||e===void 0?void 0:e.take)!==null&&r!==void 0?r:0,s=this._rowsScrollController,l=s==null?void 0:s.getViewportParams().take;(a||o<l)&&!this._isPaging&&i&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:a})},loadIfNeed(){if(this.option(Dt)!==!1){var e=this._rowsScrollController;e&&e.loadIfNeed();var r=this._dataSource;return r&&r.loadIfNeed()}},getItemSize(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var r=this._dataSource;return r&&r.getItemSize.apply(r,arguments)},getItemSizes(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var r=this._dataSource;return r&&r.getItemSizes.apply(r,arguments)},getContentOffset(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var r=this._dataSource;return r&&r.getContentOffset.apply(r,arguments)},refresh(e){var r=this._dataSource;return r&&e&&e.load&&Fa(this)&&r.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)},topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip},bottomItemIndex(){var e=this._loadViewportParams;return e&&e.skip+e.take},virtualItemsCount(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var r=this._dataSource;return r==null?void 0:r.virtualItemsCount.apply(r,arguments)},pageIndex(e){var r,n=wa(this),i=this._rowsScrollController;return this.option(Dt)===!1&&n&&i&&e===void 0?(r=this.option(Ky))!==null&&r!==void 0?r:0:this.callBase.apply(this,arguments)},_fireChanged(e){this.callBase.apply(this,arguments);var{operationTypes:r}=e;if(this.option(Dt)===!1&&wa(this)&&r){var{fullReload:n,pageIndex:i}=r;e.isDataChanged&&!n&&i&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue(e){var r=this.callBase.apply(this,arguments);return this.option(Dt)===!1&&wa(this)&&(r=this[e]()),r},isEmpty(){return this.option(Dt)===!1?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded(){var e=!1;if(this.option(Dt)===!1&&wa(this)){var{pageIndex:r,loadPageCount:n}=this.getLoadPageParams(!0),i=this.pageCount();e=r+n>=i}else e=this.callBase.apply(this,arguments);return e},reset(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter(){var e;(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),this.callBase.apply(this,arguments)}};return Te.proxyMethod(t,"getVirtualContentSize"),Te.proxyMethod(t,"setViewportItemIndex"),t}(),resizing:{_updateMasterDataGridCore(t){return Ve(this.callBase.apply(this,arguments)).done(e=>{var r=Bn(t)&&t.option(Dt)===!1;if(!e&&r){var n=t.getScrollable();n&&t.updateDimensions()}})},hasResizeTimeout(){return!!this._resizeTimeout},resize(){var{callBase:t}=this,e;if(Bn(this)||Te.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var r=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&r<n?(e=new ae,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,t.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=t.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=t.apply(this);return e},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:nce}}};Qe.registerModule("virtualScrolling",aF);ff.extend(aF.extenders.dataSourceAdapter);var ice=.9,oF=(t,e)=>{var r=V(pt()),{top:n}=t.offset(),i;if(qt(e)){if(e<n)return n-e;i=bv(r)-e+r.scrollTop()}else{var a=n-r.scrollTop(),o=bv(r)-a-xt(t);i=Math.max(a,o)}return i*ice},ace="dx-context-menu-content-delimiter",oce="dx-submenu";class qy extends pS{_getDefaultOptions(){return Y(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:oe})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=V("<div>").appendTo(this._itemContainer()).addClass(ace)}_getOverlayOptions(){return Y(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){var r=this.option("onHoverStart");r(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:et(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:et(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:et(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:et(e),submenu:this})}_showDelimiter(e){if(this.$contentDelimiter){var r=this._itemContainer().children(".".concat(oce)).eq(0),n=this.option("position").of.find(".dx-context-menu-container-border"),i={of:r,precise:!0},a=e.position,o=a.v.location,s=a.h.location,l=n.offset(),p=Math.round(l.left),h=Math.round(l.top),m=ot(n),v=vt(n),f=ot(r),u=vt(r);this.$contentDelimiter.css("display","block"),ox(this.$contentDelimiter,this._isMenuHorizontal()?m<f?m:f:3),ms(this.$contentDelimiter,this._isMenuHorizontal()?3:v<u?v:u),this._isMenuHorizontal()?o>h?Math.round(s)===p?(i.offset="0 -2.5",i.at=i.my="left top"):(i.offset="0 -2.5",i.at=i.my="right top"):(ms(this.$contentDelimiter,5),Math.round(s)===p?(i.offset="0 5",i.at=i.my="left bottom"):(i.offset="0 5",i.at=i.my="right bottom")):s>p?Math.round(o)===h?(i.offset="-2.5 0",i.at=i.my="left top"):(i.offset="-2.5 0",i.at=i.my="left bottom"):Math.round(o)===h?(i.offset="2.5 0",i.at=i.my="right top"):(i.offset="2.5 0",i.at=i.my="right bottom"),ca.setup(this.$contentDelimiter,i)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var Xl="dx-menu",sce=Xl+"-vertical",_D=Xl+"-horizontal",bw=Xl+"-item",yD=Xl+"-items-container",Xy=bw+"-expanded",Hm="dx-context-menu",Yy=Hm+"-container-border",lce="dx-context-menu-content-delimiter",uce="dx-submenu",cce="dx-state-disabled",bD="dx-state-hover",dce="dx-state-active",jm=Xl+"-adaptive-mode",CD=Xl+"-hamburger-button",hce=jm+"-overlay-wrapper",fce="up",pce="down",mce="left",vce="right",fd="showSubmenu",_u="nextItem",Ho="prevItem",gce={show:50,hide:300},wD=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class Cw extends fS{_getDefaultOptions(){return Y(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),Y(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),r=this._submenuItemElements();return e.add(r)}_submenuItemElements(){var e=[],r=".".concat(bw),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(r)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){var r=this._getAvailableItems(),n=this._isMenuHorizontal(),i=this._getActiveItem(!0),a,o,s,l;switch(e){case fce:o=n?fd:this._getItemsNavigationOperation(Ho),a=n?i:r,s=this._getKeyboardNavigationAction(o,a),l=s();break;case pce:o=n?fd:this._getItemsNavigationOperation(_u),a=n?i:r,s=this._getKeyboardNavigationAction(o,a),l=s();break;case vce:o=n?this._getItemsNavigationOperation(_u):fd,a=n?r:i,s=this._getKeyboardNavigationAction(o,a),l=s();break;case mce:o=n?this._getItemsNavigationOperation(Ho):fd,a=n?r:i,s=this._getKeyboardNavigationAction(o,a),l=s();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",et(l))}_getItemsNavigationOperation(e){var r=e;return this.option("rtlEnabled")&&(r=e===Ho?_u:Ho),r}_getKeyboardNavigationAction(e,r){var n=oe;switch(e){case fd:r.hasClass(cce)||(n=this._showSubmenu.bind(this,r));break;case _u:n=this._nextItem.bind(this,r);break;case Ho:n=this._prevItem.bind(this,r)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(bw));this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var e=Pt(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},te(wD,(e,r)=>{this._actions[r]=this._createActionByOption(r)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(Xl),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new vn(V("<div>").addClass(CD),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){yt(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(dce,e)}_toggleAdaptiveMode(e){var r=this.$element().find(".".concat(_D)),n=this.$element().find(".".concat(jm));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),r.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),r=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>oF(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!V(n.target).closest(".".concat(CD)).length,position:{collision:"flipfit",at:"bottom "+r,my:"top "+r,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return te(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(r,n)=>{e[n]=this.option(n)}),te(["onItemContextMenu","onSelectionChanged","onItemRendered"],(r,n)=>{e[n]=i=>{this._actions[n](i)}}),Y(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:r=>{this._overlay.repaint(),this._actions.onSubmenuShown(r)},onItemCollapsed:r=>{this._overlay.repaint(),this._actions.onSubmenuHidden(r)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=V("<div>").addClass(jm);var e=this._renderHamburgerButton();this._treeView=this._createComponent(V("<div>"),Tf,this._getTreeViewOptions()),this._overlay=this._createComponent(V("<div>"),da,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(jm).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(hce),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var r=this.option("showFirstSubmenuMode").delay;return q(r)?rt(r)?r[e]:r:gce[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=V("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?_D:sce),super._renderContainer(e)}_renderSubmenuItems(e,r){var n=this._createSubmenu(e,r);return this._submenus.push(n),this._renderBorderElement(r),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,r){var n=V("<div>").addClass(Hm).appendTo(r),i=this._getChildNodes(e),a=this._createComponent(n,qy,Y(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:i,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(r)}));return this._attachSubmenuHandlers(r,a),a}_getSubmenuOptions(){var e=V("<div>"),r=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{n.component.option("visible")&&this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:r?null:this._moveMainMenuFocus.bind(this,Ho),onLeftLastItem:r?null:this._moveMainMenuFocus.bind(this,_u),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,r?Ho:null),onExpandLastSubmenu:r?this._moveMainMenuFocus.bind(this,_u):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return rt(e)?e.name:e}_moveMainMenuFocus(e){var r=this._getAvailableItems(),n=r.length,i=r.filter(".".concat(Xy)).eq(0),a=r.index(i);this._hideSubmenu(this._visibleSubmenu),a+=e===Ho?-1:1,a>=n?a=0:a<0&&(a=n-1);var o=r.eq(a);this.option("focusedElement",et(o))}_nestedItemOnSelectionChangedHandler(e){var r=e.addedItems.length&&e.addedItems[0],n=qy.getInstance(e.element),i=this._actions.onSelectionChanged;i(e),r&&this._clearSelectionInSubmenus(r[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",r)}_clearSelectionInSubmenus(e,r){var n=!arguments.length;te(this._submenus,(i,a)=>{var o=a._itemContainer(),s=!o.is(r&&r._itemContainer()),l=o.find(".".concat(this._selectedItemClass()));if(s&&l.length||n){l.removeClass(this._selectedItemClass());var p=this._getItemData(l);p&&(p.selected=!1),a._clearSelectedItems()}})}_clearRootSelection(){var e=this.$element().find(".".concat(yD)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var r=this._getItemData(e);r.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,r){var n=r.getOverlayContent(),i=n.find(".".concat(uce)),a=Ee(lf,this.NAME+"_submenu");r.option({onShowing:this._submenuOnShowingHandler.bind(this,e,r),onShown:this._submenuOnShownHandler.bind(this,e,r),onHiding:this._submenuOnHidingHandler.bind(this,e,r),onHidden:this._submenuOnHiddenHandler.bind(this,e,r)}),te(i,(o,s)=>{X.off(s,a),X.on(s,a,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,r){var n=e.children(".".concat(Yy));this._actions.onSubmenuShowing({rootItem:et(e),submenu:r}),n.show(),e.addClass(Xy)}_submenuOnShownHandler(e,r){this._actions.onSubmenuShown({rootItem:et(e),submenu:r})}_submenuOnHidingHandler(e,r,n){var i=e.children(".".concat(Yy)),a=n;a.rootItem=et(e),a.submenu=r,this._actions.onSubmenuHiding(a),n=a,n.cancel||(this._visibleSubmenu===r&&(this._visibleSubmenu=null),i.hide(),e.removeClass(Xy))}_submenuOnHiddenHandler(e,r){this._actions.onSubmenuHidden({rootItem:et(e),submenu:r})}_submenuMouseLeaveHandler(e,r){var n=V(r.relatedTarget).parents(".".concat(Hm))[0],i=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==i&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var e=V(this._visibleSubmenu.$element().context).hasClass(bD),r=this._visibleSubmenu.getOverlayContent().find(".".concat(bD)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!n&&!r&&!e&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var r=e.children(".".concat(Hm));return r.length&&qy.getInstance(r)}getSubmenuPosition(e){var r=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),a={collision:"flip",of:e,precise:!0};switch(n){case"leftortop":a.at="left top",a.my=r?"left bottom":"right top";break;case"rightorbottom":a.at=r?"left bottom":"right top",a.my="left top";break;default:r?(a.at=i?"right bottom":"left bottom",a.my=i?"right top":"left top"):(a.at=i?"left top":"right top",a.my=i?"right top":"left top")}return a}_renderBorderElement(e){V("<div>").appendTo(e).addClass(Yy).hide()}_itemPointerDownHandler(e){var r=V(e.target),n=r.closest(this._itemElements());if(n.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){var r=Ee(Mt.move,this.NAME),n=this._getItemElementByEventArgs(e),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),a=q(e.buttons)&&e.buttons===1||!q(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(X.off(n,r),!this._hasChildren(i)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!a){var o=this._getSubmenuByElement(n);this._clearTimeouts(),o.isOverlayVisible()||(X.on(n,r,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){var r=this._getItemElementByEventArgs(e),n=V(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(r)&&(n.hasClass(lce)||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass(yD)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){var r=this._getSubmenuByElement(e);this._visibleSubmenu!==r&&this._hideVisibleSubmenu(),r&&(this._clearTimeouts(),this.focus(),r.show(),this.option("focusedElement",r.option("focusedElement"))),this._visibleSubmenu=r,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!(e.pointers&&e.pointers.length)){var r=V(e.currentTarget);q(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var n=this._getSubmenuByElement(r);n&&!n.isOverlayVisible()&&this._showSubmenu(r)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,r){var n=this._getSubmenuByRootElement(e);if(n)return n;r=r||this._getItemData(e);var i=this._dataAdapter.getNodeByItem(r);return this._hasChildren(i)&&this._renderSubmenuItems(i,e)}_updateSubmenuVisibilityOnClick(e){var r=e.args.length&&e.args[0];if(!(!r||this._disabledGetter(r.itemData))){var n=V(r.itemElement),i=this._getSubmenuByElement(n,r.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu)if(this._visibleSubmenu===i){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(i&&!i.isOverlayVisible()){this._showSubmenu(n);return}}}_optionChanged(e){if(wD.indexOf(e.name)>=0){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,r){te(this._submenus,(n,i)=>{i.option(e,r)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}}Rt("dxMenu",Cw);var Zy={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},xD={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},_ce=700,sF=1,Jd="filter-row",Yp="filter-range-overlay",Zp="filter-range-start",yce="filter-range-end",SD="dx-menu",ED="dx-editor-with-menu",Vs="dx-editor-container",ww="dx-editor-cell",bce="dx-filter-menu",Cce="dx-apply-button",Qy="dx-highlight-outline",ID="dx-focused",wce="dx-cell-focus-disabled",Jy="dx-filter-range-content",eb="dx-filter-modified",pd="input:not([type='hidden'])",xce=["date","datetime","number"],Sce=he.format("dxDataGrid-ariaSearchBox");function Wu(t){return t.option("filterRow.applyFilter")==="onClick"}var tb=function(t){var e=t&&t.children(),r=e&&e.data("dxComponents"),n=r&&r.length&&e.data(r[0]);return n instanceof ha?n:null},Ece=function(){var t=function(a,o){var s="",l="",p=e(a,o),h=Te.getFormatOptionsByColumn(o,"filterRow");return Array.isArray(p)?(s=Te.formatValue(p[0],h),l=Te.formatValue(p[1],h),l!==""&&(s+=" - ".concat(l))):q(p)&&(s=Te.formatValue(p,h)),s};function e(a,o){if(o)return Wu(a)&&o.bufferedFilterValue!==void 0?o.bufferedFilterValue:o.filterValue}var r=function(a,o){if(o)return Wu(a)&&o.bufferedSelectedFilterOperation!==void 0?o.bufferedSelectedFilterOperation:o.selectedFilterOperation},n=function(a,o,s){var l=a._columnsController.columnOption(o),p=e(a,l),h=s.closest(".".concat(a.addWidgetPrefix(Yp))).length,m=s.hasClass(a.addWidgetPrefix(Zp));return p&&Array.isArray(p)&&r(a,l)==="between"?m?p[0]:p[1]:!h&&function(v,f){return f&&xce.includes(f.dataType)&&Array.isArray(v)?!1:v!==void 0}(p,l)?p:null},i=function(a,o){var s=o.value===""?null:o.value,l=o.container,p=a._columnsController.columnOption(o.column.index),h=n(a,p.index,l);if(!(!q(h)&&!q(s))){a._applyFilterViewController.setHighLight(l,h!==s);var m=Wu(a)?"bufferedFilterValue":"filterValue",v=function(c,d,_,g){if(r(c,_)==="between"){var y=e(c,_);return g.hasClass(c.addWidgetPrefix(Zp))?[d,Array.isArray(y)?y[1]:void 0]:[Array.isArray(y)?y[0]:y,d]}return d}(a,s,p,l),f=r(a,p)==="between",u=o.notFireEvent||f&&Array.isArray(v)&&v.includes(void 0);a._columnsController.columnOption(p.index,m,v,u)}};return{_updateEditorValue(a,o){var s=tb(o);s&&s.option("value",n(this,a.index,o))},_columnOptionChanged(a){var{optionNames:o}=a,s,l,p,h;if(Te.checkChanges(o,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&a.columnIndex!==void 0){var m=this._columnsController.getVisibleIndex(a.columnIndex),v=this._columnsController.columnOption(a.columnIndex);if(s=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(Jd))).index(),m)||V(),l=s.find(".".concat(Vs)).first(),o.filterValue||o.bufferedFilterValue){this._updateEditorValue(v,l);var f=s.find(".".concat(this.addWidgetPrefix(Yp))).data("dxOverlay");f&&(p=f.$content().find(".".concat(Vs)),this._updateEditorValue(v,p.first()),this._updateEditorValue(v,p.last())),(!f||!f.option("visible"))&&this._updateFilterRangeContent(s,t(this,v))}(o.selectedFilterOperation||o.bufferedSelectedFilterOperation)&&m>=0&&v&&(h=s.find(".".concat(SD)),h.length&&(this._updateFilterOperationChooser(h,v,l),r(this,v)==="between"?this._renderFilterRangeContent(s,v):l.find(".".concat(Jy)).length&&(this._renderEditor(l,this._getEditorOptions(l,v)),this._hideFilterRange())));return}this.callBase(a)},_renderCore(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))},isVisible(){return this.callBase()||this.isFilterRowVisible()},init(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay(a,o){var s=this,l={},p=a.find(".dx-editor-container"),h=s.addWidgetPrefix(Yp),m=V("<div>").addClass(h).appendTo(a);return s._createComponent(m,da,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:h},animation:!1,position:{my:"top",at:"top",of:p.length&&p||a,offset:"0 -1"},contentTemplate(v){var f,u=V("<div>").addClass("".concat(Vs," ").concat(s.addWidgetPrefix(Zp))).appendTo(v);return o=s._columnsController.columnOption(o.index),f=s._getEditorOptions(u,o),f.sharedData=l,s._renderEditor(u,f),X.on(u.find(pd),"keydown",c=>{var d=a.find("[tabindex]").not(c.target).first();Cr(c)==="tab"&&c.shiftKey&&(c.preventDefault(),s._hideFilterRange(),d.length||(d=a.prev().find("[tabindex]").last()),X.trigger(d,"focus"))}),u=V("<div>").addClass("".concat(Vs," ").concat(s.addWidgetPrefix(yce))).appendTo(v),f=s._getEditorOptions(u,o),f.sharedData=l,s._renderEditor(u,f),X.on(u.find(pd),"keydown",c=>{Cr(c)==="tab"&&!c.shiftKey&&(c.preventDefault(),s._hideFilterRange(),X.trigger(a.next().find("[tabindex]").first(),"focus"))}),V(v).addClass(s.getWidgetContainerClass())},onShown(v){var f=v.component.$content().find(".".concat(Vs)).first();X.trigger(f.find(pd),"focus")},onHidden(){o=s._columnsController.columnOption(o.index),a.find(".".concat(SD)).parent().addClass(ED),r(s,o)==="between"&&(s._updateFilterRangeContent(a,t(s,o)),s.component.updateDimensions())}})},_updateFilterRangeOverlay(a){var o=this._filterRangeOverlayInstance;o&&o.option(a)},_showFilterRange(a,o){var s=a.children(".".concat(this.addWidgetPrefix(Yp))),l=s.length&&s.data("dxOverlay");!l&&o&&(l=this._initFilterRangeOverlay(a,o)),l.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=l,this._updateFilterRangeOverlay({width:Pt(a,!0)+sF}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange(){var a=this._filterRangeOverlayInstance;a&&a.hide()},getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance},_createRow(a){var o=this.callBase(a);return a.rowType==="filter"&&(o.addClass(this.addWidgetPrefix(Jd)),this.option("useLegacyKeyboardNavigation")||X.on(o,"keydown",s=>dx("filterRow",this,s))),o},_getRows(){var a=this.callBase();return this.isFilterRowVisible()&&a.push({rowType:"filter"}),a},_renderFilterCell(a,o){var{column:s}=o,l=V(a);this.component.option("showColumnHeaders")&&this.setAria("describedby",s.headerId,l),this.setAria("label",he.format("dxDataGrid-ariaFilterCell"),l),l.addClass(ww);var p=V("<div>").appendTo(l),h=V("<div>").addClass(Vs).appendTo(p);if(r(this,s)==="between")this._renderFilterRangeContent(l,s);else{var m=this._getEditorOptions(h,s);this._renderEditor(h,m)}var{alignment:v}=s;v&&v!=="center"&&l.find(pd).first().css("textAlign",s.alignment),s.filterOperations&&s.filterOperations.length&&this._renderFilterOperationChooser(p,s,h)},_renderCellContent(a,o){var s=this,{column:l}=o;if(o.rowType==="filter"){if(l.command)a.html("&nbsp;");else if(l.allowFiltering){s.renderTemplate(a,s._renderFilterCell.bind(s),o).done(()=>{s._updateCell(a,o)});return}}this.callBase.apply(this,arguments)},_getEditorOptions(a,o){var s=this,l={editorOptions:{inputAttr:s._getFilterInputAccessibilityAttributes(o)}},p=Y(l,o,{value:n(s,o.index,a),parentType:"filterRow",showAllText:s.option("filterRow.showAllText"),updateValueTimeout:s.option("filterRow.applyFilter")==="onClick"?0:_ce,width:null,setValue(h,m){i(s,{column:o,value:h,container:a,notFireEvent:m})}});return r(s,o)==="between"&&(a.hasClass(s.addWidgetPrefix(Zp))?p.placeholder=s.option("filterRow.betweenStartText"):p.placeholder=s.option("filterRow.betweenEndText")),p},_getFilterInputAccessibilityAttributes(a){var o=he.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":o,"aria-describedby":a.headerId}:{"aria-label":o}},_renderEditor(a,o){a.empty();var s=V("<div>").appendTo(a),l=this.getController("editorFactory"),p=this.getController("data").dataSource(),h=this.getController("applyFilter");if(o.lookup&&this.option("syncLookupFilterValues")){h.setCurrentColumnForFiltering(o);var m=this.getController("data").getCombinedFilter();h.setCurrentColumnForFiltering(null);var v=Te.getWrappedLookupDataSource(o,p,m),f=we(we({},o),{lookup:we(we({},o.lookup),{dataSource:v})});return l.createEditor(s,f)}return l.createEditor(s,o)},_renderFilterRangeContent(a,o){var s=this,l=a.find(".".concat(Vs)).first();l.empty();var p=V("<div>").addClass(Jy).attr("tabindex",this.option("tabIndex"));X.on(p,"focusin",()=>{s._showFilterRange(a,o)}),p.appendTo(l),s._updateFilterRangeContent(a,t(s,o))},_updateFilterRangeContent(a,o){var s=a.find(".".concat(Jy));s.length&&(o===""?s.html("&nbsp;"):s.text(o))},_updateFilterOperationChooser(a,o,s){var l=this,p,h=function(){var m=Cw.getInstance(a);m&&m.option("focusedElement",null),p&&l._focusEditor(s)};l._createComponent(a,Cw,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(l.getWidgetContainerClass()," ").concat(wce," ").concat(bce),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(o.filterOperations&&o.filterOperations.length),icon:Zy[r(l,o)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(o)}],onItemRendered:m=>{var{itemElement:v}=m;this.setAria("label",Sce,V(v))},onItemClick(m){var v=m.itemData.name,f=r(l,o),u=!1,c=Wu(l),d={};if(!(m.itemData.items||v&&v===f)){if(v?(d[c?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=v,(v==="between"||f==="between")&&(u=v==="between",d[c?"bufferedFilterValue":"filterValue"]=null)):(d[c?"bufferedFilterValue":"filterValue"]=null,d[c?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=o.defaultSelectedFilterOperation||null),l._columnsController.columnOption(o.index,d),l._applyFilterViewController.setHighLight(s,!0),!v){var _=tb(s);_&&_.NAME==="dxDateBox"&&!_.option("isValid")&&(_.reset(),_.option("isValid",!0))}u?l._showFilterRange(s.closest(".".concat(ww)),o):l._focusEditor(s)}},onSubmenuShowing(){p=l._isEditorFocused(s),l.getController("editorFactory").loseFocus()},onSubmenuHiding(){X.trigger(a,"blur"),h()},onContentReady(m){X.on(a,"blur",()=>{var v=m.component;v._hideSubmenuAfterTimeout(),h()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:a=>a.hasClass(ID)||a.parents(".".concat(ID)).length,_focusEditor(a){this.getController("editorFactory").focus(a),X.trigger(a.find(pd),"focus")},_renderFilterOperationChooser(a,o,s){var l;this.option("filterRow.showOperationChooser")&&(a.addClass(ED),l=V("<div>").prependTo(a),this._updateFilterOperationChooser(l,o,s))},_getFilterOperationMenuItems(a){var o=this,s=[{}],l=o.option("filterRow"),p=l&&l.operationDescriptions||{};if(a.filterOperations&&a.filterOperations.length){var h=a.filterOperations.filter(m=>q(xD[m]));s=Xr(h,m=>{var v=xD[m];return{name:m,selected:(r(o,a)||a.defaultFilterOperation)===m,text:p[v],icon:Zy[m]}}),s.push({name:null,text:l&&l.resetOperationText,icon:Zy.default})}return s},_handleDataChanged(a){var o,s,l;this.callBase.apply(this,arguments),(!((o=a.operationTypes)===null||o===void 0)&&o.filtering||!((s=a.operationTypes)===null||s===void 0)&&s.fullReload)&&this.updateLookupDataSource((l=a.operationTypes)===null||l===void 0?void 0:l.filtering)},updateLookupDataSource(a){if(this.option("syncLookupFilterValues")&&this.element()){var o=this._columnsController.getVisibleColumns(),s=this._dataController.dataSource(),l=this._applyFilterViewController,p=this.element().find(".".concat(this.addWidgetPrefix(Jd))).index();p!==-1&&o.forEach((h,m)=>{if(!(!h.lookup||h.calculateCellValue!==h.defaultCalculateCellValue)){var v=this._getCellElement(p,m),f=tb(v==null?void 0:v.find(".dx-editor-container"));if(f){l.setCurrentColumnForFiltering(h);var u=this._dataController.getCombinedFilter()||null;l.setCurrentColumnForFiltering(null);var c=f.option("dataSource"),d=!a||!Jt(c.__dataGridSourceFilter,u);if(d){var _=Te.getWrappedLookupDataSource(h,s,u);f.option("dataSource",_)}}}})}},optionChanged(a){switch(a.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),a.handled=!0;break;case"syncLookupFilterValues":a.value?this.updateLookupDataSource():this.render(),a.handled=!0;break;default:this.callBase(a)}}}}(),Ice={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),r=this.getController("applyFilter");return te(e,function(){var n,i=((n=r.getCurrentColumnForFiltering())===null||n===void 0?void 0:n.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&q(this.filterValue)&&!i){var a=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");t.push(a)}}),Te.combineFilters(t)}},Tce=ar.ViewController.inherit({_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight(t,e){Wu(this)&&(t&&t.toggleClass(Qy,e)&&t.closest(".".concat(ww)).toggleClass(eb,e),this._getHeaderPanel().enableApplyButton(e))},applyFilter(){var t=this.getController("columns"),e=t.getColumns();t.beginUpdate();for(var r=0;r<e.length;r++){var n=e[r];n.bufferedFilterValue!==void 0&&(t.columnOption(r,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(t.columnOption(r,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}t.endUpdate(),this.removeHighLights()},removeHighLights(){if(Wu(this)){var t=this.getView("columnHeadersView").element();t.find(".".concat(this.addWidgetPrefix(Jd)," .").concat(Qy)).removeClass(Qy),t.find(".".concat(this.addWidgetPrefix(Jd)," .").concat(eb)).removeClass(eb),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering(t){this._currentColumn=t},getCurrentColumnForFiltering(){return this._currentColumn}}),Oce={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:he.format("dxDataGrid-filterRowShowAllText"),resetOperationText:he.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:he.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:he.format("dxDataGrid-filterRowOperationEquals"),notEqual:he.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:he.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:he.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:he.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:he.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:he.format("dxDataGrid-filterRowOperationStartsWith"),contains:he.format("dxDataGrid-filterRowOperationContains"),notContains:he.format("dxDataGrid-filterRowOperationNotContains"),endsWith:he.format("dxDataGrid-filterRowOperationEndsWith"),between:he.format("dxDataGrid-filterRowOperationBetween"),isBlank:he.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:he.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:he.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:he.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:Tce},extenders:{controllers:{data:Ice,columnsResizer:{_startResizing(){if(this.callBase.apply(this,arguments),this.isResizing()){var t=this._columnHeadersView.getFilterRangeOverlayInstance();if(t){var e=t.$element().closest("td").index();(e===this._targetPoint.columnIndex||e===this._targetPoint.columnIndex+1)&&t.$content().hide()}}},_endResizing(){var t;if(this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();e&&(t=e.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:Pt(t,!0)+sF}),e.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue(t){return t.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(t){var e;return this._needUpdateLookupDataSource&&!t&&((e=this.getView("columnHeadersView"))===null||e===void 0||e.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:Ece,headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this._prepareFilterItem(t);return e.concat(t)},_prepareFilterItem(){var t=this,e=[];if(t._isShowApplyFilterButton()){var r=t.option("filterRow.applyFilterText"),n=t._columnsController.getColumns(),i=!n.filter(o=>o.bufferedFilterValue!==void 0).length,a={widget:"dxButton",options:{icon:"apply-filter",disabled:i,onClick:function(){t._applyFilterViewController.applyFilter()},hint:r,text:r,onInitialized:function(o){V(o.element).addClass(t._getToolbarButtonClass(Cce))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};e.push(a)}return e},_isShowApplyFilterButton(){var t=this.option("filterRow");return t&&t.visible&&t.applyFilter==="onClick"},init(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton(t){this.setToolbarItemDisabled("applyFilterButton",!t)},isVisible(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged(t){t.name==="filterRow"?(this._invalidate(),t.handled=!0):this.callBase(t)}}}}};Qe.registerModule("filterRow",Oce);Dl.setEditorClass(Sf);var TD="dx-header-filter",OD="dx-header-filter-menu",kce="text";function lF(t){t=t||[];for(var e=0;e<t.length;e++)t[e].selected=!1,lF(t[e].items)}function uF(t){var e=t.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return t.$element().find(e).dxCheckBox("instance")}function kD(t,e){if(!t.component.option("searchValue")){var r=uF(t.component);r&&e&&e.length&&r.option("value",void 0)}}function Ace(t,e,r){if(e^r){if(t.selected=!0,r&&t.items){for(var n=0;n<t.items.length;n++)if(!t.items[n].selected){t.selected=void 0;break}}}else(r||t.selected)&&(t.selected=!1,lF(t.items))}var Dce=ar.View.inherit({getPopupContainer(){return this._popupContainer},getListComponent(){return this._listComponent},applyHeaderFilter(t){var e=this.getListComponent(),r=e.option("searchValue"),n=uF(e),i=!r&&!t.isFilterBuilder&&(n==null?void 0:n.option("value")),a=[];i?(t.type==="tree"&&(t.filterType="exclude"),Array.isArray(t.filterValues)&&(t.filterValues=[])):t.type==="tree"&&(t.filterType&&(t.filterType="include"),function o(s,l,p){te(l,(h,m)=>{if(m.selected!==void 0&&!!m.selected^p){var v=e._getNode(m),f=e._hasChildren(v),u=f&&m.items&&m.items.some(c=>c.selected);if(!r||!u){s.push(m.value);return}}m.items&&m.items.length&&o(s,m.items,p)})}(a,e.option("items"),!1),t.filterValues=a),t.filterValues&&!t.filterValues.length&&(t.filterValues=null),t.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu(t,e){if(e){this._initializePopupContainer(e);var r=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(t,e),r.show()}},hideHeaderFilterMenu(){var t=this.getPopupContainer();t&&t.hide()},updatePopup(t,e){var r=this.option("showColumnLines"),n=e.alignment==="right"^!r?"left":"right";this._popupContainer.setAria({role:"dialog",label:he.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(n," top"),at:"".concat(n," bottom"),of:t,collision:"fit fit"}))},_getSearchExpr(t,e){var{lookup:r}=t,{useDefaultSearchExpr:n}=t,i=e.dataSource,a=e.search.searchExpr;if(a)return a;if(n||q(i)&&!Me(i))return kce;if(r)return r.displayExpr||"this";if(t.dataSource){var{group:o}=t.dataSource;if(Array.isArray(o)&&o.length>0)return o[0].selector;if(Me(o)&&!t.remoteFiltering)return o}return t.dataField||t.selector},_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer(t){var e=this,r=e.element(),n=this._normalizeHeaderFilterOptions(t),{height:i,width:a}=n,o={width:a,height:i,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:OD},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.ok,onClick(){e.applyHeaderFilter(t)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.cancel,onClick(){e.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(s){s.component.$content().parent().addClass("dx-dropdowneditor-overlay"),e._initializeListContainer(t,n),t.onShowing&&t.onShowing(s)},onShown(){e.getListComponent().focus()},onHidden:t.onHidden,onInitialized(s){var{component:l}=s;l.option("animation",l._getDefaultOptions().animation)}};q(e._popupContainer)?e._popupContainer.option(o):e._popupContainer=e._createComponent(r,ma,o)},_initializeListContainer(t,e){var r=this,n=r._popupContainer.$content(),i=!t.isFilterBuilder&&e.allowSelectAll,a={searchEnabled:e.search.enabled,searchTimeout:e.search.timeout,searchEditorOptions:e.search.editorOptions,searchMode:e.search.mode||"",dataSource:t.dataSource,onContentReady(){r.renderCompleted.fire()},itemTemplate(s,l,p){var h=V(p);return t.encodeHtml?h.text(s.text):h.html(s.text)}};function o(s){s.fullName==="searchValue"&&i&&r.option("headerFilter.hideSelectAllOnSearch")!==!1&&(t.type==="tree"?s.component.option("showCheckBoxesMode",s.value?"normal":"selectAll"):s.component.option("selectionMode",s.value?"multiple":"all"))}t.type==="tree"?r._listComponent=r._createComponent(V("<div>").appendTo(n),Tf,Y(a,{showCheckBoxesMode:i?"selectAll":"normal",onOptionChanged:o,keyExpr:"id"})):r._listComponent=r._createComponent(V("<div>").appendTo(n),kc,Y(a,{searchExpr:r._getSearchExpr(t,e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:i?"all":"multiple",onOptionChanged:o,onSelectionChanged(s){var l=s.component.option("items"),p=s.component.option("selectedItems");if(!s.component._selectedItemsUpdating&&!s.component.option("searchValue")&&!t.isFilterBuilder){var h=t.filterValues||[],m=t.filterType==="exclude";p.length===0&&l.length&&(h.length<=1||m&&h.length===l.length-1)?(t.filterType="include",t.filterValues=[]):p.length===l.length&&(t.filterType="exclude",t.filterValues=[])}te(l,(v,f)=>{var u=Te.getIndexByKey(f,p,null)>=0,c=!!f.selected;if(c!==u){f.selected=u,t.filterValues=t.filterValues||[];var d=Te.getIndexByKey(f.value,t.filterValues,null);d>=0&&t.filterValues.splice(d,1);var _=t.filterType==="exclude";u^_&&t.filterValues.push(f.value)}}),kD(s,t.filterValues)},onContentReady(s){var{component:l}=s,p=l.option("items"),h=[];te(p,function(){this.selected&&h.push(this)}),l._selectedItemsUpdating=!0,l.option("selectedItems",h),l._selectedItemsUpdating=!1,kD(s,t.filterValues)}}))},_normalizeHeaderFilterOptions(t){var e=this.option("headerFilter")||{},r=t.headerFilter||{},n={search:{enabled:e.allowSearch,timeout:e.searchTimeout}},i={search:{enabled:r.allowSearch,mode:r.searchMode,timeout:r.searchTimeout}};return Y(!0,{},e,n,r,i)},_renderCore(){this.element().addClass(OD)}}),o_=function(t){return q(t.allowHeaderFiltering)?t.allowHeaderFiltering:t.allowFiltering},cF={_applyColumnState(t){var e,{rootElement:r}=t,{column:n}=t;if(t.name==="headerFilter"){if(r.find(".".concat(TD)).remove(),o_(n)){e=this.callBase(t).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(n)),this.option("useLegacyKeyboardNavigation")||e.attr("tabindex",this.option("tabindex")||0);var i=he.format("dxDataGrid-headerFilterIndicatorLabel",n.caption);e.attr("aria-label",i),e.attr("aria-haspopup","dialog"),e.attr("role","button")}return e}return this.callBase(t)},_isHeaderFilterEmpty:t=>!t.filterValues||!t.filterValues.length,_getIndicatorClassName(t){return t==="headerFilter"?TD:this.callBase(t)},_renderIndicator(t){var e=t.container,r=t.indicator;if(t.name==="headerFilter"){var n=this.option("rtlEnabled");if(e.children().length&&(!n&&t.columnAlignment==="right"||n&&t.columnAlignment==="left")){e.prepend(r);return}}this.callBase(t)},optionChanged(t){if(t.name==="headerFilter"){var e=this.name==="columnHeadersView";this._invalidate(e,e),t.handled=!0}else this.callBase(t)}},Rce={month:t=>_t.getMonthNames()[t-1],quarter:t=>_t.format(new Date(2e3,3*t-1),"quarter")};function dF(t,e,r){return e=e||[],r=r||[],t.forEach(n=>{if(q(n.key)){var i=e.length===1;if(e.push(i?n.key-1:n.key),n.items)dF(n.items,e,r);else{var a=new Date(Date.UTC.apply(Date,e));r.push(a)}e.pop()}else r.push(null)}),r}function Pce(t,e){var r=dF(t),n=Gn(r),i=Te.getHeaderFilterGroupParameters(we(we({},e),{calculateCellValue:a=>a}));return Eo.queryByOptions(n,{group:i}).toArray()}function Mce(t){return(t==null?void 0:t.slice(-1))==="Z"||(t==null?void 0:t.slice(-3))==="'Z'"}var Bce=ar.ViewController.inherit({init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState(t,e){for(var r=t.length,n=e.filterType==="exclude";r--;){var i=t[r];"items"in t[r]&&this._updateSelectedState(t[r].items,e),Ace(i,Te.getIndexByKey(t[r].value,e.filterValues,null)>-1,n)}},_normalizeGroupItem(t,e,r){var n,i,{path:a}=r,{valueSelector:o}=r,{displaySelector:s}=r,{column:l}=r;return o&&s?(n=o(t),i=s(t)):(n=t.key,i=n),rt(t)?t=Y({},t):t={},a.push(n),a.length===1?t.value=a[0]:t.value=a.join("/"),t.text=this.getHeaderItemText(i,l,e,r.headerFilterOptions),t},getHeaderItemText(t,e,r,n){var i=Te.formatValue(t,function(a,o,s){var l=Al.getGroupInterval(o),p=Te.getFormatOptionsByColumn(o,"headerFilter");return l&&(p.groupInterval=l[s],Te.isDateType(o.dataType)?p.format=Rce[l[s]]:o.dataType==="number"&&(p.getDisplayFormat=function(){var h={format:o.format,target:"headerFilter"},m=Te.formatValue(a,h),v=a+l[s],f=Te.formatValue(v,h);return m&&f?"".concat(m," - ").concat(f):""})),p}(t,e,r));return i||(i=n.texts.emptyValue),i},_processGroupItems(t,e,r,n){var i,a,{column:o}=n,{lookup:s}=o,{level:l}=n;r=r||[],e=e||0,s&&(i=er(s.displayExpr),a=er(s.valueExpr));for(var p=0;p<t.length;p++)t[p]=this._normalizeGroupItem(t[p],e,{column:n.column,headerFilterOptions:n.headerFilterOptions,displaySelector:i,valueSelector:a,path:r}),"items"in t[p]&&(e===l||!q(t[p].value)?delete t[p].items:this._processGroupItems(t[p].items,e+1,r,n)),r.pop()},getDataSource(t){var e,r=this._dataController.dataSource(),n=r==null?void 0:r.remoteOperations().grouping,i=Te.getHeaderFilterGroupParameters(t,n),a=(e=t.headerFilter)===null||e===void 0?void 0:e.dataSource,o=this.option("headerFilter"),s=!1,l={component:this.component};if(r){if(q(a)&&!Me(a))l.dataSource=Oc(a);else if(t.lookup)if(s=!0,this.option("syncLookupFilterValues")){this._currentColumn=t;var p=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource=Te.getWrappedLookupDataSource(t,r,p)}else l.dataSource=Te.normalizeLookupDataSource(t.lookup);else{var h=Array.isArray(i)?i.length-1:0;this._currentColumn=t;var m=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource={filter:m,group:i,useDefaultSearch:!0,load:u=>{var c=new ae;return u.dataField=t.dataField||t.name,r.load(u).done(d=>{var _=n&&Mce(t.serializationFormat)&&h>3;_&&(d=Pce(d,t)),f._processGroupItems(d,null,null,{level:h,column:t,headerFilterOptions:o}),c.resolve(d)}).fail(c.reject),c}}}Me(a)&&a.call(t,l);var v=l.dataSource.postProcess,f=this;return l.dataSource.postProcess=function(u){var c=u;return s&&(c=c.filter(d=>d[t.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(c=c.slice(0),c.unshift(null)),f._processGroupItems(c,null,null,{level:0,column:t,headerFilterOptions:o})),c=v&&v.call(this,c)||c,f._updateSelectedState(c,t),c},l.dataSource}},getCurrentColumn(){return this._currentColumn},showHeaderFilterMenu(t,e){var r=this._columnsController,n=Y(!0,{},this._columnsController.getColumns()[t]);if(n){var i=r.getVisibleIndex(t),a=e?this.getView("headerPanel"):this.getView("columnHeadersView"),o=o||a.getColumnElements().eq(e?n.groupIndex:i);this.showHeaderFilterMenuBase({columnElement:o,column:n,applyFilter:!0,apply(){r.columnOption(t,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase(t){var e=this,{column:r}=t;if(r){var n=Al.getGroupInterval(r),i=e._dataController.dataSource(),a=i&&i.remoteOperations().filtering;Y(t,r,{type:n&&n.length>1?"tree":"list",remoteFiltering:a,onShowing(o){var s=o.component.$overlayContent().dxResizable("instance");s&&s.option("onResizeEnd",l=>{var p=e.getController("columns"),h=p.columnOption(t.dataField,"headerFilter");h=h||{},h.width=l.width,h.height=l.height,p.columnOption(t.dataField,"headerFilter",h,!0)})},onHidden:()=>cx(this)}),t.dataSource=e.getDataSource(t),t.isFilterBuilder&&(t.dataSource.filter=null,t.alignment="right"),e._headerFilterView.showHeaderFilterMenu(t.columnElement,t)}},hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}}),Lce=Y({},cF,{_renderCellContent(t,e){var r,{column:n}=e;!n.command&&o_(n)&&this.option("headerFilter.visible")&&e.rowType==="header"&&(r=this._applyColumnState({name:"headerFilter",rootElement:t,column:n,showColumnLines:this.option("showColumnLines")}),r&&this._subscribeToIndicatorEvent(r,n,"headerFilter")),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent(t,e,r){r==="headerFilter"&&X.on(t,jt,this.createAction(n=>{n.event.stopPropagation(),J3(t,this),this.getController("headerFilter").showHeaderFilterMenu(e.index,!1)}))},_updateIndicator(t,e,r){var n=this.callBase(t,e,r);n&&this._subscribeToIndicatorEvent(n,e,r)},_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:()=>!0,_columnOptionChanged(t){var{optionNames:e}=t;if(Te.checkChanges(e,["filterValues","filterType"])){this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators();return}this.callBase(t)}}),Fce=Y({},cF,{_createGroupPanelItem(t,e){var r=this,n=r.callBase.apply(r,arguments),i;return!e.command&&o_(e)&&r.option("headerFilter.visible")&&(i=r._applyColumnState({name:"headerFilter",rootElement:n,column:{alignment:Ts(r.option("rtlEnabled")),filterValues:e.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),i&&X.on(i,jt,r.createAction(a=>{var{event:o}=a;o.stopPropagation(),r.getController("headerFilter").showHeaderFilterMenu(e.index,!0)}))),n}}),Nce={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),r=this.getController("headerFilter"),n=r.getCurrentColumn();return te(e,(i,a)=>{var o;if(!(n&&n.index===a.index)&&o_(a)&&a.calculateFilterExpression&&Array.isArray(a.filterValues)&&a.filterValues.length){var s=[];te(a.filterValues,(l,p)=>{Array.isArray(p)?o=p:(a.deserializeValue&&!Te.isDateType(a.dataType)&&a.dataType!=="number"&&(p=a.deserializeValue(p)),o=a.createFilterExpression(p,"=","headerFilter")),o&&(o.columnIndex=a.index),s.push(o)}),s=Te.combineFilters(s,"or"),t.push(a.filterType==="exclude"?["!",s]:s)}}),Te.combineFilters(t)}},Vce={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:he.format("dxDataGrid-headerFilterEmptyValue"),ok:he.format("dxDataGrid-headerFilterOK"),cancel:he.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:Bce},views:{headerFilterView:Dce},extenders:{controllers:{data:Nce},views:{columnHeadersView:Lce,headerPanel:Fce}}};Qe.registerModule("headerFilter",Vce);var s_="dx-filterbuilder-range",Hce=s_+"-start",jce=s_+"-end",$ce=s_+"-separator",hF="–";function zce(t,e){var r=V("<div>").addClass(Hce),n=V("<div>").addClass(jce),i=t.value||[],a=function(s){return s&&s.length>0?s[0]:null},o=function(s){return s&&s.length===2?s[1]:null};e.append(r),e.append(V("<span>").addClass($ce).text(hF)),e.append(n),e.addClass(s_),this._editorFactory.createEditor.call(this,r,Y({},t.field,t,{value:a(i),parentType:"filterBuilder",setValue:function(s){i=[s,o(i)],t.setValue(i)}})),this._editorFactory.createEditor.call(this,n,Y({},t.field,t,{value:o(i),parentType:"filterBuilder",setValue:function(s){i=[a(i),s],t.setValue(i)}}))}function AD(t,e){return{name:"between",caption:t,icon:"range",valueSeparator:hF,dataTypes:["number","date","datetime"],editorTemplate:zce.bind(e),notForLookup:!0}}var Wce={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},Uce={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const fF={getIconByFilterOperation:function(t){return Wce[t]},getNameByFilterOperation:function(t){return Uce[t]}};var BS="string",DD="icon-none",ws="and",LS="=",Gce="<>",Kce={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},qce={date:"shortDate",datetime:"shortDateShortTime"},Xce=["=","<>","isblank","isnotblank"],Yce=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],Zce="dx-filterbuilder",pF=Zce+"-text",Qce=pF+"-part",mF=pF+"-separator",Jce=mF+"-empty";function ede(t,e){var r=t.format||qce[t.dataType];return u6.format(e,r)}function Pl(t){return t&&t.length>1&&t[0]==="!"&&!gn(t)}function Ds(t){return Pl(t)?t[1]:t}function tde(t,e){return Pl(t)?t[1]=e:t=e,t}function rde(t,e){(function(r){return r.indexOf("!")!==-1})(e)?Pl(t)||function(r){var n=r.slice(0);r.length=0,r.push("!",n)}(t):Pl(t)&&function(r){var n=Ds(r);r.length=0,[].push.apply(r,n)}(t)}function nde(t,e){rde(t,e);var r=Ds(t),n;return e=function(i){return i.indexOf("!")===-1?i:i.substring(1)}(e),function(i,a){for(n=0;n<i.length;n++)Array.isArray(i[n])||(i[n]=a)}(r,e),t}function ide(t,e){var r=Yl(t);return e.filter(function(n){return n.value===r})[0]}function vF(t){if(gn(t))return ws;for(var e="",r=0;r<t.length;r++){var n=t[r];if(!Array.isArray(n)){if(e&&e!==n)throw new qr.Error("E4019");n!=="!"&&(e=n)}}return e}function Yl(t){var e=Ds(t),r=vF(e);return r||(r=ws),e!==t&&(r="!"+r),r}function ade(t){return t.lookup&&Xce||Kce[t.dataType||BS]}function ode(t){return Array.isArray(t)&&t.length}function gF(t){var e=ode(t.filterOperations)?t.filterOperations:ade(t);return Y([],e)}function xw(t,e){var r=fF.getNameByFilterOperation(t);return e&&e[r]?e[r]:r}function sde(t,e){for(var r=0;r<e.length;r++)if(e[r].value===t)return e[r];throw new Et.Error("E1048",t)}function vo(t,e){var r=t.filter(function(n){return n.name===e});return r.length?r[0]:null}function lde(t,e,r){var n=gF(t),i=!!t.lookup;return r.forEach(function(a){if(!t.filterOperations&&n.indexOf(a.name)===-1){var o=a&&a.dataTypes,s=i?!!a.notForLookup:!1;!s&&o&&o.indexOf(t.dataType||BS)>=0&&n.push(a.name)}}),n.map(function(a){var o=vo(r,a);return o?{icon:o.icon||DD,text:o.caption||wl(o.name),value:o.name,isCustom:!0}:{icon:fF.getIconByFilterOperation(a)||DD,text:xw(a,e),value:a}})}function FS(t){return t.defaultFilterOperation||gF(t)[0]}function ude(t,e){var r=[t.dataField,"",""],n=FS(t);return Ew(r,n,e),r}function Sw(t,e){var r=Ds(t),n=r.indexOf(e);return r.splice(n,1),r.length!==1&&r.splice(n,1),t}function _F(t){var e=NS(t),r=e?VS(t):t;return e?["!",[r]]:[r]}function Kv(t,e){var r=Ds(e),n=Yl(r);return r.length===1?r.unshift(t):r.push(t,n),e}function qv(t,e){for(var r=0;r<e.length;r++)if(e[r].name===t||e[r].dataField.toLowerCase()===t.toLowerCase())return e[r];var n=SF(e,!0).filter(function(i){return i.dataField.toLowerCase()===t.toLowerCase()});if(n.length>0)return n[0];throw new Et.Error("E1047",t)}function Rs(t){return Array.isArray(t)?t.length<2||Array.isArray(t[0])||Array.isArray(t[1]):!1}function gn(t){return Array.isArray(t)?t.length>1&&!Array.isArray(t[0])&&!Array.isArray(t[1]):!1}function RD(t,e,r){r=r||ws;for(var n=vF(t).toLowerCase()||r,i=[],a=0;a<t.length;a++)Rs(t[a])?(i.push(HS(t[a],e,r)),i=nb(i,n)):gn(t[a])&&(i.push(Xv(t[a],e)),i=nb(i,n));return i.length===0&&(i=nb(i,n)),i}function cde(t,e){var r=vo(e,t[1]);return r&&r.name===t[1]}function Xv(t,e){return cde(t,e)||t.length<3&&(t[2]=t[1],t[1]=LS),t}function NS(t){return t.indexOf("not")!==-1}function VS(t){return t.substring(3).toLowerCase()}function rb(t,e){var r=NS(e);return e=r?VS(e):e,r?["!",t,e]:[t,e]}function nb(t,e){var r=NS(e);e=r?VS(e):e,t.push(e);var n=t;return r&&(n=["!",n]),n}function HS(t,e,r){return r=r||ws,t?(t=Y(!0,[],t),gn(t)?rb(Xv(t,e),r):Pl(t)?["!",gn(t[1])?rb(Xv(t[1],e),r):Pl(t[1])?rb(HS(t[1],e),r):RD(t[1],e,r)]:RD(t,e,r)):_F(r)}function dde(t){return t.reduce(function(e,r){if(q(r.dataField)){var n={};for(var i in r)r[i]&&Yce.indexOf(i)>-1&&(n[i]=r[i]);n.defaultCalculateFilterExpression=Al.defaultCalculateFilterExpression,q(n.dataType)||(n.dataType=BS),q(n.trueText)||(n.trueText=he.format("dxDataGrid-trueText")),q(n.falseText)||(n.falseText=he.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function PD(t,e,r,n){var i=qv(t[0],e),a=Xv(t,r),o=r.length&&vo(r,a[1]);return o&&o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[a[2],i,e]):i.createFilterExpression?i.createFilterExpression.apply(i,[a[2],a[1],n]):i.calculateFilterExpression?i.calculateFilterExpression.apply(i,[a[2],a[1],n]):i.defaultCalculateFilterExpression.apply(i,[a[2],a[1],n])}function pc(t,e,r,n){if(!q(t))return null;if(Pl(t)){var i=pc(t[1],e,r,n);return["!",i]}var a=Ds(t);if(gn(a))return PD(a,e,r,n)||null;for(var o=[],s,l=Yl(a),p=0;p<a.length;p++)Rs(a[p])?(s=pc(a[p],e,r,n),s&&(p&&o.push(l),o.push(s))):gn(a[p])&&(s=PD(a[p],e,r,n),s&&(o.length&&o.push(l),o.push(s)));return o.length===1&&(o=o[0]),o.length?o:null}function eh(t){var e=Ds(t),r;if(e.length===0)return null;var n=[];for(r=0;r<e.length;r++)if(Rs(e[r])){var i=eh(e[r]);i?e[r]=i:n.push(e[r])}else gn(e[r])&&(fde(e[r])||n.push(e[r]));for(r=0;r<n.length;r++)Sw(e,n[r]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(t=tde(t,e[0])),t.length===0)?null:t}function yF(t,e,r){if(e===""){r("");return}var n=t.lookup;if(n.items)r(n.calculateCellValue(e)||"");else{var i=Me(n.dataSource)?n.dataSource({}):n.dataSource,a=new Va(i);a.loadSingle(n.valueExpr,e).done(function(o){var s="";o&&(s=n.displayExpr?er(n.displayExpr)(o):o),t.customizeText&&(s=t.customizeText({value:e,valueText:s})),r(s)}).fail(function(){r("")})}}function bF(t,e,r,n,i){var a;return e===!0?a=t.trueText||he.format("dxDataGrid-trueText"):e===!1?a=t.falseText||he.format("dxDataGrid-falseText"):a=ede(t,e),t.customizeText&&(a=t.customizeText.call(t,{value:e,valueText:a,target:n})),r&&r.customizeText&&(a=r.customizeText.call(r,{value:e,valueText:a,field:t,target:n},i)),a}function hde(t,e,r,n){var i={values:e};return e.map(a=>bF(t,a,r,n,i))}function ib(t){return t===""||t===null}function CF(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(ib(e))return"";if(Array.isArray(e)){var i=new ae;return Ve.apply(this,hde(t,e,r,n)).done(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=o.some(p=>!ib(p))?o.map(p=>ib(p)?"?":p):"";i.resolve(l)}),i}else return bF(t,e,r,n)}function MD(t,e){return t.some(function(r){return r.dataField===e})}function wF(t,e,r){var n=r.dataField;jS(n)&&(r.parentId=EF(n),!MD(e,r.parentId)&&!MD(t,r.parentId)&&wF(t,e,{id:r.parentId,dataType:"object",dataField:r.parentId,caption:xF(r.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:Al.defaultCalculateFilterExpression})),e.push(r)}function xF(t,e){var r="";if(e)t=t.substring(t.lastIndexOf(".")+1);else if(jS(t))return t.split(".").forEach(function(n,i,a){r+=wl(n),i!==a.length-1&&(r+=".")}),r;return wl(t)}function SF(t,e){for(var r=[],n=0;n<t.length;n++){var i=Y(!0,{caption:xF(t[n].dataField,e)},t[n]);i.id=i.name||i.dataField,e?wF(t,r,i):r.push(i)}return r}function jS(t){return t.lastIndexOf(".")!==-1}function EF(t){return t.substring(0,t.lastIndexOf("."))}function IF(t,e){if(jS(t.dataField)){for(var r=EF(t.dataField),n=0;n<e.length;n++)if(e[n].dataField===r)return IF(e[n],e)+"."+t.caption}return t.caption}function Ew(t,e,r){var n=vo(r,e);return n?(n.hasValue===!1?(t[1]=e,t.length=2):(t[1]=e,t[2]=""),t):(e==="isblank"?(t[1]=LS,t[2]=null):e==="isnotblank"?(t[1]=Gce,t[2]=null):(n=vo(r,t[1]),(n||t.length===2||t[2]===null)&&(t[2]=""),t[1]=e),t)}function BD(t){var e;return t[2]===null?t[1]===LS?e="isblank":e="isnotblank":e=t[1],e}function fde(t){return t[2]!==""}function pde(t,e,r){var n=Y(!0,[],t),i=-1;return n.some(function(a,o){if(a.name==="between")return i=o,!0}),i!==-1?n[i]=Y(AD(e,r),n[i]):n.unshift(AD(e,r)),n}function Hh(t,e){return t[0]===e}function Iw(t,e){if(!t||t.length===0)return null;if(gn(t)){var r=Hh(t,e);return r?null:t}else return TF(t,[e],!1)}function TF(t,e,r){var n=[];return t.forEach(function(i){gn(i)?Hh(i,e[0])?r?(n.push(e),r=!1):n.splice(n.length-1,1):n.push(i):(n.length||Rs(i))&&n.push(i)}),n.length===0?null:(r&&(n.push(ws),n.push(e)),n.length===1?n[0]:n)}function LD(t,e){if(t===null||t.length===0)return e;if(gn(t))return Hh(t,e[0])?e:[t,ws,e];var r=Yl(t);return r!==ws?[e,"and",t]:TF(t,e,!0)}function mde(t,e){if(t===null||t.length===0)return[];if(gn(t))return Hh(t,e)?[t]:[];var r=Yl(t);if(r!==ws)return[];var n=t.filter(function(i){return gn(i)&&Hh(i,e)});return n}function OF(t,e){return t===null||t.length===0?!1:gn(t)?t[0]===e:t.some(function(r){return(gn(r)||Rs(r))&&OF(r,e)})}var Tw=function(t,e,r){if(Array.isArray(e)){var n=e.length-1;t.empty(),e.forEach((i,a)=>{V("<span>").addClass(Qce).text(i).appendTo(t),a!==n&&V("<span>").addClass(mF).text(r&&r.valueSeparator?r.valueSeparator:"|").addClass(Jce).appendTo(t)})}else e?t.text(e):t.text(he.format("dxFilterBuilder-enterValueText"))};function kF(t){var e=function(n,i){return i?"".concat(i,"/").concat(n):n},r=t&&t.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(n,i,a){var o=[],s=n.length-1;return n&&n.forEach((l,p)=>{if(gn(l)||Rs(l)){var h=pc(l,a,[],"headerFilter");o.push(h)}else{var m=pc([i.dataField,"=",l],a,[],"headerFilter");o.push(m)}p!==s&&o.push("or")}),o.length===1?o[0]:o},editorTemplate(n,i){var a=V("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(i),o=Y(!0,{},t.columnOption(n.field.dataField));return Tw(a,n.text&&n.text.split("|")),o.filterType="include",o.filterValues=n.value?n.value.slice():[],r.showHeaderFilterMenuBase({columnElement:a,column:o,apply(){s=this.filterValues,n.setValue(s);var s;r.hideHeaderFilterMenu(),n.closeEditor()},onHidden(){n.closeEditor()},isFilterBuilder:!0}),i},customizeText:function(n,i){i=i||{};var{value:a}=n,o=t.columnOption(n.field.dataField),s=o&&o.headerFilter,l=o&&o.lookup,p=i.values||[a];if(s&&s.dataSource||l&&l.dataSource){var h=new ae,m=i.items||new ae;if(!i.items){o=Y({},o,{filterType:"include",filterValues:p});var v=r.getDataSource(o);v.paginate=!1;var f=new Va(v),u=f.store().key();if(u){var{values:c}=i;if(c&&c.length>1){var d=c.reduce((g,y)=>(g.length&&g.push("or"),g.push([u,"=",y]),g),[]);f.filter(d)}else f.filter([u,"=",n.value])}else n.field.calculateDisplayValue&&Et.log("W1017");i.items=m,f.load().done(m.resolve)}return m.done(g=>{var y=p.indexOf(n.value);h.resolve(function b(C,w){var x=[];return C.forEach(A=>{if(A.items){var D=b(A.items,e(A.text,w));x=x.concat(D)}A.selected&&x.push(e(A.text,w))}),x}(g,null)[y])}),h}var _=r.getHeaderItemText(a,o,0,t.option("headerFilter"));return _}}}function vde(t){return Y(kF(t),{name:"anyof",icon:"selectall",caption:he.format("dxFilterBuilder-filterOperationAnyOf")})}function gde(t){var e=kF(t);return Y({},e,{calculateFilterExpression(r,n,i){var a=e.calculateFilterExpression(r,n,i);return!a||a.length===0?null:a[0]==="!"?a:["!",a]},name:"noneof",icon:"unselectall",caption:he.format("dxFilterBuilder-filterOperationNoneOf")})}var _de=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],FD="include",th="exclude";function Oa(t){return t.name||t.dataField}function yde(t){t.forEach(e=>{var r=Oa(e);if(!q(r)&&e.allowFiltering)throw new Et.Error("E1049",e.caption)})}var bde=ar.Controller.inherit(function(){var t=function(){return{filterType:FD,filterValues:void 0}},e=function(o){var s=o.filterValues||[];return!Al.getGroupInterval(o)&&!(o.headerFilter&&o.headerFilter.dataSource)||s.length===1&&s[0]===null},r=function(o){var s=o.filterValue;if(q(s)){var l=o.selectedFilterOperation||o.defaultFilterOperation||FS(o),p=[Oa(o),l,o.filterValue];return p}return null},n=function(o){var s,l,{filterValues:p}=o;return p?(p.length===1&&e(o)&&!Array.isArray(p[0])?(o.filterType===th?s="<>":s="=",l=p[0]):(o.filterType===th?s="noneof":s="anyof",l=p),[Oa(o),s,l]):null},i=function(o,s,l){var p=function(h,m){if(!h)return t();var v,f=h[1],u=h[2],c=Array.isArray(u);if(!c&&!e(m))return t();switch(f){case"anyof":case"=":v=FD;break;case"noneof":case"<>":v=th;break;default:return t()}return{filterType:v,filterValues:c?u:[u]}}(l,s);o.columnOption(Oa(s),p)},a=function(o,s,l){var p,h=l==null?void 0:l[1],m=l==null?void 0:l[2],v=s.filterOperations||s.defaultFilterOperations;(!v||v.indexOf(h)>=0||h===s.defaultFilterOperation)&&_de.includes(h)&&m!==null?(h===s.defaultFilterOperation&&!q(s.selectedFilterOperation)&&(h=s.selectedFilterOperation),p={filterValue:m,selectedFilterOperation:h}):p={filterValue:void 0,selectedFilterOperation:void 0},o.columnOption(Oa(s),p)};return{syncFilterValue(){var o=this,s=o.getController("columns"),l=s.getFilteringColumns();this._skipSyncColumnOptions=!0,l.forEach(p=>{var h=mde(o.option("filterValue"),Oa(p));if(h.length===1){var m=h[0];i(s,p,m),a(s,p,m)}else q(p.filterValues)&&i(s,p,null),q(p.filterValue)&&a(s,p,null)}),this._skipSyncColumnOptions=!1},_initSync(){var o=this.getController("columns").getColumns(),s=this.getController("data"),l=s.pageIndex();if(yde(o),!this.option("filterValue")){var p=this.getController("columns").getFilteringColumns(),h=this.getFilterValueFromColumns(p);this.option("filterValue",h)}this.syncFilterValue(),s.pageIndex(l)},init(){var o=this.getController("data");o.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():o.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow(o,s){var l=r(s);return q(l)?LD(o,l):Iw(o,Oa(s))},_getSyncHeaderFilter(o,s){var l=n(s);return l?LD(o,l):Iw(o,Oa(s))},getFilterValueFromColumns(o){if(!this.getController("data").isFilterSyncActive())return null;var s=["and"];return o&&o.forEach(l=>{var p=n(l),h=r(l);p&&Kv(p,s),h&&Kv(h,s)}),eh(s)},syncFilterRow(o){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),o))},syncHeaderFilter(o){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),o))},getCustomFilterOperations(){var o=this.option("filterBuilder.customOperations")||[];return[vde(this.component),gde(this.component)].concat(o)},publicMethods:()=>["getCustomFilterOperations"]}}()),Cde={isFilterSyncActive(){var t=this.option("filterSyncEnabled");return t==="auto"?this.option("filterPanel.visible"):t},skipCalculateColumnFilters(){var t=this.getController("filterSync");return(q(this.option("filterValue"))||t._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter(){if(this.option("filterPanel.filterEnabled")===!1)return this.callBase();var t=[this.callBase()],e=this.getController("columns").getFilteringColumns(),r=this.option("filterValue");if(this.isFilterSyncActive()){var n=this.getController("headerFilter").getCurrentColumn();n&&r&&(r=Iw(r,Oa(n)))}var i=this.getController("filterSync").getCustomFilterOperations(),a=pc(r,e,i,"filterBuilder");return a&&t.push(a),Te.combineFilters(t)},_parseColumnPropertyName(t){var e=t.match(/.*\.(.*)/);return e?e[1]:null},clearFilter(t){this.component.beginUpdate(),arguments.length>0?(t==="filterValue"&&this.option("filterValue",null),this.callBase(t)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged(t){switch(t.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),t.handled=!0;break;case"filterSyncEnabled":t.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var e=this.getController("columns").getColumnByPath(t.fullName),r=this.getController("filterSync");if(e&&!r._skipSyncColumnOptions){var n=this._parseColumnPropertyName(t.fullName);r._skipSyncColumnOptions=!0,n==="filterType"?(th===t.value||th===t.previousValue)&&r.syncHeaderFilter(e):n==="filterValues"?r.syncHeaderFilter(e):["filterValue","selectedFilterOperation"].includes(n)&&r.syncFilterRow(e,e.filterValue),r._skipSyncColumnOptions=!1}}this.callBase(t);break;default:this.callBase(t)}}},wde={_isHeaderFilterEmpty(t){return this.getController("data").isFilterSyncActive()?!OF(this.option("filterValue"),Oa(t)):this.callBase(t)},_needUpdateFilterIndicators(){return!this.getController("data").isFilterSyncActive()},optionChanged(t){t.name==="filterValue"?this._updateHeaderFilterIndicators():this.callBase(t)}},xde={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:bde},extenders:{controllers:{data:Cde},views:{columnHeadersView:wde}}};Qe.registerModule("filterSync",xde);var ki="dx-filterbuilder",mc=ki+"-group",ND=mc+"-item",VD=mc+"-content",Sde=mc+"-operations",Ede=mc+"-operation",Ow=ki+"-action",HD=Ow+"-icon",Ide="dx-icon-plus",Tde="dx-icon-remove",md=ki+"-text",Ode=ki+"-item-field",kde=ki+"-item-operation",jD=ki+"-item-value",Ade=ki+"-item-value-text",Dde=ki+"-overlay",Rde=ki+"-operations",Pde=ki+"-fields",Mde=ki+"-add-condition",Qp="dx-state-active",Bde=ki+"-menu-custom-operation",$D="filterBuilder",Lde="dx-state-disabled",zD="tab",ab="enter",WD="escape",Fde=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],UD={and:"and",or:"or",notAnd:"!and",notOr:"!or"},Nde=Ft.inherit(EL),AF=rn.inherit({_getDefaultOptions:function(){return Y(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:he.format("dxFilterBuilder-and"),or:he.format("dxFilterBuilder-or"),notAnd:he.format("dxFilterBuilder-notAnd"),notOr:he.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:he.format("dxFilterBuilder-filterOperationBetween"),equal:he.format("dxFilterBuilder-filterOperationEquals"),notEqual:he.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:he.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:he.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:he.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:he.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:he.format("dxFilterBuilder-filterOperationStartsWith"),contains:he.format("dxFilterBuilder-filterOperationContains"),notContains:he.format("dxFilterBuilder-filterOperationNotContains"),endsWith:he.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:he.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:he.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(t){switch(t.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(t.value!==t.previousValue){var e=this._disableInvalidateForValue;e||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:t.value,previousValue:t.previousValue}),this._disableInvalidateForValue=e}break;default:this.callBase(t)}},getFilterExpression:function(){var t=this._getNormalizedFields(),e=Y(!0,[],this._model);return pc(eh(e),t,this._customOperations,$D)},_getNormalizedFields:function(){return dde(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var t=Y(!0,[],this._model),e=eh(t),r=eh(this._getModel(this.option("value")));JSON.stringify(r)!==JSON.stringify(e)&&this.option("value",e),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new Nde},_initCustomOperations:function(){this._customOperations=pde(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var t,e;return(t=(e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:UD.and},_getModel:function(t){return HS(t,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var t=this;t._actions={},Fde.forEach(function(e){var r=Y({},e.config);t._actions[e.name]=t._createActionByOption(e.name,r)})},executeAction:function(t,e){var r=this._actions[t];return r&&r(e)},_initMarkup:function(){this.$element().addClass(ki),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(t,e){return V("<div>").addClass(mc).append(this._createConditionItem(t,e))},_createGroupElementByCriteria:function(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=this._createGroupElement(t,e,r),i=n.find("."+VD),a=Ds(t),o=0;o<a.length;o++){var s=a[o];Rs(s)?this._createGroupElementByCriteria(s,t,r+1).appendTo(i):gn(s)&&this._createConditionElement(s,t).appendTo(i)}return n},_createGroupElement:function(t,e,r){var n=V("<div>").addClass(ND),i=V("<div>").addClass(VD),a=V("<div>").addClass(mc).append(n).append(i);return e!=null&&this._createRemoveButton(()=>{Sw(e,t),a.remove(),this._updateFilter()}).appendTo(n),this._createGroupOperationButton(t).appendTo(n),this._createAddButton(()=>{var o=_F(this._getDefaultGroupOperation());Kv(o,t),this._createGroupElement(o,t,r+1).appendTo(i),this._updateFilter()},()=>{var o=this.option("fields")[0],s=ude(o,this._customOperations);Kv(s,t),this._createConditionElement(s,t).appendTo(i),this._updateFilter()},r).appendTo(n),a},_createButton:function(t){return V("<div>").text(t)},_createGroupOperationButton:function(t){var e=this._getGroupOperations(t),r=ide(t,e),n=r.text,i=e&&e.length<2?this._createButton(n).addClass(Lde):this._createButtonWithMenu({caption:n,menu:{items:e,displayExpr:"text",keyExpr:"value",onItemClick:a=>{r!==a.itemData&&(nde(t,a.itemData.value),i.text(a.itemData.text),r=a.itemData,this._updateFilter())},onContentReady:function(a){a.component.selectItem(r)},cssClass:Sde}});return i.addClass(md).addClass(Ede).attr("tabindex",0)},_createButtonWithMenu:function(t){var e=this,r=function(){e.$element().find("."+Qp).removeClass(Qp),e.$element().find(".dx-overlay .dx-treeview").remove(),e.$element().find(".dx-overlay").remove()},n=this.option("rtlEnabled"),i=n?"right":"left",a=this._createButton(t.caption);Y(t.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(o=t.menu.onItemClick,function(s){o(s),s.event.type==="dxclick"&&r()}),onHiding:function(s){a.removeClass(Qp)},position:{my:i+" top",at:i+" bottom",offset:"0 1",of:a,collision:"flip"},animation:null,onHidden:function(){r()},cssClass:Dde+" "+t.menu.cssClass,rtlEnabled:n});var o;return t.popup={onShown:function(s){var l=V(s.component.content()).find(".dx-treeview"),p=l.dxTreeView("instance");X.on(l,"keyup keydown",function(h){var m=Cr(h);(h.type==="keydown"&&m===zD||h.type==="keyup"&&(m===WD||m===ab))&&(s.component.hide(),X.trigger(t.menu.position.of,"focus"))}),p.focus(),p.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(a,function(){r(),e._createPopupWithTreeView(t,e.$element()),a.addClass(Qp)}),a},_hasValueButton:function(t){var e=vo(this._customOperations,t[1]);return e?e.hasValue!==!1:t[2]!==null},_createOperationButtonWithMenu:function(t,e){var r=this,n=lde(e,this.option("filterOperationDescriptions"),this._customOperations),i=sde(BD(t),n),a=this._createButtonWithMenu({caption:i.text,menu:{items:n,displayExpr:"text",onItemRendered:function(o){o.itemData.isCustom&&V(o.itemElement).addClass(Bde)},onContentReady:function(o){o.component.selectItem(i)},onItemClick:o=>{if(i!==o.itemData){i=o.itemData,Ew(t,i.value,r._customOperations);var s=a.siblings().filter("."+jD);r._hasValueButton(t)?(s.length!==0&&s.remove(),r._createValueButton(t,e).appendTo(a.parent())):s.remove(),a.html(i.text),this._updateFilter()}},cssClass:Rde}}).addClass(md).addClass(kde).attr("tabindex",0);return a},_createOperationAndValueButtons:function(t,e,r){this._createOperationButtonWithMenu(t,e).appendTo(r),this._hasValueButton(t)&&this._createValueButton(t,e).appendTo(r)},_createFieldButtonWithMenu:function(t,e,r){var n=this,i=this.option("allowHierarchicalFields"),a=SF(t,i),o=qv(r.name||r.dataField,a),s=function(p,h){return i?IF(p,h):p.caption},l=this._createButtonWithMenu({caption:s(o,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:p=>{if(o!==p.itemData){o=p.itemData,e[0]=o.name||o.dataField,e[2]=o.dataType==="object"?null:"",Ew(e,FS(o),n._customOperations),l.siblings().filter("."+md).remove(),n._createOperationAndValueButtons(e,o,l.parent());var h=s(o,p.component.option("items"));l.html(h),this._updateFilter()}},onContentReady:function(p){p.component.selectItem(o)},cssClass:Pde}}).addClass(md).addClass(Ode).attr("tabindex",0);return l},_createConditionItem:function(t,e){var r=V("<div>").addClass(ND),n=this._getNormalizedFields(),i=qv(t[0],n);return this._createRemoveButton(()=>{Sw(e,t);var a=r.parent().children().length===1;a?r.parent().remove():r.remove(),this._updateFilter()}).appendTo(r),this._createFieldButtonWithMenu(n,t,i).appendTo(r),this._createOperationAndValueButtons(t,i,r),r},_getGroupOperations:function(t){var e=this.option("groupOperations"),r=this.option("groupOperationDescriptions");return(!e||!e.length)&&(e=[Yl(t).replace("!","not")]),e.map(n=>({text:r[n],value:UD[n]}))},_createRemoveButton:function(t){var e=V("<div>").addClass(HD).addClass(Tde).addClass(Ow).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(e,t),e},_createAddButton:function(t,e,r){var n,i=this.option("maxGroupLevel");return q(i)&&r>=i?(n=this._createButton(),this._subscribeOnClickAndEnterKey(n,e)):n=this._createButtonWithMenu({menu:{items:[{caption:he.format("dxFilterBuilder-addCondition"),click:e},{caption:he.format("dxFilterBuilder-addGroup"),click:t}],displayExpr:"caption",onItemClick:function(a){a.itemData.click()},cssClass:Mde}}),n.addClass(HD).addClass(Ide).addClass(Ow).attr("tabindex",0)},_createValueText:function(t,e,r){var n=this,i=V("<div>").html("&nbsp;").addClass(Ade).attr("tabindex",0).appendTo(r),a=t[2],o=vo(n._customOperations,t[1]);return!o&&e.lookup?yF(e,a,function(s){Tw(i,s)}):Ve(CF(e,a,o)).done(s=>{Tw(i,s,o)}),n._subscribeOnClickAndEnterKey(i,function(s){s.type==="keyup"&&s.stopPropagation(),n._createValueEditorWithEvents(t,e,r)}),i},_updateConditionValue:function(t,e,r){var n=t[2]!==e;n&&(t[2]=e),r(),this._updateFilter()},_addDocumentKeyUp:function(t,e){var r=!1,n=!1,i=Ce.getDocument(),a=s=>{if(r||n){n=!1;return}e(s)};X.on(i,"keyup",a);var o=t.find("input");X.on(o,"compositionstart",()=>{r=!0}),X.on(o,"compositionend",()=>{r=!1,n=!0}),X.on(o,"keydown",s=>{s.which!==229&&(n=!1)}),this._documentKeyUpHandler=a},_addDocumentClick:function(t,e){var r=Ce.getDocument(),n=i=>{this._isFocusOnEditorParts(t,i.target)||(X.trigger(t.find("input"),"change"),e())};X.on(r,"dxpointerdown",n),this._documentClickHandler=n},_isFocusOnEditorParts:function(t,e){var r=e||Ce.getActiveElement();return V(r).closest(t.children()).length||V(r).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var t=Ce.getDocument();q(this._documentKeyUpHandler)&&X.off(t,"keyup",this._documentKeyUpHandler),q(this._documentClickHandler)&&X.off(t,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(t,e,r){var n=t[2],i=()=>(r.empty(),this._removeEvents(),this._createValueText(t,e,r)),a=()=>{this._updateConditionValue(t,n,function(){i()})},o={value:n===""?null:n,filterOperation:BD(t),setValue:function(l){n=l===null?"":l},closeEditor:a,text:r.text()};r.empty();var s=this._createValueEditor(r,e,o);X.trigger(s.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(s,a),this._addDocumentKeyUp(s,l=>{var p=Cr(l);if(p===zD){if(this._isFocusOnEditorParts(s))return;this._updateConditionValue(t,n,function(){i(),l.shiftKey&&X.trigger(r.prev(),"focus")})}p===WD&&X.trigger(i(),"focus"),p===ab&&this._updateConditionValue(t,n,function(){X.trigger(i(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(t,e){var r=V("<div>").addClass(md).addClass(jD);return this._createValueText(t,e,r),r},_createValueEditor:function(t,e,r){var n=V("<div>").attr("tabindex",0).appendTo(t),i=vo(this._customOperations,r.filterOperation),a=i&&i.editorTemplate?i.editorTemplate:e.editorTemplate;if(a){var o=this._getTemplate(a);o.render({model:Y({field:e},r),container:n})}else this._editorFactory.createEditor.call(this,n,Y({},e,r,{parentType:$D}));return n},_createPopupWithTreeView:function(t,e){var r=this,n=V("<div>").addClass(t.menu.cssClass).appendTo(e);this._createComponent(n,ma,{onHiding:t.menu.onHiding,onHidden:t.menu.onHidden,rtlEnabled:t.menu.rtlEnabled,position:t.menu.position,animation:t.menu.animation,contentTemplate:function(i){var a=V("<div>").appendTo(i);r._createComponent(a,Tf,t.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return oF(t.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:t.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:t.menu.cssClass})},_subscribeOnClickAndEnterKey:function(t,e){X.on(t,"dxclick",e),X.on(t,"keyup",function(r){Cr(r)===ab&&e(r)})}});Rt("dxFilterBuilder",AF);var Vde=ar.View.inherit({_renderCore(){this._updatePopupOptions()},_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup(){var t=this;t._disposePopup(),t._filterBuilderPopup=t._createComponent(t.element(),ma,Y({title:he.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:e=>t._getPopupContentTemplate(e),onOptionChanged(e){e.name==="visible"&&t.option("filterBuilderPopup.visible",e.value)},toolbarItems:t._getPopupToolbarItems()},t.option("filterBuilderPopup"),{onHidden(){cx(t),t._disposePopup()}}))},_getPopupContentTemplate(t){var e=V(t),r=V("<div>").appendTo(V(t));this._filterBuilder=this._createComponent(r,AF,Y({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(e,gS,{direction:"both"})},_getPopupToolbarItems(){var t=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:he.format("OK"),onClick(){var e=t._filterBuilder.option("value");t.option("filterValue",e),t._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:he.format("Cancel"),onClick(){t._filterBuilderPopup.hide()}}}]},optionChanged(t){switch(t.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),Hde={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:he.format("dxFilterBuilder-and"),or:he.format("dxFilterBuilder-or"),notAnd:he.format("dxFilterBuilder-notAnd"),notOr:he.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:he.format("dxFilterBuilder-filterOperationBetween"),equal:he.format("dxFilterBuilder-filterOperationEquals"),notEqual:he.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:he.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:he.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:he.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:he.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:he.format("dxFilterBuilder-filterOperationStartsWith"),contains:he.format("dxFilterBuilder-filterOperationContains"),notContains:he.format("dxFilterBuilder-filterOperationNotContains"),endsWith:he.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:he.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:he.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:Vde}};Qe.registerModule("filterBuilder",Hde);var Of="filter-panel",jde="".concat(Of,"-text"),$de="".concat(Of,"-checkbox"),zde="".concat(Of,"-clear-filter"),Wde="".concat(Of,"-left"),Ude="filterPanel",Gde=ar.View.inherit({isVisible(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init(){this.getController("data").dataSourceChanged.add(()=>this.render()),this._columnsController=this.getController("columns")},_renderCore(){var t=this.element();t.empty();var e=!!this._columnsController.getColumns().length;if(e){t.addClass(this.addWidgetPrefix(Of));var r=V("<div>").addClass(this.addWidgetPrefix(Wde)).appendTo(t);this._renderFilterBuilderText(t,r)}},_renderFilterBuilderText(t,e){var r=this._getFilterElement(),n=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var i=this._getCheckElement(),a=this._getRemoveButtonElement();e.append(i).append(r).append(n),t.append(a);return}e.append(r).append(n)},_getCheckElement(){var t=this,e=V("<div>").addClass(this.addWidgetPrefix($de));return t._createComponent(e,Rl,{value:t.option("filterPanel.filterEnabled"),onValueChanged(r){t.option("filterPanel.filterEnabled",r.value)}}),e.attr("title",this.option("filterPanel.texts.filterEnabledHint")),e},_getFilterElement(){var t=this,e=V("<div>").addClass("dx-icon-filter");return X.on(e,"click",()=>t._showFilterBuilder()),Wd("filterPanel",t,e,void 0,()=>t._showFilterBuilder()),t._addTabIndexToElement(e),e},_getTextElement(){var t=this,e=V("<div>").addClass(t.addWidgetPrefix(jde)),r,n=t.option("filterValue");return n?Ve(t.getFilterText(n,t.getController("filterSync").getCustomFilterOperations())).done(i=>{var a=t.option("filterPanel.customizeText");if(a){var o=a({component:t.component,filterValue:n,text:i});typeof o=="string"&&(i=o)}e.text(i)}):(r=t.option("filterPanel.texts.createFilter"),e.text(r)),X.on(e,"click",()=>t._showFilterBuilder()),Wd("filterPanel",t,e,void 0,()=>t._showFilterBuilder()),t._addTabIndexToElement(e),e},_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement(){var t=this,e=()=>t.option("filterValue",null),r=V("<div>").addClass(t.addWidgetPrefix(zde)).text(t.option("filterPanel.texts.clearFilter"));return X.on(r,"click",e),Wd("filterPanel",this,r,void 0,e),t._addTabIndexToElement(r),r},_addTabIndexToElement(t){if(!this.option("useLegacyKeyboardNavigation")){var e=this.option("tabindex")||0;t.attr("tabindex",e)}},optionChanged(t){switch(t.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),t.handled=!0;break;case"filterPanel":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},_getConditionText(t,e,r){var n="[".concat(t,"] ").concat(e);return q(r)&&(n+=r),n},_getValueMaskedText:t=>Array.isArray(t)?"('".concat(t.join("', '"),"')"):" '".concat(t,"'"),_getValueText(t,e,r){var n=new ae,i=e&&e.customizeText;if(q(r)||i)if(!i&&t.lookup)yF(t,r,o=>{n.resolve(this._getValueMaskedText(o))});else{var a=Array.isArray(r)?r:Te.getDisplayValue(t,r,null);Ve(CF(t,a,e,Ude)).done(o=>{n.resolve(this._getValueMaskedText(o))})}else n.resolve("");return n.promise()},getConditionText(t,e){var r=this,n=t[1],i=new ae,a=vo(e.customOperations,n),o,s=qv(t[0],e.columns),l=s.caption||"",p=t[2];return a?o=a.caption||wl(a.name):p===null?o=xw(n==="="?"isblank":"isnotblank",e.filterOperationDescriptions):o=xw(n,e.filterOperationDescriptions),this._getValueText(s,a,p).done(h=>{i.resolve(r._getConditionText(l,o,h))}),i},getGroupText(t,e,r){var n=this,i=new ae,a=[],o=Yl(t);return t.forEach(s=>{gn(s)?a.push(n.getConditionText(s,e)):Rs(s)&&a.push(n.getGroupText(s,e,!0))}),Ve.apply(this,a).done(function(){for(var s,l=arguments.length,p=new Array(l),h=0;h<l;h++)p[h]=arguments[h];if(o.startsWith("!")){var m=e.groupOperationDescriptions["not".concat(o.substring(1,2).toUpperCase()).concat(o.substring(2))].split(" ");s="".concat(m[0]," ").concat(p[0])}else s=p.join(" ".concat(e.groupOperationDescriptions[o]," "));r&&(s="(".concat(s,")")),i.resolve(s)}),i},getFilterText(t,e){var r={customOperations:e,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return gn(t)?this.getConditionText(t,r):this.getGroupText(t,r)}}),Kde={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:he.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:he.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:he.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:Gde},extenders:{controllers:{data:{optionChanged(t){switch(t.name){case"filterPanel":this._applyFilter(),t.handled=!0;break;default:this.callBase(t)}}}}}};Qe.registerModule("filterPanel",Kde);var GD="search-panel",KD="search-text",qde="header-panel",Xde=700;function qD(t){return q(t.allowSearch)?t.allowSearch:t.allowFiltering}function XD(t,e){var{lookup:r}=t;return t.parseValue?r?t.parseValue.call(r,e):t.parseValue(e):e}var Yde={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:he.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:{publicMethods(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter(){var t=this.callBase(),e=function(r,n){var i,a,o=r._columnsController.getColumns(),s=r.option("searchPanel.searchVisibleColumnsOnly"),l,p=[];if(!n)return null;function h(v){for(var f=er(l.valueExpr),u=0;u<v.length;u++){var c=f(v[u]);p.push(a.createFilterExpression(c,null,"search"))}}for(i=0;i<o.length;i++)if(a=o[i],!(s&&!a.visible)&&qD(a)&&a.calculateFilterExpression){l=a.lookup;var m=XD(a,n);l&&l.items?Gn(l.items).filter(a.createFilterExpression.call({dataField:l.displayExpr,dataType:l.dataType,calculateFilterExpression:a.calculateFilterExpression},m,null,"search")).enumerate().done(h):m!==void 0&&p.push(a.createFilterExpression(m,null,"search"))}return p.length===0?["!"]:Te.combineFilters(p,"or")}(this,this.option("searchPanel.text"));return Te.combineFilters([t,e])},searchByText(t){this.option("searchPanel.text",t)},optionChanged(t){switch(t.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),t.handled=!0;break;default:this.callBase(t)}}}},views:{headerPanel:function(){var t=function(e){return e.option("searchPanel")};return{_getToolbarItems(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem(e){var r=this,n=r.getController("data"),i=t(r);if(i&&i.visible){var a={template(o,s,l){var p=V("<div>").addClass(r.addWidgetPrefix(GD)).appendTo(l);r.getController("editorFactory").createEditor(p,{width:i.width,placeholder:i.placeholder,parentType:"searchPanel",value:r.option("searchPanel.text"),updateValueTimeout:Xde,setValue(h){n.searchByText(h)},editorOptions:{inputAttr:{"aria-label":he.format("".concat(r.component.NAME,"-ariaSearchInGrid"))}}}),r.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(a)}return e},getSearchTextEditor(){var e=this,r=e.element(),n=r.find(".".concat(e.addWidgetPrefix(GD))).filter(function(){return V(this).closest(".".concat(e.addWidgetPrefix(qde))).is(r)});return n.length?n.dxTextBox("instance"):null},isVisible(){var e=t(this);return this.callBase()||e&&e.visible},optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){var r=this.getSearchTextEditor();r&&r.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}}(),rowsView:{init(){this.callBase.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")},_getFormattedSearchText(t,e){var r=XD(t,e),n=Te.getFormatOptionsByColumn(t,"search");return Te.formatValue(r,n)},_getStringNormalizer(){var t,e,r,n,i=this.option("searchPanel.highlightCaseSensitive"),a=(e=(t=this._dataController)===null||t===void 0?void 0:t.getDataSource)===null||e===void 0?void 0:e.call(t),o=(n=(r=a==null?void 0:a.loadOptions)===null||r===void 0?void 0:r.call(a))===null||n===void 0?void 0:n.langParams;return s=>Cn(s,i,o)},_findHighlightingTextNodes(t,e,r){var n=e.parent(),i,a=this._getStringNormalizer(),o=a(r),s=[];if(!n.length)n=V("<div>").append(e);else if(t)if(t.groupIndex>=0&&!t.showWhenGrouped)i=e;else{var l=this._columnsController.getVisibleIndex(t.index);i=n.children("td").eq(l).find("*")}return i=i!=null&&i.length?i:n.find("*"),i.each((p,h)=>{for(var m=V(h).contents(),v=0;v<m.length;v++){var f=m.get(v);if(f.nodeType===3){var u=a(f.textContent||f.nodeValue);u.indexOf(o)>-1&&s.push(f)}}}),s},_highlightSearchTextCore(t,e){var r=V("<span>").addClass(this.addWidgetPrefix(KD)),n=t.text(),i=t[0],a=this._getStringNormalizer(),o=a(n).indexOf(a(e));if(o>=0)return i.textContent?i.textContent=n.substr(0,o):i.nodeValue=n.substr(0,o),t.after(r.text(n.substr(o,e.length))),t=V(Ce.createTextNode(n.substr(o+e.length))).insertAfter(r),this._highlightSearchTextCore(t,e)},_highlightSearchText(t,e,r){var n=this,i=this._getStringNormalizer(),a=n.option("searchPanel.text");if(e&&r&&(a=a&&n._getFormattedSearchText(r,a)),a&&n.option("searchPanel.highlightSearchText")){var o=n._findHighlightingTextNodes(r,t,a);o.forEach(s=>{e?i(V(s).text())===i(a)&&V(s).replaceWith(V("<span>").addClass(n.addWidgetPrefix(KD)).text(V(s).text())):n._highlightSearchTextCore(V(s),a)})}},_renderCore(){var t=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),t},_updateCell(t,e){var{column:r}=e,n=r.lookup&&r.lookup.dataType||r.dataType,i=n!=="string";qD(r)&&!e.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(a=>{this._highlightSearchText.apply(this,a)}),this._searchParams=[]})),this._searchParams.push([t,i,r])):this._highlightSearchText(t,i,r)),this.callBase(t,e)},dispose(){clearTimeout(this._highlightTimer),this.callBase()}}}}};Qe.registerModule("search",Yde);class Zde extends xf{_optionChanged(e){switch(e.name){case"pageIndex":var r=this.option("pageIndexChanged");r&&r(e.value);break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(e.value)}super._optionChanged(e)}}function go(t,e){var r,n=(r=eL(e))!==null&&r!==void 0?r:{};return j5(n[t])}function Qde(t){var e=go("paddingLeft",t)+go("paddingRight",t),r=go("width",t);return r-e}function $m(t){var e=go("marginLeft",t)+go("marginRight",t),r=go("width",t);return e+r}function DF(t){return go("minWidth",t)}var Jde=["contentTemplate","pagerProps"],ehe=t=>{var{contentAttributes:e,infoTextRef:r,infoTextVisible:n,isLargeDisplayMode:i,pageSizesRef:a,pagesRef:o,parentRef:s,props:{contentTemplate:l}}=t;return l(we({rootElementRef:s,pageSizesRef:a,infoTextRef:r,pagesRef:o,infoTextVisible:n,isLargeDisplayMode:i},e))};function the(t){var{pageSizes:e,pages:r,parent:n}=t;return n-(e+r)>0}function rhe(t){var{info:e,pageSizes:r,pages:n,parent:i}=t,a=r+n+e;return i-a>0}function nhe(t){var{info:e,pageSizes:r,pages:n,parent:i}=t,a=Qde(i),o=$m(r),s=$m(e),l=$m(n);return{parent:a,pageSizes:o,info:s+go("marginLeft",e)+go("marginRight",e),pages:l}}var ihe={},ahe=t=>t&&(t.defaultProps?e=>hi(sr(2,t,we({},e))):t);class RF extends Wa{constructor(e){super(e),this.parentRef=pn(),this.pageSizesRef=pn(),this.infoTextRef=pn(),this.pagesRef=pn(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new fr(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new fr(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var e,r;(e=this._effects[0])===null||e===void 0||e.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(r=this._effects[1])===null||r===void 0||r.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var e=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return Sl.add(e),()=>{Sl.remove(e)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:e,displayMode:r,gridCompatibility:n,hasKnownLastPage:i,infoText:a,label:o,lightModeEnabled:s,maxPagesCount:l,onKeyDown:p,pageCount:h,pageIndex:m,pageIndexChange:v,pageSize:f,pageSizeChange:u,pageSizes:c,pagesCountText:d,pagesNavigatorVisible:_,rtlEnabled:g,showInfo:y,showNavigationButtons:b,showPageSizes:C,totalCount:w,visible:x}=this.props.pagerProps;return we({},this.restAttributes,{pageSize:f,pageIndex:m,pageIndexChange:v,pageSizeChange:u,gridCompatibility:n,className:e,showInfo:y,infoText:a,lightModeEnabled:s,displayMode:r,maxPagesCount:l,pageCount:h,pagesCountText:d,visible:x,hasKnownLastPage:i,pagesNavigatorVisible:_,showPageSizes:C,pageSizes:c,rtlEnabled:g,showNavigationButtons:b,totalCount:w,onKeyDown:p,label:o})}get parentWidth(){return this.parentRef.current?$m(this.parentRef.current):0}updateAdaptivityProps(){var e=nhe({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var r=!q(this.elementsWidth);r&&(this.elementsWidth={}),(r||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=e.pageSizes,this.elementsWidth.pages=e.pages),(r||this.state.infoTextVisible)&&(this.elementsWidth.info=e.info),this.actualIsLargeDisplayMode=the(we({parent:e.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=rhe(we({},e,{info:this.elementsWidth.info})),this.setState(n=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(n=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var e=this.props,r=_r(e,Jde);return r}render(){var e=this.props;return ehe({props:we({},e,{contentTemplate:ahe(e.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}RF.defaultProps=ihe;var PF={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return he.format("dxPager-ariaLabel")}},ohe=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(PF),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),ln=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(PF),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),she=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],MF="dx-info",lhe=t=>{var{props:{rootElementRef:e},text:r}=t;return Br(1,"div",MF,r,0,null,null,e)},uhe={get pageIndex(){return ln.pageIndex},get pageCount(){return ln.pageCount},get totalCount(){return ln.totalCount}};class BF extends qi{constructor(e){super(e),this.state={}}get infoText(){var e;return((e=this.props.infoText)!==null&&e!==void 0?e:"")||he.getFormatter("dxPager-infoText")()}get text(){var{pageCount:e,pageIndex:r,totalCount:n}=this.props;return la(this.infoText,(r+1).toString(),e.toString(),n.toString())}get restAttributes(){var e=this.props,r=_r(e,she);return r}render(){var e=this.props;return lhe({props:we({},e),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}BF.defaultProps=uhe;var rh=p5(void 0),che=["children","className","label","onClick","selected","tabIndex"],dhe=t=>{var{props:{children:e,className:r,label:n,selected:i,tabIndex:a},widgetRef:o}=t;return Br(1,"div",r,e,0,{tabIndex:a,role:"button","aria-label":n,"aria-current":i?"page":void 0},null,o)},hhe={className:"",label:"",tabIndex:0,selected:!1};class jh extends Wa{constructor(e){super(e),this.state={},this.widgetRef=pn(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[rh.id]?this.context[rh.id]:rh.defaultValue}createEffects(){return[new fr(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new fr(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var e,r;(e=this._effects[0])===null||e===void 0||e.update([this.keyboardContext,this.props.onClick]),(r=this._effects[1])===null||r===void 0||r.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return cZ(this.widgetRef.current,this.props.onClick)}get restAttributes(){var e=this.props,r=_r(e,che);return r}render(){var e=this.props;return dhe({props:we({},e),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}jh.defaultProps=hhe;var fhe="dx-pager",phe="dx-light-mode",mhe="dx-pages",vhe="dx-page-indexes",ghe="dx-page",LF="dx-selection",FF="dx-page-size",_he="dx-page-sizes",yhe="".concat(FF," ").concat(LF),bhe="dx-first-child",Che=["className","index","onClick","selected"],whe=t=>{var{className:e,label:r,props:{onClick:n,selected:i},value:a}=t;return sr(2,jh,{className:e,label:r,onClick:n,selected:i,children:a})},xhe={index:0,selected:!1,className:ghe};class $S extends qi{constructor(e){super(e),this.state={}}get label(){return la(he.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:e}=this.props;return Hi({["".concat(this.props.className)]:!!this.props.className,[LF]:!!e})}get restAttributes(){var e=this.props,r=_r(e,Che);return r}render(){var e=this.props;return whe({props:we({},e),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}$S.defaultProps=xhe;var She=["pageIndexes"],Ehe=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],Ihe="dx-separator",The=t=>{var{pages:e}=t,r=e.map(n=>{var{key:i,pageProps:a}=n;return a?sr(2,$S,{index:a.index,selected:a.selected,onClick:a.onClick},i):Br(1,"div",Ihe,". . .",16,null,i)});return Do(r,0)},Hs=4;function YD(t,e,r){return t===1?"high":t+e===r-1?"low":"both"}function NF(t,e,r){var n=[],i=[];switch(r){case"none":n=[...t];break;case"both":n=[0,"low",...t,"high",e-1],i=t.slice(1,-1);break;case"high":n=[0,...t,"high",e-1],i=t.slice(0,-1);break;case"low":n=[0,"low",...t,e-1],i=t.slice(1)}return{slidingWindowIndexes:t,indexesForReuse:i,pageIndexes:n}}function ZD(t,e,r,n){for(var i=[],a=0;a<e;a+=1)i.push(a+t);return NF(i,r,n)}var Ohe={get pageIndex(){return ln.pageIndex},get maxPagesCount(){return ln.maxPagesCount},get pageCount(){return ln.pageCount}};class VF extends qi{constructor(e){super(e),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[bn.id]?this.context[bn.id]:bn.defaultValue}get slidingWindowState(){var e=this.slidingWindowStateHolder;return e||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(e,r){var{indexesForReuse:n}=this.slidingWindowState,i=n.slice(-1)[0]<e-1,a=n.includes(r);return i&&a}generatePageIndexes(){var{pageCount:e,pageIndex:r}=this.props,n=0,{slidingWindowIndexes:i}=this.slidingWindowState;r===i[0]?n=r-1:r===i[i.length-1]?n=r+2-Hs:r<Hs?n=1:r>=e-Hs?n=e-Hs-1:n=r-1;var a=Hs,o=YD(n,a,e),s=ZD(n,a,e,o),{pageIndexes:l}=s,p=_r(s,She);return this.slidingWindowStateHolder=p,l}isSlidingWindowMode(){var{maxPagesCount:e,pageCount:r}=this.props;return r<=Hs||r<=e}onPageClick(e){this.props.pageIndexChange(e)}get pageIndexes(){var{pageCount:e}=this.props;if(this.isSlidingWindowMode())return ZD(0,e,e,"none").pageIndexes;if(this.canReuseSlidingWindow(e,this.props.pageIndex)){var{slidingWindowIndexes:r}=this.slidingWindowState,n=YD(r[0],Hs,e);return NF(r,e,n).pageIndexes}return this.generatePageIndexes()}get pages(){var e,{pageIndex:r}=this.props,n=a=>{var o=a==="low"||a==="high"?null:{index:a,onClick:()=>this.onPageClick(a),selected:r===a};return{key:a.toString(),pageProps:o}},i=(e=this.config)!==null&&e!==void 0&&e.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return i.map(a=>n(a))}get restAttributes(){var e=this.props,r=_r(e,Ehe);return r}render(){var e=this.props;return The({props:we({},e),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}VF.defaultProps=Ohe;var ec={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return Ue.real().deviceType==="desktop"&&!Ue.isSimulator()}},Yv={label:"",get labelMode(){return Mr(pa())?"floating":"static"}},khe=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Ahe=0,Dhe=t=>{var{componentProps:e,restAttributes:r}=t;return hi(sr(2,e_,we({componentType:$v,componentProps:e,templateNames:[]},r)))},ti=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Yr),Object.getOwnPropertyDescriptors({defaultValue:Ahe,isReactComponentWrapper:!0}))),Rhe={get defaultValue(){return ti.defaultValue},get readOnly(){return ti.readOnly},get name(){return ti.name},get validationError(){return ti.validationError},get validationErrors(){return ti.validationErrors},get validationMessageMode(){return ti.validationMessageMode},get validationMessagePosition(){return ti.validationMessagePosition},get validationStatus(){return ti.validationStatus},get isValid(){return ti.isValid},get inputAttr(){return ti.inputAttr},get className(){return ti.className},get activeStateEnabled(){return ec.activeStateEnabled},get disabled(){return ti.disabled},get focusStateEnabled(){return ec.focusStateEnabled},get hoverStateEnabled(){return ec.hoverStateEnabled},get tabIndex(){return ti.tabIndex},get visible(){return ti.visible},get label(){return Yv.label},get labelMode(){return Yv.labelMode},isReactComponentWrapper:!0};class HF extends qi{constructor(e){super(e),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var e=we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_r(e,khe);return r}render(){var e=this.props;return Dhe({props:we({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}HF.defaultProps=Rhe;var Phe=10;function jF(t,e){return t+Phe*Math.max(...e).toString().length}var Mhe=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],Bhe="".concat(MF,"  dx-info-text"),$F="dx-page-index",Lhe="dx-light-pages",Fhe="dx-pages-count",Nhe=t=>{var{pageIndexRef:e,pagesCountText:r,props:{inputAttr:n,pageCount:i},selectLastPageIndex:a,value:o,valueChange:s,width:l}=t;return Br(1,"div",Lhe,[sr(2,HF,{className:$F,min:1,max:i,width:l,value:o,valueChange:s,inputAttr:n}),Br(1,"span",Bhe,r,0),sr(2,$S,{className:Fhe,selected:!1,index:i-1,onClick:a})],4,null,null,e)},Vhe={inputAttr:Object.freeze({"aria-label":he.format("dxPager-ariaPageNumber")})},Hhe={get pageIndex(){return ln.pageIndex},get pageCount(){return ln.pageCount},get inputAttr(){return Vhe.inputAttr}};class zF extends Wa{constructor(e){super(e),this.pageIndexRef=pn(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new fr(this.updateWidth,[this.state.minWidth])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.state.minWidth])}updateWidth(){var e,r=(e=this.pageIndexRef.current)===null||e===void 0?void 0:e.querySelector(".".concat($F));this.setState(n=>({minWidth:r&&DF(r)||n.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:e}=this.props;return jF(this.state.minWidth,[e])}get pagesCountText(){var e;return((e=this.props.pagesCountText)!==null&&e!==void 0?e:"")||he.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(e){this.props.pageIndexChange(e-1)}get restAttributes(){var e=this.props,r=_r(e,Mhe);return r}render(){var e=this.props;return Nhe({props:we({},e),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}zF.defaultProps=Hhe;var jhe=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],Jp="dx-navigate-button",QD="dx-prev-button",JD="dx-next-button",eR="dx-button-disable",$he=()=>he.getFormatter("dxPager-nextPage")(),zhe=()=>he.getFormatter("dxPager-prevPage")(),Whe={nextEnabledClass:"".concat(Jp," ").concat(JD),prevEnabledClass:"".concat(Jp," ").concat(QD),nextDisabledClass:"".concat(eR," ").concat(Jp," ").concat(JD),prevDisabledClass:"".concat(eR," ").concat(Jp," ").concat(QD)},Uhe={next:"prev",prev:"next"},Ghe=t=>{var{nextButtonProps:e,pageIndexChange:r,prevButtonProps:n,props:{isLargeDisplayMode:i,maxPagesCount:a,pageCount:o,pageIndex:s,pagesCountText:l},renderNextButton:p,renderPrevButton:h}=t;return Do([h&&sr(2,jh,{label:zhe(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate}),i&&sr(2,VF,{maxPagesCount:a,pageCount:o,pageIndex:s,pageIndexChange:r}),!i&&sr(2,zF,{pageCount:o,pageIndex:s,pageIndexChange:r,pagesCountText:l}),p&&sr(2,jh,{label:$he(),className:e.className,tabIndex:e.tabIndex,onClick:e.navigate})],0)};function Khe(t){return t==="next"?1:-1}var qhe={isLargeDisplayMode:!0},Xhe={get pageIndex(){return ln.pageIndex},get maxPagesCount(){return ln.maxPagesCount},get pageCount(){return ln.pageCount},get hasKnownLastPage(){return ln.hasKnownLastPage},get showNavigationButtons(){return ln.showNavigationButtons},get totalCount(){return ln.totalCount},get isLargeDisplayMode(){return qhe.isLargeDisplayMode}};class WF extends qi{constructor(e){super(e),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[bn.id]?this.context[bn.id]:bn.defaultValue}pageIndexChange(e){this.canNavigateToPage(e)&&this.props.pageIndexChange(e)}getButtonProps(e){var r,n=(r=this.config)!==null&&r!==void 0&&r.rtlEnabled?Uhe[e]:e,i=this.canNavigateTo(n),a=Whe["".concat(e).concat(i?"Enabled":"Disabled","Class")];return{className:a,tabIndex:i?0:-1,navigate:()=>this.navigateToPage(n)}}canNavigateToPage(e){return this.props.hasKnownLastPage?e>=0&&e<=this.props.pageCount-1:e>=0}getNextPageIndex(e){return this.props.pageIndex+Khe(e)}canNavigateTo(e){return this.canNavigateToPage(this.getNextPageIndex(e))}navigateToPage(e){this.pageIndexChange(this.getNextPageIndex(e))}get renderPrevButton(){var{isLargeDisplayMode:e,showNavigationButtons:r}=this.props;return!e||r}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=(()=>this.getButtonProps("prev"))()}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=(()=>this.getButtonProps("next"))()}get restAttributes(){var e=this.props,r=_r(e,jhe);return r}componentWillUpdate(e,r,n){(this.context[bn.id]!==n[bn.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[bn.id]!==n[bn.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var e=this.props;return Ghe({props:we({},e),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}WF.defaultProps=Xhe;var Yhe=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],Zhe=t=>{var{componentProps:e,restAttributes:r}=t;return hi(sr(2,e_,we({componentType:r_,componentProps:e,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},r)))},Rn=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(Yr),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),Qhe={get placeholder(){return Rn.placeholder},get hoverStateEnabled(){return ec.hoverStateEnabled},get searchEnabled(){return Rn.searchEnabled},get defaultValue(){return Rn.defaultValue},get readOnly(){return Rn.readOnly},get name(){return Rn.name},get validationError(){return Rn.validationError},get validationErrors(){return Rn.validationErrors},get validationMessageMode(){return Rn.validationMessageMode},get validationMessagePosition(){return Rn.validationMessagePosition},get validationStatus(){return Rn.validationStatus},get isValid(){return Rn.isValid},get inputAttr(){return Rn.inputAttr},get className(){return Rn.className},get activeStateEnabled(){return ec.activeStateEnabled},get disabled(){return Rn.disabled},get focusStateEnabled(){return ec.focusStateEnabled},get tabIndex(){return Rn.tabIndex},get visible(){return Rn.visible},get label(){return Yv.label},get labelMode(){return Yv.labelMode},isReactComponentWrapper:!0};let UF=class extends qi{constructor(e){super(e),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var e=we({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_r(e,Yhe);return r}render(){var e=this.props;return Zhe({props:we({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}};UF.defaultProps=Qhe;var Jhe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],efe=t=>{var{props:{inputAttr:e,pageSize:r,pageSizeChange:n,pageSizes:i},width:a}=t;return sr(2,UF,{displayExpr:"text",valueExpr:"value",dataSource:i,value:r,valueChange:n,width:a,inputAttr:e})},tfe={inputAttr:Object.freeze({"aria-label":he.format("dxPager-ariaPageSize")})},rfe={get pageSize(){return ln.pageSize},get inputAttr(){return tfe.inputAttr}};class GF extends Wa{constructor(e){super(e),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new fr(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(e=>({minWidth:DF(this.props.parentRef.current)||e.minWidth}))}get width(){return jF(this.state.minWidth,this.props.pageSizes.map(e=>e.value))}get restAttributes(){var e=this.props,r=_r(e,Jhe);return r}render(){var e=this.props;return efe({props:we({},e),width:this.width,restAttributes:this.restAttributes})}}GF.defaultProps=rfe;var nfe=["pageSize","pageSizeChange","pageSizes"],ife=t=>{var{pageSizesText:e}=t;return Do(e.map(r=>{var{className:n,click:i,label:a,text:o}=r;return sr(2,jh,{className:n,label:a,onClick:i,children:o},o)}),0)},afe={get pageSize(){return ln.pageSize}};class KF extends qi{constructor(e){super(e),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:e,pageSizes:r}=this.props;return r.map((n,i)=>{var{text:a,value:o}=n,s=o===e,l=Hi({[s?yhe:FF]:!0,[bhe]:i===0});return{className:l,click:this.onPageSizeChange(o),label:la(he.getFormatter("dxPager-pageSize"),o||he.getFormatter("dxPager-pageSizesAllText")),text:a}})})()}onPageSizeChange(e){return()=>(this.props.pageSizeChange(e),this.props.pageSize)}get restAttributes(){var e=this.props,r=_r(e,nfe);return r}componentWillUpdate(e,r,n){(this.props.pageSize!==e.pageSize||this.props.pageSizes!==e.pageSizes||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var e=this.props;return ife({props:we({},e),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}KF.defaultProps=afe;var ofe=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],sfe=t=>{var{htmlRef:e,normalizedPageSizes:r,props:{isLargeDisplayMode:n,pageSize:i,pageSizeChange:a}}=t;return Br(1,"div",_he,[n&&sr(2,KF,{pageSizes:r,pageSize:i,pageSizeChange:a}),!n&&sr(2,GF,{parentRef:e,pageSizes:r,pageSize:i,pageSizeChange:a})],0,null,null,e)};function lfe(){return he.getFormatter("dxPager-pageSizesAllText")()}var ufe={isLargeDisplayMode:!0},cfe={get pageSize(){return ln.pageSize},get pageSizes(){return ln.pageSizes},get isLargeDisplayMode(){return ufe.isLargeDisplayMode}};class qF extends Wa{constructor(e){super(e),this.state={},this.htmlRef=pn(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new fr(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:e}=this.props;return e.map(r=>r==="all"||r===0?{text:lfe(),value:0}:{text:String(r),value:r})})()}get restAttributes(){var e=this.props,r=_r(e,ofe);return r}componentWillUpdate(e,r,n){super.componentWillUpdate(),this.props.pageSizes!==e.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var e=this.props;return sfe({props:we({},e),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}qF.defaultProps=cfe;var dfe=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],hfe=t=>{var{aria:e,classes:r,infoVisible:n,isLargeDisplayMode:i,pageIndexSelectorVisible:a,pagesContainerVisibility:o,pagesContainerVisible:s,props:{hasKnownLastPage:l,infoText:p,infoTextRef:h,maxPagesCount:m,pageCount:v,pageIndex:f,pageIndexChange:u,pageSize:c,pageSizeChange:d,pageSizes:_,pageSizesRef:g,pagesCountText:y,pagesRef:b,rtlEnabled:C,showNavigationButtons:w,showPageSizes:x,totalCount:A,visible:D},restAttributes:P,widgetRootElementRef:k}=t;return hi(sr(2,Yg,we({rootElementRef:k,rtlEnabled:C,classes:r,visible:D,aria:e},P,{children:[x&&sr(2,qF,{rootElementRef:g,isLargeDisplayMode:i,pageSize:c,pageSizeChange:d,pageSizes:_}),s&&Br(1,"div",mhe,[n&&sr(2,BF,{rootElementRef:h,infoText:p,pageCount:v,pageIndex:f,totalCount:A}),a&&Br(1,"div",vhe,sr(2,WF,{hasKnownLastPage:l,isLargeDisplayMode:i,maxPagesCount:m,pageCount:v,pageIndex:f,pageIndexChange:u,pagesCountText:y,showNavigationButtons:w,totalCount:A}),2,null,null,b)],0,{style:sS({visibility:o})})]})))},ffe=Object.create(Object.prototype,we(Object.getOwnPropertyDescriptors(ln),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));class XF extends Wa{constructor(e){super(e),this.state={},this.widgetRootElementRef=pn(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new fr(this.setRootElementRef,[])]}getChildContext(){return we({},this.context,{[rh.id]:this.keyboardAction||rh.defaultValue})}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>e=>{var r,n;(r=(n=this.props).onKeyDown)===null||r===void 0||r.call(n,e)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction=(()=>({registerKeyboardAction:(e,r)=>{var n=this.createFakeInstance();return rM("pager",n,e,void 0,r)}}))()}get infoVisible(){var{infoTextVisible:e,showInfo:r}=this.props;return r&&e}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:e,lightModeEnabled:r}=this.props;return e==="adaptive"&&r!==void 0?r?"compact":"full":e}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var e=this.normalizedDisplayMode,r=!1;return e==="adaptive"?r=this.props.isLargeDisplayMode:r=e==="full",r}get classes(){var e={["".concat(this.props.className)]:!!this.props.className,[fhe]:!0,[phe]:!this.isLargeDisplayMode};return Hi(e)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var e=this.props,r=_r(e,dfe);return r}componentWillUpdate(e,r,n){super.componentWillUpdate(),this.props.onKeyDown!==e.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var e=this.props;return hfe({props:we({},e),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}XF.defaultProps=ffe;var pfe=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],mfe=t=>{var{pagerProps:e,restAttributes:r}=t;return hi(sr(2,RF,we({contentTemplate:XF,pagerProps:e},r)))};let YF=class extends Cf{constructor(e){super(e),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[wf()]}pageIndexChange(e){if(this.props.gridCompatibility){var r;this.setState(i=>(r=e+1,{pageIndex:r})),this.props.pageIndexChange(r)}else{var n;this.setState(i=>(n=e,{pageIndex:n})),this.props.pageIndexChange(n)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(e){var r;this.setState(n=>(r=e,{pageSize:r})),this.props.pageSizeChange(r)}get className(){return this.props.gridCompatibility?Hi({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=(()=>we({},we({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:e=>this.pageIndexChange(e),pageSizeChange:e=>this.pageSizeChange(e)}))()}get restAttributes(){var e=we({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),r=_r(e,pfe);return r}componentWillUpdate(e,r,n){super.componentWillUpdate(),(this.props!==e||this.props.gridCompatibility!==e.gridCompatibility||this.props.className!==e.className||this.state.pageIndex!==r.pageIndex||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var e=this.props;return mfe({props:we({},e,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}};YF.defaultProps=ohe;let ZF=class extends Zde{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return YF}};Rt("dxPager",ZF);var vfe="pager",gfe=10,tR=function(t){return 1+(parseInt(t.pageIndex())||0)},_fe=ar.View.inherit({init(){var t=this.getController("data");t.changed.add(e=>{if(e&&e.repaintChangesOnly){var r=this._pager;r?r.option({pageIndex:tR(t),pageSize:t.pageSize(),pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):this.render()}else(!e||e.changeType!=="update"&&e.changeType!=="updateSelection"&&e.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})},_renderCore(){var t=this.element().addClass(this.addWidgetPrefix(vfe)),e=this.option("pager")||{},r=this.getController("data"),n=this.getController("keyboardNavigation"),i={maxPagesCount:gfe,pageIndex:tR(r),pageCount:r.pageCount(),pageSize:r.pageSize(),showPageSizes:e.showPageSizeSelector,showInfo:e.showInfo,displayMode:e.displayMode,pagesNavigatorVisible:e.visible,showNavigationButtons:e.showNavigationButtons,label:e.label,pageSizes:this.getPageSizes(),totalCount:r.totalCount(),hasKnownLastPage:r.hasKnownLastPage(),pageIndexChanged(a){r.pageIndex()!==a-1&&r.pageIndex(a-1)},pageSizeChanged(a){r.pageSize(a)},onKeyDown:a=>n&&n.executeAction("onKeyDown",a),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(q(e.infoText)&&(i.infoText=e.infoText),this._pager){this._pager.repaint();return}lt()?this._pager=this._createComponent(t,ZF,i):t.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager(){return this._pager},getPageSizes(){var t=this.getController("data"),e=this.option("pager"),r=e&&e.allowedPageSizes,n=t.pageSize();return(!q(this._pageSizes)||!this._pageSizes.includes(n))&&(this._pageSizes=[],e&&(Array.isArray(r)?this._pageSizes=r:r&&n>1&&(this._pageSizes=[Math.floor(n/2),n,2*n]))),this._pageSizes},isVisible(){var t=this.getController("data"),e=this.option("pager"),r=e&&e.visible,n=this.option("scrolling");return r==="auto"&&(n&&(n.mode==="virtual"||n.mode==="infinite")?r=!1:r=t.pageCount()>1||t.isLoaded()&&!t.hasKnownLastPage()),r},getHeight(){return this.getElementHeight()},optionChanged(t){var{name:e}=t,r=e==="pager",n=e==="paging",i=e==="dataSource",a=e==="scrolling",o=this.getController("data");if(r||n||a||i){if(t.handled=!0,o.skipProcessingPagingChange(t.fullName))return;(r||n)&&(this._pageSizes=null),i||(this._pager=null,this._invalidate(),lt()&&r&&this.component&&this.component.resize())}},dispose(){this._pager=null}}),yfe={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:he.format("dxPager-ariaLabel")}}),views:{pagerView:_fe}};Qe.registerModule("pager",yfe);var bfe="columns-separator",rR="columns-separator-transparent",nR="drag-header",Cfe="text-content",kw="drag-action",iR="tracker",aR="drop-highlight",oR="dx-block-separator",sR="dx-header-row",wfe="dx-widget",xfe="dx-drag-command-cell",ni="dxDataGridResizingReordering",Sfe=10,lR=5,ob=.5,nh=function(t){return t.option("allowColumnResizing")||t.getController("columns").isColumnOptionUsed("allowResizing")},QF=function(t){return t.option("allowColumnReordering")||t.getController("columns").isColumnOptionUsed("allowReordering")};class Efe extends ar.View{_renderCore(){var e=super._renderCore();return this.element().addClass(this.addWidgetPrefix(iR)),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){var e=this;e._positionChanged=function(r){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(iR))&&(n.css({top:r.top}),ms(n,r.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}isVisible(){return nh(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(e){ms(this.element(),e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}}class JF extends ar.View{_renderSeparator(){}_renderCore(e){var r=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),r}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){var r=this.element();if(r)if(q(e))ms(r,e);else return vt(r)}width(e){var r=this.element();if(r)if(q(e))ox(r,e);else return ot(r)}}class Ife extends JF{_renderSeparator(){super._renderSeparator();var e=this.element();e.addClass(this.addWidgetPrefix(bfe))}_subscribeToCallback(){var e=this,r;e._positionChanged=function(n){r=e.element(),r&&(r.css({top:n.top}),ms(r,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=nh(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(QF(this)||nh(this))}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=nh(this),this.hide(!0))),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}show(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(rR)):e.show()),super.show()}hide(e){var r=this.element(),n=this.addWidgetPrefix(rR);r&&(this._isShown||e)&&(this._isTransparent?(r.addClass(n),r.css("left",""),r.show()):(r.hasClass(n)&&r.removeClass(n),r.hide())),super.hide()}moveByX(e){var r=this.element();r&&r.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=q(e)?e:"";var r=this.element();r&&r.css("cursor",e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}}class Tfe extends JF{init(){var e=this;super.init(),this.getController("data").loadingChanged.add(r=>{r||e.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass(oR).html("&nbsp;")}hide(){var e=this._parentElement(),r=this.element();r&&this._isShown&&r.css("display","none"),e&&!e.children(".".concat(oR)).length&&e.prepend(this.element()),super.hide()}isVisible(){var e=this.option("groupPanel"),r=this.option("columnChooser");return e&&e.visible||r&&r.enabled}show(e){var r=this.element(),n=function(i){yr.stop(r,!0),yr.animate(r,{type:"slide",from:{width:0,display:i.display},to:i,duration:300,easing:"swing"})};if(r&&!this._isShown)switch(e){case"group":n({width:"50px",display:"inline-block"});break;case"columnChooser":n({width:"100%",display:"block"});break;default:r.css("display","")}super.show()}}class Ofe extends ar.View{isDragging(){return this._isDragging}_getDraggingPanelByPos(e){var r;return te(this._dragOptions.draggingPanels,(n,i)=>{if(i){var a=i.getBoundingRect();if(a&&(a.bottom===void 0||e.y<a.bottom)&&(a.top===void 0||e.y>a.top)&&(a.left===void 0||e.x>a.left)&&(a.right===void 0||e.x<a.right))return r=i,!1}}),r}_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(nR)," ").concat(this.addWidgetPrefix(Cfe)," ").concat(wfe)).hide()}_resetTargetColumnOptions(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,r){return q(e)?{columnIndex:r,rowIndex:e}:r}dispose(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(nR))).remove()}isVisible(){var e=this.getController("columns"),r=e.getCommonSettings();return this.option("showColumnHeaders")&&(QF(this)||r.allowGrouping||r.allowHiding)}init(){var e=this;super.init(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._isDragging=!1,this.getController("data").loadingChanged.add(r=>{var n=e.element();!r&&n&&n.hide()})}dragHeader(e){var{columnElement:r}=e,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var i=Ce.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:r&&r.css("textAlign"),height:r&&(n&&r.get(0).clientHeight||vt(r)),width:r&&(n&&r.get(0).clientWidth||ot(r)),whiteSpace:r&&r.css("whiteSpace")}).addClass(this.addWidgetPrefix(kw)).toggleClass(xfe,n).text(n?"":e.sourceColumn.caption),this.element().appendTo(j6.getSwatchContainer(r))}moveHeader(e){var r=e.event,{that:n}=r.data,i=Er(r),a=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,o=n._dragOptions;if(n._isDragging&&!a){var s=n.element(),l=Math.abs(i.x-o.columnElement.offset().left-o.deltaX),p=Math.abs(i.y-o.columnElement.offset().top-o.deltaY);if(s.is(":visible")||l>lR||p>lR){s.show();var h=i.x-o.deltaX,m=i.y-o.deltaY;s.css({left:h,top:m}),n.dockHeader(i)}r.preventDefault()}}dockHeader(e){var r=this._getDraggingPanelByPos(e),n=this._controller,i=this._dropOptions,a=this._dragOptions;if(r){var o=this.option("rtlEnabled"),s=r.getName()==="columnChooser",l=s?"y":"x",p=r.getName(),h=p==="headers"?a.rowIndex:void 0,{sourceColumn:m}=a,v=r.getColumnElements(h,m==null?void 0:m.ownerBand)||[],f=a.pointsByTarget=a.pointsByTarget||{},u=p==="columnChooser"?[]:f[p]||n._generatePointsByColumns(Y({},a,{targetDraggingPanel:r,columns:r.getColumns(h),columnElements:v,isVerticalOrientation:s,startColumnIndex:p==="headers"&&V(v[0]).index()}));if(f[p]=u,i.targetLocation=p,u.length>0)for(var c=0;c<u.length;c++){var d=u[c+1]&&(u[c][l]+u[c+1][l])/2;if(d===void 0||(o&&l==="x"?e[l]>d:e[l]<d)){i.targetColumnIndex=this._getVisibleIndexObject(h,u[c].columnIndex),v[c]?(i.targetColumnElement=v.eq(c),i.isLast=!1):(i.targetColumnElement=v.last(),i.isLast=!0),i.posX=u[c].x,i.posY=u[c].y,n.dock(i);break}}else this._resetTargetColumnOptions(),n.dock(i)}}dropHeader(e){var r=e.event,{that:n}=r.data,i=n._controller;n.element().hide(),i&&n._isDragging&&i.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,Ce.getDocument().onselectstart=n._onSelectStart||null}}var sb=function(t){return t.option("columnResizingMode")!=="widget"};class kfe extends ar.ViewController{_isHeadersRowArea(e){if(this._columnHeadersView){var r=this._columnHeadersView.element();if(r){var n=r.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+i}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_pointCreated(e,r,n){var i=sb(this),a=this.option("rtlEnabled"),o=this._isRtlParentStyle(),s=!i&&a&&!o?0:1;if(e.index>=s&&e.index<r+(!i&&(!a||o)?1:0)){e.columnIndex-=s;var l=n[e.columnIndex]||{},p=n[e.columnIndex+1]||{};return!(i?l.allowResizing&&p.allowResizing:l.allowResizing)}return!0}_getTargetPoint(e,r,n){if(e){for(var i=0;i<e.length;i++)if(!(e[i].x===e[0].x&&e[i+1]&&e[i].x===e[i+1].x)&&e[i].x-n<=r&&r<=e[i].x+n)return e[i]}return null}_moveSeparator(e){var r,n=e.event,i=n.data,a=i._columnsSeparatorView.width(),o=sb(i),s=a/2,l=i._$parentContainer.offset(),p=l.left,h=Er(n),m=i.option("rtlEnabled"),v=this._isRtlParentStyle(),f=(r=i._draggingHeaderView)===null||r===void 0?void 0:r.isDragging();if(i._isResizing&&i._resizingInfo){if((p<=h.x||!o&&v)&&(!o||h.x<=p+ot(i._$parentContainer))&&i._updateColumnsWidthIfNeeded(h.x)){var u=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex),c=u[0];if(c){var d=c.getBoundingClientRect().width;i._columnsSeparatorView.moveByX(u.offset().left+((o||v)&&m?0:d)),i._tablePositionController.update(i._targetPoint.y),n.preventDefault()}}}else f||(i._isHeadersRowArea(h.y)?(i._previousParentOffset&&(i._previousParentOffset.left!==l.left||i._previousParentOffset.top!==l.top)&&i.pointsByColumns(null),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),h.x,a),i._previousParentOffset=l,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-s),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,n.preventDefault()):(i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null))):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null)))}_endResizing(e){var r=e.event,n=r.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){var r=this._targetPoint.columnIndex,n=this._getNextColumnIndex(r),i=this._columnHeadersView.getHeaderElement(r),a=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:r,currentColumnWidth:i&&i.length>0?Hr(i[0]).width:0,nextColumnIndex:n,nextColumnWidth:a&&a.length>0?Hr(a[0]).width:0}}_startResizing(e){var r=e.event,n=r.data,i=Er(r);if(Jh(r)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,Sfe),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var a=n.component.getScrollable();a&&n._isRtlParentStyle()&&(n._scrollRight=ot(a.$content())-ot(a.container())-a.scrollLeft()),r.preventDefault(),r.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()}_generatePointsByColumns(){var e=this,r=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=Te.getPointsByColumns(n,a=>e._pointCreated(a,n.length,r))),e._pointsByColumns=i}_unsubscribeFromEvents(){this._moveSeparatorHandler&&X.off(Ce.getDocument(),Ee(Mt.move,ni),this._moveSeparatorHandler),this._startResizingHandler&&X.off(this._$parentContainer,Ee(Mt.down,ni),this._startResizingHandler),this._endResizingHandler&&(X.off(this._columnsSeparatorView.element(),Ee(Mt.up,ni),this._endResizingHandler),X.off(Ce.getDocument(),Ee(Mt.up,ni),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),X.on(Ce.getDocument(),Ee(Mt.move,ni),this,this._moveSeparatorHandler),X.on(this._$parentContainer,Ee(Mt.down,ni),this,this._startResizingHandler),X.on(this._columnsSeparatorView.element(),Ee(Mt.up,ni),this,this._endResizingHandler),X.on(Ce.getDocument(),Ee(Mt.up,ni),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){var r,n,i=this._rowsView.contentWidth(),a=this._resizingInfo,o=this._columnsController,s=o.getVisibleColumns(),l=this._columnsSeparatorView.width(),p=sb(this),h=p&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),m=this.option("rtlEnabled"),v=this._isRtlParentStyle(),f=s[a.currentColumnIndex],u=s[a.nextColumnIndex];function c(D){return tt(D)&&D.endsWith("%")}function d(D,P,k,B){if(D){var E=D.width;E&&(B=c(E)),B?(o.columnOption(D.index,"visibleWidth",P),o.columnOption(D.index,"width","".concat((P/k*100).toFixed(3),"%"))):(o.columnOption(D.index,"visibleWidth",null),o.columnOption(D.index,"width",P))}}r=e-a.startPosX,(p||v)&&m&&(r=-r);var{cellWidth:_,nextCellWidth:g}=function(D){var P,k,B,E=a.currentColumnWidth+D,O=f&&f.minWidth||l,S={};return E>=O?S.cellWidth=E:(S.cellWidth=O,B=!0),p&&(k=a.nextColumnWidth-D,P=u&&u.minWidth||l,k>=P?B?S.nextCellWidth=a.nextColumnWidth-(D+O-E):S.nextCellWidth=k:(S.nextCellWidth=P,S.cellWidth=a.currentColumnWidth+(D-P+k))),S}(r);if(n=f.width!==_,n){if(o.beginUpdate(),_=Math.floor(_),i=function(D,P){var k=P.every(E=>E.width);if(k){var B=P.reduce((E,O)=>(c(O.width)&&(E+=parseFloat(O.width)),E),0);B>100&&(D=D/B*100)}return D}(i,s),d(f,_,i,h),p)g=Math.floor(g),d(u,g,i,h);else{var y=this._columnHeadersView.getColumnWidths();y[a.currentColumnIndex]=_;var b=y.reduce((D,P)=>D+P,0)>this._rowsView.contentWidth();if(!b){var C=Te.getLastResizableColumnIndex(s);C>=0&&o.columnOption(s[C].index,"visibleWidth","auto")}for(var w=0;w<y.length;w++)s[w]&&s[w]!==f&&s[w].width===void 0&&o.columnOption(s[w].index,"width",y[w])}if(o.endUpdate(),!p){this.component.updateDimensions();var x=this.component.getScrollable();if(x&&v){var A=ot(x.$content())-ot(x.container())-this._scrollRight;x.scrollTo({left:A})}}}return n}_subscribeToCallback(e,r){e.add(r),this._subscribesToCallbacks.push({callback:e,handler:r})}_unsubscribeFromCallbacks(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var r=this._subscribesToCallbacks[e];r.callback.remove(r.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){var e=this,r=function(){e._isResizing||e.pointsByColumns(null)},n=function(o){e._scrollLeft!==o.left&&(e._scrollLeft=o.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,r),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,r),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,()=>{e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,()=>{e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)});var i=e._rowsView.getScrollbarWidth()!==0,a=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,o=>{if(e._isResizing&&!e._rowsView.isResizing){var s=e._rowsView.getScrollbarWidth()!==0;i!==s||a&&a!==o.height?(i=s,a=o.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}a=o.height})}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}isResizing(){return this._isResizing}init(){this._subscribesToCallbacks=[],nh(this)&&this._init()}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}dispose(){this._unsubscribes(),super.dispose()}}class Afe extends ar.ViewController{constructor(e){super(e),this.positionChanged=Ht()}update(e){var r={},n=this._columnHeadersView.element(),i=n&&n.offset(),a=i&&i.top||0,o=q(e)?Math.abs(e-a):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),p=this._rowsView?this._rowsView.height()-l:0,h=this.component.getController("columnsResizer"),m=this.component.getView("draggingHeaderView");r.height=s;var v=h.isResizing()||m.isDragging();v&&(r.height+=p-o),e!==null&&n&&n.length&&(r.top=n[0].offsetTop+o),this.positionChanged.fire(r)}init(){var e=this;super.init(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(()=>{if(e.option("allowColumnResizing")){var r=e.getController("columnsResizer")._targetPoint;e.update(r?r.y:null)}})}}class Dfe extends ar.ViewController{_generatePointsByColumns(e){var r=this;return this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e),Te.getPointsByColumns(e.columnElements,n=>r._pointCreated(n,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex)}checkIsCustomGroupColumnPosition(e){for(var r=!0,n=0;n<e.columns.length;n+=1){var i=e.columns[n];if(i.command==="expand"&&!r)return!0;i.command||(r=!1)}return!1}_pointCreated(e,r,n,i){var a,o=r[e.columnIndex],s=r[e.columnIndex-1],l=(s==null?void 0:s.command)==="expand",p=(o==null?void 0:o.command)==="expand"&&(s==null?void 0:s.command)!=="expand",h=i&&!i.allowReordering,m=!(o!=null&&o.allowReordering)&&!(s!=null&&s.allowReordering);switch(n){case"columnChooser":return!0;case"headers":if(!p)return l||h||m;if(this.isCustomGroupColumnPosition)return!1;for(;((a=r[e.columnIndex])===null||a===void 0?void 0:a.command)==="expand";)e.columnIndex+=1;return!1;default:return r.length===0}}_subscribeToEvents(e,r){var n=this;te(r,(i,a)=>{if(a)for(var o,s=a.getRowCount?a.getRowCount():1,l=a.getName(),p=function(v,f){if(f){var u=V(f),c=o[v];c&&a.allowDragging(c)&&(u.addClass(n.addWidgetPrefix(kw)),X.on(u,Ee(Ol,ni),n.createAction(d=>{var _=d.event,g=Er(_);e.dragHeader({deltaX:g.x-V(_.currentTarget).offset().left,deltaY:g.y-V(_.currentTarget).offset().top,sourceColumn:c,index:c.index,columnIndex:v,columnElement:u,sourceLocation:l,draggingPanels:r,rowIndex:n._columnsController.getRowIndex(c.index,!0)})})),X.on(u,Ee(_s,ni),{that:e},n.createAction(e.moveHeader)),X.on(u,Ee(kl,ni),{that:e},n.createAction(e.dropHeader)))}},h=0;h<s;h++){var m=a.getColumnElements(h)||[];m.length&&(o=a.getColumns(h)||[],te(m,p))}})}_unsubscribeFromEvents(e,r){var n=this;te(r,(i,a)=>{if(a){var o=a.getColumnElements()||[];te(o,(s,l)=>{var p=V(l);X.off(p,Ee(Ol,ni)),X.off(p,Ee(_s,ni)),X.off(p,Ee(kl,ni)),p.removeClass(n.addWidgetPrefix(kw))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){var r=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,r&&r.hide(),e!=="block"&&n&&n.hide()}init(){var e=this;super.init(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var r=function(){if(e._draggingHeaderView){var n=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,n),e._subscribeToEvents(e._draggingHeaderView,n)}};e._columnHeadersView.renderCompleted.add(r),e._headerPanelView&&e._headerPanelView.renderCompleted.add(r),e._columnChooserView&&e._columnChooserView.renderCompleted.add(r)}allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}drag(e){var{sourceIndex:r}=e,{sourceLocation:n}=e,{sourceColumnElement:i}=e,a=this._columnHeadersView,o=this._rowsView;i&&(i.css({opacity:ob}),n==="headers"&&(a&&a.setRowsOpacity(r,ob),o&&o.setRowsOpacity(r,ob)))}dock(e){var r=this,n=rt(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:i}=e,{targetLocation:a}=e,o=r._getSeparator(a),s=n>=0;r._columnHeadersView.element().find(".".concat(sR)).toggleClass(r.addWidgetPrefix(aR),i!=="headers"&&a==="headers"&&!s),o&&(r.allowDrop(e)&&s?a==="group"||a==="columnChooser"?function(){r._animationColumnIndex!==n&&(r.hideSeparators(),o.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),r._animationColumnIndex=n,o.show(a))}():(r.hideSeparators("block"),r.getController("tablePosition").update(e.posY),o.moveByX(e.posX-o.width()),o.show()):r.hideSeparators())}drop(e){var{sourceColumnElement:r}=e;if(r&&(r.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(sR)).removeClass(this.addWidgetPrefix(aR))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}var Zl={views:{columnsSeparatorView:Ife,blockSeparatorView:Tfe,draggingHeaderView:Ofe,trackerView:Efe},controllers:{draggingHeader:Dfe,tablePosition:Afe,columnsResizer:kfe},extenders:{views:{rowsView:{_needUpdateRowHeight(t){var e=this.option("wordWrapEnabled"),r=this.getController("columnsResizer"),n=r.isResizing();return this.callBase.apply(this,arguments)||t>0&&e&&n}}},controllers:{editorFactory:{renderFocusOverlay(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};Zl.views.draggingHeaderView;Zl.controllers.draggingHeader;Zl.views.columnsSeparatorView;Zl.controllers.tablePosition;Zl.controllers.columnsResizer;Zl.views.trackerView;Qe.registerModule("columnsResizingReordering",Zl);var Rfe=(t,e)=>t.length===e.length&&!Object.keys(t).some(r=>t[r]!==e[r]),Pfe=(t,e)=>Jt(t,e,{maxDepth:4}),Mfe=(t,e,r,n)=>{var i=t,a=e;return function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var p=n(s,i);return p||(i=s,a=r(...i)),a}},Bfe={compareType:"reference"},uR=function(t){var{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bfe,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(!r){var o=t(...i);return r=Mfe(i,o,t,e==="reference"?Rfe:Pfe),o}return r(...i)}},Aw={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},lb="rowsview",e8="dx-data-row",Lfe="dx-group-row",Ffe="dx-header-row",Nfe="edit-form-item",Vfe="dx-master-detail-row",t8="dx-freespace-row",Hfe="dx-virtual-row",cR="dx-master-detail-cell",jfe="dx-dropdowneditor-overlay",em="dx-command-expand",r8="dx-command-select",$fe="dx-command-edit",dR="[class^=dx-command]",tm="dx-cell-focus-disabled",zfe="dxDateBox",hR="dx-state-focused",Wfe="dx-widget",Ufe="dx-revert-button",fR="dx-focused",ub="delete",zm=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled])
`,pR="".concat(zm,", .dx-dropdowneditor-icon"),mR="row",vR="cell",gR="columnHeadersView",Gfe=["shift","control","alt"],Kfe=t=>t.attr(Aw.dragCell)!==void 0,qfe=(t,e)=>t.filter("[".concat(Aw.ariaColIndex,'="').concat(e+1,'"]:not([').concat(Aw.dragCell,"])")).first(),n8={isDragCell:Kfe,getCellToFocus:qfe},Xfe="dx-datagrid-group-footer";function Pd(t){return t&&t.hasClass(Lfe)}function Yfe(t){return t&&t.hasClass(Xfe)}function cb(t){return t&&t.hasClass(Vfe)}function vd(t){return t&&t.hasClass(e8)}function Zfe(t){return!t||t.hasClass(t8)||t.hasClass(Hfe)}function _R(t,e){return!t._isRowEditMode()&&e&&!e.hasClass(r8)&&e.hasClass(i_)}function Pi(t){return q(t)&&t.length>0}function Dw(){return Ue.current().deviceType!=="desktop"}function yR(t){return!!t.parent(".".concat(Ffe)).length}function Qfe(t,e){var r=t.option("rtlEnabled");return r?!(e.fixedPosition==="right"||q(e.command)&&!q(e.fixedPosition)):!(!q(e.fixedPosition)||e.fixedPosition==="left")}function Jfe(t){var e=t.getController("keyboardNavigation");return e._isVirtualScrolling()?t.option("focusedRowIndex")===e.getRowIndex():!1}class epe extends ar.ViewController{init(){var e,r;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._memoFireFocusedCellChanged=uR(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=uR(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(iH(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(PI(),(r=this._editorFactory)===null||r===void 0||r.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}rowsViewFocusHandler(e){var r,n=V(e.target),i=V(e.relatedTarget).closest(this._rowsView.element()).length,a=n.is("a");if(e.relatedTarget&&a&&!i&&this._isEventInCurrentGrid(e)){var o=this._getFocusedCell();o=Pi(o)?o:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(o).length||(e.preventDefault(),X.trigger(o,"focus"))}var s=n.is("td"),l=((r=this.option("focusedRowIndex"))!==null&&r!==void 0?r:-1)<0;s&&l&&this._updateFocusedCellPosition(n)}subscribeToRowsViewFocusEvent(){var e,r=(e=this._rowsView)===null||e===void 0?void 0:e.element();X.on(r,"focusin",this.rowsViewFocusHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e,r=(e=this._rowsView)===null||e===void 0?void 0:e.element();X.off(r,"focusin",this.rowsViewFocusHandlerContext)}renderCompleted(e){var r=this._rowsView.element(),n=!e||e.changeType==="refresh",i=this._focusedView&&this._focusedView.name===this._rowsView.name,a=!1,o=e&&(e.changeType==="append"||e.changeType==="prepend"),s=V(Ce.getRootNode(r.get&&r.get(0))),l=s.find(":focus"),p=!l.length||l.closest(r).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),i&&p&&(a=this._isNeedFocus?!o:this._isHiddenFocus&&n&&!(e!=null&&e.virtualColumnsScrolling),a&&this._updateFocus(!0))}initViewHandlers(){var e,r;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),(r=(e=this._rowsView)===null||e===void 0?void 0:e.renderCompleted)===null||r===void 0||r.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){var e=Ce.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(r=>{var n=V(r.event.target),i=this._isEventInCurrentGrid(r.event)&&n.closest(".".concat(this.addWidgetPrefix(lb))).length,a=n.closest(".".concat(jfe)).length,o=this.getController("columnsResizer"),s=!!o&&o.isResizing();if(!i&&!a&&!s){var l=this._focusedView?n.parents().filter(this._focusedView.element()).length>0:!1;!l&&this._resetFocusedCell(!0),this._resetFocusedView()}}),X.off(e,Ee(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&X.on(e,Ee(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var e=this._getRowsViewElement(),r=!this._dataController.getVisibleRows().length;r&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){var e=Dw()?jt:Mt.down,r=this._getRowsViewElement();this._pointerEventAction&&X.off(r,Ee(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){var e=Dw()?jt:Mt.down,r=this._getRowsViewElement(),n=".".concat(Wo," > td, .").concat(Wo);X.on(r,Ee(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){us.off(this._keyDownListener)}subscribeToKeyDownEvent(){var e=this._getRowsViewElement();this._keyDownListener=us.on(e,null,r=>this._keyDownHandler(r))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}dispose(){super.dispose(),this._resetFocusedView(),us.off(this._keyDownListener),X.off(Ce.getDocument(),Ee(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),PI()}optionChanged(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isRowFocusType(){return this.focusType===mR}isCellFocusType(){return this.focusType===vR}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=mR)}setCellFocusType(){this.focusType=vR}_keyDownHandler(e){var r,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),a=(r=this._editingController)===null||r===void 0?void 0:r.isEditing(),{originalEvent:o}=e;if(o.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!Gfe.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(o.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,a),i=!0;break;case"upArrow":case"downArrow":e.ctrl?dx("rowsView",this,o):this._upDownKeysHandler(e,a),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,a);break;case"A":tn(e.originalEvent)?(this._ctrlAKeyHandler(e,a),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,a),i=!0;break;case"enter":this._enterKeyHandler(e,a),i=!0;break;case"escape":this._escapeKeyHandler(e,a),i=!0;break;case"F":tn(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(o,!0))}!i&&!this._beginFastEditing(o)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&o.stopPropagation()}}_processOnKeyDown(e){var{originalEvent:r}=e,n={handled:!1,event:r};return this.executeAction("onKeyDown",n),e.ctrl=r.ctrlKey,e.alt=r.altKey,e.shift=r.shiftKey,!!n.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(e,r){var n=this.getVisibleRowIndex(),i=e.originalEvent,a=this._focusedView&&this._focusedView.getRow(n),o=this._getDirectionCodeByKey(e.keyName),s=this._isFastEditingStarted(),l=(!r||s)&&vd(a);if(l){this.setCellFocusType(),s&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(o);var p=this._getNextCell(o);Pi(p)&&this._arrowKeysHandlerFocusCell(i,p,o),i&&i.preventDefault()}}_upDownKeysHandler(e,r){var n,i,a=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(a),s=e.originalEvent,l=e.keyName==="upArrow",p=this._dataController.dataSource(),h=(i=(n=this._editingController)===null||n===void 0?void 0:n.isEditRowByIndex)===null||i===void 0?void 0:i.call(n,a),m=this._isFastEditingStarted(),v=(!h||!r||m)&&o&&!cb(o);if(v){if(m&&this._closeEditCell(),!this._navigateNextCell(s,e.keyName)&&this._isVirtualRowRender()&&l&&p&&!p.isLoading()){var f=xt(o),u=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-f,u,s)}s&&s.preventDefault()}}_pageUpDownKeyHandler(e){var r=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),a=e.keyName==="pageUp",o=a?-1:1,s=this._rowsView.getScrollable();i&&!this._isVirtualScrolling()?(a?r>0:r<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(r+o),e.originalEvent.preventDefault()):s&&vt(s.container())<vt(s.$content())&&(this._scrollBy(0,vt(s.container())*o),e.originalEvent.preventDefault())}_spaceKeyHandler(e,r){var n=this.getVisibleRowIndex(),i=V(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!r){var a=this._getElementType(i)==="row"&&this.isRowFocusType()&&vd(i),o=i.hasClass(r8);return o&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),a||i.parent().hasClass(e8)||i.hasClass(this.addWidgetPrefix(lb))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,r){!r&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_tabKeyHandler(e,r){var n=this.option("editing"),i=e.shift?"previous":"next",a=q(this._focusedCellPosition)&&!di(this._focusedCellPosition),o=!a||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,i)){if(V(l).addClass(hR),n&&s&&!o)if(V(s).hasClass(this.addWidgetPrefix(lb))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),r){if(!this._editingCellTabHandler(e,i))return}else this._targetCellTabHandler(e,i)&&(o=!0);o?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var e=this.component.getScrollable();return e?e.scrollWidth()-ot(this._rowsView.element()):0}_isColumnRendered(e){var r=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=r[e],a=!1;return i&&(a=n.indexOf(i)>=0),a}_isFixedColumn(e){var r=this._columnsController.getVisibleColumns(null,!0),n=r[e];return!!n&&!!n.fixed}_isColumnVirtual(e){var r=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns(),i=n[r];return!!i&&i.command==="virtual"}_processVirtualHorizontalPosition(e){var r=this.component.getScrollable(),n=this.getColumnIndex(),i,a=0,o=!1;switch(e){case"next":case"nextInRow":var s=this._getVisibleColumnCount();i=n+1,a=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?o=s===i||this._isFixedColumn(n)&&!this._isColumnRendered(i):o=s>i&&this._isFixedColumn(n)&&!this._isColumnRendered(i);break;case"previous":case"previousInRow":if(i=n-1,a=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var l=this._columnsController.getColumnIndexOffset(),p=i<0&&l===0;o=p||this._isFixedColumn(n)&&!this._isColumnRendered(i)}else o=i>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(i)}o?r.scrollTo({left:a}):q(i)&&q(e)&&this._isColumnVirtual(i)&&(a=this._getHorizontalScrollPositionOffset(e),a!==0&&r.scrollBy({left:a,top:0}))}_getHorizontalScrollPositionOffset(e){var r=0,n=this._getCell(this._focusedCellPosition),i=n&&Pt(n);if(i>0){var a=this.option("rtlEnabled")?-1:1;r=e==="nextInRow"||e==="next"?i*a:i*a*-1}return r}_editingCellTabHandler(e,r){var n=e.originalEvent.target,i=this._getCellElementFromTarget(n),a,o=e.originalEvent,s=this._getElementType(n);if(i.is(dR))return!this._targetCellTabHandler(e,r);this._updateFocusedCellPosition(i);var l=this._getNextCellByTabKey(o,r,s);if(i=l.$cell,!i||this._handleTabKeyOnMasterDetailCell(i,r))return!1;var p=this._columnsController,h=this._rowsView.getCellIndex(i),m=h+p.getColumnIndexOffset(),v=p.getVisibleColumns(null,!0)[m],f=i.parent(),u=this._getRowIndex(f),c=this._dataController.items()[u],d=this._editingController;if(v&&v.allowEditing){var _=!c||c.rowType==="data";a=d.allowUpdating({row:c})?_:c&&c.isNewRow}return a||this._closeEditCell(),this._focusCell(i,!l.isHighlighted)&&(!this._isRowEditMode()&&a?this._editFocusedCell():this._focusInteractiveElement(i,e.shift)),!0}_targetCellTabHandler(e,r){var n=e.originalEvent,i=n.target,a=this._getCellElementFromTarget(i),o=this._getInteractiveElement(a,!e.shift),s=!1,l;if(!_R(this,a)&&o.length&&i!==o.get(0))s=!0;else{this._focusedCellPosition.rowIndex===void 0&&V(i).hasClass(Wo)&&this._updateFocusedCellPosition(a),l=this._getElementType(i),this.isRowFocusType()&&(this.setCellFocusType(),l==="row"&&vd(V(i))&&(i=this.getFirstValidCellInRow(V(i)),l=this._getElementType(i)));var p=this._getNextCellByTabKey(n,r,l);if(a=p.$cell,!a||(a=this._checkNewLineTransition(n,a),!a))return!1;this._focusCell(a,!p.isHighlighted),_R(this,a)||this._focusInteractiveElement(a,e.shift)}return s}_getNextCellByTabKey(e,r,n){var i=this._getNextCell(r,n),a=i&&this._fireFocusedCellChanging(e,i,!0);return!a||a.cancel?{}:(a.$newCellElement&&(i=a.$newCellElement),{$cell:i,isHighlighted:a.isHighlighted})}_checkNewLineTransition(e,r){var n=this.getVisibleRowIndex(),i=r.parent();if(n!==this._getRowIndex(i)){var a=this._getCellPosition(r),o=this._fireFocusedRowChanging(e,i);if(o.cancel)return;o.rowIndexChanged&&a&&(this.setFocusedColumnIndex(a.columnIndex),r=this._getFocusedCell())}return r}_enterKeyHandler(e,r){var n=this._getFocusedCell(),i=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(i);if(this.option("grouping.allowCollapsing")&&Pd(a)||this.option("masterDetail.enabled")&&n&&n.hasClass(em)){var o=this._dataController.getKeyByRowIndex(i),s=this._dataController.items()[i];o!==void 0&&s&&s.data&&!s.data.isContinuation&&this._dataController.changeRowExpand(o)}else this._processEnterKeyForDataCell(e,r)}_processEnterKeyForDataCell(e,r){var n=this._getEnterKeyDirection(e),i=this._allowEditingOnEnterKey();r||!i&&n?(this._handleEnterKeyEditingCell(e.originalEvent),n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)):i&&this._startEditing(e)}_getEnterKeyDirection(e){var r=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(r==="column")return n?"upArrow":"downArrow";if(r==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){var{target:r}=e,n=this._getCellElementFromTarget(r),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(X.trigger(V(r),"change"),this._closeEditCell(),e.preventDefault())}_escapeKeyHandler(e,r){var n=this._getCellElementFromTarget(e.originalEvent.target);r&&(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){var r=this._headerPanel.getSearchTextEditor();r&&(r.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){var e=this._editingController.isEditing(),r=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(r);!e&&vd(n)&&this._startEditing()}_navigateNextCell(e,r){var n=this._getNextCell(r),i=this._getDirectionCodeByKey(r),a=n&&this._isCellValid(n),o=a?this._arrowKeysHandlerFocusCell(e,n,i):!1;return o}_arrowKeysHandlerFocusCell(e,r,n){var i=n==="prevRow"||n==="nextRow",a=this._fireFocusChangingEvents(e,r,i,!0);return r=a.$newCellElement,!a.cancel&&this._isCellValid(r)?(this._focus(r,!a.isHighlighted),!0):!1}_beginFastEditing(e,r){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(r)this._startEditing(e,ub);else{var{key:n}=e,i=e.keyCode||e.which,a=n||i&&String.fromCharCode(i);a&&(a.length===1||a===ub)&&this._startEditing(e,a)}return!0}_pointerEventHandler(e){var r,n=e.event||e,i=V(n.currentTarget),a=(r=this._rowsView)===null||r===void 0?void 0:r.element(),o=i.parent(),s=V(n.target).is(zm),l=!!V(n.target).closest(".".concat(Ufe)).length,p=i.hasClass(em);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(i,!s)||p)?(i=this._isInsideEditForm(i)?V(n.target):i,this._focusView(),V(a).removeClass(hR),o.hasClass(t8)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(n,i)):i.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,r){var n=this._rowsView.getCellIndex(r),i=this._columnsController.getVisibleColumns()[n],a=this._isCellEditMode();this.setCellFocusType();var o=this._fireFocusChangingEvents(e,r,!0);if(r=o.$newCellElement,o.cancel)this.setRowFocusType(),this.setFocusedRowIndex(o.prevRowIndex),this._editingController.isEditing()&&a&&this._closeEditCell();else{if(o.resetFocusedRow){this.getController("focus")._resetFocusedRow();return}if(o.rowIndexChanged&&(r=this._getFocusedCell()),!o.isHighlighted&&!a&&this.setRowFocusType(),this._updateFocusedCellPosition(r),this._allowRowUpdating()&&a&&i&&i.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{r=this._getFocusedCell();var s=e&&V(e.target).closest("".concat(pR,", td")),l=s&&s.not(r).is(pR),p=!!i&&!i.command&&r.hasClass(i_),h=!p&&(!o.isHighlighted||l);this._focus(r,h,l)}}}_allowRowUpdating(){var e=this.getVisibleRowIndex(),r=this._dataController.items()[e];return this._editingController.allowUpdating({row:r},"click")}focus(e){var r,n=this.option("focusedRowEnabled"),i=this._isCellElement(V(e));e||(r=".dx-datagrid-rowsview .dx-row[tabindex]",n||(r+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(r).first()),e&&this._focusElement(V(e),i)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!q(this._focusedView)&&this._focusView()}_focusElement(e,r){var n=V(this._getRowsViewElement()),i=e.closest(n),a=this.isRowFocusType(),o={};!i.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||Pd(e))&&(this.setCellFocusType(),o=this._fireFocusChangingEvents(null,e,!0,r),e=o.$newCellElement,a&&!o.isHighlighted&&this.setRowFocusType()),o.cancel||(this._focus(e,!o.isHighlighted),this._focusInteractiveElement(e)))}_getFocusedViewByElement(e){var r=this.getFocusedView(),n=r&&V(r.element());return e&&e.closest(n).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,r){if(e){var n=this._getInteractiveElement(e,r);Te.focusAndSelectElement(this,n)}}_focus(e,r,n){var i=e&&!e.hasClass(Wo)?e.closest(".".concat(Wo)):e;if(!(i&&Zfe(i))){var a=this._focusedView,o=a&&a.element(),s;this._isHiddenFocus=r;var l=Pd(i)||Yfe(i)||this.isRowFocusType();l?(s=i,a&&this.setFocusedRowIndex(this._getRowIndex(i))):this._isCellElement(e)&&(s=e,this._updateFocusedCellPosition(e)),s&&(o&&o.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(s).removeClass(tm).removeClass(fR).removeAttr("tabindex"),X.one(s,"blur",p=>{p.relatedTarget&&s.removeClass(tm).removeClass(fR)}),n||(this._applyTabIndexToElement(s),X.trigger(s,"focus")),r?(s.addClass(tm),l&&e.addClass(tm)):this._editorFactory.focus(s))}}_updateFocus(e){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}var r=this._getFocusedCell(),n=this._editingController.isEditing();if(!this._isMasterDetailCell(r)||this._isRowEditMode()){if(this._hasSkipRow(r.parent())){var i=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";r=this._getNextCell(i)}if(Pi(r))if(r.is("td")||r.hasClass(this.addWidgetPrefix(Nfe))){var a=r.is(dR),o=r.find(":focus"),s=Pi(o);if((e||!a)&&this._editorFactory.focus()){if(a&&s){Te.focusAndSelectElement(this,o);return}!s&&this._focus(r)}else!s&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(r,this._isHiddenFocus);n&&this._focusInteractiveElement.bind(this)(r)}else X.trigger(r,"focus")}})}_needFocusEditingCell(){var e=this._editingController.getEditMode()===Vh,r=this._editingController.getEditMode()===fc,n=e&&this._editingController.hasChanges(),i=r&&this._editingController.isNewRowInEditMode(),a=this._getFocusedCell();return(a.children().length===0||a.find(kS).length>0)&&(n||i)}_getFocusedCell(){return V(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(e){var r,n=this._getElementType(e);if(n==="row"&&q((r=this._focusedCellPosition)===null||r===void 0?void 0:r.columnIndex)){var i=V(e);this._focusedView&&Pd(i)&&this.setFocusedRowIndex(this._getRowIndex(i))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_updateFocusedCellPosition(e,r){var n=this._getCellPosition(e,r);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}_getFocusedColumnIndexOffset(e){var r=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?r=this._getFixedColumnIndexOffset(n):e>=0&&(r=this._columnsController.getColumnIndexOffset()),r}_getFixedColumnIndexOffset(e){var r=Qfe(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return r}_getCellPosition(e,r){var n,i=Pi(e)&&e.closest("tr");if(Pi(i)){var a=this._getRowIndex(i);return n=this._rowsView.getCellIndex(e,a),n+=this._getFocusedColumnIndexOffset(n),r&&(n=r==="previous"?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:a,columnIndex:n}}}_focusCell(e,r){if(this._isCellValid(e))return this._focus(e,r),!0}_focusEditFormCell(e){e.hasClass(cR)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var r,n=this._getFocusedCell();Pi(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(r=this._focusedView)===null||r===void 0||r.renderFocusState({preventScroll:e})}restoreFocusableElement(e,r){var n,i,a=q(e),o=this._rowsView.element(),{columnIndex:s}=this._focusedCellPosition,l=this._dataController.getRowIndexOffset();e=a?e:this._rowsView.getTopVisibleItemIndex()+l,a?(i=this._rowsView.getRow(e-l),n=this._fireFocusedRowChanging(r,i),!n.cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(o),X.trigger(o,"focus")),(!a||!n.cancel)&&this.setFocusedCellPosition(e,s),a&&this._updateFocus()}_getNewPositionByCode(e,r,n){var{columnIndex:i}=e,{rowIndex:a}=e,o;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":o=this._getVisibleColumnCount(),i<o-1&&r!=="row"&&this._hasValidCellAfterPosition({columnIndex:i,rowIndex:a})?i++:!this._isLastRow(a)&&n==="next"&&(i=0,a++);break;case"previousInRow":case"previous":i>0&&r!=="row"&&this._hasValidCellBeforePosition({columnIndex:i,rowIndex:a})?i--:a>0&&n==="previous"&&(a--,o=this._getVisibleColumnCount(),i=o-1);break;case"upArrow":a=a>0?a-1:a;break;case"downArrow":a=this._isLastRow(a)?a:a+1}return{columnIndex:i,rowIndex:a}}setFocusedCellPosition(e,r){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(r)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e,r=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!q(r)||r<0?-1:r-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e,r=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return q(r)?r-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(e){var r=this._getVisibleColumnCount();return e<0?e=0:e>=r&&(e=r-1),e}_isCellByPositionValid(e){var r=V(this._getCell(e));return this._isCellValid(r)}_isLastRow(e){var r=this._dataController,n=r.items().filter(i=>i.visible!==!1);return this._isVirtualRowRender()?e>=r.getMaxRowIndex():e===n.length-1}_isFirstValidCell(e){var r=!1;return e.rowIndex===0&&e.columnIndex>=0&&(r=r||!this._hasValidCellBeforePosition(e)),r}_hasValidCellBeforePosition(e){for(var{columnIndex:r}=e,n=!1;r>0&&!n;){var i={columnIndex:--r,rowIndex:e.rowIndex};n=this._isCellByPositionValid(i)}return n}_hasValidCellAfterPosition(e){for(var{columnIndex:r}=e,n=!1,i=this._getVisibleColumnCount();r<i-1&&!n;){var a={columnIndex:++r,rowIndex:e.rowIndex};n=this._isCellByPositionValid(a)}return n}_isLastValidCell(e){var r=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,i={columnIndex:r,rowIndex:n},a=this._dataController.getVisibleRows(),o=a&&a[n],s=this._isLastRow(n);return s?o&&o.rowType==="group"&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(i)?!1:this._isLastValidCell(i):!1}_isCellValid(e,r){if(Pi(e)){var n=e.parent(),i=this._columnsController,a=this._rowsView.getCellIndex(e)+i.getColumnIndexOffset(),o=i.getVisibleColumns(null,!0)[a],s=this._getVisibleColumnCount(),l=this._editingController,p=cb(n),h=o&&o.showWhenGrouped,m=o&&!e.hasClass(em)&&vd(n),v=n8.isDragCell(e);if(v)return!1;if(this._isMasterDetailCell(e))return!0;if(s>a&&(!p&&o&&(!q(o.groupIndex)||h&&m)||parseInt(e.attr("colspan"),10)>1)){var f=this._dataController.items(),u=this._rowsView.getRowIndex(n),c=f[u],d=l&&this._isCellEditMode()&&l.isEditing(),_=l&&l.isEditRow(u),g=_||d;return o.command?this._isLegacyNavigation()?!g&&o.command==="expand":d?!1:_?o.command!=="select":!g:d&&c&&c.rowType!=="data"?!1:!g||o.allowEditing||r}}}getFirstValidCellInRow(e,r){var n=e.find("> td"),i,a;r=r||0;for(var o=r;o<n.length;++o)if(i=n.eq(o),this._isCellValid(i)){a=i;break}return a}_getNextCell(e,r,n){var i=n||this._focusedCellPosition,a=this.isRowFocusType(),o=a||["next","previous"].includes(e),s,l;if(this._focusedView&&i){var p=this._getNewPositionByCode(i,r,e);s=V(this._getCell(p));var h=e==="previous"?this._isFirstValidCell(p):this._isLastValidCell(p);if(Pi(s)&&!this._isCellValid(s)&&this._isCellInRow(p,o)&&!h&&(a?s=this.getFirstValidCellInRow(s.parent(),p.columnIndex):s=this._getNextCell(e,"cell",p)),l=Pi(s)&&s.parent(),this._hasSkipRow(l)){var m=this._getRowIndex(l);if(!this._isLastRow(m))s=this._getNextCell(e,"row",{columnIndex:i.columnIndex,rowIndex:m});else return null}return Pi(s)?s:null}return null}_startEditing(e,r){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),a=this.getVisibleColumnIndex(),o=this._dataController.items()[i],s=this._columnsController.getVisibleColumns()[a];this._isAllowEditing(o,s)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(e,r))}_isAllowEditing(e,r){return this._editingController.allowUpdating({row:e})&&r&&r.allowEditing}_editFocusedCell(){var e=this.getVisibleRowIndex(),r=this.getVisibleColumnIndex();return this._editingController.editCell(e,r)}_startEditCell(e,r){this._fastEditingStarted=q(r);var n=this._editFocusedCell(),i=yg(n),a=this._isFastEditingStarted();if(!(!a||!i&&!n)){var o=i&&r===ub?"":r,s=i?n:ae().resolve(),l=this._rowsView.waitAsyncTemplates(!0);Ve(s,l).done(()=>{this._editingCellHandler(e,o)})}}_editingCellHandler(e,r){var n,i,a=this._getFocusedCell().find(zm).eq(0),o=a.get(0);if(o){var s=Qo(e,{type:"keydown",target:o}),l=Qo(e,{type:"keypress",target:o}),p=Qo(e,{type:"input",target:o});if(p.originalEvent&&(p.originalEvent=Qo(p.originalEvent,{data:r})),(i=(n=o).select)===null||i===void 0||i.call(n),X.trigger(a,s),!s.isDefaultPrevented()&&(X.trigger(a,l),!l.isDefaultPrevented())){var h=mr.mozilla?25:0;setTimeout(()=>{a.val(r);var m=a.closest(".".concat(Wfe));X.off(m,"focusout"),X.one(m,"focusout",()=>{X.trigger(a,"change")}),X.trigger(a,p)},h)}}}_fireFocusChangingEvents(e,r,n,i){var a,o={},s=(a=this._getCellPosition(r))!==null&&a!==void 0?a:{};return this.isCellFocusType()&&(o=this._fireFocusedCellChanging(e,r,i),o.cancel||(s.columnIndex=o.newColumnIndex,s.rowIndex=o.newRowIndex,i=o.isHighlighted,r=V(this._getCell(s)))),!o.cancel&&n&&r&&(o=this._fireFocusedRowChanging(e,r.parent()),o.cancel||(s.rowIndex=o.newRowIndex,o.isHighlighted=i)),o.$newCellElement=V(this._getCell(s)),o.$newCellElement.length||(o.$newCellElement=r),o}_fireFocusedCellChanging(e,r,n){var i=this.option("focusedColumnIndex"),a=this.option("focusedRowIndex"),o=this._getCellPosition(r),s=o?o.columnIndex:-1,l=o?o.rowIndex:-1,p=this._dataController.getVisibleRows(),h=this._columnsController.getVisibleColumns(),m={cellElement:r,prevColumnIndex:i,prevRowIndex:a,newColumnIndex:s,newRowIndex:l,rows:p,columns:h,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",m),(m.newColumnIndex!==s||m.newRowIndex!==l)&&(m.$newCellElement=V(this._getCell({columnIndex:m.newColumnIndex,rowIndex:m.newRowIndex}))),m.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:s}),m}_fireFocusedCellChanged(e){var r=this._rowsView.getCellIndex(e),n=e==null?void 0:e.parent().data("options"),i=n==null?void 0:n.key;this._memoFireFocusedCellChanged(i,r)}_memoFireFocusedCellChanged(e,r){var n=this._getFocusedCell(),i=this._getRowIndex(n==null?void 0:n.parent()),a=Math.min(i-this._dataController.getRowIndexOffset(),this._dataController.items().length-1),o=this._editingController.isEditCell(a,r);if(!o){var s=this._dataController.items()[a],l=this._columnsController.getVisibleColumns()[r];this.executeAction("onFocusedCellChanged",{cellElement:n?et(n):void 0,columnIndex:r,rowIndex:i,row:s,column:l})}}_fireFocusedRowChanging(e,r){var n=this._getRowIndex(r),i=this.option("focusedRowIndex"),a=this._dataController.loadingOperationTypes(),o={rowElement:r,prevRowIndex:i,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1};return!this._dataController||this._dataController.isLoading()&&(a.reload||a.paging)?(o.cancel=!0,o):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",o),!o.cancel&&o.newRowIndex!==n&&(o.resetFocusedRow=o.newRowIndex<0,o.resetFocusedRow||this.setFocusedRowIndex(o.newRowIndex),o.rowIndexChanged=!0)),o)}_fireFocusedRowChanged(){var e,r=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),i=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!r||q(n)&&i<0||this._memoFireFocusedRowChanged(n,i)}_memoFireFocusedRowChanged(e,r){var n=r-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:r<0?void 0:this._rowsView.getRowElement(n),rowIndex:r,row:r<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return Te.isElementInCurrentGrid(this,V(e.target))}_isRowEditMode(){var e=this._editingController.getEditMode();return e===Cs||e===Ac}_isCellEditMode(){var e=this._editingController.getEditMode();return e===Vh||e===fc}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(e,r){var n=e.find(zm).filter(":visible");return r?n.last():n.first()}_applyTabIndexToElement(e){var r=this.option("tabIndex")||0;e.attr("tabindex",q(r)?r:0)}_getCell(e){if(this._focusedView&&e){var r=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),a=e.rowIndex>=0?e.rowIndex-r:-1,o=e.columnIndex>=0?e.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:a,columnIndex:o})}}_getRowIndex(e){var r=this._rowsView.getRowIndex(e);return r>=0&&(r+=this._dataController.getRowIndexOffset()),r}_hasSkipRow(e){var r=e&&e.get(0);return r&&(r.style.display==="none"||cb(e)&&!e.hasClass(this.addWidgetPrefix(Uv)))}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){var r;switch(e){case"upArrow":r="prevRow";break;case"downArrow":r="nextRow";break;case"leftArrow":r=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":r=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return r}_isVirtualScrolling(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||Te.isVirtualRowRendering(this)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}_scrollBy(e,r,n,i){var a=this,o=this._rowsView.getScrollable();return a._focusedCellPosition&&o.on("scroll",function s(){o.off("scroll",s),setTimeout(a.restoreFocusableElement.bind(a,n,i))}),o.scrollBy({left:e,top:r})}_isInsideEditForm(e){var r=V(e).closest(".".concat(this.addWidgetPrefix(Uv)));return r.length&&this.elementIsInsideGrid(r)}_isMasterDetailCell(e){var r=V(e).closest(".".concat(cR));return r.length&&this.elementIsInsideGrid(r)}_processNextCellInMasterDetail(e,r){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,r){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(V(e),r);var n=this._getNextCell(r,"row");return this._processNextCellInMasterDetail(n,V(e)),!0}return!1}_getElementType(e){return V(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,r){var{columnIndex:n}=e,i=this._getVisibleColumnCount();return r?n>=0&&n<=i-1:n>0&&n<i-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){var r=this._getElementType(e),n=V(e),i;return r==="cell"?i=n.closest(".".concat(Wo," > td")):i=n.children().not(".".concat(em)).first(),i}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(e,r){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===r;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){var e=this._dataController,r=this.getVisibleRowIndex(),n=e.items(),i=n.length?n.length-1:-1,a=e.getRowIndexOffset();i>=0&&r>i&&this.setFocusedRowIndex(i+a)}}var tpe={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:epe},extenders:{views:{rowsView:{_rowClick(t){var e=this.getController("editing").getEditRowIndex(),r=this.getController("keyboardNavigation"),n=r.isKeyboardEnabled();e===t.rowIndex&&r.setCellFocusType();var i=(Dw()||!n)&&this.option("focusedRowEnabled");i&&this._triggerPointerDownEventHandler(t,!n),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler(t,e){var{originalEvent:r}=t.event;if(r){var n=this.getController("keyboardNavigation"),i=V(r.target),a=this.getCellIndex(i),o=this.getController("columns").getVisibleColumns()[a],s=this.getController("data").items()[t.rowIndex];if(n._isAllowEditing(s,o)||e){var l=Qo(r,{currentTarget:r.target});n._pointerEventHandler(l)}}},renderFocusState(t){var{preventScroll:e,pageSizeChanged:r}=t??{},n=this.getController("keyboardNavigation"),i=this.element();i&&!vs(i)&&i.attr("tabindex",null),r&&n.updateFocusedRowIndex();var a=n.getVisibleRowIndex();(!q(a)||a<0)&&(a=0);var o=this.getCellElements(a);n.isKeyboardEnabled()&&(o!=null&&o.length)&&this.updateFocusElementTabIndex(o,e)},updateFocusElementTabIndex(t){var e=this.getController("keyboardNavigation"),r=t.eq(0).parent();if(Pd(r))e._applyTabIndexToElement(r);else{var n=e.getColumnIndex();(!q(n)||n<0)&&(n=0),this._updateFocusedCellTabIndex(t,n)}},_updateFocusedCellTabIndex(t,e){var r=this.getController("keyboardNavigation"),n=t?t.length:-1,i=function(s){var l=r._isMasterDetailCell(s),p=r._isCellValid(s);if(!l&&p&&r._isCellElement(s))return r._applyTabIndexToElement(s),r.setCellFocusType(),!0},a=n8.getCellToFocus(t,e);if(a.length)i(a);else{n<=e&&(e=n-1);for(var o=e;o<n&&!i(V(t[o]));++o);}},renderDelayedTemplates(t){this.callBase.apply(this,arguments),this._renderFocusByChange(t)},_renderFocusByChange(t){var{operationTypes:e,repaintChangesOnly:r}=t??{},{fullReload:n,pageSize:i}=e??{};if(!t||!r||n||i){var a=Jfe(this);this.renderFocusState({preventScroll:a,pageSizeChanged:i})}},_renderCore(t){var e=this.callBase.apply(this,arguments);return this._renderFocusByChange(t),e},_editCellPrepared(t){var e=this._getEditorInstance(t),r=this.getController("keyboardNavigation"),n=r&&r._isFastEditingStarted();e&&n&&this._handleEditingNavigationMode(e),this.callBase.apply(this,arguments)},_handleEditingNavigationMode(t){["downArrow","upArrow"].forEach(r=>{var n=t._supportedKeys()[r];t.registerKeyHandler(r,i=>{var a=t._input().attr("aria-expanded")==="true";if(a)return n&&n.call(t,i)})}),t.registerKeyHandler("leftArrow",oe),t.registerKeyHandler("rightArrow",oe);var e=t.NAME===zfe&&t.option("useMaskBehavior");e&&t.registerKeyHandler("enter",oe)},_getEditorInstance(t){var e=t.find(".dx-texteditor").eq(0);return Te.getWidgetInstance(e)}}},controllers:{editing:{editCell(t,e){var r=this.getController("keyboardNavigation");if(r._processCanceledEditCellPosition(t,e))return!1;var n=this.callBase(t,e);return n&&r.setupFocusedView(),n},editRow(t){var e=this.getController("keyboardNavigation"),r=e.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[r];(n&&n.type||this.option("editing.mode")===Ac)&&e._resetFocusedCell(),this.callBase(t)},addRow(t){var e=this.getController("keyboardNavigation");return e.setupFocusedView(),e.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow(t){var e=this.getController("keyboardNavigation"),r=this.callBase(t);if(e.isKeyboardEnabled()&&e._focusedCellPosition.rowIndex===t){var n=e._getFocusedCell();Pi(n)&&!n.hasClass($fe)&&(r=n)}return r},_processCanceledEditingCell(){this.closeEditCell().done(()=>{var t=this.getController("keyboardNavigation");t._updateFocus()})},init(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell(){var t=this._keyboardNavigationController;t._fastEditingStarted=!1;var e=this.callBase.apply(this,arguments);return t._updateFocus(),e},_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart(){var t=this.getController("keyboardNavigation"),e=this.callBase.apply(this,arguments);if(e&&!t._isNeedFocus){var r=t._getFocusedCell();t._focus(r,!0)}return e}},data:{_correctRowIndices(t){var e=this.getController("keyboardNavigation"),r=this.getController("editorFactory"),n=e._focusedCellPosition;if(this.callBase.apply(this,arguments),n&&n.rowIndex>=0){var i=t(n.rowIndex);i&&(n.rowIndex+=i,r.refocus())}},getMaxRowIndex(){var t=this.items().length-1,e=this.virtualItemsCount();if(e){var r=this.getRowIndexOffset();t+=r+e.end}return t}},adaptiveColumns:{_showHiddenCellsInView(t){var{viewName:e,$cells:r,isCommandColumn:n}=t;this.callBase.apply(this,arguments),e===gR&&!n&&r.each((i,a)=>{var o=V(a);yR(o)&&o.attr("tabindex",0)})},_hideVisibleCellInView(t){var{viewName:e,$cell:r,isCommandColumn:n}=t;this.callBase.apply(this,arguments),e===gR&&!n&&yR(r)&&r.removeAttr("tabindex")}}}}};Qe.registerModule("keyboardNavigation",tpe);function Rw(t,e,r,n){var i=0;if(t<e)for(;i<r.items.length;i++)Rw(t+1,e,r.items[i],n);t===e&&n(r)}function rm(t,e){var r;if("map"in t)return t.map(e);var n=new Array(t.length);for(r in t)n[r]=e(t[r],r);return n}function rpe(t){return t!==t||t===""||t===null||t===void 0}function npe(t){return t===_x.count}function bR(t){var e=er(t.selector),r="skipEmptyValues"in t?t.skipEmptyValues:!0,{aggregator:n}=t;if(typeof n=="string"&&(n=_x[n],!n))throw qr.Error("E4001",t.aggregator);return{selector:e,aggregator:n,skipEmptyValues:r}}const ipe=Ft.inherit({ctor(t){this._data=t.data,this._groupLevel=t.groupLevel||0,this._totalAggregates=rm(t.totalAggregates||[],bR),this._groupAggregates=rm(t.groupAggregates||[],bR),this._totals=[]},calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates(){return this._totals},_aggregate(t,e,r){for(var n=e.items?e.items.length:0,i=0;i<t.length;i++){if(npe(t[i].aggregator)){r[i]=(r[i]||0)+n;continue}for(var a=0;a<n;a++)this._accumulate(i,t[i],r,e.items[a])}},_calculateTotals(t,e){if(t===0&&(this._totals=this._seed(this._totalAggregates)),t===this._groupLevel)this._aggregate(this._totalAggregates,e,this._totals);else for(var r=0;r<e.items.length;r++)this._calculateTotals(t+1,e.items[r]);t===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups(t){var e=this._groupLevel,r=e+1,n=this._seed.bind(this,this._groupAggregates),i=this._aggregate.bind(this,this._groupAggregates),a=this._finalize.bind(this,this._groupAggregates);function o(s){s.aggregates=n(r-1),r===e?i(s,s.aggregates):Rw(r,e,s,l=>{i(l,s.aggregates)}),s.aggregates=a(s.aggregates)}for(;--r>0;)Rw(0,r,t,o)},_seed:(t,e)=>rm(t,r=>{var{aggregator:n}=r,i="seed"in n?Me(n.seed)?n.seed(e):n.seed:NaN;return i}),_accumulate(t,e,r,n){var i=e.selector(n),{aggregator:a}=e,{skipEmptyValues:o}=e;o&&rpe(i)||(r[t]!==r[t]?r[t]=i:r[t]=a.step(r[t],i))},_finalize:(t,e)=>rm(t,(r,n)=>{var i=r.aggregator.finalize;return i?i(e[n]):e[n]})});var ape="dx-datagrid-total-footer",ope="dx-datagrid-summary-item",spe="dx-datagrid-text-content",lpe="dx-datagrid-group-footer",upe="dx-datagrid-group-text-content",cpe="dx-datagrid-nowrap",dpe="dx-footer-row",db="groupFooter",i8="totalFooter",a8=function(t,e){var r=V(t),{column:n}=e,{summaryItems:i}=e,a=[];if(!n.command&&i){for(var o=0;o<i.length;o++){var s=i[o];a.push(V("<div>").css("textAlign",s.alignment||n.alignment).addClass(ope).addClass(spe).addClass(s.cssClass).toggleClass(upe,e.rowType==="group").text(Qe.getSummaryText(s,e.summaryTexts)))}r.append(a)}},o8=function(t,e){var r=t.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:r}},hb=function(t){return t.summary||t.aggregates||[]},Pw=function(t){return t.option("summary.recalculateWhileEditing")},hpe=hf.inherit({_getRows(){return this._dataController.footerItems()},_getCellOptions(t){return Y(this.callBase(t),o8(this,t))},_renderCellContent(t,e){a8(t,e),this.callBase.apply(this,arguments)},_renderCore(t){var e=!1,r=this._dataController.footerItems()[0];(!t||!t.columnIndices)&&(this.element().empty().addClass(ape).toggleClass(cpe,!this.option("wordWrapEnabled")),e=!0),r&&r.summaryCells&&r.summaryCells.length&&(this._updateContent(this._renderTable({change:t}),t),e&&this._updateScrollLeftPosition())},_updateContent(t,e){return e&&e.changeType==="update"&&e.columnIndices?this.waitAsyncTemplates().done(()=>{var r=this.getTableElement().find(".dx-row"),n=t.find(".dx-row");this._updateCells(r,n,e.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick(t){var e=this._dataController.footerItems()[t.rowIndex]||{};this.executeAction("onRowClick",Y({},t,e))},_columnOptionChanged(t){var{optionNames:e}=t;t.changeTypes.grouping||(e.width||e.visibleWidth)&&this.callBase(t)},_handleDataChanged(t){var{changeType:e}=t;t.changeType==="update"&&t.repaintChangesOnly?t.totalColumnIndices?t.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[t.totalColumnIndices]}):this.render():(e==="refresh"||e==="append"||e==="prepend")&&this.render()},_createRow(t){var e=this.callBase.apply(this,arguments);return t.rowType===i8&&e.addClass(dpe),e},getHeight(){return this.getElementHeight()},isVisible(){return!!this._dataController.footerItems().length}}),fpe={init(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=oe},summaryGetter(t){if(!arguments.length)return this._summaryGetter;Me(t)&&(this._summaryGetter=t)},summary(t){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return t}},totalAggregates(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal(){var t=this.summary(),e=t&&t.sortByGroups();return e&&e.length},sortLastLevelGroupItems(t,e,r){var n=Eo.multiLevelGroup(Gn(t),e).toArray(),i=[];return r.forEach(a=>{(function o(s,l,p,h){h=h||[];for(var m=0;m<s.length;m++)h.push(s[m].key),l===1?p(h,s[m].items):o(s[m].items,l-1,p,h),h.pop()})(n,e.length,(o,s)=>{a.toString()===o.toString()&&(i=i.concat(s))})}),i}},ppe=function(){var t=function(r,n,i,a){var o;if(Pw(r)){var s=r.getController("editing");if(s){var l=s.getInsertedData();l.length&&(i=function h(m,v,f){return f?h(m,v.map(u=>({items:[u]}),f-1)):m.concat(v)}(i,l,a));var p=s.getRemovedData();p.length&&(i=function h(m,v,f){return f?m.map(u=>{var c={},d=h(u.items||[],v,f-1);return Object.defineProperty(c,"aggregates",{get:()=>u.aggregates,set:_=>{u.aggregates=_}}),Y(c,u,{items:d})}):m.filter(u=>v.indexOf(u)<0)}(i,p,a))}}return n&&(o=new ipe({totalAggregates:n.totalAggregates,groupAggregates:n.groupAggregates,data:i,groupLevel:a}),o.calculate()),o?o.totalAggregates():[]},e=function(r,n,i){var a=i&&i.sortByGroups&&i.sortByGroups();return a&&a.length?function o(s,l,p){if(!s||!l.length)return s;var h=l[0],m=p[0],v;return h&&m&&m.length&&(v=Gn(s),te(m,function(f){f===0?v=v.sortBy(this.selector,this.desc):v=v.thenBy(this.selector,this.desc)}),v.enumerate().done(f=>{s=f})),l=l.slice(1),p=p.slice(1),l.length&&p.length&&te(s,function(){this.items=o(this.items,l,p)}),s}(r,n,a):r};return{_customizeRemoteOperations(r){var n=this.summary();n&&(r.remoteOperations.summary?(!r.isCustomLoading||r.storeLoadOptions.isLoadingAll)&&(r.storeLoadOptions.group&&(r.remoteOperations.grouping?r.storeLoadOptions.groupSummary=n.groupAggregates:n.groupAggregates.length&&(r.remoteOperations.paging=!1)),r.storeLoadOptions.totalSummary=n.totalAggregates):(n.totalAggregates.length||n.groupAggregates.length&&r.storeLoadOptions.group)&&(r.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var i=r.cachedData.extra;i&&i.summary&&!r.isCustomLoading&&(r.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore(r){var n,i,a=So(r.storeLoadOptions.group||r.loadOptions.group||[]),o=r.remoteOperations||{},s=this.summaryGetter()(o);if(!r.isCustomLoading||r.storeLoadOptions.isLoadingAll){if(o.summary)!o.paging&&a.length&&s&&(o.grouping||t(this,{groupAggregates:s.groupAggregates},r.data,a.length),r.data=e(r.data,a,s));else if(!o.paging&&s){var l=r.operationTypes||{},p=Object.keys(l).some(m=>l[m]);if(!p||!(!((i=(n=r.cachedData)===null||n===void 0?void 0:n.extra)===null||i===void 0)&&i.summary)||a.length&&s.groupAggregates.length){var h=t(this,s,r.data,a.length);r.extra=yt(r.extra)?r.extra:{},r.extra.summary=h,r.cachedData&&(r.cachedData.extra=r.extra)}r.data=e(r.data,a,s)}}r.isCustomLoading||(this._totalAggregates=r.extra&&r.extra.summary||this._totalAggregates),this.callBase(r)}}}();ff.extend(fpe);ff.extend(ppe);Qe.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:he.format("dxDataGrid-summarySum"),sumOtherColumn:he.format("dxDataGrid-summarySumOtherColumn"),min:he.format("dxDataGrid-summaryMin"),minOtherColumn:he.format("dxDataGrid-summaryMinOtherColumn"),max:he.format("dxDataGrid-summaryMax"),maxOtherColumn:he.format("dxDataGrid-summaryMaxOtherColumn"),avg:he.format("dxDataGrid-summaryAvg"),avgOtherColumn:he.format("dxDataGrid-summaryAvgOtherColumn"),count:he.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:hpe},extenders:{controllers:{data:{_isDataColumn:t=>t&&(!q(t.groupIndex)||t.showWhenGrouped),_isGroupFooterVisible(){for(var t=this.option("summary.groupItems")||[],e=0;e<t.length;e++){var r=t[e],n=this._columnsController.columnOption(r.showInColumn||r.column);if(r.showInGroupFooter&&this._isDataColumn(n))return!0}return!1},_processGroupItems(t,e,r){var n=r&&r.data,i=this.callBase.apply(this,arguments);return r&&(r.isGroupFooterVisible===void 0&&(r.isGroupFooterVisible=this._isGroupFooterVisible()),n&&n.items&&r.isGroupFooterVisible&&(r.collectContinuationItems||!n.isContinuationOnNextPage)&&i.push({rowType:db,key:r.path.slice(),data:n,groupIndex:r.path.length-1,values:[]})),i},_processGroupItem(t,e){var r=this;if(e.summaryGroupItems||(e.summaryGroupItems=r.option("summary.groupItems")||[]),t.rowType==="group"){var n=-1,i=-1;te(e.visibleColumns,function(a){var o=e.visibleColumns[a-1];t.groupIndex===this.groupIndex&&(n=this.index),a>0&&o.command==="expand"&&this.command!=="expand"&&(i=this.index)}),t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,hb(t.data),e.visibleColumns,(a,o)=>a.showInGroupFooter?-1:a.alignByColumn&&o&&!q(o.groupIndex)&&o.index!==i?o.index:n,!0)}return t.rowType===db&&(t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,hb(t.data),e.visibleColumns,(a,o)=>a.showInGroupFooter&&r._isDataColumn(o)?o.index:-1)),t},_calculateSummaryCells(t,e,r,n,i){var a=this,o=[],s={};return te(t,(l,p)=>{var h=a._columnsController.columnOption(p.column),m=p.showInColumn&&a._columnsController.columnOption(p.showInColumn)||h,v=n(p,m);if(v>=0){s[v]||(s[v]=[]);var f=e[l];if(f===f){var u;q(p.valueFormat)?u=p.valueFormat:p.summaryType!=="count"&&(u=Qe.getFormatByDataType(h&&h.dataType)),s[v].push(Y({},p,{value:tt(f)&&h&&h.deserializeValue?h.deserializeValue(f):f,valueFormat:u,columnCaption:h&&h.index!==v?h.caption:void 0}))}}}),di(s)||r.forEach((l,p)=>{var h=r[p-1],m=i&&((h==null?void 0:h.command)==="expand"||l.command==="expand")?h==null?void 0:h.index:l.index;o.push(s[m]||[])}),o},_getSummaryCells(t,e){var r=this,n=r._columnsController;return r._calculateSummaryCells(t,e,n.getVisibleColumns(),(i,a)=>r._isDataColumn(a)?a.index:-1)},_updateItemsCore(t){var e,r=this._dataSource,n=this._footerItems,i=n&&n[0]&&n[0].summaryCells,a=this.option("summary.totalItems");if(this._footerItems=[],r&&a&&a.length){var o=r.totalAggregates();e=this._getSummaryCells(a,o),t&&t.repaintChangesOnly&&i&&(t.totalColumnIndices=e.map((s,l)=>JSON.stringify(s)!==JSON.stringify(i[l])?l:-1).filter(s=>s>=0)),e.length&&this._footerItems.push({rowType:i8,summaryCells:e})}this.callBase(t)},_prepareUnsavedDataSelector(t){if(Pw(this)){var e=this.getController("editing");if(e)return function(r){return r=e.getUpdatedData(r),t(r)}}return t},_prepareAggregateSelector(t,e){return t=this._prepareUnsavedDataSelector(t),e==="avg"||e==="sum"?function(r){var n=t(r);return q(n)?Number(n):n}:t},_getAggregates(t,e){var r=this,n=r.getController("columns"),i=r.option("summary.calculateCustomSummary"),a=r.option("summary.skipEmptyValues");return Xr(t||[],o=>{var s=n.columnOption(o.column),l=s&&s.calculateCellValue?s.calculateCellValue.bind(s):er(s?s.dataField:o.column),p=o.summaryType||"count",h=q(o.skipEmptyValues)?o.skipEmptyValues:a;if(e)return{selector:o.column,summaryType:p};var m=r._prepareAggregateSelector(l,p);if(p==="custom"){i||(Et.log("E1026"),i=function(){});var v={component:r.component,name:o.name};i(v),v.summaryProcess="calculate",p={seed(f){return v.summaryProcess="start",v.totalValue=void 0,v.groupIndex=f,delete v.value,i(v),v.totalValue},step(f,u){return v.summaryProcess="calculate",v.totalValue=f,v.value=u,i(v),v.totalValue},finalize(f){return v.summaryProcess="finalize",v.totalValue=f,delete v.value,i(v),v.totalValue}}}return{selector:m,aggregator:p,skipEmptyValues:h}})},_addSortInfo(t,e,r,n){if(e){var{groupIndex:i}=e;n=n||e.sortOrder,q(i)&&(t[i]=t[i]||[],t[i].push({selector:r,desc:n==="desc"}))}},_findSummaryItem(t,e){var r=-1;return q(e)&&te(t||[],function(n){if(this.name===e||n===e||this.summaryType===e||this.column===e||function(i){var{summaryType:a}=i,{column:o}=i;return a&&o&&"".concat(a,"_").concat(o)}(this)===e)return r=n,!1}),r},_getSummarySortByGroups(t,e){var r=this,n=r._columnsController,i=n.getGroupColumns(),a=[];if(!(!e||!e.length))return te(t||[],function(){var{sortOrder:o}=this,{groupColumn:s}=this,l=r._findSummaryItem(e,this.summaryItem);if(!(l<0)){var p=function(h){return hb(h)[l]};q(s)?(s=n.columnOption(s),r._addSortInfo(a,s,p,o)):te(i,(h,m)=>{r._addSortInfo(a,m,p,o)})}}),a},_createDataSourceAdapterCore(t,e){var r=this,n=this.callBase(t,e);return n.summaryGetter(i=>r._getSummaryOptions(i||e)),n},_getSummaryOptions(t){var e=this,r=e.option("summary.groupItems"),n=e.option("summary.totalItems"),i=e.option("sortByGroupSummaryInfo"),a=e._getAggregates(r,t&&t.grouping&&t.summary),o=e._getAggregates(n,t&&t.summary);if(a.length||o.length)return{groupAggregates:a,totalAggregates:o,sortByGroups:function(){return e._getSummarySortByGroups(i,r)}}},publicMethods(){var t=this.callBase();return t.push("getTotalSummaryValue"),t},getTotalSummaryValue(t){var e=this._findSummaryItem(this.option("summary.totalItems"),t),r=this._dataSource.totalAggregates();if(r.length&&e>-1)return r[e]},optionChanged(t){(t.name==="summary"||t.name==="sortByGroupSummaryInfo")&&(t.name="dataSource"),this.callBase(t)},init(){this._footerItems=[],this.callBase()},footerItems(){return this._footerItems}},editing:{_refreshSummary(){Pw(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange(t){var e=this.callBase.apply(this,arguments);return t.type&&this._refreshSummary(),e},_removeChange(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t},cancelEditData(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);return t&&e.addClass(t.rowType===db?lpe:""),e},_renderCells(t,e){this.callBase.apply(this,arguments),e.row.rowType==="group"&&e.row.summaryCells&&e.row.summaryCells.length&&this._renderGroupSummaryCells(t,e)},_hasAlignByColumnSummaryItems:(t,e)=>!q(e.columns[t].groupIndex)&&e.row.summaryCells[t].length,_getAlignByColumnCellCount(t,e){for(var r=0,n=1;n<t;n++){var i=e.row.summaryCells.length-n;r=this._hasAlignByColumnSummaryItems(i,e)?n:r}return r},_renderGroupSummaryCells(t,e){var r=t.children().last(),n=Number(r.attr("colSpan"))||1,i=this._getAlignByColumnCellCount(n,e);this._renderGroupSummaryCellsCore(r,e,n,i)},_renderGroupSummaryCellsCore(t,e,r,n){if(n>0){t.attr("colSpan",r-n);for(var i=0;i<n;i++){var a=e.columns.length-n+i;this._renderCell(t.parent(),Y({column:e.columns[a],columnIndex:this._getSummaryCellIndex(a,e.columns)},e))}}},_getSummaryCellIndex:t=>t,_getCellTemplate(t){return!t.column.command&&!q(t.column.groupIndex)&&t.summaryItems&&t.summaryItems.length?a8:this.callBase(t)},_getCellOptions(t){var e=this.callBase(t);return t.row.summaryCells?Y(e,o8(this,t)):e}}}}});var CR="content",Zv="content-fixed",mpe="dx-master-detail-cell",wR="dx-first-cell",vpe="dx-last-cell",xR="dx-state-hover",SR="dx-col-fixed",gpe="dx-fixed-columns",fb="dx-pointer-events-none",Ys="transparent",ER="dx-group-row",_pe="dx-master-detail-row",oo=function(t){var e=-1;return te(t,(r,n)=>{if(n.command===Ys)return e=r,!1}),e},s8=function(t,e,r){var n=0;if(t&&e&&r)for(var i=0;i<t.length;i++)t[i].command===Ys?n+=t[i].colspan:(e[n]<r[i]&&(e[n]=r[i]),n++);return e},zS={init(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol(t){return this.callBase(t).toggleClass(SR,!!(this._isFixedTableRendering&&(t.fixed||t.command&&t.command!==Ys)))},_correctColumnIndicesForFixedColumns(t,e){var r=oo(t),n=t[r].colspan,i=e&&e.columnIndices;i&&(e.columnIndices=i.map(a=>{if(a)return a.map(o=>o<r?o:o>=r+n?o-n+1:-1).filter(o=>o>=0)}))},_partialUpdateFixedTable(t){var e=this._fixedTableElement,r=this._getRowElementsCore(e),n=e.children("colgroup");n.replaceWith(this._createColGroup(t));for(var i=0;i<r.length;i++)this._partialUpdateFixedRow(V(r[i]),t)},_partialUpdateFixedRow(t,e){var r,n=t.get(0).childNodes,i=oo(e),a=e[i],o=this._columnsController.getColumnIndexOffset(),s,l=o+1,{colspan:p}=a;if(t.hasClass(_pe)){n[0].setAttribute("colspan",(r=this._columnsController.getVisibleColumns())===null||r===void 0?void 0:r.length);return}t.hasClass(ER)&&(s=this._getGroupCellOptions({row:t.data("options"),columns:this._columnsController.getVisibleColumns()}),p=s.colspan-Math.max(0,n.length-(s.columnIndex+2)));for(var h=0;h<n.length;h++){var m=s?h===s.columnIndex+1:h===i;n[h].setAttribute("aria-colindex",l),m?(n[h].setAttribute("colspan",p),l+=p):l++}},_renderTable(t){var e,r,n=this.getFixedColumns();this._isFixedColumns=!!n.length;var i=this.callBase(t);if(this._isFixedColumns){var a=t==null?void 0:t.change,o=this._getRowElements(this._fixedTableElement),s=(a==null?void 0:a.virtualColumnsScrolling)&&o.length===((e=a==null?void 0:a.items)===null||e===void 0?void 0:e.length);if(this._isFixedTableRendering=!0,s&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(n),this._isFixedTableRendering=!1;else{var l=a==null?void 0:a.columnIndices;this._correctColumnIndicesForFixedColumns(n,a),r=this._createTable(n),this._renderRows(r,Y({},t,{columns:n})),this._updateContent(r,a,!0),l&&(a.columnIndices=l),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow(t,e){var r,{cells:n}=e.row;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&n&&n.length){r=0;var i=e.row.cells||[];n=n.slice(),e.row.cells=n;for(var a=0;a<i.length;a++){if(i[a].column&&i[a].column.command===Ys){r=(i[a].column.colspan||1)-1;continue}n[a+r]=i[a]}}},_createCell(t){var{column:e}=t,r=e&&e.command,{rowType:n}=t,i=this.callBase.apply(this,arguments),a,o,s;(this._isFixedTableRendering||n==="filter")&&(a=this.getFixedColumns(),s=oo(a),o=a[s-1]),this._isFixedTableRendering?r===Ys&&(i.addClass(fb).toggleClass(wR,s===0||o&&o.command==="expand").toggleClass(vpe,a.length&&s===a.length-1),n!=="freeSpace"&&Te.setEmptyText(i)):n==="filter"&&i.toggleClass(wR,t.columnIndex===s);var l=this.option("rowAlternationEnabled")&&t.isAltRow,p=this.option("selection.mode")==="multiple"&&t.columnIndex===0&&t.rowType==="header";return mr.mozilla&&t.column.fixed&&t.rowType!=="group"&&!l&&!p&&i.addClass(SR),i},_getContent(t){var e;return t?(e=this._fixedTableElement)===null||e===void 0?void 0:e.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer(t,e){var r=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||e)&&r.addClass(this.addWidgetPrefix(Zv)),r},_renderCellContent(t,e){var r,{column:n}=e,i=this._isFixedTableRendering,a=e.rowType==="group"&&q(n.groupIndex);if(i&&a&&!n.command&&!n.groupCellTemplate&&t.css("pointerEvents","none"),!i&&this._isFixedColumns){if(r=n.fixed||n.command&&n.fixed!==!1,a&&(r=!1,e.row.summaryCells&&e.row.summaryCells.length)){var o=this._columnsController.getVisibleColumns(),s=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(n.colspan,{columns:o,row:e.row,isFixed:!0}):0;if(s>0){var l=oo(this._columnsController.getFixedColumns());r=o.length-s<l}}if(r){if(n.command&&n.type!=="buttons"||e.rowType==="group"){t.html("&nbsp;").addClass(n.cssClass);return}t.addClass("dx-hidden-cell")}}n.command!==Ys&&this.callBase.apply(this,arguments)},_getCellElementsCore(t){var e=this.callBase.apply(this,arguments),r=e==null?void 0:e.parent().hasClass(ER),n=this.name==="columnHeadersView"?t:void 0;if(this._fixedTableElement&&e){var i=this.getFixedColumns(n),a=this._getRowElements(this._fixedTableElement).eq(t).children("td");te(a,(o,s)=>{if(r)e[o]&&s.style.visibility!=="hidden"&&(e[o]=s);else{var l=i[o];if(l)if(l.command===Ys)a.eq(o).hasClass(mpe)&&(e[o]=s||e[o]);else{var p=this._columnsController.getVisibleIndexByColumn(l,n);e[p]=s||e[p]}}})}return e},getColumnWidths(){var t=this.callBase(),e=this.getFixedColumns(),r=this._fixedTableElement&&t.length?this.callBase(this._fixedTableElement):void 0;return s8(e,t,r)},getTableElement(t){t=this._isFixedTableRendering||t;var e=t?this._fixedTableElement:this.callBase();return e},setTableElement(t,e){this._isFixedTableRendering||e?this._fixedTableElement=t.addClass(fb):this.callBase(t)},getColumns(t){var e=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(t):this.callBase(t,e)},getRowIndex(t){var e=this._fixedTableElement;return e&&e.find(t).length?this._getRowElements(e).index(t):this.callBase(t)},getTableElements(){var t=this.callBase.apply(this,arguments);return this._fixedTableElement&&(t=V([t.get(0),this._fixedTableElement.get(0)])),t},getFixedColumns(t){return this._columnsController.getFixedColumns(t)},getFixedColumnsOffset(){var t={left:0,right:0},e;if(this._fixedTableElement){e=this.getTransparentColumnElement();var r=e.position();t={left:r.left,right:Pt(this.element(),!0)-(Pt(e,!0)+r.left)}}return t},getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(fb)).first()},getFixedTableElement(){return this._fixedTableElement},isFixedColumns(){return this._isFixedColumns},_resizeCore(){this.callBase(),this.synchronizeRows()},setColumnWidths(t){var e,{widths:r}=t,n=this._columnsController.getVisibleColumns(),i=(r==null?void 0:r.length)&&n.some(m=>q(m.visibleWidth)),a=(e=t.optionNames)===null||e===void 0?void 0:e.width;if(this.callBase(t),this._fixedTableElement){var o=r==null?void 0:r.some(m=>m==="auto"||!q(m)),s=o&&(!i||!this.isScrollbarVisible(!0)),l=s?n:this.getFixedColumns();this.setFixedTableColumnWidths(l,r)}var p=this.option("wordWrapEnabled"),h=i||a&&p;h&&this.synchronizeRows()},setFixedTableColumnWidths(t,e){if(!(!this._fixedTableElement||!e)){var r=this._fixedTableElement.children("colgroup").children("col");r.toArray().forEach(i=>i.removeAttribute("style"));var n=0;t.forEach(i=>{if(i.colspan){n+=i.colspan;return}var a=K6(e[n]);q(a)&&yC(r.eq(n),a),n+=1})}},_getClientHeight(t){var e=t.getBoundingClientRect&&Hr(t);return e&&e.height?e.height:t.clientHeight},synchronizeRows(){var t=[],e=[],r,n,i,a;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var o=this._getClientHeight(this._tableElement.get(0)),s=this._getClientHeight(this._fixedTableElement.get(0));if(n=this._getRowElements(this._tableElement),i=this._getRowElements(this._fixedTableElement),a=this._findContentElement(),o!==s){for(a&&a.css("height",o),n.css("height",""),i.css("height",""),r=0;r<n.length;r++)t.push(this._getClientHeight(n.get(r))),e.push(this._getClientHeight(i.get(r)));for(r=0;r<n.length;r++){var l=t[r],p=e[r];l>p?i.eq(r).css("height",l):l<p&&n.eq(r).css("height",p)}a&&a.css("height","")}}})},setScrollerSpacing(t){var e=this.option("rtlEnabled");this.callBase(t),this.element().children(".".concat(this.addWidgetPrefix(Zv))).css({paddingLeft:e?t:"",paddingRight:e?"":t})}},ype=Y({},zS,{_getRowVisibleColumns(t){return this._isFixedTableRendering?this.getFixedColumns(t):this.callBase(t)},getContextMenuItems(t){var{column:e}=t,r=this.option("columnFixing"),n=this.callBase(t);if(t.row&&t.row.rowType==="header"&&r.enabled===!0&&e&&e.allowFixing){var i=a=>{switch(a.itemData.value){case"none":this._columnsController.columnOption(e.index,"fixed",!1);break;case"left":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"right"})}};n=n||[],n.push({text:r.texts.fix,beginGroup:!0,items:[{text:r.texts.leftPosition,value:"left",disabled:e.fixed&&(!e.fixedPosition||e.fixedPosition==="left"),onItemClick:i},{text:r.texts.rightPosition,value:"right",disabled:e.fixed&&e.fixedPosition==="right",onItemClick:i}]},{text:r.texts.unfix,value:"none",disabled:!e.fixed,onItemClick:i})}return n},getFixedColumnElements(t){if(q(t))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(t).children();var e=this.getColumnElements(),r=this.getTransparentColumnElement();if(e&&r&&r.length){var n=oo(this.getFixedColumns());e.splice(n,r.get(0).colSpan,r.get(0))}return e},getColumnWidths(){var t,e=this.callBase(),r=this.getFixedColumnElements(),n=this.getFixedColumns();return this._fixedTableElement&&(r&&r.length?t=this._getWidths(r):t=this.callBase(this._fixedTableElement)),s8(n,e,t)}}),bpe=Y({},zS,{_detachHoverEvents(){var t=this.element();this._fixedTableElement&&this._tableElement&&X.off(t,"mouseover mouseout",".dx-data-row")},_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&X.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(t=>{var{event:e}=t,r=this.getRowIndex(V(e.target).closest(".dx-row")),n=e.type==="mouseover";r>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(r).toggleClass(xR,n),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(r).toggleClass(xR,n))}))},_getScrollDelay(){var t,e=(t=this.getController("resizing"))===null||t===void 0?void 0:t.hasResizeTimeout();return e?this.option("scrolling.updateTimeout"):mr.mozilla?60:0},_findContentElement(t){var e,r,n=this.addWidgetPrefix(CR),i=this.element();if(t=this._isFixedTableRendering||t,i&&t){e=i.children(".".concat(n));var a=this.getScrollable();return!e.length&&a&&(e=V("<div>").addClass(n),X.on(e,"scroll",o=>{var{target:s}=o,l=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{r=V(s).scrollTop(),a.scrollTo({y:r})},l)}),X.on(e,ef,o=>{var s=V(o.target).closest(".dx-scrollable"),l=!1;if(a&&a.$element().is(s))l=!0;else{var p=s.length&&wi.getInstance(s.get(0)),h=p&&p.scrollHeight()-p.clientHeight()>0;l=p&&!h}if(l){r=a.scrollTop(),a.scrollTo({y:r-o.delta});var m=a.scrollTop()+a.clientHeight(),v=a.scrollHeight()+this.getScrollbarWidth(),f=a.scrollTop()>0&&m<v;if(f)return!1}}),e.appendTo(i)),e}return this.callBase()},_updateScrollable(){this.callBase();var t=this.getScrollable();if(!(t!=null&&t._disposed)){var e=t&&t.scrollOffset().top;this._updateFixedTablePosition(e)}},_renderContent(t,e,r){return this._isFixedTableRendering||r?t.empty().addClass("".concat(this.addWidgetPrefix(CR)," ").concat(this.addWidgetPrefix(Zv))).append(e):this.callBase(t,e)},_getGroupCellOptions(t){return this._isFixedTableRendering?this.callBase(Y({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t)},_renderGroupedCells(t,e){return this.callBase(t,Y({},e,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells(t,e){this._isFixedTableRendering?this.callBase(t,Y({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t,e)},_hasAlignByColumnSummaryItems(t,e){var r=this.callBase.apply(this,arguments),n=e.columns[t];return e.isFixed?n.fixed&&(r||n.fixedPosition==="right"):r&&(!this._isFixedColumns||!n.fixed)},_renderGroupSummaryCellsCore(t,e,r,n){var i;if(this._isFixedTableRendering){e.isFixed=!0,i=this._getAlignByColumnCellCount(r,e),e.isFixed=!1;var a=e.columns.length-i;e=Y({},e,{columns:this.getFixedColumns()});var o=oo(e.columns);a<o?(i-=e.columns[o].colspan-1||0,r-=e.columns[o].colspan-1||0):n>0&&t.css("visibility","hidden"),n=i}this.callBase(t,e,r,n)},_getSummaryCellIndex(t,e){if(this._isFixedTableRendering){var r=oo(e);return t>r&&(t+=e[r].colspan-1),t}return this.callBase.apply(this,arguments)},_renderCore(t){this._detachHoverEvents();var e=this.callBase(t),r=this._isFixedColumns;return this.element().toggleClass(gpe,r),this.option("hoverStateEnabled")&&r&&this._attachHoverEvents(),e},setRowsOpacity(t,e){this.callBase(t,e);var r=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(r,this.getFixedColumns(),t,e)},optionChanged(t){this.callBase(t),t.name==="hoverStateEnabled"&&this._isFixedColumns&&(t.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex(t){var e=this._fixedTableElement,r=0;if(e&&t.is("td")&&t.closest(e).length){var n=this.getFixedColumns();return te(n,(i,a)=>{if(i===t[0].cellIndex)return!1;if(a.colspan){r+=a.colspan;return}r++}),r}return this.callBase.apply(this,arguments)},_updateFixedTablePosition(t,e){if(this._fixedTableElement&&this._tableElement){var r,n=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(t),e&&n&&(r=n.focus(),r&&n.focus(r))}},setScrollerSpacing(t,e){var r={marginBottom:0},n=this.element().children(".".concat(this.addWidgetPrefix(Zv)));if(n.length&&this._fixedTableElement){n.css(r),this._fixedTableElement.css(r),r[this.option("rtlEnabled")?"marginLeft":"marginRight"]=t,r.marginBottom=e;var i=this._scrollable&&this._scrollable.option("useNative");(i?n:this._fixedTableElement).css(r)}},_getElasticScrollTop(t){var e=0;if(t.scrollOffset.top<0)e=-t.scrollOffset.top;else if(t.reachedBottom){var r=V(t.component.content()),n=V(t.component.container()),i=Math.max(r.get(0).clientHeight-n.get(0).clientHeight,0);e=Math.min(i-t.scrollOffset.top,0)}return Math.floor(e)},_applyElasticScrolling(t){if(this._fixedTableElement){var e=this._getElasticScrollTop(t);Math.ceil(e)!==0?dn(this._fixedTableElement,{top:e}):this._fixedTableElement.css("transform","")}},_handleScroll(t){this._updateFixedTablePosition(t.scrollOffset.top,!0),this._applyElasticScrolling(t),this.callBase(t)},_updateContentPosition(t){this.callBase.apply(this,arguments),t||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared(t){this._isFixedTableRendering||this.callBase(t)},_scrollToElement(t){this.callBase(t,this.getFixedColumnsOffset())},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),Cpe=zS,wpe={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:he.format("dxDataGrid-columnFixingFix"),unfix:he.format("dxDataGrid-columnFixingUnfix"),leftPosition:he.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:he.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:ype,rowsView:bpe,footerView:Cpe},controllers:{draggingHeader:{_generatePointsByColumns(t){var e=t.columns,{targetDraggingPanel:r}=t;if(r&&r.getName()==="headers"&&r.isFixedColumns()&&t.sourceColumn.fixed){t.rowIndex||(t.columnElements=r.getFixedColumnElements(0)),t.columns=r.getFixedColumns(t.rowIndex);var n=this.callBase(t);return function(i,a,o){var s=oo(a),l=i.length-a.length;return te(o,(p,h)=>{h.index>s&&(h.columnIndex+=l,h.index+=l)}),o}(e,t.columns,n),n}return this.callBase(t)},_pointCreated(t,e,r,n){var i=this.callBase.apply(this,arguments),a=e[t.columnIndex],o=this._columnHeadersView.getTransparentColumnElement();if(!i&&r==="headers"&&o&&o.length){var s=Hr(o.get(0));return n&&n.fixed?n.fixedPosition==="right"?t.x<s.right:t.x>s.left:a&&a.fixed&&a.fixedPosition!=="right"?!0:t.x<s.left||t.x>s.right}return i}},columnsResizer:{_generatePointsByColumns(){var t=this,e=t._columnsController,r=e&&t._columnsController.getVisibleColumns(),n=e&&t._columnsController.getFixedColumns(),i=oo(n),a=r.length-n.length,o=t._columnHeadersView.getFixedColumnElements();t.callBase(),o&&o.length>0&&(t._pointsByFixedColumns=Te.getPointsByColumns(o,s=>(s.index>i&&(s.columnIndex+=a,s.index+=a),t._pointCreated(s,r.length,r))))},_getTargetPoint(t,e,r){var n=this._columnHeadersView.getTransparentColumnElement();if(n&&n.length){var i=Hr(n.get(0));if(e<=i.left||e>=i.right)return this.callBase(this._pointsByFixedColumns,e,r)}return this.callBase(t,e,r)}}}}};Qe.registerModule("columnFixing",wpe);var l8="columnHeadersView",u8="rowsView",xpe="footerView",pb=[l8,u8,xpe],Spe="dxDataGridAdaptivity",no="adaptiveHidden",js="detailAdaptive",Mw="dx-field-item-content",Epe="dx-item-modified",ih="hidden-column",Ipe="adaptive-more",c8="dx-command-adaptive",Wm="dx-command-adaptive-hidden",Tpe="dx-adaptive-detail-row",Bw="dx-adaptive-item-text",Ope="dx-master-detail-cell",kpe="dx-last-data-cell",nm="adaptive",Ape="batch",Lw="row",Dpe="form",Rpe="popup",Ppe="revert-tooltip",IR="dx-group-cell",Mpe="dx-group-row",TR="dxDataGrid-ariaAdaptiveExpand",Bpe="dxDataGrid-ariaAdaptiveCollapse",Lpe="scrolling.legacyMode";function im(t,e){return t._columnsController.getColumnId(e)}function Fpe(t){return t.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function Npe(t,e){var r,n=V(t),i=e.component.getController("adaptiveColumns");e.rowType==="data"?(r=V("<span>").addClass(i.addWidgetPrefix(Ipe)),X.on(r,Ee(jt,Spe),i.createAction(()=>{i.toggleExpandAdaptiveDetailRow(e.key)})),r.appendTo(n)):Te.setEmptyText(n)}function Fw(t){var e,r=(e=t.data)===null||e===void 0?void 0:e.$nextCell;X.off(r,"focus",Fw),X.trigger(r,"dxclick")}var Vpe={_isRowEditMode(){var t=this._getEditMode();return t===Lw},_isItemModified(t,e){var r=this._columnsController.getVisibleIndex(t.column.index),n=this._dataController.getRowIndexByKey(e.key),i=this._dataController.items()[n+1];return i&&i.modifiedValues&&q(i.modifiedValues[r])},_renderFormViewTemplate(t,e,r){var n=this,{column:i}=t,a=n.createAction(()=>{n._editingController.isEditing()&&X.trigger(r,jt)}),o=e.row.data,s=i.calculateCellValue(o),l=Te.getDisplayValue(i,s,o,e.rowType),p=Te.formatValue(l,i),h=this._editingController.isCellOrBatchEditMode(),m=n._rowsView;if(i.allowEditing&&n.getController("keyboardNavigation").isKeyboardEnabled()&&(r.attr("tabIndex",n.option("tabIndex")),h&&(X.off(r,"focus",a),X.on(r,"focus",a))),i.cellTemplate){var v=Y({},e,{value:s,displayValue:l,text:p,column:i});m.renderTemplate(r,i.cellTemplate,v,Tg(r)).done(()=>{m._cellPrepared(r,e)})}else{var f=r.get(0);i.encodeHtml?f.textContent=p:f.innerHTML=p,r.addClass(Bw),(!q(p)||p==="")&&r.html("&nbsp;"),n._isRowEditMode()||n._isItemModified(t,e)&&r.addClass(Epe),m._cellPrepared(r,e)}},_getTemplate(t,e){var r=this,{column:n}=t,i=this.getController("editing");return function(a,o){var s=V(o),l=r._columnsController.getVisibleIndex(n.index),p=Y({},e),h=function(){var m=r._isItemEdited(t);p.value=e.row.values[l],m||n.showEditorAlways?i.renderFormEditorTemplate(p,t,a,s,!m):(p.column=n,p.columnIndex=l,r._renderFormViewTemplate(t,p,s))};h(),p.watch&&p.watch(()=>({isItemEdited:r._isItemEdited(t),value:e.row.values[l]}),()=>{s.contents().remove(),s.removeClass(Bw),h()})}},_isVisibleColumnsValid(t){return!(t<2||t.length-function(){for(var e=0,r=0;r<t.length;r++){var n=t[r];n.command&&e++}return e}()<=1)},_calculatePercentWidths(t,e){var r=this,n=0;return e.forEach((i,a)=>{t[a]!==no&&(n+=r._getItemPercentWidth(i))}),n},_isPercentWidth:t=>tt(t)&&t.endsWith("%"),_isColumnHidden(t){return this._hiddenColumns.filter(e=>e.index===t.index).length>0},_getAverageColumnsWidth(t,e,r){var n=this,i=0,a=0;return e.forEach(o=>{if(!n._isColumnHidden(o)){var{width:s}=o;q(s)&&!isNaN(parseFloat(s))?i+=n._isPercentWidth(s)?n._calculatePercentWidth({visibleIndex:o.visibleIndex,columnsCount:e.length,columnsCanFit:r,bestFitWidth:o.bestFitWidth,columnWidth:s,containerWidth:t}):parseFloat(s):a++}}),(t-i)/a},_calculateColumnWidth(t,e,r,n){var i=im(this,t),a=this._columnsController.columnOption(i,"width"),o=this._columnsController.columnOption(i,"bestFitWidth"),s=r.length,l;if(a&&a!=="auto")if(this._isPercentWidth(a))l=this._calculatePercentWidth({visibleIndex:t.visibleIndex,columnsCount:s,columnsCanFit:n,bestFitWidth:o,columnWidth:a,containerWidth:e});else return parseFloat(a);else{var p=this.option("columnAutoWidth");l=p||t.command?o:this._getAverageColumnsWidth(e,r,n)}return l},_calculatePercentWidth(t){var e=t.visibleIndex<t.columnsCount-1&&t.columnsCanFit,r=t.containerWidth*parseFloat(t.columnWidth)/100,n=t.columnsCanFit&&r<t.bestFitWidth?t.bestFitWidth:r;return e?t.containerWidth*parseFloat(t.columnWidth)/100:n},_getNotTruncatedColumnWidth(t,e,r,n){var i=im(this,t),a=this._columnsController.columnOption(i,"width"),o=this._columnsController.columnOption(i,"bestFitWidth");if(a&&a!=="auto"&&!this._isPercentWidth(a))return parseFloat(a);var s=this._calculateColumnWidth(t,e,r,n);return s<o?null:s},_getItemPercentWidth(t){var e=0;return t.width&&this._isPercentWidth(t.width)&&(e=parseFloat(t.width)),e},_getCommandColumnsWidth(){var t=this,e=t._columnsController.getVisibleColumns(),r=0;return te(e,(n,i)=>{(i.index<0||i.command)&&(r+=t._columnsController.columnOption(im(t,i),"bestFitWidth")||0)}),r},_isItemEdited(t){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var e=this.option("editing.editRowKey");if(Jt(e,this._dataController.adaptiveExpandedKey()))return!0}else{var r=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(t.column.index);return this._editingController.isEditCell(r,n)}},_getFormItemsByHiddenColumns(t){var e=[];return te(t,(r,n)=>{e.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})}),e},_getAdaptiveColumnVisibleIndex(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.command===nm)return e}},_hideAdaptiveColumn(t,e){var r=this._getAdaptiveColumnVisibleIndex(e);q(r)&&(t[r]=no,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:r}))},_showHiddenCellsInView(t){var{$cells:e,isCommandColumn:r}=t,n=this.addWidgetPrefix(ih);r?(n=Wm,e.attr({tabIndex:0,"aria-hidden":null}).removeClass(n)):e.removeClass(n)},_showHiddenColumns(){for(var t=0;t<pb.length;t++){var e=this.getView(pb[t]);if(e&&e.isVisible()&&e.element()){var r=e.name,n=e.element().find(".".concat(Wm));this._showHiddenCellsInView({viewName:r,$cells:n,isCommandColumn:!0});var i=e.element().find(".".concat(this.addWidgetPrefix(ih)));this._showHiddenCellsInView({viewName:r,$cells:i})}}},_isCellValid:t=>t&&t.length&&!t.hasClass(Ope)&&!t.hasClass(IR),_hideVisibleColumn(t){var{isCommandColumn:e,visibleIndex:r}=t,n=this;pb.forEach(i=>{var a=n.getView(i);a&&n._hideVisibleColumnInView({view:a,isCommandColumn:e,visibleIndex:r})})},_hideVisibleColumnInView(t){var{view:e,isCommandColumn:r,visibleIndex:n}=t,i=e.name,a,o=this._columnsController.getVisibleColumns()[n],s=this._editingController&&this._editingController.getEditFormRowIndex();if(e&&e.isVisible()&&o)for(var l=e.getRowsCount(),p=e._getRowElements(),h=0;h<l;h++){var m=h===s&&i===u8&&this.option("editing.mode")!=="popup";if(!m){var v=i===l8?this._columnsController.getVisibleIndex(o.index,h):n;if(v>=0){var f=p.eq(h);a=this._findCellElementInRow(f,v),this._isCellValid(a)&&this._hideVisibleCellInView({viewName:i,isCommandColumn:r,$cell:a})}}}},_findCellElementInRow(t,e){var r=t.children(),n=e,i=!1;if(t.hasClass(Mpe)){var a=t.find(".".concat(IR)),o=a.attr("colspan");if(a.length&&q(o)){var s=parseInt(o),l=a.index()+s-1;e>l?n=e-s+1:i=!0}}var p=i?void 0:r.eq(n);return p},_hideVisibleCellInView(t){var{$cell:e,isCommandColumn:r}=t,n=r?Wm:this.addWidgetPrefix(ih);e.attr({tabIndex:-1,"aria-hidden":!0}).addClass(n)},_getEditMode(){return this._editingController.getEditMode()},isFormOrPopupEditMode(){var t=this._getEditMode();return t===Dpe||t===Rpe},hideRedundantColumns(t,e,r){if(this._hiddenColumns=[],this._isVisibleColumnsValid(e)&&r.length){var n=0,i=this.component.$element(),a=ot(i)-this._getCommandColumnsWidth(),o=(function(){return e.filter(w=>!w.command&&this._hiddenColumns.filter(x=>x.index===w.index).length===0)}).bind(this),s=o(),l=s.length,p,h,m;do{m=!1,n=0;var v=this._calculatePercentWidths(t,e),f=v<100&&v!==0;for(p=0;p<e.length;p++){var u=e[p],c=this._getNotTruncatedColumnWidth(u,a,s,f),d=im(this,u),_=this._columnsController.columnOption(d,"width"),g=this._columnsController.columnOption(d,"minWidth"),y=this._columnsController.columnOption(d,"bestFitWidth");if(t[p]===no){h=!0;continue}if(!c&&!u.command&&!u.fixed){m=!0;break}(!_||_==="auto")&&(c=Math.max(y||0,g||0)),(u.command!==nm||h)&&(n+=c)}if(m=m||n>ot(i),m){var b=r.pop(),C=this._columnsController.getVisibleIndex(b.index);a+=this._calculateColumnWidth(b,a,s,f),this._hideVisibleColumn({visibleIndex:C}),t[C]=no,this._hiddenColumns.push(b),s=o()}}while(m&&s.length>1&&r.length);l===s.length&&this._hideAdaptiveColumn(t,e)}else this._hideAdaptiveColumn(t,e)},getAdaptiveDetailItems(){return this._$itemContents},getItemContentByColumnIndex(t){for(var e,r=0;r<this._$itemContents.length;r++){e=this._$itemContents.eq(r);var n=e.data("dx-form-item");if(n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)===t)return e}},toggleExpandAdaptiveDetailRow(t,e){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(t,e)},createFormByHiddenColumns(t,e){var r=this,n=V(t),i={items:r._getFormItemsByHiddenColumns(r._hiddenColumns),formID:"dx-".concat(new Lr)},a=Mr()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:i}),r._$itemContents=null,r._form=r._createComponent(V("<div>").appendTo(n),MS,Y(a,i,{customizeItem(o){var s=o.column||r._columnsController.columnOption(o.name||o.dataField);s&&(o.label=o.label||{},o.label.text=o.label.text||s.caption,o.column=s,o.template=r._getTemplate(o,e,r.updateForm.bind(r))),i.customizeItem&&i.customizeItem.call(this,o)},onContentReady(o){i.onContentReady&&i.onContentReady.call(this,o),r._$itemContents=n.find(".".concat(Mw))}}))},hasAdaptiveDetailRowExpanded(){return q(this._dataController.adaptiveExpandedKey())},updateForm(t){this.hasAdaptiveDetailRowExpanded()&&this._form&&q(this._form._contentReadyAction)&&(t&&t.length?this._form.option("items",this._getFormItemsByHiddenColumns(t)):this._form.repaint())},updateHidingQueue(t){var e=t.filter(a=>a.visible&&!a.type&&!a.fixed&&!(q(a.groupIndex)&&a.groupIndex>=0)),r,n;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(n=0;n<e.length;n++)q(e[n].hidingPriority)&&e[n].hidingPriority>=0&&(r=!0,this._hidingColumnsQueue[e[n].hidingPriority]=e[n]);if(r)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(n=0;n<e.length;n++){var i=this._columnsController.getVisibleIndex(e[n].index);this._hidingColumnsQueue[i]=e[n]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns(){return this._hiddenColumns},hasHiddenColumns(){return this._hiddenColumns.length>0},getHidingColumnsQueue(){return this._hidingColumnsQueue},init(){var t=this;t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._rowsView=t.getView("rowsView"),t._columnsController.addCommandColumn({type:nm,command:nm,visible:!0,adaptiveHidden:!0,cssClass:c8,alignment:"center",width:"auto",cellTemplate:Npe,fixedPosition:"right"}),t._columnsController.columnsChanged.add(()=>{var e=!!t.updateHidingQueue(t._columnsController.getColumns()).length;t._columnsController.columnOption("command:adaptive","adaptiveHidden",!e,!0)}),t._editingController=t.getController("editing"),t._hidingColumnsQueue=[],t._hiddenColumns=[],t.createAction("onAdaptiveDetailRowPreparing"),t.callBase()},optionChanged(t){t.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!t.value),this.callBase(t)},publicMethods:()=>["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"],isAdaptiveDetailRowExpanded(t){var e=this._dataController;return e.adaptiveExpandedKey()&&Jt(e.adaptiveExpandedKey(),t)},expandAdaptiveDetailRow(t){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(t)},collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel(t,e){var r=this._dataController.getRowIndexByKey(t);if(r!==-1){var n=V(this.component.getRowElement(r));this.setCommandAdaptiveAriaLabel(n,e)}},setCommandAdaptiveAriaLabel(t,e){var r=t.find(".dx-command-adaptive");r.attr("aria-label",he.format(e))}},Hpe=ar.ViewController.inherit(Vpe),jpe=t=>class extends t{_isCellValid(e,r){return super._isCellValid(e,r)&&!e.hasClass(this.addWidgetPrefix(ih))&&!e.hasClass(Wm)}_processNextCellInMasterDetail(e,r){super._processNextCellInMasterDetail(e,r);var n=this._editingController.isCellOrBatchEditMode(),i=this._editingController.isEditing();i&&e&&n&&!this._isInsideEditForm(e)&&(X.off(e,"focus",Fw),X.on(e,"focus",{$nextCell:e},Fw),X.trigger(r,"focus"))}_isCellElement(e){return super._isCellElement(e)||e.hasClass(Bw)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}},$pe={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:Hpe},extenders:{views:{rowsView:{_getCellTemplate(t){var e=this,{column:r}=t;return t.rowType===js&&r.command==="detail"?function(n,i){e._adaptiveColumnsController.createFormByHiddenColumns(V(n),i)}:e.callBase(t)},_createRow(t){var e=this.callBase.apply(this,arguments);return t&&t.rowType===js&&t.key===this._dataController.adaptiveExpandedKey()&&e.addClass(Tpe),e},_renderCells(t,e){this.callBase(t,e);var r=this._adaptiveColumnsController,n=r.getHidingColumnsQueue().length,i=r.getHiddenColumns().length;n&&!i&&Fpe(t).last().addClass(kpe),e.row.rowType==="data"&&r.setCommandAdaptiveAriaLabel(t,TR)},_getColumnIndexByElementCore(t){var e=t.closest(".".concat(Mw));if(e.length&&e.closest(this.component.$element()).length){var r=e.length?e.first().data("dx-form-item"):null;return r&&r.column&&this._columnsController.getVisibleIndex(r.column.index)}return this.callBase(t)},_cellPrepared(t,e){this.callBase.apply(this,arguments),e.row.rowType!==js&&e.column.visibleWidth===no&&t.addClass(this.addWidgetPrefix(ih))},getCell(t,e){var r=this._dataController.items()[t==null?void 0:t.rowIndex];if((r==null?void 0:r.rowType)===js){var n=this._adaptiveColumnsController.getAdaptiveDetailItems();return this.callBase(t,e,n)}return this.callBase.apply(this,arguments)},_getCellElement(t,e){var r=this._dataController.items()[t];return r&&r.rowType===js?this._adaptiveColumnsController.getItemContentByColumnIndex(e):this.callBase.apply(this,arguments)},getContextMenuItems(t){if(t.row&&t.row.rowType==="detailAdaptive"){var e=this.component.getView("columnHeadersView"),r=V(t.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return t.column=r?r.column:t.column,e.getContextMenuItems&&e.getContextMenuItems(t)}return this.callBase&&this.callBase(t)},isClickableElement(t){var e=this.callBase?this.callBase(t):!1;return e||!!t.closest(".".concat(c8)).length},init(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth(t,e){this.callBase(t,t.visibleWidth===no?t.bestFitWidth:e)}},columnsResizer:{_pointCreated(t,e,r){var n=this.callBase(t,e,r),i=r[t.columnIndex]||{},a=this._getNextColumnIndex(t.columnIndex),o=r[a]||{},s=a!==t.columnIndex+1&&o.command,l=i.visibleWidth===no||s;return n||l},_getNextColumnIndex(t){for(var e=this._columnsController.getVisibleColumns(),r=this.callBase(t);e[r]&&e[r].visibleWidth===no;)r++;return r}},draggingHeader:{_pointCreated(t,e,r,n){var i=this.callBase(t,e,r,n),a=e[t.columnIndex-1]||{},o=a.visibleWidth===no;return i||o}},editing:{_isRowEditMode(){return this.getEditMode()===Lw},_getFormEditItemTemplate(t,e){return this.getEditMode()!==Lw&&t.rowType==="detailAdaptive"?(t.columnIndex=this._columnsController.getVisibleIndex(e.index),this.getColumnTemplate(t)):this.callBase(t,e)},_closeEditItem(t){var e=t.closest(".".concat(Mw)),r=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=e.length?e.first().data("dx-form-item"):null,i=n&&n.column&&this._columnsController.getVisibleIndex(n.column.index);this.isEditCell(r,i)||this.callBase(t)},_beforeUpdateItems(t,e){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var r=this._dataController.items(),n=r[e],i=Te.getIndexByKey(this._dataController.adaptiveExpandedKey(),r);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),i>=0&&t.push(i+1),t.push(e+1),this._dataController.adaptiveExpandedKey(n.key)}},_afterInsertRow(t){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(t,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData(){this.callBase.apply(this,arguments);var t=new ae;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?Ve(this.getController("validating").validate(!0)).done(e=>{e&&this._cancelEditAdaptiveDetailRow(),t.resolve()}):t.resolve(),t.promise()},_beforeCancelEditData(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating(t){var e=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(t.key)&&e.push(t.rowType===js?t.rowIndex-1:t.rowIndex+1),e},_beforeCloseEditCellInBatchMode(t){var e=this._dataController._adaptiveExpandedKey;if(e){var r=Te.getIndexByKey(e,this._dataController.items());r>-1&&t.unshift(r)}},editRow(t){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(t)},deleteRow(t){var e=this._dataController.getKeyByRowIndex(t);this.getEditMode()===Ape&&this._adaptiveController.isAdaptiveDetailRowExpanded(e)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(t)},init(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths(t,e){var r=this._adaptiveColumnsController,n=r.getHiddenColumns(),i=r.updateHidingQueue(this._columnsController.getColumns());r.hideRedundantColumns(t,e,i);var a=r.getHiddenColumns();return r.hasAdaptiveDetailRowExpanded()&&n.length!==a.length&&r.updateForm(a),!a.length&&r.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode(t){t&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(t)},_needStretch(){var t=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||t.getHidingColumnsQueue().length||t.hasHiddenColumns()},init(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems(t,e){var{changeType:r}=e;if(t=this.callBase.apply(this,arguments),r==="loadingAll"||!q(this._adaptiveExpandedKey))return t;var n=Te.getIndexByKey(this._adaptiveExpandedKey,t),i=this.option(Lpe)===!1;if(n>=0){var a=t[n];t.splice(n+1,0,{visible:!0,rowType:js,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else r==="refresh"&&!(i&&e.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return t},_getRowIndicesForExpand(t){var e=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(t)){var r=e[e.length-1];e.push(r+1)}return e},adaptiveExpandedKey(t){if(q(t))this._adaptiveExpandedKey=t;else return this._adaptiveExpandedKey},toggleExpandAdaptiveDetailRow(t,e){var r=Te.getIndexByKey(this._adaptiveExpandedKey,this._items),n=Te.getIndexByKey(t,this._items);r>=0&&r===n&&!e&&(t=void 0,n=-1);var i=this._adaptiveExpandedKey;this._adaptiveExpandedKey=t,r>=0&&r++,n>=0&&n++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[r-a,n-a]});var o=this.getController("adaptiveColumns");o.updateCommandAdaptiveAriaLabel(t,Bpe),o.updateCommandAdaptiveAriaLabel(i,TR)},init(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_needHideBorder(t){return this.callBase(t)||(t==null?void 0:t.hasClass("dx-field-item-content"))&&(t==null?void 0:t.find(".dx-checkbox").length)},_getFocusCellSelector(){return"".concat(this.callBase(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")},_getRevertTooltipsSelector(){return"".concat(this.callBase(),", .dx-field-item-content .").concat(this.addWidgetPrefix(Ppe))}},columns:{_isColumnVisible(t){return this.callBase(t)&&!t.adaptiveHidden}},keyboardNavigation:jpe}}};Qe.registerModule("adaptivity",$pe);function d8(t,e,r,n,i,a){r=r||0,n=n||[],a=a||[],n[r]=n[r]||0;var o=t[r],s=a[r]+1||0,l=0,p;if(o){for(p=s;p<o.length;p++){var h=o[p],m=p+n[r],v=h.colspan||1;if(d8(t,e,r+(h.rowspan||1),n,v,a),n[r]+=v-1,l+=v,h.rowspan)for(var f=r+1;f<r+h.rowspan;f++)n[f]=n[f]||0,n[f]+=h.colspan||1;if(e(h,m,r,p)===!1||i!==void 0&&l>=i)break}a[r]=p}}function mb(t,e,r){var n=[];d8(t,(a,o,s)=>{var l=a,p,h=l.colspan||1,m=o+h-1>=e&&o<r;if(n[s]=n[s]||[],m)o<e?(p=h-(e-o),o=e):p=h,o+p>r&&(p=r-o),p!==h&&(l=Y({},l,{colspan:p})),n[s].push(l);else if(o>r)return!1});for(var i=0;i<n.length;i++)n[i]=n[i]||[];return n}var zpe=50,Wpe={_resizeCore(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll(t){var e=this.getScrollable(),{left:r}=t.scrollOffset;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&e&&(r=ot(e.$content())-ot(e.$element())-r),this._columnsController.setScrollPosition(r)},_restoreScrollTop(){var t=this.getScrollable(),e=t==null?void 0:t.scrollTop();this._scrollTop>0&&e!==this._scrollTop&&t.scrollTo({y:this._scrollTop})},_renderCore(t){if(t!=null&&t.virtualColumnsScrolling){var e=()=>{this.resizeCompleted.remove(e),this._restoreScrollTop()};this.resizeCompleted.add(e)}return this.callBase.apply(this,arguments)}},Upe={_renderCore(){var t=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),t}},Gpe=function(){var t=function(r){return r.map(n=>n.visibleWidth||parseFloat(n.width)||zpe)},e={init(){this.callBase.apply(this,arguments),this._beginPageIndex=null,this._endPageIndex=null,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex(r){for(var n=this.getVisibleColumns(void 0,!0),i=t(n),a=0,o=0;o<i.length;o++){if(a>=r)return Math.floor(o/this.getColumnPageSize());a+=i[o]}return 0},getTotalWidth(){var r=this.option("width");return typeof r=="number"?r:this.getController("resizing")._lastWidth||Pt(this.component.$element())},getEndPageIndex(r){var n=this.getVisibleColumns(void 0,!0),i=t(n),a=0;r+=this.getTotalWidth();for(var o=0;o<i.length;o++){if(a>=r)return Math.ceil(o/this.getColumnPageSize());a+=i[o]}return Math.ceil(i.length/this.getColumnPageSize())},getColumnPageSize(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged(){var r=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-r},getScrollingTimeout(){var r=this.option("scrolling.columnRenderingThreshold"),n=this.option("scrolling.renderAsync"),i=0;return(!q(n)&&this._renderTime>r||n)&&(i=this.option("scrolling.timeout")),i},setScrollPosition(r){var n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(r)},n)):this._setScrollPositionCore(r)},isVirtualMode(){return lt()&&this.option("scrolling.columnRenderingMode")==="virtual"},resize(){this._setScrollPositionCore(this._position)},_setScrollPositionCore(r){if(this.isVirtualMode()){var n=this.getBeginPageIndex(r),i=this.getEndPageIndex(r),a=r<this._position?this._beginPageIndex>n:this._endPageIndex<i;this._position=r,a&&(this._beginPageIndex=n,this._endPageIndex=i,this._fireColumnsChanged())}},getFixedColumns(r,n){var i=this.callBase(r);if(this.isVirtualMode()&&!n&&i.length){var a=i.map(o=>o.command).indexOf("transparent");return i[a].colspan=this.getVisibleColumns().length-this.callBase().length+1,i}return i},_compileVisibleColumns(r,n){var i;if(n||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(r);!((i=this._columns)===null||i===void 0)&&i.length&&!q(this._beginPageIndex)&&!q(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var a=this._beginPageIndex,o=this._endPageIndex,s="".concat(r,"-").concat(a,"-").concat(o);if(this._virtualVisibleColumns[s])return this._virtualVisibleColumns[s];var l=this.callBase(),p=this.getRowCount(),h=this.getColumnPageSize(),m=a*h,v=o*h,f=this.getFixedColumns(void 0,!0),u=f.map(D=>D.command).indexOf("transparent"),c=f.length?u:0,d=l.slice(0,c),_=l.slice(c,m),g=t(_).reduce((D,P)=>D+P,0);g||(m=0);var y=f.length?f.length-u-1:0,b=l.slice(l.length-y),C=l.slice(v,l.length-y),w=t(C).reduce((D,P)=>D+P,0);if(w||(v=l.length),p>1&&typeof r=="number"){for(var x=[],A=0;A<=p;A++)x.push(this.callBase(A));d=mb(x,0,d.length)[r]||[],b=mb(x,l.length-b.length,l.length)[r]||[],l=mb(x,m,v)[r]||[]}else l=l.slice(m,v);return g&&(l.unshift({command:"virtual",width:g}),l=d.concat(l)),w&&(l.push({command:"virtual",width:w}),l=l.concat(b)),this._virtualVisibleColumns[s]=l,l},getColumnIndexOffset(){var r=0;if(this._beginPageIndex>0){var n=this.getFixedColumns(),i=n.map(o=>o.command).indexOf("transparent"),a=i>=0?i:0;r=this._beginPageIndex*this.getColumnPageSize()-a-1}return r>0?r:0},dispose(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return e}(),Kpe={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:Gpe},views:{columnHeadersView:Upe,rowsView:Wpe}}};Qe.registerModule("virtualColumns",Kpe);var kf="dx-buttongroup",qpe=kf+"-wrapper",h8=kf+"-item",Xpe=kf+"-first-item",Ype=kf+"-last-item",OR=h8+"-has-width",Zpe="dx-shape-standard",Qpe=Ul.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Wl((t,e,r)=>{this._prepareItemStyles(t);var n=this.option("buttonTemplate");this._createComponent(t,vn,Y({},r,e,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(n)?r:{},template:r.template||n}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return Y(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(t){return Me(t)||this.option("integrationOptions.templates")[t]},_prepareItemStyles(t){var e=t.data("dxItemIndex");e===0&&t.addClass(Xpe);var r=this.option("items");r&&e===r.length-1&&t.addClass(Ype),t.addClass(Zpe)},_renderItemContent(t){return t.container=V(t.container).parent(),this.callBase(t)},_setAriaSelectionAttribute:function(t,e){this.setAria("pressed",e,t)},_renderItemContentByNode:function(t,e){return t.container=V(t.container.children().first()),this.callBase(t,e)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>h8,_itemSelectHandler:function(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)}}),f8=rn.inherit({_getDefaultOptions(){return Y(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(kf),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_renderButtons(){var t=V("<div>").addClass(qpe).appendTo(this.$element()),e=this.option("selectedItems"),r={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:n=>{var i=this.option("width");q(i)&&V(n.itemElement).addClass(OR)},onSelectionChanged:n=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(n.addedItems,n.removedItems)},onItemClick:n=>{this._itemClickAction(n)}};q(e)&&e.length&&(r.selectedItems=e),this._buttonsCollection=this._createComponent(t,Qpe,r)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(t){switch(t.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(t.name,t.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(t),this._buttonsCollection.itemElements().toggleClass(OR,!!t.value);break;default:this.callBase(t)}}});Rt("dxButtonGroup",f8);var kR="dx-dropdownbutton",Jpe="dx-dropdownbutton-content",AR="dx-dropdownbutton-action",DR="dx-dropdownbutton-toggle",eme="dx-dropdownbutton-has-arrow",tme="dx-dropdownbutton-popup-wrapper",rme="dx-dropdowneditor-overlay",nme="dx-button",ime="dx-button-text",ame="dx-icon-right",ome=rn.inherit({_getDefaultOptions(){return Y(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:he.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),Y(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new hc(t=>{var e=V(t.container),r=V("<div>").appendTo(e);this._list=this._createComponent(r,kc,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(t){this._dataSource||(this._dataSource=new Va({store:new Tc({key:this._getKey(),data:t}),pageSize:0}))},_getKey:function(){var t,e=this.option("keyExpr"),r=(t=this._dataSource)===null||t===void 0?void 0:t.key();return q(r)&&(!q(e)||e==="this")?r:e},_compileKeyGetter(){this._keyGetter=er(this._getKey())},_compileDisplayGetter(){this._displayGetter=er(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(kR),this._renderButtonGroup(),this._updateArrowClass(),q(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:oe,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var t;(t=this._loadSingleDeferred)===null||t===void 0||t.reject();var e=new ae;if(this._list&&this._lastSelectedItemData!==void 0){var r=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return e.resolve(r)}this._lastSelectedItemData=void 0;var n=this.option("selectedItemKey");return this._loadSingle(this._getKey(),n).done(e.resolve).fail(()=>{e.resolve(null)}),this._loadSingleDeferred=e,e.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(t){var{previousValue:e,value:r}=t;this._selectionChangedAction({item:r,previousItem:e})},_fireItemClickAction(t){var{event:e,itemElement:r,itemData:n}=t;return this._itemClickAction({event:e,itemElement:r,itemData:this._actionItem||n})},_actionButtonConfig(){return{text:this.option("text"),icon:this.option("icon"),elementAttr:{class:AR}}},_getButtonGroupItems(){var t=[];return t.push(this._actionButtonConfig()),this.option("splitButton")&&t.push({icon:"spindown",elementAttr:{class:DR}}),t},_buttonGroupItemClick(t){var{event:e,itemData:r}=t,n=r.elementAttr.class===AR,i=r.elementAttr.class===DR;i?this.toggle():n&&(this._actionClickAction({event:e,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:t,showArrowIcon:e,focusStateEnabled:r,hoverStateEnabled:n,stylingMode:i,accessKey:a,tabIndex:o}=this.option(),s=t||!e?"content":(l,p)=>{var{text:h,icon:m}=l,v=Io(m),f=h?V("<span>").text(h).addClass(ime):void 0,u=Io("spindown").addClass(ame);V(p).append(v,f,u)};return Y({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:s,focusStateEnabled:r,hoverStateEnabled:n,stylingMode:i,accessKey:a,tabIndex:o},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var t=this._popup.$content(),e=this._getTemplateByOption("dropDownContentTemplate");return t.empty(),this._popupContentId="dx-"+new Lr,this.setAria("id",this._popupContentId,t),e.render({container:et(t),model:this.option("items")||this._dataSource})},_popupOptions(){var t=this.option("rtlEnabled")?"right":"left";return Y({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:e=>{var r=this.$element(),n=V(e.target).closest(".".concat(kR));return!n.is(r)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>zv(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:t+" top",at:t+" bottom"},_wrapperClassExternal:rme},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var t=this.option("selectedItemKey"),e=this.option("useSelectMode");return{selectionMode:e?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:q(t)&&e?[t]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:r=>{this.option("useSelectMode")||(this._lastSelectedItemData=r.itemData),this.option("selectedItemKey",this._keyGetter(r.itemData));var n=this._fireItemClickAction(r);n!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var t=V("<div>");this.$element().append(t),this._popup=this._createComponent(t,ma,this._popupOptions()),this._popup.$content().addClass(Jpe),this._popup.$wrapper().addClass(tme),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(t){var e=rn.getOptionsFromContainer(t);this._setPopupOption(e);var r=Object.keys(e);(r.indexOf("width")!==-1||r.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var t=SS(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>zv(this.$element()))},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(t){var e={owns:t?this._popupContentId:void 0};this.setAria(e,this.$element())},_setButtonsAria(t){var e={expanded:t,haspopup:"listbox"},r={};this.option("text")||(r.label="dropdownbutton"),this._getButtons().each((n,i)=>{n===0?this.setAria(we({},r,e),V(i)):this.setAria(e,V(i))})},_updateAriaAttributes(t){this._setElementAria(t),this._setButtonsAria(t)},_getButtons(){return this._buttonGroup.$element().find(".".concat(nme))},_renderButtonGroup(){var t=this._buttonGroup&&this._buttonGroup.$element()||V("<div>");this._buttonGroup||this.$element().append(t),this._buttonGroup=this._createComponent(t,f8,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var t=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(eme,t)},toggle(t){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(t)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(t,e){this._list&&this._list.option(t,e)},_getDisplayValue(t){var e=!yt(t),r=e?t:this._displayGetter(t);return yt(r)?"":String(vr(r,""))},_updateActionButton(t){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(t),icon:yt(t)?t.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(t))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(t){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&q(t)?[t]:[]);var e=this.option("selectedItem");this._loadSelectedItem().done(r=>{this._updateActionButton(r),this._displayGetter(e)!==this._displayGetter(r)&&this._fireSelectionChangedAction({previousValue:e,value:r})})},_updateButtonGroup(t,e){this._buttonGroup.option(t,e),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(t){var{name:e,value:r}=t,n={};n[e]=r,this._updateButtonGroup("items[0]",Y({},this._actionButtonConfig(),n)),this._popup&&this._popup.repaint()},_selectModeChanged(t){if(t){this._setListOption("selectionMode","single");var e=this.option("selectedItemKey");this._setListOption("selectedItemKeys",q(e)?[e]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(t){var e=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[t]),q(e)&&this._loadSelectedItem().done(r=>{this._setListOption("selectedItemKeys",[e]),this._setListOption("selectedItem",r)}).fail(r=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(t),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(t){var e,{name:r,value:n}=t;switch(r){case"useSelectMode":this._selectModeChanged(n);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(r,n),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,t);break;case"dropDownOptions":if(t.fullName==="dropDownOptions.visible")break;t.value.visible!==void 0&&delete t.value.visible,this._popupOptionChanged(t),this._innerWidgetOptionChanged(this._popup,t);break;case"opened":this.toggle(n);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(r,n),this._updateButtonGroup(r,n),this.callBase(t);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(r);break;case"dataSource":Array.isArray(n)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(r);break;case"icon":case"text":this._actionButtonOptionChanged(t);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"stylingMode":this._updateButtonGroup(r,n);break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(r,n);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(n);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._updateButtonGroup(r,n);break;default:this.callBase(t)}}}).include($g);Rt("dxDropDownButton",ome);function sme(t,e){for(var r=h=>h||1,n=[],i=(t[0]||[]).reduce((h,m)=>h+r(m.colspan),0),a=(h=>{var m=0,v=0;return()=>{var f=h[m]||[],u=f[v++];return v>=f.length&&(m++,v=0),u&&(u.colspan=r(u.colspan),u.rowspan=r(u.rowspan)),u}})(t),o=(h,m,v)=>{var f=n[h]=n[h]||[];if(f[m]=v,v.colspan>1||v.rowspan>1){for(var u=(g=>Y({},g,e))(v),c=1;c<v.colspan;c++)o(h,m+c,u);for(var d=1;d<v.rowspan;d++)for(var _=0;_<v.colspan;_++)o(h+d,m+_,u)}},s=a(),l=0;s;){for(var p=0;p<i&&s;p++)n[l]&&n[l][p]||(o(l,p,s),p+=s.colspan-1,s=a());l++}return n}var lme="dx-datagrid-export-menu",RR="dx-datagrid-export-button",ume="exportButton",PR="export",cme="xlsxfile",dme="exportselected",hme="pdffile";class fme{constructor(e,r,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=r,this._selectedRowsOnly=n}_getGroupValue(e){var{key:r,data:n,rowType:i,groupIndex:a,summaryCells:o}=e,s=this._options.groupColumns[a],l=Qe.getDisplayValue(s,s.deserializeValue?s.deserializeValue(r[a]):r[a],n,i),p="".concat(s.caption,": ").concat(Qe.formatValue(l,s));return o&&o[0]&&o[0].length&&(p+=" ".concat(Qe.getGroupRowSummaryText(o[0],this._options.summaryTexts))),p}_correctCellIndex(e){return e}_initOptions(){var e=this._exportController,r=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:r,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:Ts(this._options.rtlEnabled)}}getColumnStyles(){var e=[];return this.getColumns().forEach(r=>{e.push({alignment:r.alignment||"left",format:r.format,dataType:r.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var r,n=((r=this.getColumns()[e])===null||r===void 0?void 0:r.alignment)||"right";return this.getHeaderStyles().map(i=>i.alignment).indexOf(n)}getStyleId(e,r){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),r)?this._getTotalCellStyleId(r):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:r+this.getHeaderStyles().length}getColumns(e){var{columns:r}=this._options;return e?r:r[r.length-1]}getColumnsWidths(){var e=this.getColumns();return q(e)?e.map(r=>r.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){var r=this._options.items[e-this.getHeaderRowCount()],n=r&&r.groupIndex;return r&&r.rowType==="totalFooter"?0:q(n)?n:this._options.groupColumns.length}getCellType(e,r){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),r<n.length){var i=this._options.items.length&&this._options.items[e],a=n[r];return i&&i.rowType==="data"&&isFinite(i.values[this._correctCellIndex(r)])&&!q(a.customizeText)?q(a.lookup)?a.lookup.dataType:a.dataType:"string"}}ready(){this._initOptions();var e=this._options;return Ve(e.items).done(r=>{e.items=r}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(q(e)&&e.length>0)return e.map(r=>({value:r.value,name:r.name}))}getCellData(e,r,n){var i,a,o={cellSourceData:{},value:i},s=this.getColumns(),l=this._correctCellIndex(r);if(e<this.getHeaderRowCount()){var p=this.getColumns(!0)[e];a=p[r],o.cellSourceData.rowType="header",o.cellSourceData.column=a&&a.gridColumn,o.value=a&&a.caption}else{e-=this.getHeaderRowCount();var h=this._options.items.length&&this._options.items[e];if(h){var m=h.values;switch(o.cellSourceData.rowType=h.rowType,o.cellSourceData.column=s[r]&&s[r].gridColumn,h.rowType){case"groupFooter":case"totalFooter":l<m.length&&(i=m[l],q(i)?(o.cellSourceData.value=i.value,o.cellSourceData.totalSummaryItemName=i.name,o.value=Qe.getSummaryText(i,this._options.summaryTexts)):o.cellSourceData.value=void 0);break;case"group":if(o.cellSourceData.groupIndex=h.groupIndex,r<1)o.cellSourceData.column=this._options.groupColumns[h.groupIndex],o.cellSourceData.value=h.key[h.groupIndex],o.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(h.summaryCells[0]),o.value=this._getGroupValue(h);else{var v=h.values[l];if(Array.isArray(v)){o.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(v),i="";for(var f=0;f<v.length;f++)i+=(f>0?n?`
`:` 
 `:"")+Qe.getSummaryText(v[f],this._options.summaryTexts);o.value=i}else o.cellSourceData.value=void 0}break;default:if(a=s[r],a){var u=m[l],c=Qe.getDisplayValue(a,u,h.data,h.rowType);!isFinite(c)||q(a.customizeText)?n&&q(a.customizeText)&&a.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?o.value=c:o.value=Qe.formatValue(c,a):o.value=c,o.cellSourceData.value=u}o.cellSourceData.data=h.data}}}return o}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,r){var{items:n}=this._options,i=n[e],a=this._correctCellIndex(r),o=i.summaryCells&&i.summaryCells[a]&&i.summaryCells[a].length>0&&i.summaryCells[a][0].alignByColumn;return i&&i.rowType==="groupFooter"||i.rowType==="totalFooter"||o}getCellMerging(e,r){var{columns:n}=this._options,i=n[e]&&n[e][r];return i?{colspan:(i.exportColspan||1)-1,rowspan:(i.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}}class pme extends Qe.ViewController{_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,r){e.width=r}_getColumns(e){var r=[],n,i,a=this._columnsController,o=a.getRowCount();for(n=0;n<=o;n++){var s=[];i=a.getVisibleColumns(n,!0);var l=void 0;if(n===o)if(this._updateLockCount)l=e;else{var p=this._getColumnWidths(this._headersView,this._rowsView);if(p&&p.length){l={};for(var h=0;h<i.length;h++)l[i[h].index]=p[h]}}for(var m=0;m<i.length;m++){var v=Y({},i[m],{dataType:i[m].dataType==="datetime"?"date":i[m].dataType,gridColumn:i[m]});if(this._needColumnExporting(v)){var f=this._calculateExportColspan(v);q(f)&&(v.exportColspan=f),l&&this._updateColumnWidth(v,l[v.index]),s.push(v)}}r.push(s)}return i=r[o],r=sme(r.slice(0,-1),this._getEmptyCell()),r.push(i),r}_calculateExportColspan(e){if(e.isBand){var r=this._columnsController.getChildrenByBandColumn(e.index,!0);if(q(r))return r.reduce((n,i)=>this._needColumnExporting(i)?n+(this._calculateExportColspan(i)||1):n,0)}}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,r){var n=[],i=1,a=0;do{for(var o=[],s=0;s<e.length;s++){var l=e[s],p=l.length;i<p&&(i=p),o.push(l[a])}n.push({values:o,rowType:r?"totalFooter":"groupFooter"})}while(a++<i-1);return n}_hasSummaryGroupFooters(){var e=this.option("summary.groupItems");if(q(e)){for(var r=0;r<e.length;r++)if(e[r].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){for(var r=[],n=[],i=[],a=0;a<e.length;a++){var o=e[a];o.rowType==="groupFooter"?(i=this._getFooterSummaryItems(o.summaryCells),r=r.concat(n,i),n=[]):n.push(o)}return r.length?r:n}_updateGroupValuesWithSummaryByColumn(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],{summaryCells:a}=i;if(i.rowType==="group"&&a&&a.length>1){for(var o=i.values.length,s=1;s<a.length;s++)for(var l=0;l<a[s].length;l++){var p=a[s][l];p&&p.alignByColumn&&(Array.isArray(r[s-o])||(r[s-o]=[]),r[s-o].push(p))}r.length>0&&(i.values.push(...r),r=[])}}}_processUnExportedItems(e){for(var r=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns(),i,a,o=0;o<e.length;o++){var s=e[o],l=!1;i=[],a=[];for(var p=0;p<r.length;p++){var h=r[p];if(l||(l=["detailExpand","buttons"].includes(h.type)),this._needColumnExporting(h)&&(s.values&&(s.rowType==="group"&&!i.length?i.push(s.key[s.groupIndex]):i.push(s.values[p])),s.summaryCells))if(s.rowType==="group"&&!a.length){var m=p-n.length+s.groupIndex;a.push(s.summaryCells[l?m:m+1])}else a.push(s.summaryCells[p])}i.length&&(s.values=i),a.length&&(s.summaryCells=a)}}_getAllItems(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,i=new ae,a=this.getController("data"),o=a.footerItems(),s=o.length&&o[0],l=n.option("summary.totalItems"),p;return Ve(e).done(h=>{a.loadAll(h,r).done((m,v)=>{n._updateGroupValuesWithSummaryByColumn(m),n._hasSummaryGroupFooters()&&(m=n._getItemsWithSummaryGroupFooters(m)),p=s&&s.summaryCells,q(v)&&l&&(p=n._getSummaryCells(l,v));var f=s&&n._getFooterSummaryItems(p,!0);f&&(m=m.concat(f)),n._processUnExportedItems(m),i.resolve(m)}).fail(i.reject)}).fail(i.reject),i}_getSummaryCells(e,r){var n=this.getController("data"),i=n._columnsController;return n._calculateSummaryCells(e,r,i.getVisibleColumns(null,!0),(a,o)=>n._isDataColumn(o)?o.index:-1)}_getSelectedItems(){var e=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(e.loadSelectedItemsWithFilter(),!0):this._getAllItems(e.getSelectedRowsData())}_getColumnWidths(e,r){return e&&e.isVisible()?e.getColumnWidths():r.getColumnWidths()}init(){this.option("export.enabled")&&!q(this.option("onExporting"))&&Et.log("W1024"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){var r=this._getColumnWidths(this._headersView,this._rowsView),n;if(r&&r.length){n={};for(var i=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),a=0;a<i.length;a++)n[i[a].index]=r[a]}return new fme(this,n,e)}exportTo(e,r){this._selectionOnly=e;var n=this.getAction("onExporting"),i={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:r,fileName:"DataGrid",cancel:!1};Me(n)&&n(i)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(q(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}needLoadItemsOnExportingSelectedItems(){var e;return(e=this.option("loadItemsOnExportingSelectedItems"))!==null&&e!==void 0?e:this.getController("data")._dataSource.remoteOperations().filtering}}Qe.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:he.format("dxDataGrid-exportTo"),exportAll:he.format("dxDataGrid-exportAll"),exportSelectedRows:he.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:pme},extenders:{controllers:{editing:{callbackNames(){var t=this.callBase();return q(t)?t.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this._getExportToolbarButton();return e&&(t.push(e),this._correctItemsPosition(t)),t},_getExportToolbarButton(){var t=this._getExportToolbarItems();if(t.length===0)return null;var e=this._needDisableExportButton(),r={name:ume,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:t},disabled:e};if(t.length===1){var n=we(we({},t[0]),{hint:t[0].text,elementAttr:{class:RR}});r.widget="dxButton",r.showText="inMenu",r.options=n}else{var i={icon:PR,displayExpr:"text",items:t,hint:this.option("export.texts.exportTo"),elementAttr:{class:RR},dropDownOptions:{width:"auto",_wrapperClassExternal:lme}};r.options=i,r.widget="dxDropDownButton",r.menuItemTemplate=(a,o,s)=>{this._createComponent(V(s),kc,{items:t})}}return r},_getExportToolbarItems(){var t,e=this.option("export"),r=this.option("export.texts"),n=(t=this.option("export.formats"))!==null&&t!==void 0?t:[];if(!e.enabled)return[];var i=[];return n.forEach(a=>{var o=a.toUpperCase(),s=PR,l=dme;a==="xlsx"&&(o="Excel",s=cme),a==="pdf"&&(s=hme),i.push({text:la(r.exportAll,o),icon:s,onClick:()=>{this._exportController.exportTo(!1,a)}}),e.allowExportSelectedData&&i.push({text:la(r.exportSelectedRows,o),icon:l,onClick:()=>{this._exportController.exportTo(!0,a)}})}),i},_correctItemsPosition(t){t.sort((e,r)=>e.sortIndex-r.sortIndex)},_isExportButtonVisible(){return this.option("export.enabled")},optionChanged(t){this.callBase(t),t.name==="export"&&(t.handled=!0,this._invalidate(),t.fullName==="export.enabled"&&t.value&&!q(this.option("onExporting"))&&Et.log("W1024"))},_needDisableExportButton(){var t=!this._columnsController.hasVisibleDataColumns(),e=this._editingController.hasChanges();return t||e},_columnOptionChanged(t){this.callBase(t);var e=Qe.checkChanges(t.optionNames,["groupIndex","visible","all"]);if(e){var r=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",r)}},init(){this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add(()=>{var t=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",t)})},isVisible(){return this.callBase()||this._isExportButtonVisible()}}}}});var mme=(t,e,r)=>{var{isRemoteFiltering:n,dateSerializationFormat:i,getSelector:a}=r,{selector:o}=t,s=Me(o)?o:a(o),l=s?s(e):e[o],p=n&&Kn(l)?Vr.serializeDate(l,i):l;return{getter:s,rawValue:l,safeValue:p}},vme={getSortFilterValue:mme},$h="dx-row-focused",gme=".dx-row.".concat($h),_me="table",MR="dx-cell-focus-disabled",yme=ar.ViewController.inherit(function(){var t={init(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged(e){var{name:r,value:n,previousValue:i}=e;switch(r){case"focusedRowIndex":this._focusRowByIndex(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(i))return;this._focusRowByKey(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:this.callBase(e)}},isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex(e,r){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,r))},_focusRowByIndexCore(e,r){var n=this.getController("data"),i=n.pageSize(),a=()=>{if(this._isValidFocusedRowIndex(e)){var s=e-n.getRowIndexOffset(!0);if(!r||r.paging&&!r.filtering){var l=n._getLastItemIndex();s=Math.min(s,l)}var p=n.getKeyByRowIndex(s,!0);q(p)&&!this.isRowFocused(p)&&this.option("focusedRowKey",p)}};if(i>=0)if(this._isLocalRowIndex(e))a();else{var o=Math.floor(e/n.pageSize());Ve(n.pageIndex(o),n.waitReady()).done(()=>{a()})}},_isLocalRowIndex(e){var r=this.getController("data"),n=this.getController("keyboardNavigation")._isVirtualScrolling();if(n){var i=Math.floor(e/r.pageSize()),a=r.virtualItemsCount(),o=a?a.begin:-1,s=r.getVisibleRows().length+r.getRowIndexOffset(),l=Math.ceil(s/r.pageSize());return o<=e&&l>i}return!0},_setFocusedRowKeyByIndex(e){var r=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-r.getRowIndexOffset(),r.items().length-1),i=r.getKeyByRowIndex(n);q(i)&&!this.isRowFocused(i)&&this.option("focusedRowKey",i)}},_focusRowByKey(e){q(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow(){var e=this.option("focusedRowKey"),r=q(e);if(!(!r&&this.option("focusedRowIndex")<0)){var n=this.getController("keyboardNavigation");r&&this.option("focusedRowKey",null),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex(e){var r=this.getController("data"),n=r.getVisibleRows()[e];return!n||n.rowType==="data"||n.rowType==="group"},publicMethods:()=>["navigateToRow","isRowFocused"],navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow(e,r){var n=this,i=n.getController("data"),a=n.isAutoNavigateToFocusedRow(),o=new ae;if(e===void 0||!i.dataSource())return o.reject().promise();var s=n.getFocusedRowIndexByKey(e);return!a&&r||s>=0?n._navigateTo(e,o,r):i.getPageIndexByKey(e).done(l=>{if(l<0){o.resolve(-1);return}l===i.pageIndex()?i.reload().done(()=>{n.isRowFocused(e)&&i.getRowIndexByKey(e)>=0?o.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,o,r)}).fail(o.reject):i.pageIndex(l).done(()=>{n._navigateTo(e,o,r)}).fail(o.reject)}).fail(o.reject),o.promise()},_navigateTo(e,r,n){var i=this.getController("data").getRowIndexByKey(e),a=Te.isVirtualRowRendering(this),o=this.isAutoNavigateToFocusedRow();o&&a&&i<0?this._navigateToVirtualRow(e,r,n):this._navigateToVisibleRow(e,r,n)},_navigateToVisibleRow(e,r,n){if(n)this._triggerUpdateFocusedRow(e,r);else{var i=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,r).done(()=>{r.resolve(i)})}},_navigateToVirtualRow(e,r,n){var i=this.getController("data"),a=i._rowsScrollController,o=Te.getIndexByKey(e,i.items(!0)),s=this.getView("rowsView").getScrollable();if(a&&s&&o>=0){var l=o+i.getRowIndexOffset(!0),p=a.getItemOffset(l),h=()=>{i.totalCount()&&!i.items().length||(this.component.off("contentReady",h),n?this._triggerUpdateFocusedRow(e,r):r.resolve(l))};this.component.on("contentReady",h),this.getView("rowsView").scrollTopPosition(p)}else r.resolve(-1)},_triggerUpdateFocusedRow(e,r){var n=this.getController("data"),i=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(i)){var a;this.option("focusedRowEnabled")?n.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):a=this.getView("rowsView").scrollToRowElement(e),Ve(a).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(i),r&&r.resolve(i)})}else r&&r.resolve(-1)},getFocusedRowIndexByKey(e){var r=this.getController("data"),n=r.getRowIndexByKey(e,!0);return n>=0?n+r.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex(){var e=this.option("focusedRowKey"),r=this.option("focusedRowIndex"),n=this.getController("keyboardNavigation"),i=this.getController("data");if(q(e)){var a=i.getRowIndexByKey(e);a>=0?(n._isVirtualScrolling()&&(r=a+i.getRowIndexOffset()),n.setFocusedRowIndex(r),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(o=>{r>=0&&o<0?this._focusRowByIndex():r<0&&o>=0&&n.setFocusedRowIndex(o)})}else r>=0&&this.getController("focus")._focusRowByIndex(r)},isRowFocused(e){var r=this.option("focusedRowKey");if(q(r))return Jt(e,this.option("focusedRowKey"))},updateFocusedRow(e){var{focusedRowKey:r}=e,n=this,i=n._dataController.getRowIndexByKey(r),a=n.getView("rowsView"),o,s;te(a.getTableElements(),(l,p)=>{var h=l===0;o=V(p),n._clearPreviousFocusedRow(o,i);var m=n._prepareFocusedRow({changedItem:n._dataController.getVisibleRows()[i],$tableElement:o,focusedRowIndex:i});h&&(s=m)}),s&&a.scrollToElementVertically(s)},_clearPreviousFocusedRow(e,r){var n=e.find(gme).filter((a,o)=>{var s=V(o).closest(".".concat(this.addWidgetPrefix(_me)));return e.is(s)});if(n.removeClass($h).removeClass(MR).removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),r!==0){var i=V(this.getView("rowsView").getRowElement(0));i.removeClass(MR).removeAttr("tabIndex")}},_prepareFocusedRow(e){var r,{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){var{focusedRowIndex:i}=e,{$tableElement:a}=e,o=this.option("tabindex")||0,s=this.getView("rowsView");r=V(s._getRowElements(a).eq(i)),r.addClass($h).attr("tabindex",o)}return r}};return t}()),BR={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:yme},extenders:{controllers:{keyboardNavigation:{init(){var t=this.option("focusedRowIndex"),e=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},q(t)&&t>=0&&(this._focusedCellPosition.rowIndex=t),q(e)&&e>=0&&(this._focusedCellPosition.columnIndex=e)},setFocusedRowIndex(t){this.callBase(t),this.option("focusedRowIndex",t)},setFocusedColumnIndex(t){this.callBase(t),this.option("focusedColumnIndex",t)},_escapeKeyHandler(t,e){if(e||!this.option("focusedRowEnabled")){this.callBase(t,e);return}this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(t.originalEvent.target),!0))},_updateFocusedCellPosition(t,e){var r=this.callBase(t,e);r&&r.columnIndex>=0&&this._fireFocusedCellChanged(t)}},editorFactory:{renderFocusOverlay(t,e){var r=this.getController("keyboardNavigation"),n=this.option("focusedRowEnabled"),i=this.getController("editing"),a;if(!n||!(r!=null&&r.isRowFocusType())||i.isEditing())this.callBase(t,e);else if(n){var o=r._getElementType(t)==="row";o&&!t.hasClass($h)&&(a=r.getFirstValidCellInRow(t),r.focus(a))}}},columns:{getSortDataSourceParameters(t,e){var r=this.callBase.apply(this,arguments),n=this.getController("data"),i=n._dataSource,a=n.store(),o=a&&a.key(),s=i&&i.remoteOperations()||{},l=Object.keys(s).every(h=>!s[h]);if(o&&(this.option("focusedRowEnabled")&&this.getController("focus").isAutoNavigateToFocusedRow()!==!1||e)){o=Array.isArray(o)?o:[o];var p=o.filter(h=>!this.columnOption(h,"sortOrder"));p.length&&(r=r||[],l?r.push({selector:i.getDataIndexGetter(),desc:!1}):p.forEach(h=>r.push({selector:h,desc:!1})))}return r}},data:{_applyChange(t){if(!(t&&t.changeType==="updateFocusedRow"))return this.callBase.apply(this,arguments)},_fireChanged(t){if(this.callBase(t),this.option("focusedRowEnabled")&&this._dataSource){var e=t.changeType==="update"&&t.repaintChangesOnly,r=e&&t.changeTypes&&t.changeTypes.indexOf("remove")>=0;t.changeType==="refresh"&&t.items.length||r?(this._updatePageIndexes(),this._updateFocusedRow(t)):t.changeType==="append"||t.changeType==="prepend"?this._updatePageIndexes():t.changeType==="update"&&t.repaintChangesOnly&&this._updateFocusedRow(t)}},_updatePageIndexes(){var t=this._lastRenderingPageIndex||0,e=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=e,this._isPagingByRendering=e!==t},isPagingByRendering(){return this._isPagingByRendering},_updateFocusedRow(t){var e=t.operationTypes||{},r=this.getController("focus"),{reload:n,fullReload:i,pageIndex:a,paging:o}=e,s=this.getController("keyboardNavigation"),l=s._isVirtualScrolling(),p=o&&!l,h=this.option("focusedRowKey"),m=r.isAutoNavigateToFocusedRow(),v=n&&a===!1;if(v&&!i&&q(h))r._navigateToRow(h,!0).done(g=>{g<0&&r._focusRowByIndex(void 0,e)});else if(p&&m){var f=this.getRowIndexByKey(h),u=this.option("focusedRowIndex"),c=f>=0,d=u>=0,_=u===f;d&&(_||!c)&&r._focusRowByIndex(u,e)}else p&&!m&&this.getRowIndexByKey(h)<0?this.option("focusedRowIndex",-1):e.fullReload&&r._focusRowByKeyOrIndex()},getPageIndexByKey(t){var e=this,r=new ae;return e.getGlobalRowIndexByKey(t).done(n=>{r.resolve(n>=0?Math.floor(n/e.pageSize()):-1)}).fail(r.reject),r.promise()},getGlobalRowIndexByKey(t){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(t):this._calculateGlobalRowIndexByFlatData(t)},_calculateGlobalRowIndexByFlatData(t,e,r){var n=this,i=new ae,a=n._dataSource;if(Array.isArray(t)||Pse(t))return i.resolve(-1).promise();var o=n._generateFilterByKey(t);return a.load({filter:n._concatWithCombinedFilter(o),skip:0,take:1}).done(s=>{s.length>0?(o=n._generateOperationFilterByKey(t,s[0],r),a.load({filter:n._concatWithCombinedFilter(o,e),skip:0,take:1,requireTotalCount:!0}).done((l,p)=>{i.resolve(p.totalCount)})):i.resolve(-1)}),i.promise()},_concatWithCombinedFilter(t,e){var r=this.getCombinedFilter();return Te.combineFilters([t,r,e])},_generateBooleanFilter(t,e,r){var{desc:n}=r;switch(!0){case(e===!1&&n):return[t,"=",!0];case(e===!1&&!n):return[t,"=",null];case(e===!0&&!n):case(!wh(e)&&n):return[t,"<>",e];default:return}},_generateOperationFilterByKey(t,e,r){var n=this,i=n.option("dateSerializationFormat"),a=n._dataSource.remoteOperations().filtering,o=n._generateFilterByKey(t,"<"),s=n._columnsController.getSortDataSourceParameters(!a,!0);if(r){var l=n._columnsController.getGroupDataSourceParameters(!a);l&&(s=s?l.concat(s):l)}return s&&s.slice().reverse().forEach(p=>{var{selector:h,desc:m,compare:v}=p,{getter:f,rawValue:u,safeValue:c}=vme.getSortFilterValue(p,e,{isRemoteFiltering:a,dateSerializationFormat:i,getSelector:y=>n._columnsController.columnOption(y,"selector")});if(o=[[h,"=",c],"and",o],u===null||wh(u)){var d=n._generateBooleanFilter(h,c,m);d&&(o=[d,"or",o])}else{var _=m?">":"<",g;v?g=y=>_==="<"?v(u,f(y))>=1:v(u,f(y))<=-1:(g=[h,_,c],m||(g=[g,"or",[h,"=",null]])),o=[g,"or",o]}}),o},_generateFilterByKey(t,e){var r=this._dataSource.key(),n=[];if(e||(e="="),Array.isArray(r))for(var i=0;i<r.length;++i){var a=t[r[i]];a&&(n.length>0&&n.push("and"),n.push([r[i],e,a]))}else n=[r,e,t];return n},_getLastItemIndex(){return this.items(!0).length-1}},editing:{_deleteRowCore(t){var e=this.callBase.apply(this,arguments),r=this.getController("data"),n=r.getKeyByRowIndex(t);e.done(()=>{var i=r.getRowIndexByKey(n),a=r.getVisibleRows();i===-1&&!a.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&t&&this.getController("focus").isRowFocused(t.key)&&e.addClass($h),e},_checkRowKeys(t){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var e=this._dataController.store();e&&!e.key()&&this._dataController.fireError("E1042","Row focusing")}},_update(t){t.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(t):this.callBase(t)},updateFocusElementTabIndex(t,e){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(e):this.callBase(t)},_setFocusedRowElementTabIndex(t){var e=this.option("focusedRowKey"),r=this.option("tabIndex")||0,n=this._dataController,i=this._columnsController,a=n.getRowIndexByKey(e),o=this.option("focusedColumnIndex"),s=this._findRowElementForTabIndex();if(q(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),s.attr("tabIndex",r),a>=0&&!t&&(o<0&&(o=0),a+=n.getRowIndexOffset(),o+=i.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(a,o),this.getController("focus").isAutoNavigateToFocusedRow())){var l=n.dataSource(),p=l&&l.operationTypes();p&&!p.paging&&!n.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex(){var t=this.option("focusedRowKey"),e=this._dataController.getRowIndexByKey(t);return V(this.getRowElement(e>=0?e:0))},scrollToRowElement(t){var e=this.getController("data").getRowIndexByKey(t),r=V(this.getRow(e));return this.scrollToElementVertically(r)},scrollToElementVertically(t){var e=this.getScrollable();if(e&&t.length){var r=e.getScrollElementPosition(t,"vertical");return this.scrollTopPosition(r)}return new ae().resolve()},scrollTopPosition(t){var e=new ae,r=this.getScrollable();if(r){var n=r.scrollTop(),i=()=>{r.off("scroll",i),e.resolve()};if(t!==n)return r.on("scroll",i),this._dataController.resetFilterApplying(),r.scrollTo({top:t}),e.promise()}return e.resolve()}}}}},bme=Number.MAX_SAFE_INTEGER||9007199254740991;Qe.registerModule("focus",Y(!0,{},BR,{extenders:{controllers:{data:t=>class extends t.inherit(BR.extenders.controllers.data){changeRowExpand(e,r){if(this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)){var n=this.getController("keyboardNavigation");(!r||!n.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e)}return super.changeRowExpand(e,r)}_isFocusedRowInsideGroup(e){var r=this.getController("columns"),n=this.option("focusedRowKey"),i=this.getRowIndexByKey(n),a=i>=0&&this.getVisibleRows()[i],o=r.getGroupDataSourceParameters(!0);if(a)for(var s=0;s<e.length;++s){var l=er(o[s]&&o[s].selector);if(l(a.data)!==e[s])return!1}return!0}_getGroupPath(e,r){for(var n=[],i=[e];i&&i[0]&&r;){var a=i[0];a.key!==void 0&&n.push(a.key),i=a.items,r--}return n}_expandGroupByPath(e,r,n){var i=new ae;return n++,e.expandRow(r.slice(0,n)).done(()=>{n===r.length?i.resolve():e._expandGroupByPath(e,r,n).done(i.resolve).fail(i.reject)}).fail(i.reject),i.promise()}_calculateGlobalRowIndexByGroupedData(e){var r=this,n=r._dataSource,i=r._generateFilterByKey(e),a=new ae,o=Array.isArray(e),s=n.group();return o?a.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:r._concatWithCombinedFilter(i),group:s}).done(l=>{if(!l||l.length===0||!q(l[0].key)||l[0].key===-1)return a.resolve(-1).promise();var p=r._getGroupPath(l[0],s.length);r._expandGroupByPath(r,p,0).done(()=>{r._calculateExpandedRowGlobalIndex(a,e,p,s)}).fail(a.reject)}).fail(a.reject),a.promise()):(r._calculateGlobalRowIndexByFlatData(e,null,!0).done(a.resolve).fail(a.reject),a)}_calculateExpandedRowGlobalIndex(e,r,n,i){var a=nl(n,{group:i}),o=this._dataSource,s=this.option("scrolling.mode"),l=s==="virtual"||s==="infinite",p=o.pageSize(),h;o._grouping._updatePagingOptions({skip:0,take:bme},(m,v)=>{Jt(m.path,n)&&(h=v)}),this._calculateGlobalRowIndexByFlatData(r,a).done(m=>{var v,f;if(m<0){e.resolve(-1);return}var u=h%p||p;v=u+m-n.length,l?f=0:f=Math.floor(v/(p-n.length))*n.length,v=h+m+f,e.resolve(v)}).fail(e.reject)}}}}}));var LR=pt(),Cme="keydown",Ha="dxDraggable",wme=Ee(Ol,Ha),xme=Ee(_s,Ha),Sme=Ee(kl,Ha),Eme=Ee(Fg,Ha),Ime=Ee(Ng,Ha),Tme=Ee(Mt.down,Ha),Ome=Ee(Cme,Ha),FR="clone",vb,yu,kme="content",Nw=t=>({x:t.pageX-V(LR).scrollLeft(),y:t.pageY-V(LR).scrollTop()}),Ame="dx-gesture-cover",Dme="dx-overlay-wrapper",Rme="dx-overlay-content";class NR{constructor(e,r){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=r,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,r){var n=!1;e.some(i=>{var a=V(i),o=a.hasClass(Dme),s=a.hasClass(Rme);return o||s?!0:(n=this._trySetScrollable(i,r),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?ot(e):vt(e))}_trySetScrollable(e,r){var n=V(e),i,a=this._component.option("scrollSensitivity"),o=this.isScrollable(n);return o&&(i=this._calculateDistanceToBorders(n,r),a>i[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(i[this._limitProps.start]),this._$scrollableAtPointer=n):a>i[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(i[this._limitProps.end]),this._$scrollableAtPointer=n):(o=!1,this._preventScroll=!1)),o}_calculateDistanceToBorders(e,r){var n=e.get(0),i;return n?(i=Hr(n),{left:r.x-i.left,top:r.y-i.top,right:i.right-r.x,bottom:i.bottom-r.y}):{}}_calculateScrollSpeed(e){var r=this._component,n=r.option("scrollSensitivity"),i=r.option("scrollSpeed");return Math.ceil(Math.pow((n-e)/n,2)*i)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var e=this._$scrollableAtPointer.closest(".dx-scrollable"),r=e.data("dxScrollable")||e.data("dxScrollView");if(r){var n=r.scrollOffset()[this._limitProps.start]+this._scrollSpeed;r.scrollTo({[this._limitProps.start]:n})}}else{var i=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](i)}var a=this._component._dragMoveArgs;a&&this._component._dragMoveHandler(a)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,r){if(!e)return!1;var n=Hr(e.get(0)),i=n[this._limitProps.start],a=n[this._sizeAttr],o=Nw(r),s=this._sizeAttr==="width"?o.x:o.y;return s<i||s>i+a}}var Pme=hB.inherit({ctor(t){this.callBase(),this._strategy=t},_step(){var t=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),e&&e.scrollByStep()}}),p8=za.inherit({reset:oe,dragMove:oe,dragEnter:oe,dragLeave:oe,dragEnd(t){var e=this._getSourceDraggable();return e._fireRemoveEvent(t),ae().resolve()},_fireRemoveEvent:oe,_getDefaultOptions(){return Y(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),Y(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new Pme(this),this._horizontalScrollHelper=new NR("horizontal",this),this._verticalScrollHelper=new NR("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset(t){return rt(t)&&(t={h:t.x,v:t.y}),t=Nl(t).map(e=>parseFloat(e)),{left:t[0],top:t.length===1?t[0]:t[1]}},_getNormalizedCursorOffset(t,e){return Me(t)&&(t=t.call(this,e)),this._normalizeCursorOffset(t)},_calculateElementOffset(t){var e,r,{event:n}=t,i=V(t.itemElement),a=V(t.dragElement),o=this._dragElementIsCloned(),s=this.option("cursorOffset"),l={left:0,top:0},p=this._initialLocate=Vi(a);return(o||t.initialOffset||s)&&(e=t.initialOffset||i.offset(),s&&(l=this._getNormalizedCursorOffset(s,t),isFinite(l.left)&&(e.left=n.pageX),isFinite(l.top)&&(e.top=n.pageY)),r=a.offset(),e.top-=r.top+(l.top||0)-p.top,e.left-=r.left+(l.left||0)-p.left),e},_initPosition(t){var e=V(t.dragElement),r=this._calculateElementOffset(t);r&&this._move(r,e),this._startPosition=Vi(e)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(t){var e=this.NAME;return ax(e)+(t?"-".concat(t):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var t=this.$element(),e=t.children(".dx-template-wrapper");return e.length?e:t},_attachEventHandlers(){if(!this.option("disabled")){var t=this._$content(),e=this._getItemsSelector(),r=this.option("allowMoveByClick"),n={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(i,a)=>{var o=this.option("group"),s=this._getSourceDraggable().option("group"),l=this._getScrollable(i);return this._verticalScrollHelper.isOutsideScrollable(l,a)||this._horizontalScrollHelper.isOutsideScrollable(l,a)?!1:s&&s===o}};r&&(t=this._getArea(),X.on(t,Tme,n,this._pointerDownHandler.bind(this))),e[0]===">"&&(e=e.slice(1)),X.on(t,wme,e,n,this._dragStartHandler.bind(this)),X.on(t,xme,n,this._dragMoveHandler.bind(this)),X.on(t,Sme,n,this._dragEndHandler.bind(this)),X.on(t,Eme,n,this._dragEnterHandler.bind(this)),X.on(t,Ime,n,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&X.on(t,Ome,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(FR))},_getDragTemplateArgs(t,e){return{container:et(e),model:{itemData:this.option("itemData"),itemElement:et(t)}}},_createDragElement(t){var e=t,r=this.option("clone"),n=this._getContainer(),i=this.option("dragTemplate");return i?(i=this._getTemplate(i),e=V("<div>").appendTo(n),i.render(this._getDragTemplateArgs(t,e))):r&&(e=V("<div>").appendTo(n),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix(FR),e.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){X.off(this._$content(),".".concat(Ha)),X.off(this._getArea(),".".concat(Ha))},_move(t,e){dn(e||this._$dragElement,t)},_getDraggableElement(t){var e=this._getSourceElement();if(e)return e;var r=this.option("allowMoveByClick");if(r)return this.$element();var n=V(t&&t.target),i=this._getItemsSelector();if(i[0]===">"){var a=this._$content().find(i);a.is(n)||(n=n.closest(a))}return n},_getSourceElement(){var t=this._getSourceDraggable();return t._$sourceElement},_pointerDownHandler(t){if(!Y3(t)){var e={},r=this.$element(),n=this.option("dragDirection");(n==="horizontal"||n==="both")&&(e.left=t.pageX-r.offset().left+Vi(r).left-ot(r)/2),(n==="vertical"||n==="both")&&(e.top=t.pageY-r.offset().top+Vi(r).top-vt(r)/2),this._move(e,r),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement(t,e){var r=this.option("handle"),n=V(t.originalEvent&&t.originalEvent.target);return r&&!n.closest(r).length||!e.length?!1:!e.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler(t){var e=this._getDraggableElement(t);if(this.dragInProgress=!0,!this._isValidElement(t,e)){t.cancel=!0;return}if(!this._$sourceElement){var r=this._getDragStartArgs(t,e);if(this._getAction("onDragStart")(r),r.cancel){t.cancel=!0;return}this.option("itemData",r.itemData),this._setSourceDraggable(),this._$sourceElement=e;var n=e.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),n=this._getDraggableElementOffset(n.left,n.top));var i=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(i.children());var a=i.css("position")==="fixed";this._initPosition(Y({},r,{dragElement:i.get(0),initialOffset:a&&n})),this._getAction("onDraggableElementShown")(we(we({},r),{dragElement:i}));var o=this._getArea(),s=this._getAreaOffset(o),l=this._getBoundOffset(),p=Pt(o),h=xt(o),m=ot(i),v=vt(i),f=i.offset().left-s.left,u=i.offset().top-s.top;o.length&&(t.maxLeftOffset=f-l.left,t.maxRightOffset=p-f-m-l.right,t.maxTopOffset=u-l.top,t.maxBottomOffset=h-u-v-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset(t){var e=t&&ca.offset(t);return e||{left:0,top:0}},_toggleDraggingClass(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass(t,e){var r=e||this._$sourceElement;r&&r.toggleClass(this._addWidgetPrefix("source"),t)},_setGestureCoverCursor(t){V(".".concat(Ame)).css("cursor",t.css("cursor"))},_getBoundOffset(){var t=this.option("boundOffset");return Me(t)&&(t=t.call(this)),O9(t)},_getArea(){var t=this.option("boundary");return Me(t)&&(t=t.call(this)),V(t)},_getContainer(){var t=this.option("container");return t===void 0&&(t=gs()),V(t)},_getDraggableElementOffset(t,e){var r,n,i,a,o=this._initScrollTop,s=this._initScrollLeft,l=this._getScrollableScrollTop(),p=this._getScrollableScrollLeft(),h=V(this.element()).css("position"),m=h==="fixed",v={left:((n=(r=this._startPosition)===null||r===void 0?void 0:r.left)!==null&&n!==void 0?n:0)+t,top:((a=(i=this._startPosition)===null||i===void 0?void 0:i.top)!==null&&a!==void 0?a:0)+e};return m||this._hasClonedDraggable()?v:{left:qt(p)?v.left+p-s:v.left,top:qt(l)?v.top+l-o:v.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(t){if(this._dragMoveArgs=t,!this._$dragElement){t.cancel=!0;return}var e=this._getDraggableElementOffset(t.offset.x,t.offset.y);this._move(e),this._updateScrollable(t);var r=this._getEventArgs(t);if(this._getAction("onDragMove")(r),r.cancel!==!0){var n=this._getTargetDraggable();n.dragMove(t,scrollBy)}},_updateScrollable(t){if(this.option("autoScroll")){var e=Nw(t),r=Ce.elementsFromPoint(e.x,e.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(r,e),this._horizontalScrollHelper.updateScrollable(r,e)}},_getScrollable(t){var e;return t.parents().toArray().some(r=>{var n=V(r);return this._horizontalScrollHelper.isScrollable(n)||this._verticalScrollHelper.isScrollable(n)?(e=n,!0):!1}),e},_getScrollableScrollTop(){var t,e;return(e=(t=this._getScrollable(V(this.element())))===null||t===void 0?void 0:t.scrollTop())!==null&&e!==void 0?e:0},_getScrollableScrollLeft(){var t,e;return(e=(t=this._getScrollable(V(this.element())))===null||t===void 0?void 0:t.scrollLeft())!==null&&e!==void 0?e:0},_defaultActionArgs(){var t=this.callBase.apply(this,arguments),e=this.option("component");return e&&(t.component=e,t.element=e.element()),t},_getEventArgs(t){var e=this._getSourceDraggable(),r=this._getTargetDraggable();return{event:t,itemData:e.option("itemData"),itemElement:et(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:r.option("component")||r,fromData:e.option("data"),toData:r.option("data")}},_getDragStartArgs(t,e){var r=this._getEventArgs(t);return{event:r.event,itemData:r.itemData,itemElement:e,fromData:r.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(t){var e=ae(),r=this._getEventArgs(t),n=this._getEventArgs(t),i=this._getTargetDraggable(),a=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(r)}finally{Ve(cn(r.cancel)).done(o=>{if(!o&&(i!==this&&i._getAction("onDrop")(n),!n.cancel)){a=!1,Ve(cn(i.dragEnd(r))).always(e.resolve);return}e.resolve()}).fail(e.resolve),e.done(()=>{a&&this._revertItemToInitialPosition(),this._resetDragOptions(i)})}},_isTargetOverAnotherDraggable(t){var e=this._getSourceDraggable();if(this===e)return!1;var r=e._$dragElement,n=e.$element(),i=this.$element(),a=Nw(t),o=Ce.elementsFromPoint(a.x,a.y,this.element()),s=o.filter(m=>{var v=V(m);return v.hasClass(this._addWidgetPrefix())?!v.closest(r).length:!1})[0],l=this._getSourceElement(),p=s===n.get(0),h=V(s).closest(l).length;return!s||s===i.get(0)&&!p&&!h},_dragEnterHandler(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable();var e=this._getSourceDraggable();e.dragEnter(t)},_dragLeaveHandler(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var e=this._getSourceDraggable();e.dragLeave(t)},_keydownHandler(t){this.dragInProgress&&t.key==="Escape"&&this._keydownEscapeHandler(t)},_keydownEscapeHandler(t){var e=this._getSourceElement();if(e){var r=this._getEventArgs(t);if(this._getAction("onDragCancel")(r),!r.cancel){this.dragInProgress=!1,yu==null||yu._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var n=this._getTargetDraggable();this._resetDragOptions(n),this._attachEventHandlers()}}},_getAction(t){return this["_".concat(t,"Action")]||this._createActionByOption(t)},_getAnonymousTemplateName:()=>kme,_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new fl}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&V(e.render({container:this.element(),transclude:t}))},_optionChanged(t){var{name:e}=t;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(t)}},_getTargetDraggable(){return vb||this},_getSourceDraggable(){return yu||this},_setTargetDraggable(){var t=this.option("group"),e=this._getSourceDraggable();t&&t===e.option("group")&&(vb=this)},_setSourceDraggable(){yu=this},_resetSourceDraggable(){yu=null},_resetTargetDraggable(){vb=null},_resetDragOptions(t){this.reset(),t.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(t){var e=this._getEventArgs(t);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent(t){var e=this._getEventArgs(t);this._getAction("onDragLeave")(e)}});Rt(Ha,p8);var VR=pt(),Mme="dxSortable",HR="placeholder",Bme="clone",jR=t=>V(t).is(":visible"),Lme=(t,e)=>{var r,n;if(t){var i=((r=e.to)===null||r===void 0?void 0:r.left)||0,a=((n=e.to)===null||n===void 0?void 0:n.top)||0;t.style.transform="translate(".concat(i,"px,").concat(a,"px)"),t.style.transition="transform ".concat(e.duration,"ms ").concat(e.easing)}},Fme=t=>{t&&(t.style.transform="",t.style.transition="")};function Nme(t){var e=t.offset(),{style:r}=t[0],n=parseFloat(r.paddingLeft)||0,i=parseFloat(r.paddingRight)||0,a=parseFloat(r.paddingTop)||0,o=t[0].clientWidth-(n+i),s=vt(t),l=e.left+n,p=e.top+a;return{left:l,right:l+o,top:p,bottom:p+s}}var m8=p8.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return Y(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(t,e)=>t.slice(0,e).reverse().filter(jR)[0],_dragStartHandler(t){if(this.callBase.apply(this,arguments),t.cancel!==!0){var e=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(t),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(t){var e=this._getScrollable(V(t.target));e&&(this._sourceScrollableInfo={element:e,scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()},X.off(e,"scroll",this._sourceScrollHandler),X.on(e,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(X.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(t){var e=this._sourceScrollableInfo;e&&["scrollLeft","scrollTop"].forEach(r=>{if(t.target[r]!==e[r]){var n=t.target[r]-e[r];this._correctItemPoints(n),this._movePlaceholder(),e[r]=t.target[r]}})},_dragEnterHandler(t){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(t),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),r=e[e.length-1];if(r){var n=this.$element(),i=this._getSourceElement(),a=this._isVerticalOrientation(),o=a?xt(i,!0):Pt(i,!0),s=n.get(0)[a?"scrollHeight":"scrollWidth"],l=n.get(0)[a?"scrollTop":"scrollLeft"],p=a?"top":"left",h=r[p],m=n.offset()[p],v=m+s-l-h;if(v<o&&a){var f=this._getItems(),u=V(this._getPrevVisibleItem(f));this._$modifiedItem=u,this._modifiedItemMargin=u.get(0).style.marginBottom,u.css("marginBottom",o-v);var c=u.closest(".dx-sortable"),d=c.data("dxScrollable")||c.data("dxScrollView");d&&d.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(t){var e=this._getTargetDraggable(),r=e.$element(),n=this._getScrollable(r);if(n){var{left:i,right:a,top:o,bottom:s}=Nme(n),l=this.option("toIndex"),p=this.option("itemPoints"),h=p==null?void 0:p.filter(v=>v.index===l)[0];if(h&&h.top!==void 0){var m=this._isVerticalOrientation();return m?o<=Math.ceil(h.top)&&Math.floor(h.top)<=s:i<=Math.ceil(h.left)&&Math.floor(h.left)<=a}}return!0},dragEnd(t){this._unsubscribeFromSourceScroll();var e=this._getSourceElement(),r=this._getSourceDraggable(),n=r.NAME!==this.NAME,i=this.option("toIndex"),{event:a}=t,o=this._allowDrop(a);if(i!==null&&i>=0&&o){var s,l;if(r!==this&&(s=this._fireAddEvent(a),s||(l=this._fireRemoveEvent(a))),n&&cf(e),this.option("moveItemOnDrop")&&!s&&this._moveItem(e,i,l),r===this)return this._fireReorderEvent(a)}return ae().resolve()},dragMove(t){var e=this.option("itemPoints");if(e){for(var r=this._isVerticalOrientation(),n=r?"top":"left",i=r?t.pageY:t.pageX,a=this.option("rtlEnabled"),o,s=e.length-1;s>=0;s--){var l=e[s+1]&&(e[s][n]+e[s+1][n])/2;if((!r&&a?i>l:l>i)||l===void 0)o=e[s];else break}o&&(this._updatePlaceholderPosition(t,o),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder(){var t;return this._isIndicateMode()&&(t=V("<div>").addClass(this._addWidgetPrefix(HR)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=t,t},_getItems(){var t=this._getItemsSelector();return this._$content().find(t).not(".".concat(this._addWidgetPrefix(HR))).not(".".concat(this._addWidgetPrefix(Bme))).toArray()},_allowReordering(){var t=this._getSourceDraggable(),e=this._getTargetDraggable();return t!==e||this.option("allowReordering")},_isValidPoint(t,e,r){var n=this.option("allowDropInsideItem"),i=r||this._allowReordering();return!i&&(t!==0||!n)?!1:this._isIndicateMode()?e===-1||t!==e&&(r||t!==e+1):!0},_getItemPoints(){var t=[],e,r,n,i=this.option("rtlEnabled"),a=this._isVerticalOrientation(),o=this._getItems(),s=o.filter(jR),l=s.length,p=this._getDraggableElement(),h=s.indexOf(p.get(0));if(l){for(var m=0;m<=l;m++){var v=!a&&i^m===l,f=a&&m===l;m<l&&(e=V(s[m]),r=e.offset(),n=Pt(e)),t.push({dropInsideItem:!1,left:r.left+(v?n:0),top:r.top+(f?t[m-1].height:0),index:m===l?o.length:o.indexOf(e.get(0)),$item:e,width:Pt(e),height:xt(e),isValid:this._isValidPoint(m,h)})}if(this.option("allowDropInsideItem")){var u=t;t=[];for(var c=0;c<u.length;c++)t.push(u[c]),u[c+1]&&t.push(Y({},u[c],{dropInsideItem:!0,top:Math.floor((u[c].top+u[c+1].top)/2),left:Math.floor((u[c].left+u[c+1].left)/2),isValid:this._isValidPoint(c,h,!0)}))}}else t.push({dropInsideItem:!1,index:0,isValid:!0});return t},_updateItemPoints(t){(t||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(t){var e=this.option("itemPoints");if(t&&e&&!this.option("autoUpdate")){var r=this._isVerticalOrientation(),n=r?"top":"left";e.forEach(i=>{i[n]-=t})}},_getElementIndex(t){return this._getItems().indexOf(t.get(0))},_getDragTemplateArgs(t){var e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(t),e},_togglePlaceholder(t){this._$placeholderElement&&this._$placeholderElement.toggle(t)},_isVerticalOrientation(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex(t,e){var r=this._getSourceDraggable()!==this._getTargetDraggable(),n=this._getActualFromIndex();return t===null?n:Math.max(r||n>=t||e?t:t-1,0)},_updatePlaceholderPosition(t,e){var r=this._getSourceDraggable(),n=this._normalizeToIndex(e.index,e.dropInsideItem),i=Y(this._getEventArgs(t),{toIndex:n,dropInsideItem:e.dropInsideItem});if(e.isValid&&this._getAction("onDragChange")(i),i.cancel||!e.isValid){e.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")(Y(this._getEventArgs(t),{placeholderElement:et(this._$placeholderElement),dragElement:et(r._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection(t,e){if(this._$scrollable=this._getScrollable(t),this._$scrollable){var r=ot(this._$scrollable),n=this._$scrollable.offset().left-t.offset().left,i=Pt(t)-n-r;n>0&&(e-=n),i>0&&(e-=i)}return e},_updatePlaceholderSizes(t,e){var r=this.option("dropInsideItem"),n=V(e),i=this._isVerticalOrientation(),a="",o="";t.toggleClass(this._addWidgetPrefix("placeholder-inside"),r),(i||r)&&(a=Pt(n)),(!i||r)&&(o=xt(n)),a=this._makeWidthCorrection(n,a),t.css({width:a,height:o})},_moveItem(t,e,r){var n,i=this._getItems(),a=i[e],o=this._getSourceDraggable();r&&(t=t.clone(),o._toggleDragSourceClass(!1,t)),a||(n=i[e-1]),this._moveItemCore(t,a,n)},_moveItemCore(t,e,r){!e&&!r?t.appendTo(this.$element()):r?t.insertAfter(V(r)):t.insertBefore(V(e))},_getDragStartArgs(t,e){return Y(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs(t){var e=this._getSourceDraggable(),r=this._getTargetDraggable(),n=r.option("dropInsideItem");return Y(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(r.option("toIndex"),n),dropInsideItem:n})},_optionChanged(t){var{name:e}=t;switch(e){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(r=>{var n=r?t.value:t.previousValue;if(n!==null){var i=V(this._getItems()[n]);this._toggleDragSourceClass(r,i)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(t);break;case"toIndex":this._optionChangedToIndex(t);break;default:this.callBase(t)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(t){var e=this.$element(),r;if(e.css("overflow")!=="hidden"?r=e.get(0):e.parents().each(function(){if(V(this).css("overflow")!=="visible")return r=this,!1}),r){var n=Hr(r),i=this._isVerticalOrientation(),a=i?"top":"left",o=i?"bottom":"right",s=i?VR.pageYOffset:VR.pageXOffset;if(t[a]<n[a]+s||t[a]>n[o]+s)return!1}return!0},_optionChangedToIndex(t){var e=t.value;if(this._isIndicateMode()){var r=e!==null&&e>=0;this._togglePlaceholder(r),r&&this._movePlaceholder()}else this._moveItems(t.previousValue,t.value,t.fullUpdate)},update(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var t=this.option("toIndex");this._optionChangedToIndex({value:t,fullUpdate:!0})}},_updateDragSourceClass(){var t=this._getActualFromIndex(),e=V(this._getItems()[t]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection(t){var e=this._$scrollable;if(e&&this._isVerticalOrientation()){var r=e.offset().left-t;r>0&&(t+=r)}return t},_movePlaceholder(){var t=this._$placeholderElement||this._createPlaceholder();if(t){var e=this._getItems(),r=this.option("toIndex"),n=this._isVerticalOrientation(),i=this.option("rtlEnabled"),a=this.option("dropInsideItem"),o=null,s=e[r];if(s){var l=V(s);o=l.offset(),!n&&i&&!a&&(o.left+=Pt(l,!0))}else{var p=s=this._getPrevVisibleItem(e,r);p&&(o=V(p).offset(),n?o.top+=xt(p,!0):i||(o.left+=Pt(p,!0)))}if(this._updatePlaceholderSizes(t,s),o&&!this._isPositionVisible(o)&&(o=null),o){var h=n&&r===e.length,m=xt(t);o.left=this._makeLeftCorrection(o.left),o.top=h&&o.top>=m?o.top-m:o.top,this._move(o,t)}t.toggle(!!o)}},_getPositions(t,e,r,n){for(var i=[],a=0;a<t.length;a++){var o=0;if(n===null||r===null){i.push(o);continue}r===-1?a>=n&&(o=e):n===-1?a>r&&(o=-e):r<n?a>r&&a<n&&(o=-e):r>n&&a>=n&&a<r&&(o=e),i.push(o)}return i},_getDraggableElementSize(t){var e=this._getDraggableElement(),r=this.option("draggableElementSize");return r||(r=t?(xt(e)+xt(e,!0))/2:(Pt(e)+Pt(e,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",r)),r},_getActualFromIndex(){var{fromIndex:t,fromIndexOffset:e,offset:r}=this.option();return t==null?null:t+e-r},_moveItems(t,e,r){for(var n=this._getActualFromIndex(),i=this._isVerticalOrientation(),a=i?"top":"left",o=this._getDraggableElementSize(i),s=this._getItems(),l=this._getPositions(s,o,n,t),p=this._getPositions(s,o,n,e),h=this.option("animation"),m=this.option("rtlEnabled"),v=0;v<s.length;v++){var f=s[v],u=l[v],c=p[v];e===null||n===null?Fme(f):(u!==c||r&&c)&&Lme(f,Y({},h,{to:{[a]:!i&&m?-c:c}}))}},_toggleDragSourceClass(t,e){var r=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||r&&r.toggleClass(this._addWidgetPrefix("source-hidden"),t)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(t){var e=this._getEventArgs(t);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent(t){var e=this._getSourceDraggable(),r=this._getEventArgs(t);return e._getAction("onRemove")(r),r.cancel},_fireReorderEvent(t){var e=this._getEventArgs(t);return this._getAction("onReorder")(e),e.promise||ae().resolve()}});Rt(Mme,m8);var Vme={dragCell:"dx-drag-cell"},Uu={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview"},Hme=t=>(e,r)=>{var n=V(e);if(r.rowType==="data")return n.addClass(Uu.cellFocusDisabled),V("<span>").addClass(t(Uu.handleIcon));Te.setEmptyText(n)},jme={createHandleTemplateFunc:Hme},$me={init(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering(){var t=this.option("rowDragging");return!!(t&&(t.allowReordering||t.allowDropInsideItem||t.group))},_updateHandleColumn(){var t=this.option("rowDragging"),e=this._allowReordering(),r=this._columnsController,n=e&&t.showDragIcons;r==null||r.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:Vme.dragCell,value:""}],cssClass:Uu.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:n}),r==null||r.columnOption("type:drag","visible",n)},_renderContent(){var t=this.option("rowDragging"),e=this._allowReordering(),r=this.callBase.apply(this,arguments),n=this._isFixedTableRendering,i=n?"_sortableFixed":"_sortable",a=n?"_sortable":"_sortableFixed",o=p=>{var h;(h=this._sortableFixed)===null||h===void 0||h.$element().css("pointerEvents",p?"auto":"")},s=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",l=this.option("dataRowTemplate")?"> table > tbody".concat(s):"> table > tbody > ".concat(s);return(e||this[i])&&r.length&&(this[i]=this._createComponent(r,m8,Y({component:this.component,contentTemplate:null,filter:l,cursorOffset:p=>{var{event:h}=p,m=V(this.element()).offset();return{x:h.pageX-m.left}},onDraggableElementShown:p=>{if(!t.dragTemplate){var h=V(p.dragElement),m=h.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(m)}},dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(Uu.commandDrag),dropFeedbackMode:"indicate"},t,{onDragStart:p=>{var h,m;(h=this.getController("keyboardNavigation"))===null||h===void 0||h._resetFocusedCell();var v=p.component.getVisibleRows()[p.fromIndex];p.itemData=v&&v.data;var f=v&&v.rowType==="data";p.cancel=!e||!f,(m=t.onDragStart)===null||m===void 0||m.call(t,p)},onDragEnter:()=>{o(!0)},onDragLeave:()=>{o(!1)},onDragEnd:p=>{var h;o(!1),(h=t.onDragEnd)===null||h===void 0||h.call(t,p)},onAdd:p=>{var h;o(!1),(h=t.onAdd)===null||h===void 0||h.call(t,p)},dropFeedbackMode:t.dropFeedbackMode,onOptionChanged:p=>{var h=this._sortableFixed;h&&(p.name==="fromIndex"||p.name==="toIndex")&&this[a].option(p.name,p.value)}})),r.toggleClass("dx-scrollable-container",n),r.toggleClass(Uu.sortableWithoutHandle,e&&!t.showDragIcons)),r},_renderCore(t){this.callBase.apply(this,arguments),t&&t.changeType==="update"&&t.repaintChangesOnly&&Te.isVirtualRowRendering(this)&&Mn(()=>{this._updateSortable()})},_updateSortable(){var t=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(e=>{e==null||e.option("offset",t),e==null||e.update()})},_resizeCore(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions(t){var e=this.option(),r=this.getColumns(),n=V(this.getRowElement(t.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:e.columnFixing,columnAutoWidth:e.columnAutoWidth,showColumnLines:e.showColumnLines,columns:r.map(i=>({width:i.width||i.visibleWidth,fixed:i.fixed,fixedPosition:i.fixedPosition})),onRowPrepared:i=>{var a=i.component.getView("rowsView");V(i.rowElement).replaceWith(n.eq(a._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition(t){var e=t==null?void 0:t.getScrollable();e==null||e.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate(){return t=>{var e=this.component.$element(),r=V("<div>");ox(r,ot(e));var n=this._dataController.items(),i=n&&n[t.fromIndex],a=this._getDraggableGridOptions(i);return this._createComponent(r,this.component.NAME,a),r.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(Uu.rowsView),")")).hide(),r}},_getHandleTemplate(){return jme.createHandleTemplateFunc(t=>this.addWidgetPrefix(t))},optionChanged(t){t.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),t.handled=!0),this.callBase.apply(this,arguments)}},zme={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:$me}}};Qe.registerModule("rowDragging",zme);const Wme=Object.freeze(Object.defineProperty({__proto__:null,default:bS},Symbol.toStringTag,{value:"Module"})),Ume=Wh(Wme);var Af={},$s={},Gme=X.on,Kme=X.one,qme=X.off,Xme=X.trigger,Yme=X.triggerHandler,Zme=X.Event;const Qme=Object.freeze(Object.defineProperty({__proto__:null,Event:Zme,off:qme,on:Gme,one:Kme,trigger:Xme,triggerHandler:Yme},Symbol.toStringTag,{value:"Module"})),WS=Wh(Qme);var am={},Df={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Qv=ft&&ft.__assign||function(){return Qv=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qv.apply(this,arguments)};Object.defineProperty(Df,"__esModule",{value:!0});Df.getOption=void 0;var Vw={useLegacyTemplateEngine:!1};function Jme(t){Vw=Qv(Qv({},Vw),t)}function eve(t){return Vw[t]}Df.getOption=eve;Df.default=Jme;var gd={},_o={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(_o,"__esModule",{value:!0});_o.capitalizeFirstLetter=_o.DoubleKeyMap=_o.generateID=void 0;function tve(){return Math.random().toString(36).substr(2)}_o.generateID=tve;var rve=function(){function t(){this._map=new Map}return t.prototype.set=function(e,r){var n=e.key1,i=e.key2,a=this._map.get(n);a||(a=new Map,this._map.set(n,a)),a.set(i,r)},t.prototype.get=function(e){var r=e.key1,n=e.key2,i=this._map.get(r);return i?i.get(n):void 0},t.prototype.delete=function(e){var r=e.key1,n=e.key2,i=this._map.get(r);i&&(i.delete(n),i.size===0&&this._map.delete(r))},t}();_o.DoubleKeyMap=rve;function nve(t){return t.length?""+t[0].toUpperCase()+t.substr(1):""}_o.capitalizeFirstLetter=nve;var _d={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var $R;function ive(){if($R)return _d;$R=1;var t=ft&&ft.__extends||function(){var l=function(p,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(m[f]=v[f])},l(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(_d,"__esModule",{value:!0}),_d.TemplateWrapper=void 0;var e=WS,r=pr,n=N1,i=h_(),a={display:"none"},o;(function(l){l.TABLE="tbody",l.TBODY="tr"})(o||(o={}));var s=function(l){t(p,l);function p(h){var m=l.call(this,h)||this;return m._removalListenerRef=r.createRef(),m.state={removalListenerRequired:!1},m._onDxRemove=m._onDxRemove.bind(m),m.getPreviousSiblingNode=m.getPreviousSiblingNode.bind(m),m}return p.prototype.componentDidMount=function(){var h,m;this._subscribeOnRemove(),(m=(h=this.props).onDidMount)===null||m===void 0||m.call(h)},p.prototype.componentDidUpdate=function(){this._subscribeOnRemove()},p.prototype.componentWillUnmount=function(){var h=this.element,m=this.hiddenElement,v=this.props.container;h&&v.appendChild(h),m&&v.appendChild(m),this._listenerElement&&v.appendChild(this._listenerElement)},Object.defineProperty(p.prototype,"_listenerElement",{get:function(){return this._removalListenerRef.current},enumerable:!1,configurable:!0}),p.prototype.getPreviousSiblingNode=function(h){this.hiddenElement=h,this.element=h==null?void 0:h.previousSibling},p.prototype._subscribeOnRemove=function(){var h=this.element,m=this.state.removalListenerRequired;if(h&&h.nodeType===Node.ELEMENT_NODE){this._subscribeOnElementRemoval(h);return}if(!m){this.setState({removalListenerRequired:!0});return}this._listenerElement&&this._subscribeOnElementRemoval(this._listenerElement)},p.prototype._subscribeOnElementRemoval=function(h){e.off(h,i.DX_REMOVE_EVENT,this._onDxRemove),e.one(h,i.DX_REMOVE_EVENT,this._onDxRemove)},p.prototype._onDxRemove=function(){var h=this.props.onRemoved;h()},p.prototype.render=function(){var h=this.state.removalListenerRequired,m=this.props,v=m.content,f=m.container,u=h?r.createElement("span",{style:a,ref:this._removalListenerRef}):void 0,c=o[f.nodeName]||"div";return n.createPortal(r.createElement(r.Fragment,null,v,v&&r.createElement(c,{style:{display:"none"},ref:this.getPreviousSiblingNode}),u),f)},p}(r.PureComponent);return _d.TemplateWrapper=s,_d}/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var zR;function ave(){if(zR)return gd;zR=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.createDxTemplate=void 0;var t=pr,e=WS,r=_o,n=ive(),i=h_();function a(s){return s.get?s.get(0):s}function o(s,l,p){var h=new r.DoubleKeyMap;return{render:function(m){var v=a(m.container),f={key1:m.model,key2:v},u=h.get(f),c,d=function(){l.setDeferredRemove(c,!0),h.delete(f)},_=function(){v.nodeType===Node.ELEMENT_NODE&&e.one(v,i.DX_REMOVE_EVENT,d)},g=function(){v.nodeType===Node.ELEMENT_NODE&&e.off(v,i.DX_REMOVE_EVENT,d)};return u?c=u:(c=p?p(m.model):"__template_"+r.generateID(),m.model!==void 0&&h.set(f,c)),_(),l.add(c,function(){var y={data:m.model,index:m.index},b=s();return t.createElement(n.TemplateWrapper,{content:b(y),container:v,onRemoved:d,onDidMount:function(){var C;g(),l.setDeferredRemove(c,!1),(C=m.onRendered)===null||C===void 0||C.call(m)},key:c})}),v}}}return gd.createDxTemplate=o,gd}/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var WR;function ove(){if(WR)return am;WR=1,Object.defineProperty(am,"__esModule",{value:!0});var t=pr,e=Df,r=ave();function n(o){if(e.getOption("useLegacyTemplateEngine")){var s=o.data;return s&&Object.prototype.hasOwnProperty.call(s,"key")&&(s.dxkey=s.key),s}return o}var i={component:function(o){return function(s){return s=n(s),t.createElement.bind(null,o())(s)}},render:function(o){return function(s){return n(s),o()(s.data,s.index)}},children:function(o){return function(){return o()}}},a=function(){function o(s){this._templates={},this._templatesContent={},this._templatesStore=s}return o.prototype.add=function(s,l){var p=this;this._templatesContent[s]=l.content;var h=i[l.type].bind(this,function(){return p._templatesContent[s]});this._templates[s]=r.createDxTemplate(h,this._templatesStore,l.keyFn)},Object.defineProperty(o.prototype,"templatesCount",{get:function(){return Object.keys(this._templates).length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),o}();return am.default=a,am}var l_={};const sve=Wh(kH),lve=Wh(Z9);/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var uve=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(l_,"__esModule",{value:!0});l_.TemplatesRenderer=void 0;var cve=sve,dve=lve,gb=pr,hve=function(t){uve(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.updateScheduled=!1,r.mounted=!1,r.shouldRepeatForceUpdate=!1,r.isUpdateFuncLaunched=!1,r}return e.prototype.componentDidMount=function(){this.mounted=!0},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.scheduleUpdate=function(r,n){var i=this;if(this.updateScheduled){this.shouldRepeatForceUpdate=this.isUpdateFuncLaunched;return}this.updateScheduled=!0;var a=r?dve.deferUpdate:cve.requestAnimationFrame;a(function(){i.mounted&&(i.isUpdateFuncLaunched=!0,i.forceUpdate(function(){i.updateScheduled=!1,n==null||n(),i.shouldRepeatForceUpdate&&(i.shouldRepeatForceUpdate=!1,i.forceUpdate())})),i.isUpdateFuncLaunched=!1,i.updateScheduled=!1})},e.prototype.render=function(){var r=this.props.templatesStore;return gb.createElement(gb.Fragment,{},r.renderWrappers())},e}(gb.PureComponent);l_.TemplatesRenderer=hve;var u_={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(u_,"__esModule",{value:!0});u_.TemplatesStore=void 0;var fve=function(){function t(e){this._templates={},this._onTemplateAdded=e}return t.prototype.add=function(e,r){this._templates[e]={template:r,isDeferredRemove:!1},this._onTemplateAdded()},t.prototype.setDeferredRemove=function(e,r){this._templates[e]&&(this._templates[e].isDeferredRemove=r)},t.prototype.removeDefferedTemplate=function(){var e=this;Object.entries(this._templates).filter(function(r){var n=r[1];return n.isDeferredRemove}).forEach(function(r){var n=r[0];delete e._templates[n]})},t.prototype.renderWrappers=function(){var e=this;return this.removeDefferedTemplate(),Object.getOwnPropertyNames(this._templates).map(function(r){return e._templates[r].template()})},t}();u_.TemplatesStore=fve;var hs={},c_={},zn={},si={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(si,"__esModule",{value:!0});si.shallowEquals=si.isIE=si.parseOptionName=si.mergeNameParts=void 0;function pve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(r){return r}).join(".")}si.mergeNameParts=pve;function mve(t){var e=t.split("[");return e.length===1?{isCollectionItem:!1,name:t}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}}si.parseOptionName=mve;var vve=function(){var t,e,r=(e=(t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)!==null&&e!==void 0?e:"",n=r.indexOf("MSIE"),i=r.indexOf("Trident/");return n>0||i>0};si.isIE=vve;var gve=function(t,e){return Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(function(r){return t[r]===e[r]})};si.shallowEquals=gve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(zn,"__esModule",{value:!0});zn.findValueInObject=zn.findValue=zn.buildTemplates=zn.buildNode=zn.buildConfig=zn.ValueType=void 0;var v8=si;function g8(t,e,r){t.templates.forEach(function(n){if(n.isAnonymous){var i=v8.mergeNameParts(t.fullName,n.optionName);e[n.optionName]=i,r[i]=n}else r[n.optionName]=n})}zn.buildTemplates=g8;function zh(t,e,r){var n={};return Object.keys(t.predefinedOptions).forEach(function(i){n[i]=t.predefinedOptions[i]}),Object.keys(t.configs).forEach(function(i){n[i]=zh(t.configs[i],e,r)}),Object.keys(t.configCollections).forEach(function(i){n[i]=t.configCollections[i].map(function(a){return zh(a,e,r)})}),r||Object.keys(t.initialOptions).forEach(function(i){n[i]=t.initialOptions[i]}),Object.keys(t.options).forEach(function(i){n[i]=t.options[i]}),g8(t,n,e),n}zn.buildNode=zh;function _8(t,e){var r={},n=zh(t,r,e);return{templates:r,options:n}}zn.buildConfig=_8;var vc;(function(t){t[t.Simple=0]="Simple",t[t.Complex=1]="Complex",t[t.Array=2]="Array"})(vc||(vc={}));zn.ValueType=vc;function US(t,e){var r=e.shift();if(!r)return{value:t,type:vc.Simple};if(t instanceof Object&&Object.keys(t).includes(r))return US(t[r],e)}zn.findValueInObject=US;function Hw(t,e){var r=e.shift();if(!r)return{value:_8(t,!0).options,type:vc.Complex};var n=v8.parseOptionName(r);if(n.name in t.options){var i=n.isCollectionItem?t.options[n.name][n.index]:t.options[n.name];return US(i,e)}if(n.isCollectionItem){var a=t.configCollections[n.name];if(!a)return;var o=a[n.index];return o?Hw(o,e):void 0}var s=t.configs[n.name];if(s)return Hw(s,e);var l=t.configCollections[n.name];if(l)return e.length!==0?void 0:{value:l.map(function(p){return zh(p,{},!0)}),type:vc.Array}}zn.findValue=Hw;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(c_,"__esModule",{value:!0});c_.getChanges=void 0;var Jv=zn,d_=si;function _ve(t,e,r){var n={},i={},a={},o={};Jv.buildTemplates(t,n,i),Jv.buildTemplates(e,a,o),r.addRemovedValues(n,a,t.fullName),Object.keys(n).forEach(function(s){n[s]!==a[s]&&(r.options[d_.mergeNameParts(t.fullName,s)]=n[s])}),Object.keys(i).forEach(function(s){var l=i[s],p=o[s];p&&l.content===p.content||(r.templates[s]=l)})}function GS(t,e,r){if(!e){r.options[t.fullName]=Jv.buildNode(t,r.templates,!0);return}r.addRemovedValues(t.options,e.options,t.fullName),r.addRemovedValues(t.configCollections,e.configCollections,t.fullName),r.addRemovedValues(t.configs,e.configs,t.fullName),Cve(t,e,r),Object.keys(t.configs).forEach(function(n){GS(t.configs[n],e.configs[n],r)}),Object.keys(t.options).forEach(function(n){t.options[n]!==e.options[n]&&(r.options[d_.mergeNameParts(t.fullName,n)]=t.options[n])}),_ve(t,e,r)}function yve(t,e,r,n){var i=Object.keys(e).filter(function(a){return Object.keys(t).indexOf(a)<0});i.forEach(function(a){n.push(d_.mergeNameParts(r,a))})}function bve(t,e){var r={options:{},removedOptions:[],templates:{},addRemovedValues:function(n,i,a){yve(n,i,a,this.removedOptions)}};return GS(t,e,r),r}c_.getChanges=bve;function Cve(t,e,r){Object.keys(t.configCollections).forEach(function(n){var i=t.configCollections[n],a=e.configCollections[n]||[];if(!i||i.length!==a.length){var o=[];i.forEach(function(l){var p=Jv.buildNode(l,r.templates,!0);o.push(p)}),r.options[d_.mergeNameParts(t.fullName,n)]=o;return}for(var s=0;s<i.length;s+=1)GS(i[s],a[s],r)})}/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(hs,"__esModule",{value:!0});hs.OptionsManager=hs.scheduleGuards=hs.unscheduleGuards=void 0;var wve=c_,bu=zn,UR=si,xve=_o,jw=new Set,y8=-1;function b8(){clearTimeout(y8)}hs.unscheduleGuards=b8;function C8(){b8(),y8=window.setTimeout(function(){jw.forEach(function(t){return t.execGuards()})})}hs.scheduleGuards=C8;var Sve=function(){function t(e){this.guards={},this.isUpdating=!1,this.templatesManager=e,jw.add(this),this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}return t.prototype.setInstance=function(e,r,n,i){this.instance=e,this.currentConfig=r,this.subscribableOptions=new Set(n),this.independentEvents=new Set(i)},t.prototype.getInitialOptions=function(e){var r=this,n=bu.buildConfig(e,!1);Object.keys(n.templates).forEach(function(a){r.templatesManager.add(a,n.templates[a])});var i={};return Object.keys(n.options).forEach(function(a){i[a]=r.wrapOptionValue(a,n.options[a])}),this.templatesManager.templatesCount>0&&(i.integrationOptions={templates:this.templatesManager.templates}),i},t.prototype.update=function(e){var r=this,n=[],i=function(o){var s=o.value,l=o.fullName;n.push([l,s])};this.instance.on("optionChanged",i);var a=wve.getChanges(e,this.currentConfig);!a.options&&!a.templates&&!a.removedOptions.length||(this.instance.beginUpdate(),this.isUpdating=!0,a.removedOptions.forEach(function(o){r.resetOption(o)}),Object.keys(a.templates).forEach(function(o){r.templatesManager.add(o,a.templates[o])}),this.templatesManager.templatesCount>0&&this.setValue("integrationOptions",{templates:this.templatesManager.templates}),Object.keys(a.options).forEach(function(o){r.setValue(o,a.options[o])}),this.isUpdating=!1,this.instance.off("optionChanged",i),this.currentConfig=e,n.forEach(function(o){var s=o[0],l=o[1],p=e.options[s];Object.prototype.hasOwnProperty.call(e.options,s)&&p!==l&&r.setValue(s,p)}),this.instance.endUpdate())},t.prototype.onOptionChanged=function(e){var r=this,n;if(!this.isUpdating){var i=bu.findValue(this.currentConfig,e.fullName.split("."));if((!i||i.value!==e.value)&&this.callOptionChangeHandler(e.fullName,e.value),i=bu.findValue(this.currentConfig,e.fullName.split(".")),!!i){var a=i.value,o=i.type;if(a instanceof Array&&o===bu.ValueType.Array){for(var s=0;s<a.length;s+=1)if(a[s]!==((n=e.value)===null||n===void 0?void 0:n[s])){this.addGuard(e.fullName,a);return}}else if(o===bu.ValueType.Complex&&a instanceof Object)Object.keys(a).forEach(function(h){var m;a[h]!==((m=e.value)===null||m===void 0?void 0:m[h])&&r.addGuard(UR.mergeNameParts(e.fullName,h),a[h])});else{var l=a===e.value,p=!l&&a instanceof Object&&e.value instanceof Object&&UR.shallowEquals(a,e.value);if(l||p||this.instance.skipOptionsRollBack)return;this.addGuard(e.fullName,a)}}}},t.prototype.dispose=function(){var e=this;jw.delete(this),Object.keys(this.guards).forEach(function(r){delete e.guards[r]})},t.prototype.isOptionSubscribable=function(e){return this.subscribableOptions.has(e)},t.prototype.isIndependentEvent=function(e){return this.independentEvents.has(e)},t.prototype.callOptionChangeHandler=function(e,r){if(this.isOptionSubscribable(e)){var n=e.split("."),i=n[n.length-1];if(!i.startsWith("on")){var a="on"+xve.capitalizeFirstLetter(i)+"Change";n[n.length-1]=a;var o=bu.findValue(this.currentConfig,n);if(o){if(typeof o.value!="function")throw new Error("Invalid value for the "+a+` property.
                `+a+" must be a function.");o.value(r)}}}},t.prototype.wrapOptionValue=function(e,r){var n=this;return e.substr(0,2)==="on"&&typeof r=="function"?function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];(!n.isUpdating||n.isIndependentEvent(e))&&r.apply(void 0,i)}:r},t.prototype.addGuard=function(e,r){var n=this;if(this.guards[e]===void 0){var i=function(){n.setValue(e,r),delete n.guards[e]};this.guards[e]=i,C8()}},t.prototype.execGuards=function(){Object.values(this.guards).forEach(function(e){return e()})},t.prototype.resetOption=function(e){this.instance.resetOption(e)},t.prototype.setValue=function(e,r){this.guards[e]&&delete this.guards[e],this.instance.option(e,this.wrapOptionValue(e,r))},t}();hs.OptionsManager=Sve;var yo={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(yo,"__esModule",{value:!0});yo.separateProps=yo.getClassName=yo.elementPropNames=void 0;var w8=["style","id"];yo.elementPropNames=w8;var x8="className",Eve=["dropZone","dialogTrigger"];function Ive(t){return t==="children"||t===x8||w8.indexOf(t)>-1}function Tve(t,e,r){r=r||[];var n={},i={},a={},o={};return r.forEach(function(s){o[s.component]=!0,o[s.render]=!0}),Object.keys(t).forEach(function(s){var l=e?e[s]:null,p=t[s];if(!Ive(s)){if(l){n[l]=p;return}if(o[s]){a[s]=p;return}if(Eve.includes(s)){i[s]=p&&p.current?p.current:p;return}i[s]=p}}),{options:i,defaults:n,templates:a}}yo.separateProps=Tve;function Ove(t){return t[x8]}yo.getClassName=Ove;var gc={},Ml={},_c={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var kve=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_c,"__esModule",{value:!0});_c.findProps=_c.Template=void 0;var Ave=V1,Dve=pr,KS=function(t){kve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return null},e}(Dve.PureComponent);_c.Template=KS;var _b=function(t){return!t.component&&!t.render&&!t.children?new Error("The Template component requires 'component' or 'render' property"):null};KS.propTypes={name:Ave.string.isRequired,component:_b,render:_b,children:_b};function Rve(t){if(t.type===KS)return{name:t.props.name,render:t.props.render,component:t.props.component,children:t.props.children,keyFn:t.props.keyFn}}_c.findProps=Rve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ElementType=Ml.getElementInfo=void 0;var Pve=_c,ol;(function(t){t[t.Option=0]="Option",t[t.Template=1]="Template",t[t.Unknown=2]="Unknown"})(ol||(ol={}));Ml.ElementType=ol;function Mve(t,e){var r=t;if(!r||!r.type)return{type:ol.Unknown};if(r.type===Pve.Template)return{type:ol.Template,props:r.props};var n=r.type;if(n.OptionName){var i=n.OptionName,a=n.IsCollectionItem,o=e&&e[i];return o&&(a=o.isCollectionItem,o.optionName&&(i=o.optionName)),{type:ol.Option,descriptor:{name:i,isCollection:a,templates:n.TemplateProps||[],initialValuesProps:n.DefaultsProps||{},predefinedValuesProps:n.PredefinedProps||{},expectedChildren:n.ExpectedChildren||{}},props:r.props}}return{type:ol.Unknown}}Ml.getElementInfo=Mve;var yc={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */Object.defineProperty(yc,"__esModule",{value:!0});yc.getNamedTemplate=yc.getAnonymousTemplate=void 0;function Bve(t,e,r){return e.tmplOption==="template"&&r?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:t.children,keyFn:t[e.keyFn]}:t[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:t[e.render],keyFn:t[e.keyFn]}:t[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:t[e.component],keyFn:t[e.keyFn]}:null}yc.getAnonymousTemplate=Bve;function Lve(t){return t.name?t.component?{optionName:t.name,isAnonymous:!1,type:"component",content:t.component,keyFn:t.keyFn}:t.render?{optionName:t.name,isAnonymous:!1,type:"render",content:t.render,keyFn:t.keyFn}:{optionName:t.name,isAnonymous:!1,type:"children",content:t.children,keyFn:t.keyFn}:null}yc.getNamedTemplate=Lve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var $w=ft&&ft.__assign||function(){return $w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$w.apply(this,arguments)};Object.defineProperty(gc,"__esModule",{value:!0});gc.buildConfigTree=gc.processChildren=void 0;var Fve=pr,Nve=yo,Um=Ml,S8=si,E8=yc;function I8(t,e){var r=[],n={},i={},a=!1;return Fve.Children.map(t.props.children,function(o){var s=Um.getElementInfo(o,t.descriptor.expectedChildren);if(s.type===Um.ElementType.Unknown){o!=null&&o!==!1&&(a=!0);return}if(s.type===Um.ElementType.Template){var l=E8.getNamedTemplate(s.props);l&&r.push(l);return}if(s.descriptor.isCollection){var p=n[s.descriptor.name];p||(p=[],n[s.descriptor.name]=p);var h=zw(s,S8.mergeNameParts(e,s.descriptor.name)+"["+p.length+"]");p.push(h);return}var m=zw(s,e);i[s.descriptor.name]=m}),{configs:i,configCollections:n,templates:r,hasTranscludedContent:a}}gc.processChildren=I8;function zw(t,e){var r=t.descriptor.isCollection?e:S8.mergeNameParts(e,t.descriptor.name),n=Nve.separateProps(t.props,t.descriptor.initialValuesProps,t.descriptor.templates),i=I8(t,r);return t.descriptor.templates.forEach(function(a){var o=E8.getAnonymousTemplate(t.props,a,e.length>0?i.hasTranscludedContent:!1);o&&i.templates.push(o)}),{fullName:r,predefinedOptions:t.descriptor.predefinedValuesProps,initialOptions:n.defaults,options:n.options,templates:i.templates,configCollections:i.configCollections,configs:i.configs}}function Vve(t,e){return zw({type:Um.ElementType.Option,descriptor:$w({name:"",isCollection:!1},t),props:e},"")}gc.buildConfigTree=Vve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var GR;function h_(){if(GR)return $s;GR=1;var t=ft&&ft.__extends||function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(_[y]=g[y])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function _(){this.constructor=c}c.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}(),e=ft&&ft.__assign||function(){return e=Object.assign||function(u){for(var c,d=1,_=arguments.length;d<_;d++){c=arguments[d];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(u[g]=c[g])}return u},e.apply(this,arguments)};Object.defineProperty($s,"__esModule",{value:!0}),$s.DX_REMOVE_EVENT=$s.ComponentBase=void 0;var r=WS,n=pr,i=N1,a=ove(),o=l_,s=u_,l=hs,p=yo,h=gc,m=si,v="dxremove";$s.DX_REMOVE_EVENT=v;var f=function(u){t(c,u);function c(d){var _=u.call(this,d)||this;return _.isPortalComponent=!1,_._templateProps=[],_._childNodes=[],_.useRequestAnimationFrameFlag=!1,_.useDeferUpdateForTemplates=!1,_._setTemplatesRendererRef=_._setTemplatesRendererRef.bind(_),_._createWidget=_._createWidget.bind(_),_._templatesStore=new s.TemplatesStore(function(){_._templatesRendererRef&&_._templatesRendererRef.scheduleUpdate(_.useDeferUpdateForTemplates)}),_._templatesManager=new a.default(_._templatesStore),_._optionsManager=new l.OptionsManager(_._templatesManager),_}return c.displayContentsStyle=function(){return m.isIE()?{width:"100%",height:"100%",padding:0,margin:0}:{display:"contents"}},c.prototype.componentDidMount=function(){var d,_,g=this.props.style;!((_=this._childNodes)===null||_===void 0)&&_.length?(d=this._element).append.apply(d,this._childNodes):this._element.childNodes.length&&(this._childNodes=Array.from(this._element.childNodes)),this._updateCssClasses(null,this.props),g&&this._setInlineStyles(g)},c.prototype.componentDidUpdate=function(d){this._updateCssClasses(d,this.props);var _=this._getConfig();this._optionsManager.update(_),this._templatesRendererRef&&this._templatesRendererRef.scheduleUpdate(this.useDeferUpdateForTemplates,l.scheduleGuards),l.unscheduleGuards()},c.prototype.componentWillUnmount=function(){var d;this._instance&&((d=this._childNodes)===null||d===void 0||d.forEach(function(_){var g;return(g=_.parentNode)===null||g===void 0?void 0:g.removeChild(_)}),r.triggerHandler(this._element,v),this._instance.dispose()),this._optionsManager.dispose()},c.prototype._createWidget=function(d){d=d||this._element;var _=this._getConfig();this._instance=new this._WidgetClass(d,e({templatesRenderAsynchronously:!0},this._optionsManager.getInitialOptions(_))),this.useRequestAnimationFrameFlag||(this.useDeferUpdateForTemplates=this._instance.option("integrationOptions.useDeferUpdateForTemplates")),this._optionsManager.setInstance(this._instance,_,this.subscribableOptions,this.independentEvents),this._instance.on("optionChanged",this._optionsManager.onOptionChanged)},c.prototype._getConfig=function(){return h.buildConfigTree({templates:this._templateProps,initialValuesProps:this._defaults,predefinedValuesProps:{},expectedChildren:this._expectedChildren},this.props)},c.prototype._setTemplatesRendererRef=function(d){this._templatesRendererRef=d},c.prototype._getElementProps=function(){var d=this,_={ref:function(g){d._element=g}};return p.elementPropNames.forEach(function(g){var y=d.props;g in y&&(_[g]=y[g])}),_},c.prototype._setInlineStyles=function(d){var _=this;Object.entries(d).forEach(function(g){var y=g[0],b=g[1];_._element.style[y]=b})},c.prototype._updateCssClasses=function(d,_){var g,y,b=d?p.getClassName(d):void 0,C=p.getClassName(_);if(b!==C){if(b){var w=b.split(" ").filter(function(x){return x});w.length&&(g=this._element.classList).remove.apply(g,w)}if(C){var w=C.split(" ").filter(function(A){return A});w.length&&(y=this._element.classList).add.apply(y,w)}}},c.prototype.renderChildren=function(){var d=this.props.children;return d},c.prototype.renderContent=function(){var d=this,_=this.props.children;return this.isPortalComponent&&_?n.createElement("div",{ref:function(g){g&&d.portalContainer!==g&&(d.portalContainer=g,d.forceUpdate())},style:c.displayContentsStyle()}):this.renderChildren()},c.prototype.renderPortal=function(){return this.portalContainer&&i.createPortal(this.renderChildren(),this.portalContainer)},c.prototype.render=function(){return n.createElement(n.Fragment,{},n.createElement("div",this._getElementProps(),this.renderContent(),n.createElement(o.TemplatesRenderer,{templatesStore:this._templatesStore,ref:this._setTemplatesRendererRef})),this.isPortalComponent&&this.renderPortal())},c}(n.PureComponent);return $s.ComponentBase=f,$s}var f_={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Hve=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(f_,"__esModule",{value:!0});f_.ExtensionComponent=void 0;var jve=h_(),$ve=function(t){Hve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var r=this.props.onMounted;r?r(this._createWidget):this._createWidget()},e}(jve.ComponentBase);f_.ExtensionComponent=$ve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var zve=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Af,"__esModule",{value:!0});Af.Component=void 0;var KR=pr,Wve=h_(),Uve=f_,Gve=function(t){zve(e,t);function e(r){var n=t.call(this,r)||this;return n._extensionCreators=[],n._registerExtension=n._registerExtension.bind(n),n}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._createWidget(),this._createExtensions()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.clearExtensions()},e.prototype.clearExtensions=function(){this._extensionCreators=[]},e.prototype.renderChildren=function(){var r=this;return KR.Children.map(this.props.children,function(n){return n&&Object.prototype.isPrototypeOf.call(Uve.ExtensionComponent,n.type)?KR.cloneElement(n,{onMounted:r._registerExtension}):n})},e.prototype._registerExtension=function(r){this._extensionCreators.push(r)},e.prototype._createExtensions=function(){var r=this;this._extensionCreators.forEach(function(n){return n(r._element)})},e}(Wve.ComponentBase);Af.Component=Gve;var p_={};/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Kve=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(p_,"__esModule",{value:!0});var om=pr,qR=Ml,qve=function(t){Kve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this.props.children,n=om.Children.map(r,function(i){var a=qR.getElementInfo(i);return a.type===qR.ElementType.Option?i:null});return om.createElement(om.Fragment,{},n)},e}(om.PureComponent);p_.default=qve;/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Ge=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ve,"__esModule",{value:!0});ve.Hide=ve.HeaderFilter=D8=ve.GroupPanel=ve.GroupOperationDescriptions=ve.GroupItem=ve.GroupingTexts=A8=ve.Grouping=ve.From=ve.FormItem=ve.Format=ve.Form=ve.FilterRow=ve.FilterPanelTexts=ve.FilterPanel=ve.FilterOperationDescriptions=ve.FilterBuilderPopup=ve.FilterBuilder=ve.FieldLookup=ve.Field=ve.ExportTexts=k8=ve.Export=ve.EmailRule=ve.EditingTexts=ve.Editing=ve.DataGridSelection=ve.DataGridHeaderFilterTexts=ve.DataGridHeaderFilterSearch=ve.DataGridHeaderFilter=ve.CustomRule=ve.CustomOperation=ve.CursorOffset=ve.CompareRule=ve.ColumnLookup=ve.ColumnHeaderFilterSearch=ve.ColumnHeaderFilter=ve.ColumnFixingTexts=O8=ve.ColumnFixing=ve.ColumnChooserSelection=ve.ColumnChooserSearch=T8=ve.ColumnChooser=Ut=ve.Column=ve.Collision=ve.ColCountByScreen=ve.Change=ve.Button=ve.BoundaryOffset=ve.At=ve.AsyncRule=ve.Animation=XS=ve.DataGrid=void 0;ve.ValueFormat=ve.ValidationRule=ve.TotalItem=ve.ToolbarItem=ve.Toolbar=ve.To=ve.Texts=ve.SummaryTexts=ve.Summary=ve.StringLengthRule=ve.StateStoring=ve.Sorting=ve.SortByGroupSummaryInfo=ve.Show=P8=ve.Selection=ve.SearchPanel=ve.Search=ve.Scrolling=ve.RowDragging=ve.RequiredRule=ve.RemoteOperations=ve.RangeRule=ve.Position=ve.Popup=ve.PatternRule=ve.Paging=ve.Pager=ve.OperationDescriptions=ve.Offset=ve.NumericRule=ve.My=R8=ve.MasterDetail=ve.Lookup=ve.LoadPanel=ve.Label=ve.KeyboardNavigation=ve.Item=void 0;var Xve=Ume,xe=V1,Yve=Af,qe=p_,qS=function(t){Ge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._WidgetClass=Xve.default,r.useRequestAnimationFrameFlag=!0,r.subscribableOptions=["columns","editing","editing.changes","editing.editColumnName","editing.editRowKey","filterPanel","filterPanel.filterEnabled","filterValue","focusedColumnIndex","focusedRowIndex","focusedRowKey","groupPanel","groupPanel.visible","paging","paging.pageIndex","paging.pageSize","searchPanel","searchPanel.text","selectedRowKeys","selectionFilter"],r.independentEvents=["onAdaptiveDetailRowPreparing","onCellClick","onCellDblClick","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExporting","onFocusedCellChanging","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onToolbarPreparing"],r._defaults={defaultColumns:"columns",defaultEditing:"editing",defaultFilterPanel:"filterPanel",defaultFilterValue:"filterValue",defaultFocusedColumnIndex:"focusedColumnIndex",defaultFocusedRowIndex:"focusedRowIndex",defaultFocusedRowKey:"focusedRowKey",defaultGroupPanel:"groupPanel",defaultPaging:"paging",defaultSearchPanel:"searchPanel",defaultSelectedRowKeys:"selectedRowKeys",defaultSelectionFilter:"selectionFilter"},r._expectedChildren={column:{optionName:"columns",isCollectionItem:!0},columnChooser:{optionName:"columnChooser",isCollectionItem:!1},columnFixing:{optionName:"columnFixing",isCollectionItem:!1},dataGridHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},dataGridSelection:{optionName:"selection",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},filterBuilder:{optionName:"filterBuilder",isCollectionItem:!1},filterBuilderPopup:{optionName:"filterBuilderPopup",isCollectionItem:!1},filterPanel:{optionName:"filterPanel",isCollectionItem:!1},filterRow:{optionName:"filterRow",isCollectionItem:!1},grouping:{optionName:"grouping",isCollectionItem:!1},groupPanel:{optionName:"groupPanel",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},keyboardNavigation:{optionName:"keyboardNavigation",isCollectionItem:!1},loadPanel:{optionName:"loadPanel",isCollectionItem:!1},masterDetail:{optionName:"masterDetail",isCollectionItem:!1},pager:{optionName:"pager",isCollectionItem:!1},paging:{optionName:"paging",isCollectionItem:!1},remoteOperations:{optionName:"remoteOperations",isCollectionItem:!1},rowDragging:{optionName:"rowDragging",isCollectionItem:!1},scrolling:{optionName:"scrolling",isCollectionItem:!1},searchPanel:{optionName:"searchPanel",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1},sortByGroupSummaryInfo:{optionName:"sortByGroupSummaryInfo",isCollectionItem:!0},sorting:{optionName:"sorting",isCollectionItem:!1},stateStoring:{optionName:"stateStoring",isCollectionItem:!1},summary:{optionName:"summary",isCollectionItem:!1},toolbar:{optionName:"toolbar",isCollectionItem:!1}},r._templateProps=[{tmplOption:"dataRowTemplate",render:"dataRowRender",component:"dataRowComponent",keyFn:"dataRowKeyFn"},{tmplOption:"rowTemplate",render:"rowRender",component:"rowComponent",keyFn:"rowKeyFn"}],r}return Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(Yve.Component),XS=ve.DataGrid=qS;qS.propTypes={accessKey:xe.string,activeStateEnabled:xe.bool,allowColumnReordering:xe.bool,allowColumnResizing:xe.bool,autoNavigateToFocusedRow:xe.bool,cacheEnabled:xe.bool,cellHintEnabled:xe.bool,columnAutoWidth:xe.bool,columnChooser:xe.object,columnFixing:xe.object,columnHidingEnabled:xe.bool,columnMinWidth:xe.number,columnResizingMode:xe.oneOfType([xe.string,xe.oneOf(["nextColumn","widget"])]),columns:xe.array,columnWidth:xe.oneOfType([xe.number,xe.oneOfType([xe.string,xe.oneOf(["auto"])])]),customizeColumns:xe.func,dateSerializationFormat:xe.string,disabled:xe.bool,editing:xe.object,elementAttr:xe.object,errorRowEnabled:xe.bool,export:xe.object,filterBuilder:xe.object,filterBuilderPopup:xe.object,filterPanel:xe.object,filterRow:xe.object,filterSyncEnabled:xe.oneOfType([xe.bool,xe.oneOfType([xe.string,xe.oneOf(["auto"])])]),filterValue:xe.oneOfType([xe.array,xe.func,xe.string]),focusedColumnIndex:xe.number,focusedRowEnabled:xe.bool,focusedRowIndex:xe.number,grouping:xe.object,groupPanel:xe.object,headerFilter:xe.object,height:xe.oneOfType([xe.func,xe.number,xe.string]),highlightChanges:xe.bool,hint:xe.string,hoverStateEnabled:xe.bool,keyboardNavigation:xe.object,keyExpr:xe.oneOfType([xe.array,xe.string]),loadPanel:xe.object,masterDetail:xe.object,noDataText:xe.string,onAdaptiveDetailRowPreparing:xe.func,onCellClick:xe.func,onCellDblClick:xe.func,onCellHoverChanged:xe.func,onCellPrepared:xe.func,onContentReady:xe.func,onContextMenuPreparing:xe.func,onDataErrorOccurred:xe.func,onDisposing:xe.func,onEditCanceled:xe.func,onEditCanceling:xe.func,onEditingStart:xe.func,onEditorPrepared:xe.func,onEditorPreparing:xe.func,onExporting:xe.func,onFocusedCellChanged:xe.func,onFocusedCellChanging:xe.func,onFocusedRowChanged:xe.func,onFocusedRowChanging:xe.func,onInitialized:xe.func,onInitNewRow:xe.func,onKeyDown:xe.func,onOptionChanged:xe.func,onRowClick:xe.func,onRowCollapsed:xe.func,onRowCollapsing:xe.func,onRowDblClick:xe.func,onRowExpanded:xe.func,onRowExpanding:xe.func,onRowInserted:xe.func,onRowInserting:xe.func,onRowPrepared:xe.func,onRowRemoved:xe.func,onRowRemoving:xe.func,onRowUpdated:xe.func,onRowUpdating:xe.func,onRowValidating:xe.func,onSaved:xe.func,onSaving:xe.func,onSelectionChanged:xe.func,onToolbarPreparing:xe.func,pager:xe.object,paging:xe.object,remoteOperations:xe.oneOfType([xe.bool,xe.object,xe.oneOfType([xe.string,xe.oneOf(["auto"])])]),renderAsync:xe.bool,repaintChangesOnly:xe.bool,rowAlternationEnabled:xe.bool,rowDragging:xe.object,rtlEnabled:xe.bool,scrolling:xe.object,searchPanel:xe.object,selectedRowKeys:xe.array,selection:xe.object,selectionFilter:xe.oneOfType([xe.array,xe.func,xe.string]),showBorders:xe.bool,showColumnHeaders:xe.bool,showColumnLines:xe.bool,showRowLines:xe.bool,sortByGroupSummaryInfo:xe.array,sorting:xe.object,stateStoring:xe.object,summary:xe.object,syncLookupFilterValues:xe.bool,tabIndex:xe.number,toolbar:xe.object,twoWayBindingEnabled:xe.bool,visible:xe.bool,width:xe.oneOfType([xe.func,xe.number,xe.string]),wordWrapEnabled:xe.bool};var Zve=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e}(qe.default);ve.Animation=Zve;var Qve=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"async"},e}(qe.default);ve.AsyncRule=Qve;var Jve=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="at",e}(qe.default);ve.At=Jve;var ege=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="boundaryOffset",e}(qe.default);ve.BoundaryOffset=ege;var tge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="buttons",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default);ve.Button=tge;var rge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="changes",e.IsCollectionItem=!0,e}(qe.default);ve.Change=rge;var nge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="colCountByScreen",e}(qe.default);ve.ColCountByScreen=nge;var ige=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="collision",e}(qe.default);ve.Collision=ige;var age=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="columns",e.IsCollectionItem=!0,e.DefaultsProps={defaultFilterValue:"filterValue",defaultFilterValues:"filterValues",defaultGroupIndex:"groupIndex",defaultSelectedFilterOperation:"selectedFilterOperation",defaultSortIndex:"sortIndex",defaultSortOrder:"sortOrder",defaultVisible:"visible",defaultVisibleIndex:"visibleIndex"},e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},button:{optionName:"buttons",isCollectionItem:!0},columnHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},columnLookup:{optionName:"lookup",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},format:{optionName:"format",isCollectionItem:!1},formItem:{optionName:"formItem",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"cellTemplate",render:"cellRender",component:"cellComponent",keyFn:"cellKeyFn"},{tmplOption:"editCellTemplate",render:"editCellRender",component:"editCellComponent",keyFn:"editCellKeyFn"},{tmplOption:"groupCellTemplate",render:"groupCellRender",component:"groupCellComponent",keyFn:"groupCellKeyFn"},{tmplOption:"headerCellTemplate",render:"headerCellRender",component:"headerCellComponent",keyFn:"headerCellKeyFn"}],e}(qe.default),Ut=ve.Column=age,oge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="columnChooser",e.ExpectedChildren={columnChooserSearch:{optionName:"search",isCollectionItem:!1},columnChooserSelection:{optionName:"selection",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1}},e}(qe.default),T8=ve.ColumnChooser=oge,sge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="search",e}(qe.default);ve.ColumnChooserSearch=sge;var lge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="selection",e}(qe.default);ve.ColumnChooserSelection=lge;var uge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="columnFixing",e.ExpectedChildren={columnFixingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default),O8=ve.ColumnFixing=uge,cge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.ColumnFixingTexts=cge;var dge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="headerFilter",e.ExpectedChildren={columnHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1}},e}(qe.default);ve.ColumnHeaderFilter=dge;var hge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="search",e}(qe.default);ve.ColumnHeaderFilterSearch=hge;var fge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="lookup",e}(qe.default);ve.ColumnLookup=fge;var pge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"compare"},e}(qe.default);ve.CompareRule=pge;var mge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="cursorOffset",e}(qe.default);ve.CursorOffset=mge;var vge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="customOperations",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e}(qe.default);ve.CustomOperation=vge;var gge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"custom"},e}(qe.default);ve.CustomRule=gge;var _ge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="headerFilter",e.ExpectedChildren={dataGridHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},dataGridHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default);ve.DataGridHeaderFilter=_ge;var yge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="search",e}(qe.default);ve.DataGridHeaderFilterSearch=yge;var bge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.DataGridHeaderFilterTexts=bge;var Cge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="selection",e}(qe.default);ve.DataGridSelection=Cge;var wge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="editing",e.DefaultsProps={defaultChanges:"changes",defaultEditColumnName:"editColumnName",defaultEditRowKey:"editRowKey"},e.ExpectedChildren={change:{optionName:"changes",isCollectionItem:!0},editingTexts:{optionName:"texts",isCollectionItem:!1},form:{optionName:"form",isCollectionItem:!1},popup:{optionName:"popup",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default);ve.Editing=wge;var xge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.EditingTexts=xge;var Sge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"email"},e}(qe.default);ve.EmailRule=Sge;var Ege=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="export",e.ExpectedChildren={exportTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default),k8=ve.Export=Ege,Ige=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.ExportTexts=Ige;var Tge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="fields",e.IsCollectionItem=!0,e.ExpectedChildren={fieldLookup:{optionName:"lookup",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e}(qe.default);ve.Field=Tge;var Oge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="lookup",e}(qe.default);ve.FieldLookup=Oge;var kge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="filterBuilder",e.DefaultsProps={defaultValue:"value"},e.ExpectedChildren={customOperation:{optionName:"customOperations",isCollectionItem:!0},field:{optionName:"fields",isCollectionItem:!0},filterOperationDescriptions:{optionName:"filterOperationDescriptions",isCollectionItem:!1},groupOperationDescriptions:{optionName:"groupOperationDescriptions",isCollectionItem:!1}},e}(qe.default);ve.FilterBuilder=kge;var Age=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="filterBuilderPopup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(qe.default);ve.FilterBuilderPopup=Age;var Dge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="filterOperationDescriptions",e}(qe.default);ve.FilterOperationDescriptions=Dge;var Rge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="filterPanel",e.DefaultsProps={defaultFilterEnabled:"filterEnabled"},e.ExpectedChildren={filterPanelTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default);ve.FilterPanel=Rge;var Pge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.FilterPanelTexts=Pge;var Mge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="filterRow",e.ExpectedChildren={operationDescriptions:{optionName:"operationDescriptions",isCollectionItem:!1}},e}(qe.default);ve.FilterRow=Mge;var Bge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="form",e.DefaultsProps={defaultFormData:"formData"},e.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},e}(qe.default);ve.Form=Bge;var Lge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="format",e}(qe.default);ve.Format=Lge;var Fge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="formItem",e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default);ve.FormItem=Fge;var Nge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="from",e.ExpectedChildren={position:{optionName:"position",isCollectionItem:!1}},e}(qe.default);ve.From=Nge;var Vge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="grouping",e.ExpectedChildren={groupingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(qe.default),A8=ve.Grouping=Vge,Hge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.GroupingTexts=Hge;var jge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="groupItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e}(qe.default);ve.GroupItem=jge;var $ge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="groupOperationDescriptions",e}(qe.default);ve.GroupOperationDescriptions=$ge;var zge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="groupPanel",e.DefaultsProps={defaultVisible:"visible"},e}(qe.default),D8=ve.GroupPanel=zge,Wge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="headerFilter",e}(qe.default);ve.HeaderFilter=Wge;var Uge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="hide",e.ExpectedChildren={from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}},e}(qe.default);ve.Hide=Uge;var Gge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default);ve.Item=Gge;var Kge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="keyboardNavigation",e}(qe.default);ve.KeyboardNavigation=Kge;var qge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="label",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default);ve.Label=qge;var Xge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="loadPanel",e}(qe.default);ve.LoadPanel=Xge;var Yge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="lookup",e}(qe.default);ve.Lookup=Yge;var Zge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="masterDetail",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default),R8=ve.MasterDetail=Zge,Qge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="my",e}(qe.default);ve.My=Qge;var Jge=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"numeric"},e}(qe.default);ve.NumericRule=Jge;var e_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="offset",e}(qe.default);ve.Offset=e_e;var t_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="operationDescriptions",e}(qe.default);ve.OperationDescriptions=t_e;var r_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="pager",e}(qe.default);ve.Pager=r_e;var n_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="paging",e.DefaultsProps={defaultPageIndex:"pageIndex",defaultPageSize:"pageSize"},e}(qe.default);ve.Paging=n_e;var i_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"pattern"},e}(qe.default);ve.PatternRule=i_e;var a_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="popup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(qe.default);ve.Popup=a_e;var o_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="position",e}(qe.default);ve.Position=o_e;var s_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"range"},e}(qe.default);ve.RangeRule=s_e;var l_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="remoteOperations",e}(qe.default);ve.RemoteOperations=l_e;var u_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e}(qe.default);ve.RequiredRule=u_e;var c_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="rowDragging",e.ExpectedChildren={cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent",keyFn:"dragKeyFn"}],e}(qe.default);ve.RowDragging=c_e;var d_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="scrolling",e}(qe.default);ve.Scrolling=d_e;var h_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="search",e}(qe.default);ve.Search=h_e;var f_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="searchPanel",e.DefaultsProps={defaultText:"text"},e}(qe.default);ve.SearchPanel=f_e;var p_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="selection",e}(qe.default),P8=ve.Selection=p_e,m_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="show",e}(qe.default);ve.Show=m_e;var v_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="sortByGroupSummaryInfo",e.IsCollectionItem=!0,e}(qe.default);ve.SortByGroupSummaryInfo=v_e;var g_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="sorting",e}(qe.default);ve.Sorting=g_e;var __e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="stateStoring",e}(qe.default);ve.StateStoring=__e;var y_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"stringLength"},e}(qe.default);ve.StringLengthRule=y_e;var b_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="summary",e.ExpectedChildren={groupItem:{optionName:"groupItems",isCollectionItem:!0},summaryTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1},totalItem:{optionName:"totalItems",isCollectionItem:!0}},e}(qe.default);ve.Summary=b_e;var C_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.SummaryTexts=C_e;var w_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="texts",e}(qe.default);ve.Texts=w_e;var x_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="to",e}(qe.default);ve.To=x_e;var S_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="toolbar",e.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0}},e}(qe.default);ve.Toolbar=S_e;var E_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(qe.default);ve.ToolbarItem=E_e;var I_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="totalItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e}(qe.default);ve.TotalItem=I_e;var T_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e}(qe.default);ve.ValidationRule=T_e;var O_e=function(t){Ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="valueFormat",e}(qe.default);ve.ValueFormat=O_e;var m_=ve.default=qS;const YS=[{EmployeeID:1,FullName:"Nancy Davolio",Position:"Sales Representative",TitleOfCourtesy:"Ms.",BirthDate:"1968-12-08T00:00:00.000Z",HireDate:"2011-05-01T00:00:00.000Z",Address:`507 - 20th Ave. E.\r
Apt. 2A`,City:"Seattle",Region:"WA",PostalCode:"98122",Country:"USA",HomePhone:"(206) 555-9857",Extension:"5467",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/06.png",Notes:'Education includes a BA in psychology from Colorado State University in 1990.  She also completed "The Art of the Cold Call."  Nancy is a member of Toastmasters International.',ReportsTo:2},{EmployeeID:2,FullName:"Andrew Fuller",Position:"Vice President, Sales",TitleOfCourtesy:"Dr.",BirthDate:"1972-02-19T00:00:00.000Z",HireDate:"2011-08-14T00:00:00.000Z",Address:"908 W. Capital Way",City:"Tacoma",Region:"WA",PostalCode:"98401",Country:"USA",HomePhone:"(206) 555-9482",Extension:"3457",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/02.png",Notes:"Andrew received his BTS commercial in 1994 and a Ph.D. in international marketing from the University of Dallas in 2001.  He is fluent in French and Italian and reads German.  He joined the company as a sales representative, was promoted to sales manager in January 2012 and to vice president of sales in March 2013.  Andrew is a member of the Sales Management Roundtable, the Seattle Chamber of Commerce, and the Pacific Rim Importers Association.",ReportsTo:null},{EmployeeID:3,FullName:"Janet Leverling",Position:"Sales Representative",TitleOfCourtesy:"Ms.",BirthDate:"1983-08-30T00:00:00.000Z",HireDate:"2011-04-01T00:00:00.000Z",Address:"722 Moss Bay Blvd.",City:"Kirkland",Region:"WA",PostalCode:"98033",Country:"USA",HomePhone:"(206) 555-3412",Extension:"3355",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/09.png",Notes:"Janet has a BS degree in chemistry from Boston College (2004).  She has also completed a certificate program in food retailing management.  Janet was hired as a sales associate in 2011 and promoted to sales representative in February 2012.",ReportsTo:2},{EmployeeID:4,FullName:"Margaret Peacock",Position:"Sales Representative",TitleOfCourtesy:"Mrs.",BirthDate:"1957-09-19T00:00:00.000Z",HireDate:"2012-05-03T00:00:00.000Z",Address:"4110 Old Redmond Rd.",City:"Redmond",Region:"WA",PostalCode:"98052",Country:"USA",HomePhone:"(206) 555-8122",Extension:"5176",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/04.png",Notes:"Margaret holds a BA in English literature from Concordia College (1978) and an MA from the American Institute of Culinary Arts (1986).  She was assigned to the London office temporarily from July through November 2012.",ReportsTo:2},{EmployeeID:5,FullName:"Steven Buchanan",Position:"Sales Manager",TitleOfCourtesy:"Mr.",BirthDate:"1975-03-04T00:00:00.000Z",HireDate:"2012-10-17T00:00:00.000Z",Address:"14 Garrett Hill",City:"London",Region:"UK",PostalCode:"SW1 8JR",Country:"UK",HomePhone:"(71) 555-4848",Extension:"3453",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/05.png",Notes:'Steven Buchanan graduated from St. Andrews University, Scotland, with a BSC degree in 1996.  Upon joining the company as a sales representative in 2012, he spent 6 months in an orientation program at the Seattle office and then returned to his permanent post in London.  He was promoted to sales manager in March 2013.  Mr. Buchanan has completed the courses "Successful Telemarketing" and "International Sales Management."  He is fluent in French.',ReportsTo:2},{EmployeeID:6,FullName:"Michael Suyama",Position:"Sales Representative",TitleOfCourtesy:"Mr.",BirthDate:"1983-07-02T00:00:00.000Z",HireDate:"2012-10-17T00:00:00.000Z",Address:`Coventry House\r
Miner Rd.`,City:"London",Region:"UK",PostalCode:"EC2 7JR",Country:"UK",HomePhone:"(71) 555-7773",Extension:"428",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/01.png",Notes:'Michael is a graduate of Sussex University (MA, economics, 2003) and the University of California at Los Angeles (MBA, marketing, 2006). He has also taken the courses "Multi-Cultural Selling" and "Time Management for the Sales Professional."  He is fluent in Japanese and can read and write French, Portuguese, and Spanish.',ReportsTo:5},{EmployeeID:7,FullName:"Robert King",Position:"Sales Representative",TitleOfCourtesy:"Mr.",BirthDate:"1980-05-29T00:00:00.000Z",HireDate:"2012-01-02T00:00:00.000Z",Address:`Edgeham Hollow\r
Winchester Way`,City:"London",Region:"UK",PostalCode:"RG1 9SP",Country:"UK",HomePhone:"(71) 555-5598",Extension:"465",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/07.png",Notes:'Robert King served in the Peace Corps and traveled extensively before completing his degree in English at the University of Michigan in 2002, the year he joined the company.  After completing a course entitled "Selling in Europe," he was transferred to the London office in March 2013.',ReportsTo:5},{EmployeeID:8,FullName:"Laura Callahan",Position:"Inside Sales Coordinator",TitleOfCourtesy:"Ms.",BirthDate:"1978-01-09T00:00:00.000Z",HireDate:"2012-03-05T00:00:00.000Z",Address:"4726 - 11th Ave. N.E.",City:"Seattle",Region:"WA",PostalCode:"98105",Country:"USA",HomePhone:"(206) 555-1189",Extension:"2344",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/08.png",Notes:"Laura received a BA in psychology from the University of Washington.  She has also completed a course in business French.  She reads and writes French.",ReportsTo:2},{EmployeeID:9,FullName:"Brett Wade",Position:"Sales Representative",TitleOfCourtesy:"Mr.",BirthDate:"1986-01-27T00:00:00.000Z",HireDate:"2012-11-15T00:00:00.000Z",Address:"7 Houndstooth Rd.",City:"London",Region:"UK",PostalCode:"WG2 7LT",Country:"UK",HomePhone:"(71) 555-4444",Extension:"452",Photo:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/03.png",Notes:"Brett has a BA degree in English from St. Lawrence College.  He is fluent in French and German.",ReportsTo:5}];function k_e(){return We.jsx("div",{children:We.jsxs(XS,{dataSource:YS,keyExpr:"EmployeeID",allowColumnReordering:!0,columnAutoWidth:!0,children:[We.jsx(Ut,{dataField:"EmployeeID"}),We.jsx(Ut,{dataField:"FullName"}),We.jsx(Ut,{dataField:"Position"}),We.jsx(Ut,{dataField:"BirthDate",dataType:"date"}),We.jsx(Ut,{dataField:"HireDate",dataType:"date"}),We.jsx(Ut,{dataField:"City"}),We.jsx(Ut,{dataField:"Country"}),We.jsx(Ut,{dataField:"Address"}),We.jsx(Ut,{dataField:"HomePhone"}),We.jsx(Ut,{dataField:"PostalCode"})]})})}var Xt={};const A_e=Wh(Gie);/*!
 * devextreme-react
 * Version: 23.1.5
 * Build date: Wed Aug 30 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var On=ft&&ft.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.ToolbarItem=Xt.To=Xt.Show=Xt.Position=Xt.Options=Xt.Offset=Xt.My=Xt.Item=Xt.Hide=Xt.From=Xt.DropDownOptions=Xt.Collision=Xt.Button=Xt.BoundaryOffset=Xt.At=Xt.Animation=Xt.SelectBox=void 0;var D_e=A_e,Ne=V1,R_e=Af,Hn=p_,ZS=function(t){On(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._WidgetClass=D_e.default,r.subscribableOptions=["opened","value"],r.independentEvents=["onChange","onClosed","onContentReady","onCopy","onCustomItemCreating","onCut","onDisposing","onEnterKey","onFocusIn","onFocusOut","onInitialized","onInput","onItemClick","onKeyDown","onKeyUp","onOpened","onPaste","onValueChanged"],r._defaults={defaultOpened:"opened",defaultValue:"value"},r._expectedChildren={button:{optionName:"buttons",isCollectionItem:!0},dropDownOptions:{optionName:"dropDownOptions",isCollectionItem:!1},item:{optionName:"items",isCollectionItem:!0}},r._templateProps=[{tmplOption:"dropDownButtonTemplate",render:"dropDownButtonRender",component:"dropDownButtonComponent",keyFn:"dropDownButtonKeyFn"},{tmplOption:"fieldTemplate",render:"fieldRender",component:"fieldComponent",keyFn:"fieldKeyFn"},{tmplOption:"groupTemplate",render:"groupRender",component:"groupComponent",keyFn:"groupKeyFn"},{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"}],r}return Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(R_e.Component);Xt.SelectBox=ZS;ZS.propTypes={acceptCustomValue:Ne.bool,accessKey:Ne.string,activeStateEnabled:Ne.bool,buttons:Ne.array,customItemCreateEvent:Ne.string,deferRendering:Ne.bool,disabled:Ne.bool,displayExpr:Ne.oneOfType([Ne.func,Ne.string]),displayValue:Ne.string,dropDownOptions:Ne.object,elementAttr:Ne.object,focusStateEnabled:Ne.bool,grouped:Ne.bool,height:Ne.oneOfType([Ne.func,Ne.number,Ne.string]),hint:Ne.string,hoverStateEnabled:Ne.bool,isValid:Ne.bool,items:Ne.array,label:Ne.string,labelMode:Ne.oneOfType([Ne.string,Ne.oneOf(["static","floating","hidden"])]),maxLength:Ne.oneOfType([Ne.number,Ne.string]),minSearchLength:Ne.number,name:Ne.string,noDataText:Ne.string,onChange:Ne.func,onClosed:Ne.func,onContentReady:Ne.func,onCopy:Ne.func,onCustomItemCreating:Ne.func,onCut:Ne.func,onDisposing:Ne.func,onEnterKey:Ne.func,onFocusIn:Ne.func,onFocusOut:Ne.func,onInitialized:Ne.func,onInput:Ne.func,onItemClick:Ne.func,onKeyDown:Ne.func,onKeyUp:Ne.func,onOpened:Ne.func,onOptionChanged:Ne.func,onPaste:Ne.func,onSelectionChanged:Ne.func,onValueChanged:Ne.func,opened:Ne.bool,openOnFieldClick:Ne.bool,placeholder:Ne.string,readOnly:Ne.bool,rtlEnabled:Ne.bool,searchEnabled:Ne.bool,searchExpr:Ne.oneOfType([Ne.array,Ne.func,Ne.string]),searchMode:Ne.oneOfType([Ne.string,Ne.oneOf(["contains","startswith"])]),searchTimeout:Ne.number,showClearButton:Ne.bool,showDataBeforeSearch:Ne.bool,showDropDownButton:Ne.bool,showSelectionControls:Ne.bool,spellcheck:Ne.bool,stylingMode:Ne.oneOfType([Ne.string,Ne.oneOf(["outlined","underlined","filled"])]),tabIndex:Ne.number,text:Ne.string,useItemTextAsTitle:Ne.bool,validationErrors:Ne.array,validationMessageMode:Ne.oneOfType([Ne.string,Ne.oneOf(["always","auto"])]),validationMessagePosition:Ne.oneOfType([Ne.string,Ne.oneOf(["bottom","left","right","top","auto"])]),validationStatus:Ne.oneOfType([Ne.string,Ne.oneOf(["valid","invalid","pending"])]),valueChangeEvent:Ne.string,valueExpr:Ne.oneOfType([Ne.func,Ne.string]),visible:Ne.bool,width:Ne.oneOfType([Ne.func,Ne.number,Ne.string]),wrapItemText:Ne.bool};var P_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e}(Hn.default);Xt.Animation=P_e;var M_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="at",e}(Hn.default);Xt.At=M_e;var B_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="boundaryOffset",e}(Hn.default);Xt.BoundaryOffset=B_e;var L_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="buttons",e.IsCollectionItem=!0,e.ExpectedChildren={options:{optionName:"options",isCollectionItem:!1}},e}(Hn.default);Xt.Button=L_e;var F_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="collision",e}(Hn.default);Xt.Collision=F_e;var N_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="dropDownOptions",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(Hn.default);Xt.DropDownOptions=N_e;var V_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="from",e.ExpectedChildren={position:{optionName:"position",isCollectionItem:!1}},e}(Hn.default);Xt.From=V_e;var H_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="hide",e.ExpectedChildren={from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}},e}(Hn.default);Xt.Hide=H_e;var j_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(Hn.default);Xt.Item=j_e;var $_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="my",e}(Hn.default);Xt.My=$_e;var z_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="offset",e}(Hn.default);Xt.Offset=z_e;var W_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="options",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(Hn.default);Xt.Options=W_e;var U_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="position",e}(Hn.default);Xt.Position=U_e;var G_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="show",e}(Hn.default);Xt.Show=G_e;var K_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="to",e}(Hn.default);Xt.To=K_e;var q_e=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(Hn.default);Xt.ToolbarItem=q_e;var X_e=Xt.default=ZS;const Y_e=[{ID:1,CompanyName:"Super Mart of the West",Address:"702 SW 8th Street",City:"Bentonville",State:"Arkansas",Zipcode:72716,Phone:"(800) 555-2797",Fax:"(800) 555-2171",Website:"http://www.nowebsitesupermart.com"},{ID:2,CompanyName:"Electronics Depot",Address:"2455 Paces Ferry Road NW",City:"Atlanta",State:"Georgia",Zipcode:30339,Phone:"(800) 595-3232",Fax:"(800) 595-3231",Website:"http://www.nowebsitedepot.com"},{ID:3,CompanyName:"K&S Music",Address:"1000 Nicllet Mall",City:"Minneapolis",State:"Minnesota",Zipcode:55403,Phone:"(612) 304-6073",Fax:"(612) 304-6074",Website:"http://www.nowebsitemusic.com"},{ID:4,CompanyName:"Tom's Club",Address:"999 Lake Drive",City:"Issaquah",State:"Washington",Zipcode:98027,Phone:"(800) 955-2292",Fax:"(800) 955-2293",Website:"http://www.nowebsitetomsclub.com"},{ID:5,CompanyName:"E-Mart",Address:"3333 Beverly Rd",City:"Hoffman Estates",State:"Illinois",Zipcode:60179,Phone:"(847) 286-2500",Fax:"(847) 286-2501",Website:"http://www.nowebsiteemart.com"},{ID:6,CompanyName:"Walters",Address:"200 Wilmot Rd",City:"Deerfield",State:"Illinois",Zipcode:60015,Phone:"(847) 940-2500",Fax:"(847) 940-2501",Website:"http://www.nowebsitewalters.com"},{ID:7,CompanyName:"StereoShack",Address:"400 Commerce S",City:"Fort Worth",State:"Texas",Zipcode:76102,Phone:"(817) 820-0741",Fax:"(817) 820-0742",Website:"http://www.nowebsiteshack.com"},{ID:8,CompanyName:"Circuit Town",Address:"2200 Kensington Court",City:"Oak Brook",State:"Illinois",Zipcode:60523,Phone:"(800) 955-2929",Fax:"(800) 955-9392",Website:"http://www.nowebsitecircuittown.com"},{ID:9,CompanyName:"Premier Buy",Address:"7601 Penn Avenue South",City:"Richfield",State:"Minnesota",Zipcode:55423,Phone:"(612) 291-1000",Fax:"(612) 291-2001",Website:"http://www.nowebsitepremierbuy.com"},{ID:10,CompanyName:"ElectrixMax",Address:"263 Shuman Blvd",City:"Naperville",State:"Illinois",Zipcode:60563,Phone:"(630) 438-7800",Fax:"(630) 438-7801",Website:"http://www.nowebsiteelectrixmax.com"},{ID:11,CompanyName:"Video Emporium",Address:"1201 Elm Street",City:"Dallas",State:"Texas",Zipcode:75270,Phone:"(214) 854-3000",Fax:"(214) 854-3001",Website:"http://www.nowebsitevideoemporium.com"},{ID:12,CompanyName:"Screen Shop",Address:"1000 Lowes Blvd",City:"Mooresville",State:"North Carolina",Zipcode:28117,Phone:"(800) 445-6937",Fax:"(800) 445-6938",Website:"http://www.nowebsitescreenshop.com"}],Z_e=["CompanyName","City","State","Phone","Fax"],XR=["nextColumn","widget"],Q_e={"aria-label":"Column Resizing Mode"};function J_e(){const[t,e]=pr.useState(XR[0]),r=n=>{e(n.value)};return We.jsxs("div",{children:[We.jsx(m_,{id:"orders",dataSource:Y_e,keyExpr:"ID",showBorders:!0,allowColumnResizing:!0,columnResizingMode:t,columnMinWidth:50,columnAutoWidth:!0,defaultColumns:Z_e}),We.jsxs("div",{className:"options",children:[We.jsx("div",{className:"caption",children:"Options"}),We.jsxs("div",{className:"option",children:[We.jsx("span",{children:"Column resizing mode: "}),We.jsx(X_e,{items:XR,value:t,inputAttr:Q_e,width:250,onValueChanged:r})]})]})]})}function e0e(){const t=e=>[e.TitleOfCourtesy,e.FullName].join(" ");return We.jsx("div",{children:We.jsxs(m_,{id:"gridContainer",dataSource:YS,keyExpr:"EmployeeID",allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,children:[We.jsx(T8,{enabled:!0}),We.jsx(O8,{enabled:!0}),We.jsx(Ut,{caption:"Employee",width:230,fixed:!0,calculateCellValue:t}),We.jsx(Ut,{dataField:"BirthDate",dataType:"date"}),We.jsx(Ut,{dataField:"HireDate",dataType:"date"}),We.jsx(Ut,{dataField:"Position",alignment:"right"}),We.jsx(Ut,{dataField:"Address",width:230}),We.jsx(Ut,{dataField:"City"}),We.jsx(Ut,{dataField:"Photo",cellRender:t0e}),We.jsx(Ut,{dataField:"Zipcode",visible:!1}),We.jsx(Ut,{dataField:"HomePhone"})]})})}function t0e(t){return We.jsx("img",{src:t.value,style:{width:"30px"}})}function sm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M8={exports:{}};/*! ExcelJS 21-08-2021 */(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(p,h){if(!i[p]){if(!n[p]){var m=typeof sm=="function"&&sm;if(!h&&m)return m(p,!0);if(s)return s(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var f=i[p]={exports:{}};n[p][0].call(f.exports,function(u){return o(n[p][1][u]||u)},f,f.exports,r,n,i,a)}return i[p].exports}for(var s=typeof sm=="function"&&sm,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y,b,C,w,x,A){try{var D=g[x](A),P=D.value}catch(k){return void b(k)}D.done?y(P):Promise.resolve(P).then(C,w)}function s(g){return function(){var y=this,b=arguments;return new Promise(function(C,w){var x=g.apply(y,b);function A(P){o(x,C,w,A,D,"next",P)}function D(P){o(x,C,w,A,D,"throw",P)}A(void 0)})}}function l(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}var p=r("fs"),h=r("fast-csv"),m=r("dayjs/plugin/customParseFormat"),v=r("dayjs/plugin/utc"),f=r("dayjs").extend(m).extend(v),u=r("../utils/stream-buf"),c=r("../utils/utils").fs.exists,d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}},_=function(){function g(x){(function(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")})(this,g),this.workbook=x,this.worksheet=null}var y,b,C,w;return y=g,(b=[{key:"readFile",value:(w=s(regeneratorRuntime.mark(function x(A,D){var P,k;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return D=D||{},B.next=3,c(A);case 3:if(B.sent){B.next=5;break}throw new Error("File not found: ".concat(A));case 5:return P=p.createReadStream(A),B.next=8,this.read(P,D);case 8:return k=B.sent,P.close(),B.abrupt("return",k);case 11:case"end":return B.stop()}},x,this)})),function(x,A){return w.apply(this,arguments)})},{key:"read",value:function(x,A){var D=this;return A=A||{},new Promise(function(P,k){var B=D.workbook.addWorksheet(A.sheetName),E=A.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],O=A.map||function(R){if(R==="")return null;var T=Number(R);if(!Number.isNaN(T)&&T!==1/0)return T;var I=E.reduce(function(N,j){if(N)return N;var H=f(R,j,!0);return H.isValid()?H:null},null);if(I)return new Date(I.valueOf());var M=d[R];return M!==void 0?M:R},S=h.parse(A.parserOptions).on("data",function(R){B.addRow(R.map(O))}).on("end",function(){S.emit("worksheet",B)});S.on("worksheet",P).on("error",k),x.pipe(S)})}},{key:"createInputStream",value:function(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"write",value:function(x,A){var D=this;return new Promise(function(P,k){A=A||{};var B=D.workbook.getWorksheet(A.sheetName||A.sheetId),E=h.format(A.formatterOptions);x.on("finish",function(){P()}),E.on("error",k),E.pipe(x);var O=A,S=O.dateFormat,R=O.dateUTC,T=A.map||function(N){if(N){if(N.text||N.hyperlink)return N.hyperlink||N.text||"";if(N.formula||N.result)return N.result||"";if(N instanceof Date)return S?R?f.utc(N).format(S):f(N).format(S):R?f.utc(N).format():f(N).format();if(N.error)return N.error;if(a(N)==="object")return JSON.stringify(N)}return N},I=A.includeEmptyRows===void 0||A.includeEmptyRows,M=1;B&&B.eachRow(function(N,j){if(I)for(;M++<j-1;)E.write([]);var H=N.values;H.shift(),E.write(H.map(T)),M=j}),E.end()})}},{key:"writeFile",value:function(x,A){var D={encoding:(A=A||{}).encoding||"utf8"},P=p.createWriteStream(x,D);return this.write(P,A)}},{key:"writeBuffer",value:(C=s(regeneratorRuntime.mark(function x(A){var D;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return D=new u,P.next=3,this.write(D,A);case 3:return P.abrupt("return",D.read());case 4:case"end":return P.stop()}},x,this)})),function(x){return C.apply(this,arguments)})}])&&l(y.prototype,b),g}();n.exports=_},{"../utils/stream-buf":23,"../utils/utils":26,dayjs:336,"dayjs/plugin/customParseFormat":337,"dayjs/plugin/utc":338,"fast-csv":369,fs:215}],2:[function(r,n,i){function a(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function o(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var s=r("../utils/col-cache"),l=function(){function p(f,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(a(this,p),u)if(typeof u=="string"){var d=s.decodeAddress(u);this.nativeCol=d.col+c,this.nativeColOff=0,this.nativeRow=d.row+c,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+c,this.row=u.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0;this.worksheet=f}var h,m,v;return h=p,v=[{key:"asInstance",value:function(f){return f instanceof p||f==null?f:new p(f)}}],(m=[{key:"col",get:function(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth},set:function(f){this.nativeCol=Math.floor(f),this.nativeColOff=Math.floor((f-this.nativeCol)*this.colWidth)}},{key:"row",get:function(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight},set:function(f){this.nativeRow=Math.floor(f),this.nativeRowOff=Math.floor((f-this.nativeRow)*this.rowHeight)}},{key:"colWidth",get:function(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}},{key:"rowHeight",get:function(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}},{key:"model",get:function(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}},set:function(f){this.nativeCol=f.nativeCol,this.nativeColOff=f.nativeColOff,this.nativeRow=f.nativeRow,this.nativeRowOff=f.nativeRowOff}}])&&o(h.prototype,m),v&&o(h,v),p}();n.exports=l},{"../utils/col-cache":19}],3:[function(r,n,i){function a(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function o(k,B){for(var E=0;E<B.length;E++){var O=B[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function s(k,B,E){return B&&o(k.prototype,B),E&&o(k,E),k}var l=r("../utils/col-cache"),p=r("../utils/under-dash"),h=r("./enums"),m=r("../utils/shared-formula").slideFormula,v=r("./note"),f=function(){function k(B,E,O){if(a(this,k),!B||!E)throw new Error("A Cell needs a Row");this._row=B,this._column=E,l.validateAddress(O),this._address=O,this._value=P.create(k.Types.Null,this),this.style=this._mergeStyle(B.style,E.style,{}),this._mergeCount=0}return s(k,[{key:"destroy",value:function(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}},{key:"_mergeStyle",value:function(B,E,O){var S=B&&B.numFmt||E&&E.numFmt;S&&(O.numFmt=S);var R=B&&B.font||E&&E.font;R&&(O.font=R);var T=B&&B.alignment||E&&E.alignment;T&&(O.alignment=T);var I=B&&B.border||E&&E.border;I&&(O.border=I);var M=B&&B.fill||E&&E.fill;M&&(O.fill=M);var N=B&&B.protection||E&&E.protection;return N&&(O.protection=N),O}},{key:"toCsvString",value:function(){return this._value.toCsvString()}},{key:"addMergeRef",value:function(){this._mergeCount++}},{key:"releaseMergeRef",value:function(){this._mergeCount--}},{key:"merge",value:function(B,E){this._value.release(),this._value=P.create(k.Types.Merge,this,B),E||(this.style=B.style)}},{key:"unmerge",value:function(){this.type===k.Types.Merge&&(this._value.release(),this._value=P.create(k.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}},{key:"isMergedTo",value:function(B){return this._value.type===k.Types.Merge&&this._value.isMergedTo(B)}},{key:"toString",value:function(){return this.text}},{key:"_upgradeToHyperlink",value:function(B){this.type===k.Types.String&&(this._value=P.create(k.Types.Hyperlink,this,{text:this._value.value,hyperlink:B}))}},{key:"addName",value:function(B){this.workbook.definedNames.addEx(this.fullAddress,B)}},{key:"removeName",value:function(B){this.workbook.definedNames.removeEx(this.fullAddress,B)}},{key:"removeAllNames",value:function(){this.workbook.definedNames.removeAllNames(this.fullAddress)}},{key:"worksheet",get:function(){return this._row.worksheet}},{key:"workbook",get:function(){return this._row.worksheet.workbook}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(B){this.style.numFmt=B}},{key:"font",get:function(){return this.style.font},set:function(B){this.style.font=B}},{key:"alignment",get:function(){return this.style.alignment},set:function(B){this.style.alignment=B}},{key:"border",get:function(){return this.style.border},set:function(B){this.style.border=B}},{key:"fill",get:function(){return this.style.fill},set:function(B){this.style.fill=B}},{key:"protection",get:function(){return this.style.protection},set:function(B){this.style.protection=B}},{key:"address",get:function(){return this._address}},{key:"row",get:function(){return this._row.number}},{key:"col",get:function(){return this._column.number}},{key:"$col$row",get:function(){return"$".concat(this._column.letter,"$").concat(this.row)}},{key:"type",get:function(){return this._value.type}},{key:"effectiveType",get:function(){return this._value.effectiveType}},{key:"isMerged",get:function(){return this._mergeCount>0||this.type===k.Types.Merge}},{key:"master",get:function(){return this.type===k.Types.Merge?this._value.master:this}},{key:"isHyperlink",get:function(){return this._value.type===k.Types.Hyperlink}},{key:"hyperlink",get:function(){return this._value.hyperlink}},{key:"value",get:function(){return this._value.value},set:function(B){this.type!==k.Types.Merge?(this._value.release(),this._value=P.create(P.getType(B),this,B)):this._value.master.value=B}},{key:"note",get:function(){return this._comment&&this._comment.note},set:function(B){this._comment=new v(B)}},{key:"text",get:function(){return this._value.toString()}},{key:"html",get:function(){return p.escapeHtml(this.text)}},{key:"formula",get:function(){return this._value.formula}},{key:"result",get:function(){return this._value.result}},{key:"formulaType",get:function(){return this._value.formulaType}},{key:"fullAddress",get:function(){return{sheetName:this._row.worksheet.name,address:this.address,row:this.row,col:this.col}}},{key:"name",get:function(){return this.names[0]},set:function(B){this.names=[B]}},{key:"names",get:function(){return this.workbook.definedNames.getNamesEx(this.fullAddress)},set:function(B){var E=this,O=this.workbook.definedNames;O.removeAllNames(this.fullAddress),B.forEach(function(S){O.addEx(E.fullAddress,S)})}},{key:"_dataValidations",get:function(){return this.worksheet.dataValidations}},{key:"dataValidation",get:function(){return this._dataValidations.find(this.address)},set:function(B){this._dataValidations.add(this.address,B)}},{key:"model",get:function(){var B=this._value.model;return B.style=this.style,this._comment&&(B.comment=this._comment.model),B},set:function(B){if(this._value.release(),this._value=P.create(B.type,this),this._value.model=B,B.comment)switch(B.comment.type){case"note":this._comment=v.fromModel(B.comment)}B.style?this.style=B.style:this.style={}}}]),k}();f.Types=h.ValueType;var u=function(){function k(B){a(this,k),this.model={address:B.address,type:f.Types.Null}}return s(k,[{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){}},{key:"toString",value:function(){return""}},{key:"value",get:function(){return null},set:function(B){}},{key:"type",get:function(){return f.Types.Null}},{key:"effectiveType",get:function(){return f.Types.Null}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),c=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Number,value:E}}return s(k,[{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.Number}},{key:"effectiveType",get:function(){return f.Types.Number}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),d=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.String,value:E}}return s(k,[{key:"toCsvString",value:function(){return'"'.concat(this.model.value.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.String}},{key:"effectiveType",get:function(){return f.Types.String}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),_=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.String,value:E}}return s(k,[{key:"toString",value:function(){return this.model.value.richText.map(function(B){return B.text}).join("")}},{key:"toCsvString",value:function(){return'"'.concat(this.text.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.RichText}},{key:"effectiveType",get:function(){return f.Types.RichText}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),g=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Date,value:E}}return s(k,[{key:"toCsvString",value:function(){return this.model.value.toISOString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.Date}},{key:"effectiveType",get:function(){return f.Types.Date}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),y=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Hyperlink,text:E?E.text:void 0,hyperlink:E?E.hyperlink:void 0},E&&E.tooltip&&(this.model.tooltip=E.tooltip)}return s(k,[{key:"toCsvString",value:function(){return this.model.hyperlink}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.text}},{key:"value",get:function(){var B={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(B.tooltip=this.model.tooltip),B},set:function(B){this.model={text:B.text,hyperlink:B.hyperlink},B.tooltip&&(this.model.tooltip=B.tooltip)}},{key:"text",get:function(){return this.model.text},set:function(B){this.model.text=B}},{key:"hyperlink",get:function(){return this.model.hyperlink},set:function(B){this.model.hyperlink=B}},{key:"type",get:function(){return f.Types.Hyperlink}},{key:"effectiveType",get:function(){return f.Types.Hyperlink}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),b=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Merge,master:E?E.address:void 0},this._master=E,E&&E.addMergeRef()}return s(k,[{key:"isMergedTo",value:function(B){return B===this._master}},{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){this._master.releaseMergeRef()}},{key:"toString",value:function(){return this.value.toString()}},{key:"value",get:function(){return this._master.value},set:function(B){B instanceof f?(this._master&&this._master.releaseMergeRef(),B.addMergeRef(),this._master=B):this._master.value=B}},{key:"master",get:function(){return this._master}},{key:"type",get:function(){return f.Types.Merge}},{key:"effectiveType",get:function(){return this._master.effectiveType}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),C=function(){function k(B,E){a(this,k),this.cell=B,this.model={address:B.address,type:f.Types.Formula,shareType:E?E.shareType:void 0,ref:E?E.ref:void 0,formula:E?E.formula:void 0,sharedFormula:E?E.sharedFormula:void 0,result:E?E.result:void 0}}return s(k,[{key:"_copyModel",value:function(B){var E={},O=function(S){var R=B[S];R&&(E[S]=R)};return O("formula"),O("result"),O("ref"),O("shareType"),O("sharedFormula"),E}},{key:"validate",value:function(B){switch(P.getType(B)){case f.Types.Null:case f.Types.String:case f.Types.Number:case f.Types.Date:break;case f.Types.Hyperlink:case f.Types.Formula:default:throw new Error("Cannot process that type of result value")}}},{key:"_getTranslatedFormula",value:function(){if(!this._translatedFormula&&this.model.sharedFormula){var B=this.cell.worksheet.findCell(this.model.sharedFormula);this._translatedFormula=B&&m(B.formula,B.address,this.model.address)}return this._translatedFormula}},{key:"toCsvString",value:function(){return"".concat(this.model.result||"")}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.result?this.model.result.toString():""}},{key:"value",get:function(){return this._copyModel(this.model)},set:function(B){this.model=this._copyModel(B)}},{key:"dependencies",get:function(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}},{key:"formula",get:function(){return this.model.formula||this._getTranslatedFormula()},set:function(B){this.model.formula=B}},{key:"formulaType",get:function(){return this.model.formula?h.FormulaType.Master:this.model.sharedFormula?h.FormulaType.Shared:h.FormulaType.None}},{key:"result",get:function(){return this.model.result},set:function(B){this.model.result=B}},{key:"type",get:function(){return f.Types.Formula}},{key:"effectiveType",get:function(){var B=this.model.result;return B==null?h.ValueType.Null:B instanceof String||typeof B=="string"?h.ValueType.String:typeof B=="number"?h.ValueType.Number:B instanceof Date?h.ValueType.Date:B.text&&B.hyperlink?h.ValueType.Hyperlink:B.formula?h.ValueType.Formula:h.ValueType.Null}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),w=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.SharedString,value:E}}return s(k,[{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.SharedString}},{key:"effectiveType",get:function(){return f.Types.SharedString}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),x=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Boolean,value:E}}return s(k,[{key:"toCsvString",value:function(){return this.model.value?1:0}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.Boolean}},{key:"effectiveType",get:function(){return f.Types.Boolean}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),A=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.Error,value:E}}return s(k,[{key:"toCsvString",value:function(){return this.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.error.toString()}},{key:"value",get:function(){return this.model.value},set:function(B){this.model.value=B}},{key:"type",get:function(){return f.Types.Error}},{key:"effectiveType",get:function(){return f.Types.Error}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),D=function(){function k(B,E){a(this,k),this.model={address:B.address,type:f.Types.String,value:JSON.stringify(E),rawValue:E}}return s(k,[{key:"toCsvString",value:function(){return this.model.value}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}},{key:"value",get:function(){return this.model.rawValue},set:function(B){this.model.rawValue=B,this.model.value=JSON.stringify(B)}},{key:"type",get:function(){return f.Types.String}},{key:"effectiveType",get:function(){return f.Types.String}},{key:"address",get:function(){return this.model.address},set:function(B){this.model.address=B}}]),k}(),P={getType:function(k){return k==null?f.Types.Null:k instanceof String||typeof k=="string"?f.Types.String:typeof k=="number"?f.Types.Number:typeof k=="boolean"?f.Types.Boolean:k instanceof Date?f.Types.Date:k.text&&k.hyperlink?f.Types.Hyperlink:k.formula||k.sharedFormula?f.Types.Formula:k.richText?f.Types.RichText:k.sharedString?f.Types.SharedString:k.error?f.Types.Error:f.Types.JSON},types:[{t:f.Types.Null,f:u},{t:f.Types.Number,f:c},{t:f.Types.String,f:d},{t:f.Types.Date,f:g},{t:f.Types.Hyperlink,f:y},{t:f.Types.Formula,f:C},{t:f.Types.Merge,f:b},{t:f.Types.JSON,f:D},{t:f.Types.SharedString,f:w},{t:f.Types.RichText,f:_},{t:f.Types.Boolean,f:x},{t:f.Types.Error,f:A}].reduce(function(k,B){return k[B.t]=B.f,k},[]),create:function(k,B,E){var O=this.types[k];if(!O)throw new Error("Could not create Value of type ".concat(k));return new O(B,E)}};n.exports=f},{"../utils/col-cache":19,"../utils/shared-formula":22,"../utils/under-dash":25,"./enums":7,"./note":9}],4:[function(r,n,i){function a(h,m){for(var v=0;v<m.length;v++){var f=m[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}var o=r("../utils/under-dash"),s=r("./enums"),l=r("../utils/col-cache"),p=function(){function h(u,c,d){(function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this._worksheet=u,this._number=c,d!==!1&&(this.defn=d)}var m,v,f;return m=h,f=[{key:"toModel",value:function(u){var c=[],d=null;return u&&u.forEach(function(_,g){_.isDefault?d&&(d=null):d&&_.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:_.width!==void 0?_.width:9,style:_.style,isCustomWidth:_.isCustomWidth,hidden:_.hidden,outlineLevel:_.outlineLevel,collapsed:_.collapsed},c.push(d))}),c.length?c:void 0}},{key:"fromModel",value:function(u,c){c=c||[];for(var d=[],_=1,g=0;g<c.length;){for(var y=c[g++];_<y.min;)d.push(new h(u,_++));for(;_<=y.max;)d.push(new h(u,_++,y))}return d.length?d:null}}],(v=[{key:"toString",value:function(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}},{key:"equivalentTo",value:function(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&o.isEqual(this.style,u.style)}},{key:"eachCell",value:function(u,c){var d=this.number;c||(c=u,u=null),this._worksheet.eachRow(u,function(_,g){c(_.getCell(d),g)})}},{key:"_applyStyle",value:function(u,c){return this.style[u]=c,this.eachCell(function(d){d[u]=c}),c}},{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"letter",get:function(){return l.n2l(this._number)}},{key:"isCustomWidth",get:function(){return this.width!==void 0&&this.width!==9}},{key:"defn",get:function(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}},set:function(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}},{key:"headers",get:function(){return this._header&&this._header instanceof Array?this._header:[this._header]}},{key:"header",get:function(){return this._header},set:function(u){var c=this;u!==void 0?(this._header=u,this.headers.forEach(function(d,_){c._worksheet.getCell(_+1,c.number).value=d})):this._header=void 0}},{key:"key",get:function(){return this._key},set:function(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}},{key:"hidden",get:function(){return!!this._hidden},set:function(u){this._hidden=u}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(u){this._outlineLevel=u}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}},{key:"isDefault",get:function(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;var u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}},{key:"headerCount",get:function(){return this.headers.length}},{key:"values",get:function(){var u=[];return this.eachCell(function(c,d){c&&c.type!==s.ValueType.Null&&(u[d]=c.value)}),u},set:function(u){var c=this;if(u){var d=this.number,_=0;u.hasOwnProperty("0")&&(_=1),u.forEach(function(g,y){c._worksheet.getCell(y+_,d).value=g})}}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(u){this._applyStyle("numFmt",u)}},{key:"font",get:function(){return this.style.font},set:function(u){this._applyStyle("font",u)}},{key:"alignment",get:function(){return this.style.alignment},set:function(u){this._applyStyle("alignment",u)}},{key:"protection",get:function(){return this.style.protection},set:function(u){this._applyStyle("protection",u)}},{key:"border",get:function(){return this.style.border},set:function(u){this._applyStyle("border",u)}},{key:"fill",get:function(){return this.style.fill},set:function(u){this._applyStyle("fill",u)}}])&&a(m.prototype,v),f&&a(m,f),h}();n.exports=p},{"../utils/col-cache":19,"../utils/under-dash":25,"./enums":7}],5:[function(r,n,i){function a(s,l){for(var p=0;p<l.length;p++){var h=l[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}var o=function(){function s(h){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,s),this.model=h||{}}var l,p;return l=s,(p=[{key:"add",value:function(h,m){return this.model[h]=m}},{key:"find",value:function(h){return this.model[h]}},{key:"remove",value:function(h){this.model[h]=void 0}}])&&a(l.prototype,p),s}();n.exports=o},{}],6:[function(r,n,i){function a(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var o=r("../utils/under-dash"),s=r("../utils/col-cache"),l=r("../utils/cell-matrix"),p=r("./range"),h=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/,m=function(){function v(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,v),this.matrixMap={}}var f,u;return f=v,(u=[{key:"getMatrix",value:function(c){return this.matrixMap[c]||(this.matrixMap[c]=new l)}},{key:"add",value:function(c,d){var _=s.decodeEx(c);this.addEx(_,d)}},{key:"addEx",value:function(c,d){var _=this.getMatrix(d);if(c.top)for(var g=c.left;g<=c.right;g++)for(var y=c.top;y<=c.bottom;y++){var b={sheetName:c.sheetName,address:s.n2l(g)+y,row:y,col:g};_.addCellEx(b)}else _.addCellEx(c)}},{key:"remove",value:function(c,d){var _=s.decodeEx(c);this.removeEx(_,d)}},{key:"removeEx",value:function(c,d){this.getMatrix(d).removeCellEx(c)}},{key:"removeAllNames",value:function(c){o.each(this.matrixMap,function(d){d.removeCellEx(c)})}},{key:"forEach",value:function(c){o.each(this.matrixMap,function(d,_){d.forEach(function(g){c(_,g)})})}},{key:"getNames",value:function(c){return this.getNamesEx(s.decodeEx(c))}},{key:"getNamesEx",value:function(c){return o.map(this.matrixMap,function(d,_){return d.findCellEx(c)&&_}).filter(Boolean)}},{key:"_explore",value:function(c,d){d.mark=!1;var _,g,y=d.sheetName,b=new p(d.row,d.col,d.row,d.col,y);function C(x,A){var D=c.findCellAt(y,x,d.col);return!(!D||!D.mark||(b[A]=x,D.mark=!1,0))}for(g=d.row-1;C(g,"top");g--);for(g=d.row+1;C(g,"bottom");g++);function w(x,A){var D=[];for(g=b.top;g<=b.bottom;g++){var P=c.findCellAt(y,g,x);if(!P||!P.mark)return!1;D.push(P)}b[A]=x;for(var k=0;k<D.length;k++)D[k].mark=!1;return!0}for(_=d.col-1;w(_,"left");_--);for(_=d.col+1;w(_,"right");_++);return b}},{key:"getRanges",value:function(c,d){var _=this;return(d=d||this.matrixMap[c])?(d.forEach(function(g){g.mark=!0}),{name:c,ranges:d.map(function(g){return g.mark&&_._explore(d,g)}).filter(Boolean).map(function(g){return g.$shortRange})}):{name:c,ranges:[]}}},{key:"normaliseMatrix",value:function(c,d){c.forEachInSheet(d,function(_,g,y){_&&(_.row===g&&_.col===y||(_.row=g,_.col=y,_.address=s.n2l(y)+g))})}},{key:"spliceRows",value:function(c,d,_,g){var y=this;o.each(this.matrixMap,function(b){b.spliceRows(c,d,_,g),y.normaliseMatrix(b,c)})}},{key:"spliceColumns",value:function(c,d,_,g){var y=this;o.each(this.matrixMap,function(b){b.spliceColumns(c,d,_,g),y.normaliseMatrix(b,c)})}},{key:"model",get:function(){var c=this;return o.map(this.matrixMap,function(d,_){return c.getRanges(_,d)}).filter(function(d){return d.ranges.length})},set:function(c){var d=this.matrixMap={};c.forEach(function(_){var g=d[_.name]=new l;_.ranges.forEach(function(y){h.test(y.split("!").pop()||"")&&g.addCell(y)})})}}])&&a(f.prototype,u),v}();n.exports=m},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":25,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){function a(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var o=r("../utils/col-cache"),s=r("./anchor"),l=function(){function p(v,f){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,p),this.worksheet=v,this.model=f}var h,m;return h=p,(m=[{key:"model",get:function(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}},set:function(v){var f=v.type,u=v.imageId,c=v.range,d=v.hyperlinks;if(this.type=f,this.imageId=u,f==="image")if(typeof c=="string"){var _=o.decode(c);this.range={tl:new s(this.worksheet,{col:_.left,row:_.top},-1),br:new s(this.worksheet,{col:_.right,row:_.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:d||c.hyperlinks}}}])&&a(h.prototype,m),p}();n.exports=l},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function o(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var s=r("../utils/under-dash"),l=function(){function p(f){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,p),this.note=f}var h,m,v;return h=p,v=[{key:"fromModel",value:function(f){var u=new p;return u.model=f,u}}],(m=[{key:"model",get:function(){var f=null;switch(a(this.note)){case"string":f={type:"note",note:{texts:[{text:this.note}]}};break;default:f={type:"note",note:this.note}}return s.deepMerge({},p.DEFAULT_CONFIGS,f)},set:function(f){var u=f.note,c=u.texts;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=u}}])&&o(h.prototype,m),v&&o(h,v),p}();l.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=l},{"../utils/under-dash":25}],10:[function(r,n,i){function a(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function o(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var s=r("../utils/col-cache"),l=function(){function p(){a(this,p),this.decode(arguments)}var h,m;return h=p,(m=[{key:"setTLBR",value:function(v,f,u,c,d){if(arguments.length<4){var _=s.decodeAddress(v),g=s.decodeAddress(f);this.model={top:Math.min(_.row,g.row),left:Math.min(_.col,g.col),bottom:Math.max(_.row,g.row),right:Math.max(_.col,g.col),sheetName:u},this.setTLBR(_.row,_.col,g.row,g.col,d)}else this.model={top:Math.min(v,u),left:Math.min(f,c),bottom:Math.max(v,u),right:Math.max(f,c),sheetName:d}}},{key:"decode",value:function(v){switch(v.length){case 5:this.setTLBR(v[0],v[1],v[2],v[3],v[4]);break;case 4:this.setTLBR(v[0],v[1],v[2],v[3]);break;case 3:this.setTLBR(v[0],v[1],v[2]);break;case 2:this.setTLBR(v[0],v[1]);break;case 1:var f=v[0];if(f instanceof p)this.model={top:f.model.top,left:f.model.left,bottom:f.model.bottom,right:f.model.right,sheetName:f.sheetName};else if(f instanceof Array)this.decode(f);else if(f.top&&f.left&&f.bottom&&f.right)this.model={top:f.top,left:f.left,bottom:f.bottom,right:f.right,sheetName:f.sheetName};else{var u=s.decodeEx(f);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break;case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - ".concat(v.length))}}},{key:"expand",value:function(v,f,u,c){(!this.model.top||v<this.top)&&(this.top=v),(!this.model.left||f<this.left)&&(this.left=f),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||c>this.right)&&(this.right=c)}},{key:"expandRow",value:function(v){if(v){var f=v.dimensions,u=v.number;f&&this.expand(u,f.min,u,f.max)}}},{key:"expandToAddress",value:function(v){var f=s.decodeEx(v);this.expand(f.row,f.col,f.row,f.col)}},{key:"toString",value:function(){return this.range}},{key:"intersects",value:function(v){return!(v.sheetName&&this.sheetName&&v.sheetName!==this.sheetName||v.bottom<this.top||v.top>this.bottom||v.right<this.left||v.left>this.right)}},{key:"contains",value:function(v){var f=s.decodeEx(v);return this.containsEx(f)}},{key:"containsEx",value:function(v){return(!v.sheetName||!this.sheetName||v.sheetName===this.sheetName)&&v.row>=this.top&&v.row<=this.bottom&&v.col>=this.left&&v.col<=this.right}},{key:"forEachAddress",value:function(v){for(var f=this.left;f<=this.right;f++)for(var u=this.top;u<=this.bottom;u++)v(s.encodeAddress(u,f),u,f)}},{key:"top",get:function(){return this.model.top||1},set:function(v){this.model.top=v}},{key:"left",get:function(){return this.model.left||1},set:function(v){this.model.left=v}},{key:"bottom",get:function(){return this.model.bottom||1},set:function(v){this.model.bottom=v}},{key:"right",get:function(){return this.model.right||1},set:function(v){this.model.right=v}},{key:"sheetName",get:function(){return this.model.sheetName},set:function(v){this.model.sheetName=v}},{key:"_serialisedSheetName",get:function(){var v=this.model.sheetName;return v?/^[a-zA-Z0-9]*$/.test(v)?"".concat(v,"!"):"'".concat(v,"'!"):""}},{key:"tl",get:function(){return s.n2l(this.left)+this.top}},{key:"$t$l",get:function(){return"$".concat(s.n2l(this.left),"$").concat(this.top)}},{key:"br",get:function(){return s.n2l(this.right)+this.bottom}},{key:"$b$r",get:function(){return"$".concat(s.n2l(this.right),"$").concat(this.bottom)}},{key:"range",get:function(){return"".concat(this._serialisedSheetName+this.tl,":").concat(this.br)}},{key:"$range",get:function(){return"".concat(this._serialisedSheetName+this.$t$l,":").concat(this.$b$r)}},{key:"shortRange",get:function(){return this.count>1?this.range:this._serialisedSheetName+this.tl}},{key:"$shortRange",get:function(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}},{key:"count",get:function(){return(1+this.bottom-this.top)*(1+this.right-this.left)}}])&&o(h.prototype,m),p}();n.exports=l},{"../utils/col-cache":19}],11:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var o=r("../utils/under-dash"),s=r("./enums"),l=r("../utils/col-cache"),p=r("./cell"),h=function(){function m(u,c){(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m),this._worksheet=u,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}var v,f;return v=m,(f=[{key:"commit",value:function(){this._worksheet._commitRow(this)}},{key:"destroy",value:function(){delete this._worksheet,delete this._cells,delete this.style}},{key:"findCell",value:function(u){return this._cells[u-1]}},{key:"getCellEx",value:function(u){var c=this._cells[u.col-1];if(!c){var d=this._worksheet.getColumn(u.col);c=new p(this,d,u.address),this._cells[u.col-1]=c}return c}},{key:"getCell",value:function(u){if(typeof u=="string"){var c=this._worksheet.getColumnKey(u);u=c?c.number:l.l2n(u)}return this._cells[u-1]||this.getCellEx({address:l.encodeAddress(this._number,u),row:this._number,col:u})}},{key:"splice",value:function(u,c){for(var d=u+c,_=arguments.length,g=new Array(_>2?_-2:0),y=2;y<_;y++)g[y-2]=arguments[y];var b,C,w,x=g.length-c,A=this._cells.length;if(x<0)for(b=u+g.length;b<=A;b++)w=this._cells[b-1],(C=this._cells[b-x-1])?((w=this.getCell(b)).value=C.value,w.style=C.style,w._comment=C._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(x>0)for(b=A;b>=d;b--)(C=this._cells[b-1])?((w=this.getCell(b+x)).value=C.value,w.style=C.style,w._comment=C._comment):this._cells[b+x-1]=void 0;for(b=0;b<g.length;b++)(w=this.getCell(u+b)).value=g[b],w.style={},w._comment=void 0}},{key:"eachCell",value:function(u,c){if(c||(c=u,u=null),u&&u.includeEmpty)for(var d=this._cells.length,_=1;_<=d;_++)c(this.getCell(_),_);else this._cells.forEach(function(g,y){g&&g.type!==s.ValueType.Null&&c(g,y+1)})}},{key:"addPageBreak",value:function(u,c){var d=this._worksheet,_=Math.max(0,u-1)||0,g=Math.max(0,c-1)||16838,y={id:this._number,max:g,man:1};_&&(y.min=_),d.rowBreaks.push(y)}},{key:"_applyStyle",value:function(u,c){return this.style[u]=c,this._cells.forEach(function(d){d&&(d[u]=c)}),c}},{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"values",get:function(){var u=[];return this._cells.forEach(function(c){c&&c.type!==s.ValueType.Null&&(u[c.col]=c.value)}),u},set:function(u){var c=this;if(this._cells=[],u)if(u instanceof Array){var d=0;u.hasOwnProperty("0")&&(d=1),u.forEach(function(_,g){_!==void 0&&(c.getCellEx({address:l.encodeAddress(c._number,g+d),row:c._number,col:g+d}).value=_)})}else this._worksheet.eachColumnKey(function(_,g){u[g]!==void 0&&(c.getCellEx({address:l.encodeAddress(c._number,_.number),row:c._number,col:_.number}).value=u[g])})}},{key:"hasValues",get:function(){return o.some(this._cells,function(u){return u&&u.type!==s.ValueType.Null})}},{key:"cellCount",get:function(){return this._cells.length}},{key:"actualCellCount",get:function(){var u=0;return this.eachCell(function(){u++}),u}},{key:"dimensions",get:function(){var u=0,c=0;return this._cells.forEach(function(d){d&&d.type!==s.ValueType.Null&&((!u||u>d.col)&&(u=d.col),c<d.col&&(c=d.col))}),u>0?{min:u,max:c}:null}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(u){this._applyStyle("numFmt",u)}},{key:"font",get:function(){return this.style.font},set:function(u){this._applyStyle("font",u)}},{key:"alignment",get:function(){return this.style.alignment},set:function(u){this._applyStyle("alignment",u)}},{key:"protection",get:function(){return this.style.protection},set:function(u){this._applyStyle("protection",u)}},{key:"border",get:function(){return this.style.border},set:function(u){this._applyStyle("border",u)}},{key:"fill",get:function(){return this.style.fill},set:function(u){this._applyStyle("fill",u)}},{key:"hidden",get:function(){return!!this._hidden},set:function(u){this._hidden=u}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(u){this._outlineLevel=u}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}},{key:"model",get:function(){var u=[],c=0,d=0;return this._cells.forEach(function(_){if(_){var g=_.model;g&&((!c||c>_.col)&&(c=_.col),d<_.col&&(d=_.col),u.push(g))}}),this.height||u.length?{cells:u,number:this.number,min:c,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null},set:function(u){var c,d=this;if(u.number!==this._number)throw new Error("Invalid row number in model");this._cells=[],u.cells.forEach(function(_){switch(_.type){case p.Types.Merge:break;default:var g;if(_.address)g=l.decodeAddress(_.address);else if(c){var y=c.row,b=c.col+1;g={row:y,col:b,address:l.encodeAddress(y,b),$col$row:"$".concat(l.n2l(b),"$").concat(y)}}c=g,d.getCellEx(g).model=_}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}])&&a(v.prototype,f),m}();n.exports=h},{"../utils/col-cache":19,"../utils/under-dash":25,"./cell":3,"./enums":7}],12:[function(r,n,i){function a(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function o(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}function s(m,v,f){return v&&o(m.prototype,v),f&&o(m,f),m}var l=r("../utils/col-cache"),p=function(){function m(v,f,u){a(this,m),this.table=v,this.column=f,this.index=u}return s(m,[{key:"_set",value:function(v,f){this.table.cacheState(),this.column[v]=f}},{key:"name",get:function(){return this.column.name},set:function(v){this._set("name",v)}},{key:"filterButton",get:function(){return this.column.filterButton},set:function(v){this.column.filterButton=v}},{key:"style",get:function(){return this.column.style},set:function(v){this.column.style=v}},{key:"totalsRowLabel",get:function(){return this.column.totalsRowLabel},set:function(v){this._set("totalsRowLabel",v)}},{key:"totalsRowFunction",get:function(){return this.column.totalsRowFunction},set:function(v){this._set("totalsRowFunction",v)}},{key:"totalsRowResult",get:function(){return this.column.totalsRowResult},set:function(v){this._set("totalsRowResult",v)}},{key:"totalsRowFormula",get:function(){return this.column.totalsRowFormula},set:function(v){this._set("totalsRowFormula",v)}}]),m}(),h=function(){function m(v,f){a(this,m),this.worksheet=v,f&&(this.table=f,this.validate(),this.store())}return s(m,[{key:"getFormula",value:function(v){switch(v.totalsRowFunction){case"none":return null;case"average":return"SUBTOTAL(101,".concat(this.table.name,"[").concat(v.name,"])");case"countNums":return"SUBTOTAL(102,".concat(this.table.name,"[").concat(v.name,"])");case"count":return"SUBTOTAL(103,".concat(this.table.name,"[").concat(v.name,"])");case"max":return"SUBTOTAL(104,".concat(this.table.name,"[").concat(v.name,"])");case"min":return"SUBTOTAL(105,".concat(this.table.name,"[").concat(v.name,"])");case"stdDev":return"SUBTOTAL(106,".concat(this.table.name,"[").concat(v.name,"])");case"var":return"SUBTOTAL(107,".concat(this.table.name,"[").concat(v.name,"])");case"sum":return"SUBTOTAL(109,".concat(this.table.name,"[").concat(v.name,"])");case"custom":return v.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: ".concat(v.totalsRowFunction))}}},{key:"validate",value:function(){var v=this,f=this.table,u=function(w,x,A){w[x]===void 0&&(w[x]=A)};u(f,"headerRow",!0),u(f,"totalsRow",!1),u(f,"style",{}),u(f.style,"theme","TableStyleMedium2"),u(f.style,"showFirstColumn",!1),u(f.style,"showLastColumn",!1),u(f.style,"showRowStripes",!1),u(f.style,"showColumnStripes",!1);var c=function(w,x){if(!w)throw new Error(x)};c(f.ref,"Table must have ref"),c(f.columns,"Table must have column definitions"),c(f.rows,"Table must have row definitions"),f.tl=l.decodeAddress(f.ref);var d=f.tl,_=d.row,g=d.col;c(_>0,"Table must be on valid row"),c(g>0,"Table must be on valid col");var y=this.width,b=this.filterHeight,C=this.tableHeight;f.autoFilterRef=l.encode(_,g,_+b-1,g+y-1),f.tableRef=l.encode(_,g,_+C-1,g+y-1),f.columns.forEach(function(w,x){c(w.name,"Column ".concat(x," must have a name")),x===0?u(w,"totalsRowLabel","Total"):(u(w,"totalsRowFunction","none"),w.totalsRowFormula=v.getFormula(w))})}},{key:"store",value:function(){var v=this,f=function(w,x){x&&Object.keys(x).forEach(function(A){w[A]=x[A]})},u=this.worksheet,c=this.table,d=c.tl,_=d.row,g=d.col,y=0;if(c.headerRow){var b=u.getRow(_+y++);c.columns.forEach(function(w,x){var A=w.style,D=w.name,P=b.getCell(g+x);P.value=D,f(P,A)})}if(c.rows.forEach(function(w){var x=u.getRow(_+y++);w.forEach(function(A,D){var P=x.getCell(g+D);P.value=A,f(P,c.columns[D].style)})}),c.totalsRow){var C=u.getRow(_+y++);c.columns.forEach(function(w,x){var A=C.getCell(g+x);if(x===0)A.value=w.totalsRowLabel;else{var D=v.getFormula(w);A.value=D?{formula:w.totalsRowFormula,result:w.totalsRowResult}:null}f(A,w.style)})}}},{key:"load",value:function(v){var f=this,u=this.table,c=u.tl,d=c.row,_=c.col,g=0;if(u.headerRow){var y=v.getRow(d+g++);u.columns.forEach(function(C,w){y.getCell(_+w).value=C.name})}if(u.rows.forEach(function(C){var w=v.getRow(d+g++);C.forEach(function(x,A){w.getCell(_+A).value=x})}),u.totalsRow){var b=v.getRow(d+g++);u.columns.forEach(function(C,w){var x=b.getCell(_+w);w===0?x.value=C.totalsRowLabel:f.getFormula(C)&&(x.value={formula:C.totalsRowFormula,result:C.totalsRowResult})})}}},{key:"cacheState",value:function(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}},{key:"commit",value:function(){if(this._cache){this.validate();var v=l.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(var f=0;f<this._cache.tableHeight;f++)for(var u=this.worksheet.getRow(v.row+f),c=0;c<this._cache.width;c++)u.getCell(v.col+c).value=null;else{for(var d=this.tableHeight;d<this._cache.tableHeight;d++)for(var _=this.worksheet.getRow(v.row+d),g=0;g<this._cache.width;g++)_.getCell(v.col+g).value=null;for(var y=0;y<this.tableHeight;y++)for(var b=this.worksheet.getRow(v.row+y),C=this.width;C<this._cache.width;C++)b.getCell(v.col+C).value=null}this.store()}}},{key:"addRow",value:function(v,f){this.cacheState(),f===void 0?this.table.rows.push(v):this.table.rows.splice(f,0,v)}},{key:"removeRows",value:function(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(v,f)}},{key:"getColumn",value:function(v){var f=this.table.columns[v];return new p(this,f,v)}},{key:"addColumn",value:function(v,f,u){this.cacheState(),u===void 0?(this.table.columns.push(v),this.table.rows.forEach(function(c,d){c.push(f[d])})):(this.table.columns.splice(u,0,v),this.table.rows.forEach(function(c,d){c.splice(u,0,f[d])}))}},{key:"removeColumns",value:function(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(v,f),this.table.rows.forEach(function(u){u.splice(v,f)})}},{key:"_assign",value:function(v,f,u){this.cacheState(),v[f]=u}},{key:"width",get:function(){return this.table.columns.length}},{key:"height",get:function(){return this.table.rows.length}},{key:"filterHeight",get:function(){return this.height+(this.table.headerRow?1:0)}},{key:"tableHeight",get:function(){return this.filterHeight+(this.table.totalsRow?1:0)}},{key:"model",get:function(){return this.table},set:function(v){this.table=v}},{key:"ref",get:function(){return this.table.ref},set:function(v){this._assign(this.table,"ref",v)}},{key:"name",get:function(){return this.table.name},set:function(v){this.table.name=v}},{key:"displayName",get:function(){return this.table.displyName||this.table.name}},{key:"displayNamename",set:function(v){this.table.displayName=v}},{key:"headerRow",get:function(){return this.table.headerRow},set:function(v){this._assign(this.table,"headerRow",v)}},{key:"totalsRow",get:function(){return this.table.totalsRow},set:function(v){this._assign(this.table,"totalsRow",v)}},{key:"theme",get:function(){return this.table.style.name},set:function(v){this.table.style.name=v}},{key:"showFirstColumn",get:function(){return this.table.style.showFirstColumn},set:function(v){this.table.style.showFirstColumn=v}},{key:"showLastColumn",get:function(){return this.table.style.showLastColumn},set:function(v){this.table.style.showLastColumn=v}},{key:"showRowStripes",get:function(){return this.table.style.showRowStripes},set:function(v){this.table.style.showRowStripes=v}},{key:"showColumnStripes",get:function(){return this.table.style.showColumnStripes},set:function(v){this.table.style.showColumnStripes=v}}]),m}();n.exports=h},{"../utils/col-cache":19}],13:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var o=r("./worksheet"),s=r("./defined-names"),l=r("../xlsx/xlsx"),p=r("../csv/csv"),h=function(){function m(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,m),this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}var v,f;return v=m,(f=[{key:"addWorksheet",value:function(u,c){var d=this.nextId;if(u&&u.length>31&&console.warn("Worksheet name ".concat(u," exceeds 31 chars. This will be truncated")),/[*?:/\\[\]]/.test(u))throw new Error("Worksheet name ".concat(u," cannot include any of the following characters: * ? : \\ / [ ]"));if(/(^')|('$)/.test(u))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: ".concat(u));if(u=(u||"sheet".concat(d)).substring(0,31),this._worksheets.find(function(b){return b&&b.name.toLowerCase()===u.toLowerCase()}))throw new Error("Worksheet name already exists: ".concat(u));c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));var _=this._worksheets.reduce(function(b,C){return(C&&C.orderNo)>b?C.orderNo:b},0),g=Object.assign({},c,{id:d,name:u,orderNo:_+1,workbook:this}),y=new o(g);return this._worksheets[d]=y,y}},{key:"removeWorksheetEx",value:function(u){delete this._worksheets[u.id]}},{key:"removeWorksheet",value:function(u){var c=this.getWorksheet(u);c&&c.destroy()}},{key:"getWorksheet",value:function(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(function(c){return c&&c.name===u}):void 0}},{key:"eachSheet",value:function(u){this.worksheets.forEach(function(c){u(c,c.id)})}},{key:"clearThemes",value:function(){this._themes=void 0}},{key:"addImage",value:function(u){var c=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),c}},{key:"getImage",value:function(u){return this.media[u]}},{key:"xlsx",get:function(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}},{key:"csv",get:function(){return this._csv||(this._csv=new p(this)),this._csv}},{key:"nextId",get:function(){for(var u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}},{key:"worksheets",get:function(){return this._worksheets.slice(1).sort(function(u,c){return u.orderNo-c.orderNo}).filter(Boolean)}},{key:"definedNames",get:function(){return this._definedNames}},{key:"model",get:function(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(function(u){return u.model}),sheets:this.worksheets.map(function(u){return u.model}).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}},set:function(u){var c=this;this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(function(d){var _=d.id,g=d.name,y=d.state,b=u.sheets&&u.sheets.findIndex(function(C){return C.id===_});(c._worksheets[_]=new o({id:_,name:g,orderNo:b,state:y,workbook:c})).model=d}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}])&&a(v.prototype,f),m}();n.exports=h},{"../csv/csv":1,"../xlsx/xlsx":141,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){function a(w,x){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(w);x&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),A.push.apply(A,D)}return A}function o(w){for(var x=1;x<arguments.length;x++){var A=arguments[x]!=null?arguments[x]:{};x%2?a(Object(A),!0).forEach(function(D){s(w,D,A[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):a(Object(A)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(A,D))})}return w}function s(w,x,A){return x in w?Object.defineProperty(w,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[x]=A,w}function l(w){return function(x){if(Array.isArray(x))return p(x)}(w)||function(x){if(typeof Symbol<"u"&&Symbol.iterator in Object(x))return Array.from(x)}(w)||function(x,A){if(x){if(typeof x=="string")return p(x,A);var D=Object.prototype.toString.call(x).slice(8,-1);if(D==="Object"&&x.constructor&&(D=x.constructor.name),D==="Map"||D==="Set")return Array.from(x);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return p(x,A)}}(w)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(w,x){(x==null||x>w.length)&&(x=w.length);for(var A=0,D=new Array(x);A<x;A++)D[A]=w[A];return D}function h(w,x){for(var A=0;A<x.length;A++){var D=x[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}var m=r("../utils/under-dash"),v=r("../utils/col-cache"),f=r("./range"),u=r("./row"),c=r("./column"),d=r("./enums"),_=r("./image"),g=r("./table"),y=r("./data-validations"),b=r("../utils/encryptor"),C=function(){function w(D){(function(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")})(this,w),D=D||{},this.id=D.id,this.orderNo=D.orderNo,this.name=D.name||"Sheet".concat(this.id),this.state=D.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this._workbook=D.workbook,this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},D.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!D.pageSetup||!D.pageSetup.fitToWidth&&!D.pageSetup.fitToHeight||D.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},D.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},D.headerFooter),this.dataValidations=new y,this.views=D.views||[],this.autoFilter=D.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}var x,A;return x=w,(A=[{key:"destroy",value:function(){this._workbook.removeWorksheetEx(this)}},{key:"getColumnKey",value:function(D){return this._keys[D]}},{key:"setColumnKey",value:function(D,P){this._keys[D]=P}},{key:"deleteColumnKey",value:function(D){delete this._keys[D]}},{key:"eachColumnKey",value:function(D){m.each(this._keys,D)}},{key:"getColumn",value:function(D){if(typeof D=="string"){var P=this._keys[D];if(P)return P;D=v.l2n(D)}if(this._columns||(this._columns=[]),D>this._columns.length)for(var k=this._columns.length+1;k<=D;)this._columns.push(new c(this,k++));return this._columns[D-1]}},{key:"spliceColumns",value:function(D,P){for(var k=this,B=this._rows,E=B.length,O=arguments.length,S=new Array(O>2?O-2:0),R=2;R<O;R++)S[R-2]=arguments[R];if(S.length>0)for(var T=function(G){var K=[D,P];S.forEach(function($){K.push($[G]||null)});var Q=k.getRow(G+1);Q.splice.apply(Q,K)},I=0;I<E;I++)T(I);else this._rows.forEach(function(G){G&&G.splice(D,P)});var M=S.length-P,N=D+P,j=this._columns.length;if(M<0)for(var H=D+S.length;H<=j;H++)this.getColumn(H).defn=this.getColumn(H-M).defn;else if(M>0)for(var U=j;U>=N;U--)this.getColumn(U+M).defn=this.getColumn(U).defn;for(var W=D;W<D+S.length;W++)this.getColumn(W).defn=null;this.workbook.definedNames.spliceColumns(this.name,D,P,S.length)}},{key:"_commitRow",value:function(){}},{key:"findRow",value:function(D){return this._rows[D-1]}},{key:"findRows",value:function(D,P){return this._rows.slice(D-1,D-1+P)}},{key:"getRow",value:function(D){var P=this._rows[D-1];return P||(P=this._rows[D-1]=new u(this,D)),P}},{key:"getRows",value:function(D,P){if(!(P<1)){for(var k=[],B=D;B<D+P;B++)k.push(this.getRow(B));return k}}},{key:"addRow",value:function(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",k=this._nextRow,B=this.getRow(k);return B.values=D,this._setStyleOption(k,P[0]==="i"?P:"n"),B}},{key:"addRows",value:function(D){var P=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",B=[];return D.forEach(function(E){B.push(P.addRow(E,k))}),B}},{key:"insertRow",value:function(D,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(D,0,P),this._setStyleOption(D,k),this.getRow(D)}},{key:"insertRows",value:function(D,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows.apply(this,[D,0].concat(l(P))),k!=="n")for(var B=0;B<P.length;B++)k[0]==="o"&&this.findRow(P.length+D+B)!==void 0?this._copyStyle(P.length+D+B,D+B,k[1]==="+"):k[0]==="i"&&this.findRow(D-1)!==void 0&&this._copyStyle(D-1,D+B,k[1]==="+");return this.getRows(D,P.length)}},{key:"_setStyleOption",value:function(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";P[0]==="o"&&this.findRow(D+1)!==void 0?this._copyStyle(D+1,D,P[1]==="+"):P[0]==="i"&&this.findRow(D-1)!==void 0&&this._copyStyle(D-1,D,P[1]==="+")}},{key:"_copyStyle",value:function(D,P){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],B=this.getRow(D),E=this.getRow(P);E.style=Object.freeze(o({},B.style)),B.eachCell({includeEmpty:k},function(O,S){E.getCell(S).style=Object.freeze(o({},O.style))}),E.height=B.height}},{key:"duplicateRow",value:function(D,P){var k=this,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2],E=this._rows[D-1],O=new Array(P).fill(E.values);this.spliceRows.apply(this,[D+1,B?0:P].concat(l(O)));for(var S=function(T){var I=k._rows[D+T];I.style=E.style,I.height=E.height,E.eachCell({includeEmpty:!0},function(M,N){I.getCell(N).style=M.style})},R=0;R<P;R++)S(R)}},{key:"spliceRows",value:function(D,P){for(var k=this,B=D+P,E=arguments.length,O=new Array(E>2?E-2:0),S=2;S<E;S++)O[S-2]=arguments[S];var R,T,I=O.length,M=I-P,N=this._rows.length;if(M<0)for(R=B;R<=N;R++)(T=this._rows[R-1])?function(){var H=k.getRow(R+M);H.values=T.values,H.style=T.style,H.height=T.height,T.eachCell({includeEmpty:!0},function(U,W){H.getCell(W).style=U.style}),k._rows[R-1]=void 0}():this._rows[R+M-1]=void 0;else if(M>0)for(R=N;R>=B;R--)(T=this._rows[R-1])?function(){var H=k.getRow(R+M);H.values=T.values,H.style=T.style,H.height=T.height,T.eachCell({includeEmpty:!0},function(U,W){if(H.getCell(W).style=U.style,U._value.constructor.name==="MergeValue"){var G=k.getRow(U._row._number+I).getCell(W),K=U._value._master,Q=k.getRow(K._row._number+I).getCell(K._column._number);G.merge(Q)}})}():this._rows[R+M-1]=void 0;for(R=0;R<I;R++){var j=this.getRow(D+R);j.style={},j.values=O[R]}this.workbook.definedNames.spliceRows(this.name,D,P,I)}},{key:"eachRow",value:function(D,P){if(P||(P=D,D=void 0),D&&D.includeEmpty)for(var k=this._rows.length,B=1;B<=k;B++)P(this.getRow(B),B);else this._rows.forEach(function(E){E&&E.hasValues&&P(E,E.number)})}},{key:"getSheetValues",value:function(){var D=[];return this._rows.forEach(function(P){P&&(D[P.number]=P.values)}),D}},{key:"findCell",value:function(D,P){var k=v.getAddress(D,P),B=this._rows[k.row-1];return B?B.findCell(k.col):void 0}},{key:"getCell",value:function(D,P){var k=v.getAddress(D,P);return this.getRow(k.row).getCellEx(k)}},{key:"mergeCells",value:function(){for(var D=arguments.length,P=new Array(D),k=0;k<D;k++)P[k]=arguments[k];var B=new f(P);this._mergeCellsInternal(B)}},{key:"mergeCellsWithoutStyle",value:function(){for(var D=arguments.length,P=new Array(D),k=0;k<D;k++)P[k]=arguments[k];var B=new f(P);this._mergeCellsInternal(B,!0)}},{key:"_mergeCellsInternal",value:function(D,P){m.each(this._merges,function(O){if(O.intersects(D))throw new Error("Cannot merge already merged cells")});for(var k=this.getCell(D.top,D.left),B=D.top;B<=D.bottom;B++)for(var E=D.left;E<=D.right;E++)(B>D.top||E>D.left)&&this.getCell(B,E).merge(k,P);this._merges[k.address]=D}},{key:"_unMergeMaster",value:function(D){var P=this._merges[D.address];if(P){for(var k=P.top;k<=P.bottom;k++)for(var B=P.left;B<=P.right;B++)this.getCell(k,B).unmerge();delete this._merges[D.address]}}},{key:"unMergeCells",value:function(){for(var D=arguments.length,P=new Array(D),k=0;k<D;k++)P[k]=arguments[k];for(var B=new f(P),E=B.top;E<=B.bottom;E++)for(var O=B.left;O<=B.right;O++){var S=this.findCell(E,O);S&&(S.type===d.ValueType.Merge?this._unMergeMaster(S.master):this._merges[S.address]&&this._unMergeMaster(S))}}},{key:"fillFormula",value:function(D,P,k){var B,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",O=v.decode(D),S=O.top,R=O.left,T=O.bottom,I=O.right,M=I-R+1,N=v.encodeAddress(S,R),j=E==="shared";B=typeof k=="function"?k:Array.isArray(k)?Array.isArray(k[0])?function(G,K){return k[G-S][K-R]}:function(G,K){return k[(G-S)*M+(K-R)]}:function(){};for(var H=!0,U=S;U<=T;U++)for(var W=R;W<=I;W++)H?(this.getCell(U,W).value={shareType:E,formula:P,ref:D,result:B(U,W)},H=!1):this.getCell(U,W).value=j?{sharedFormula:N,result:B(U,W)}:B(U,W)}},{key:"addImage",value:function(D,P){var k={type:"image",imageId:D,range:P};this._media.push(new _(this,k))}},{key:"getImages",value:function(){return this._media.filter(function(D){return D.type==="image"})}},{key:"addBackgroundImage",value:function(D){var P={type:"background",imageId:D};this._media.push(new _(this,P))}},{key:"getBackgroundImageId",value:function(){var D=this._media.find(function(P){return P.type==="background"});return D&&D.imageId}},{key:"protect",value:function(D,P){var k=this;return new Promise(function(B){k.sheetProtection={sheet:!0},P&&"spinCount"in P&&(P.spinCount=Number.isFinite(P.spinCount)?Math.round(Math.max(0,P.spinCount)):1e5),D&&(k.sheetProtection.algorithmName="SHA-512",k.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),k.sheetProtection.spinCount=P&&"spinCount"in P?P.spinCount:1e5,k.sheetProtection.hashValue=b.convertPasswordToHash(D,"SHA512",k.sheetProtection.saltValue,k.sheetProtection.spinCount)),P&&(k.sheetProtection=Object.assign(k.sheetProtection,P),!D&&"spinCount"in P&&delete k.sheetProtection.spinCount),B()})}},{key:"unprotect",value:function(){this.sheetProtection=null}},{key:"addTable",value:function(D){var P=new g(this,D);return this.tables[D.name]=P,P}},{key:"getTable",value:function(D){return this.tables[D]}},{key:"removeTable",value:function(D){delete this.tables[D]}},{key:"getTables",value:function(){return Object.values(this.tables)}},{key:"addConditionalFormatting",value:function(D){this.conditionalFormattings.push(D)}},{key:"removeConditionalFormatting",value:function(D){typeof D=="number"?this.conditionalFormattings.splice(D,1):this.conditionalFormattings=D instanceof Function?this.conditionalFormattings.filter(D):[]}},{key:"_parseRows",value:function(D){var P=this;this._rows=[],D.rows.forEach(function(k){var B=new u(P,k.number);P._rows[B.number-1]=B,B.model=k})}},{key:"_parseMergeCells",value:function(D){var P=this;m.each(D.mergeCells,function(k){P.mergeCellsWithoutStyle(k)})}},{key:"workbook",get:function(){return this._workbook}},{key:"dimensions",get:function(){var D=new f;return this._rows.forEach(function(P){if(P){var k=P.dimensions;k&&D.expand(P.number,k.min,P.number,k.max)}}),D}},{key:"columns",get:function(){return this._columns},set:function(D){var P=this;this._headerRowCount=D.reduce(function(E,O){var S=(O.header?1:O.headers&&O.headers.length)||0;return Math.max(E,S)},0);var k=1,B=this._columns=[];D.forEach(function(E){var O=new c(P,k++,!1);B.push(O),O.defn=E})}},{key:"lastColumn",get:function(){return this.getColumn(this.columnCount)}},{key:"columnCount",get:function(){var D=0;return this.eachRow(function(P){D=Math.max(D,P.cellCount)}),D}},{key:"actualColumnCount",get:function(){var D=[],P=0;return this.eachRow(function(k){k.eachCell(function(B){var E=B.col;D[E]||(D[E]=!0,P++)})}),P}},{key:"_lastRowNumber",get:function(){for(var D=this._rows,P=D.length;P>0&&D[P-1]===void 0;)P--;return P}},{key:"_nextRow",get:function(){return this._lastRowNumber+1}},{key:"lastRow",get:function(){if(this._rows.length)return this._rows[this._rows.length-1]}},{key:"rowCount",get:function(){return this._lastRowNumber}},{key:"actualRowCount",get:function(){var D=0;return this.eachRow(function(){D++}),D}},{key:"hasMerges",get:function(){return m.some(this._merges,Boolean)}},{key:"tabColor",get:function(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor},set:function(D){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=D}},{key:"model",get:function(){var D={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(function(B){return B.model}),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(function(B){return B.model}),conditionalFormattings:this.conditionalFormattings};D.cols=c.toModel(this.columns);var P=D.rows=[],k=D.dimensions=new f;return this._rows.forEach(function(B){var E=B&&B.model;E&&(k.expand(E.number,E.min,E.number,E.max),P.push(E))}),D.merges=[],m.each(this._merges,function(B){D.merges.push(B.range)}),D},set:function(D){var P=this;this.name=D.name,this._columns=c.fromModel(this,D.cols),this._parseRows(D),this._parseMergeCells(D),this.dataValidations=new y(D.dataValidations),this.properties=D.properties,this.pageSetup=D.pageSetup,this.headerFooter=D.headerFooter,this.views=D.views,this.autoFilter=D.autoFilter,this._media=D.media.map(function(k){return new _(P,k)}),this.sheetProtection=D.sheetProtection,this.tables=D.tables.reduce(function(k,B){var E=new g;return E.model=B,k[B.name]=E,k},{}),this.conditionalFormattings=D.conditionalFormattings}}])&&h(x.prototype,A),w}();n.exports=C},{"../utils/col-cache":19,"../utils/encryptor":20,"../utils/under-dash":25,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");var a={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(function(s){a[s]=o[s]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":316,"core-js/modules/es.array.find-index":315,"core-js/modules/es.array.includes":317,"core-js/modules/es.array.iterator":318,"core-js/modules/es.number.is-nan":319,"core-js/modules/es.object.assign":320,"core-js/modules/es.object.keys":321,"core-js/modules/es.object.values":322,"core-js/modules/es.promise":323,"core-js/modules/es.string.from-code-point":324,"core-js/modules/es.string.includes":325,"core-js/modules/es.symbol":327,"core-js/modules/es.symbol.async-iterator":326,"regenerator-runtime/runtime":492}],16:[function(r,n,i){var a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:a?a.decode(o):o.toString()}},{}],17:[function(r,n,i){var a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),o=r("buffer").Buffer;i.stringToBuffer=function(s){return typeof s!="string"?s:a?o.from(a.encode(s).buffer):o.from(s)}},{buffer:216}],18:[function(r,n,i){function a(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var o=r("./under-dash"),s=r("./col-cache"),l=function(){function p(v){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,p),this.template=v,this.sheets={}}var h,m;return h=p,(m=[{key:"addCell",value:function(v){this.addCellEx(s.decodeEx(v))}},{key:"getCell",value:function(v){return this.findCellEx(s.decodeEx(v),!0)}},{key:"findCell",value:function(v){return this.findCellEx(s.decodeEx(v),!1)}},{key:"findCellAt",value:function(v,f,u){var c=this.sheets[v],d=c&&c[f];return d&&d[u]}},{key:"addCellEx",value:function(v){if(v.top)for(var f=v.top;f<=v.bottom;f++)for(var u=v.left;u<=v.right;u++)this.getCellAt(v.sheetName,f,u);else this.findCellEx(v,!0)}},{key:"getCellEx",value:function(v){return this.findCellEx(v,!0)}},{key:"findCellEx",value:function(v,f){var u=this.findSheet(v,f),c=this.findSheetRow(u,v,f);return this.findRowCell(c,v,f)}},{key:"getCellAt",value:function(v,f,u){var c=this.sheets[v]||(this.sheets[v]=[]),d=c[f]||(c[f]=[]);return d[u]||(d[u]={sheetName:v,address:s.n2l(u)+f,row:f,col:u})}},{key:"removeCellEx",value:function(v){var f=this.findSheet(v);if(f){var u=this.findSheetRow(f,v);u&&delete u[v.col]}}},{key:"forEachInSheet",value:function(v,f){var u=this.sheets[v];u&&u.forEach(function(c,d){c&&c.forEach(function(_,g){_&&f(_,d,g)})})}},{key:"forEach",value:function(v){var f=this;o.each(this.sheets,function(u,c){f.forEachInSheet(c,v)})}},{key:"map",value:function(v){var f=[];return this.forEach(function(u){f.push(v(u))}),f}},{key:"findSheet",value:function(v,f){var u=v.sheetName;return this.sheets[u]?this.sheets[u]:f?this.sheets[u]=[]:void 0}},{key:"findSheetRow",value:function(v,f,u){var c=f.row;return v&&v[c]?v[c]:u?v[c]=[]:void 0}},{key:"findRowCell",value:function(v,f,u){var c=f.col;return v&&v[c]?v[c]:u?v[c]=this.template?Object.assign(f,JSON.parse(JSON.stringify(this.template))):f:void 0}},{key:"spliceRows",value:function(v,f,u,c){var d=this.sheets[v];if(d){for(var _=[],g=0;g<c;g++)_.push([]);d.splice.apply(d,[f,u].concat(_))}}},{key:"spliceColumns",value:function(v,f,u,c){var d=this.sheets[v];if(d){for(var _=[],g=0;g<c;g++)_.push(null);o.each(d,function(y){y.splice.apply(y,[f,u].concat(_))})}}}])&&a(h.prototype,m),p}();n.exports=l},{"./col-cache":19,"./under-dash":25}],19:[function(r,n,i){function a(m,v){return function(f){if(Array.isArray(f))return f}(m)||function(f,u){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(f)))){var c=[],d=!0,_=!1,g=void 0;try{for(var y,b=f[Symbol.iterator]();!(d=(y=b.next()).done)&&(c.push(y.value),!u||c.length!==u);d=!0);}catch(C){_=!0,g=C}finally{try{d||b.return==null||b.return()}finally{if(_)throw g}}return c}}(m,v)||function(f,u){if(f){if(typeof f=="string")return o(f,u);var c=Object.prototype.toString.call(f).slice(8,-1);if(c==="Object"&&f.constructor&&(c=f.constructor.name),c==="Map"||c==="Set")return Array.from(f);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(f,u)}}(m,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(m,v){(v==null||v>m.length)&&(v=m.length);for(var f=0,u=new Array(v);f<v;f++)u[f]=m[f];return u}function s(m,v){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);v&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(m,c).enumerable})),f.push.apply(f,u)}return f}function l(m,v,f){return v in m?Object.defineProperty(m,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[v]=f,m}var p=/^[A-Z]+\d+$/,h={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:function(m){return m<=26?1:m<=676?2:3},_fill:function(m){var v,f,u,c,d,_=1;if(m>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&m>=1){for(;_<=26;)v=this._dictionary[_-1],this._n2l[_]=v,this._l2n[v]=_,_++;this._l2nFill=1}if(this._l2nFill<2&&m>=2){for(_=27;_<=702;)u=(f=_-27)%26,c=Math.floor(f/26),v=this._dictionary[c]+this._dictionary[u],this._n2l[_]=v,this._l2n[v]=_,_++;this._l2nFill=2}if(this._l2nFill<3&&m>=3){for(_=703;_<=16384;)u=(f=_-703)%26,c=Math.floor(f/26)%26,d=Math.floor(f/676),v=this._dictionary[d]+this._dictionary[c]+this._dictionary[u],this._n2l[_]=v,this._l2n[v]=_,_++;this._l2nFill=3}},l2n:function(m){if(this._l2n[m]||this._fill(m.length),!this._l2n[m])throw new Error("Out of bounds. Invalid column letter: ".concat(m));return this._l2n[m]},n2l:function(m){if(m<1||m>16384)throw new Error("".concat(m," is out of bounds. Excel supports columns from 1 to 16384"));return this._n2l[m]||this._fill(this._level(m)),this._n2l[m]},_hash:{},validateAddress:function(m){if(!p.test(m))throw new Error("Invalid Address: ".concat(m));return!0},decodeAddress:function(m){var v=m.length<5&&this._hash[m];if(v)return v;for(var f,u=!1,c="",d=0,_=!1,g="",y=0,b=0;b<m.length;b++)if(f=m.charCodeAt(b),!_&&f>=65&&f<=90)u=!0,c+=m[b],d=26*d+f-64;else if(f>=48&&f<=57)_=!0,g+=m[b],y=10*y+f-48;else if(_&&u&&f!==36)break;if(u){if(d>16384)throw new Error("Out of bounds. Invalid column letter: ".concat(c))}else d=void 0;_||(y=void 0);var C={address:m=c+g,col:d,row:y,$col$row:"$".concat(c,"$").concat(g)};return d<=100&&y<=100&&(this._hash[m]=C,this._hash[C.$col$row]=C),C},getAddress:function(m,v){if(v){var f=this.n2l(v)+m;return this.decodeAddress(f)}return this.decodeAddress(m)},decode:function(m){var v=m.split(":");if(v.length===2){var f=this.decodeAddress(v[0]),u=this.decodeAddress(v[1]),c={top:Math.min(f.row,u.row),left:Math.min(f.col,u.col),bottom:Math.max(f.row,u.row),right:Math.max(f.col,u.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions="".concat(c.tl,":").concat(c.br),c}return this.decodeAddress(m)},decodeEx:function(m){var v=m.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),f=v[1]||v[2],u=v[3],c=u.split(":");if(c.length>1){var d=this.decodeAddress(c[0]),_=this.decodeAddress(c[1]),g=Math.min(d.row,_.row),y=Math.min(d.col,_.col),b=Math.max(d.row,_.row),C=Math.max(d.col,_.col);return d=this.n2l(y)+g,_=this.n2l(C)+b,{top:g,left:y,bottom:b,right:C,sheetName:f,tl:{address:d,col:y,row:g,$col$row:"$".concat(this.n2l(y),"$").concat(g),sheetName:f},br:{address:_,col:C,row:b,$col$row:"$".concat(this.n2l(C),"$").concat(b),sheetName:f},dimensions:"".concat(d,":").concat(_)}}if(u.startsWith("#"))return f?{sheetName:f,error:u}:{error:u};var w=this.decodeAddress(u);return f?function(x){for(var A=1;A<arguments.length;A++){var D=arguments[A]!=null?arguments[A]:{};A%2?s(Object(D),!0).forEach(function(P){l(x,P,D[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(D)):s(Object(D)).forEach(function(P){Object.defineProperty(x,P,Object.getOwnPropertyDescriptor(D,P))})}return x}({sheetName:f},w):w},encodeAddress:function(m,v){return h.n2l(v)+m},encode:function(){switch(arguments.length){case 2:return h.encodeAddress(arguments[0],arguments[1]);case 4:return"".concat(h.encodeAddress(arguments[0],arguments[1]),":").concat(h.encodeAddress(arguments[2],arguments[3]));default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange:function(m,v){var f=a(m,5),u=f[0],c=f[1],d=f[3],_=f[4],g=a(v,2),y=g[0],b=g[1];return y>=u&&y<=d&&b>=c&&b<=_}};n.exports=h},{}],20:[function(r,n,i){(function(a){var o=r("crypto"),s={hash:function(l){for(var p=o.createHash(l),h=arguments.length,m=new Array(h>1?h-1:0),v=1;v<h;v++)m[v-1]=arguments[v];return p.update(a.concat(m)),p.digest()},convertPasswordToHash:function(l,p,h,m){if(p=p.toLowerCase(),o.getHashes().indexOf(p)<0)throw new Error("Hash algorithm '".concat(p,"' not supported!"));for(var v=a.from(l,"utf16le"),f=this.hash(p,a.from(h,"base64"),v),u=0;u<m;u++){var c=a.alloc(4);c.writeUInt32LE(u,0),f=this.hash(p,f,c)}return f.toString("base64")},randomBytes:function(l){return o.randomBytes(l)}};n.exports=s}).call(this,r("buffer").Buffer)},{buffer:216,crypto:335}],21:[function(r,n,i){function a(v){return new s(v)}function o(v){var f,u;function c(_,g){try{var y=v[_](g),b=y.value,C=b instanceof s;Promise.resolve(C?b.wrapped:b).then(function(w){C?c(_==="return"?"return":"next",w):d(y.done?"return":"normal",w)},function(w){c("throw",w)})}catch(w){d("throw",w)}}function d(_,g){switch(_){case"return":f.resolve({value:g,done:!0});break;case"throw":f.reject(g);break;default:f.resolve({value:g,done:!1})}(f=f.next)?c(f.key,f.arg):u=null}this._invoke=function(_,g){return new Promise(function(y,b){var C={key:_,arg:g,resolve:y,reject:b,next:null};u?u=u.next=C:(f=u=C,c(_,g))})},typeof v.return!="function"&&(this.return=void 0)}function s(v){this.wrapped=v}function l(v){var f;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(f=v[Symbol.asyncIterator])!=null||Symbol.iterator&&(f=v[Symbol.iterator])!=null))return f.call(v);throw new TypeError("Object is not async iterable")}typeof Symbol=="function"&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(v){return this._invoke("next",v)},o.prototype.throw=function(v){return this._invoke("throw",v)},o.prototype.return=function(v){return this._invoke("return",v)};var p=r("saxes").SaxesParser,h=r("readable-stream").PassThrough,m=r("./browser-buffer-decode").bufferToString;n.exports=function(){var v,f=(v=regeneratorRuntime.mark(function u(c){var d,_,g,y,b,C,w,x,A,D;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new h)),(d=new p).on("error",function(k){_=k}),g=[],d.on("opentag",function(k){return g.push({eventType:"opentag",value:k})}),d.on("text",function(k){return g.push({eventType:"text",value:k})}),d.on("closetag",function(k){return g.push({eventType:"closetag",value:k})}),y=!0,b=!1,P.prev=9,w=l(c);case 11:return P.next=13,a(w.next());case 13:return x=P.sent,y=x.done,P.next=17,a(x.value);case 17:if(A=P.sent,y){P.next=29;break}if(D=A,d.write(m(D)),!_){P.next=23;break}throw _;case 23:return P.next=25,g;case 25:g=[];case 26:y=!0,P.next=11;break;case 29:P.next=35;break;case 31:P.prev=31,P.t0=P.catch(9),b=!0,C=P.t0;case 35:if(P.prev=35,P.prev=36,y||w.return==null){P.next=40;break}return P.next=40,a(w.return());case 40:if(P.prev=40,!b){P.next=43;break}throw C;case 43:return P.finish(40);case 44:return P.finish(35);case 45:case"end":return P.stop()}},u,null,[[9,31,35,45],[36,,40,44]])}),function(){return new o(v.apply(this,arguments))});return function(u){return f.apply(this,arguments)}}()},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],22:[function(r,n,i){var a=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,s=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,p,h){var m=a.decode(p),v=a.decode(h);return l.replace(o,function(f,u,c,d,_){if(_)return f;var g=s.exec(d);if(g){var y=g[1],b=g[2].toUpperCase(),C=g[3],w=g[4];if(b.length>3||b.length===3&&b>"XFD")return f;var x=a.l2n(b),A=parseInt(w,10);return y||(x+=v.col-m.col),C||(A+=v.row-m.row),(u||"")+(y||"")+a.n2l(x)+(C||"")+A}return f})}}},{"./col-cache":19}],23:[function(r,n,i){(function(a,o){function s(b,C,w,x,A,D,P){try{var k=b[D](P),B=k.value}catch(E){return void w(E)}k.done?C(B):Promise.resolve(B).then(x,A)}function l(b){return function(){var C=this,w=arguments;return new Promise(function(x,A){var D=b.apply(C,w);function P(B){s(D,x,A,P,k,"next",B)}function k(B){s(D,x,A,P,k,"throw",B)}P(void 0)})}}function p(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function h(b,C){for(var w=0;w<C.length;w++){var x=C[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}function m(b,C,w){return C&&h(b.prototype,C),w&&h(b,w),b}var v=r("readable-stream"),f=r("./utils"),u=r("./string-buf"),c=function(){function b(C,w){p(this,b),this._data=C,this._encoding=w}return m(b,[{key:"copy",value:function(C,w,x,A){return this.toBuffer().copy(C,w,x,A)}},{key:"toBuffer",value:function(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}},{key:"length",get:function(){return this.toBuffer().length}}]),b}(),d=function(){function b(C){p(this,b),this._data=C}return m(b,[{key:"copy",value:function(C,w,x,A){return this._data._buf.copy(C,w,x,A)}},{key:"toBuffer",value:function(){return this._data.toBuffer()}},{key:"length",get:function(){return this._data.length}}]),b}(),_=function(){function b(C){p(this,b),this._data=C}return m(b,[{key:"copy",value:function(C,w,x,A){this._data.copy(C,w,x,A)}},{key:"toBuffer",value:function(){return this._data}},{key:"length",get:function(){return this._data.length}}]),b}(),g=function(){function b(C){p(this,b),this.size=C,this.buffer=o.alloc(C),this.iRead=0,this.iWrite=0}return m(b,[{key:"toBuffer",value:function(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;var C=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(C,0,this.iRead,this.iWrite),C}},{key:"read",value:function(C){var w;return C===0?null:C===void 0||C>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=o.alloc(C),this.buffer.copy(w,0,this.iRead,C),this.iRead+=C,w)}},{key:"write",value:function(C,w,x){var A=Math.min(x,this.size-this.iWrite);return C.copy(this.buffer,this.iWrite,w,w+A),this.iWrite+=A,A}},{key:"length",get:function(){return this.iWrite-this.iRead}},{key:"eod",get:function(){return this.iRead===this.iWrite}},{key:"full",get:function(){return this.iWrite===this.size}}]),b}(),y=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};f.inherits(y,v.Duplex,{toBuffer:function(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(function(b){return b.toBuffer()}))}},_getWritableBuffer:function(){if(this.buffers.length){var b=this.buffers[this.buffers.length-1];if(!b.full)return b}var C=new g(this.bufSize);return this.buffers.push(C),C},_pipe:function(b){var C=this;return l(regeneratorRuntime.mark(function w(){var x;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return x=function(D){return new Promise(function(P){D.write(b.toBuffer(),function(){P()})})},A.next=3,Promise.all(C.pipes.map(x));case 3:case"end":return A.stop()}},w)}))()},_writeToBuffers:function(b){for(var C=0,w=b.length;C<w;)C+=this._getWritableBuffer().write(b,C,w-C)},write:function(b,C,w){var x=this;return l(regeneratorRuntime.mark(function A(){var D;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(C instanceof Function&&(w=C,C="utf8"),w=w||f.nop,!(b instanceof u)){P.next=6;break}D=new d(b),P.next=15;break;case 6:if(!(b instanceof o)){P.next=10;break}D=new _(b),P.next=15;break;case 10:if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer)){P.next=14;break}D=new c(b,C),P.next=15;break;case 14:throw new Error("Chunk must be one of type String, Buffer or StringBuf.");case 15:if(!x.pipes.length){P.next=31;break}if(!x.batch){P.next=21;break}for(x._writeToBuffers(D);!x.corked&&x.buffers.length>1;)x._pipe(x.buffers.shift());P.next=29;break;case 21:if(x.corked){P.next=27;break}return P.next=24,x._pipe(D);case 24:w(),P.next=29;break;case 27:x._writeToBuffers(D),a.nextTick(w);case 29:P.next=34;break;case 31:x.paused||x.emit("data",D.toBuffer()),x._writeToBuffers(D),x.emit("readable");case 34:return P.abrupt("return",!0);case 35:case"end":return P.stop()}},A)}))()},cork:function(){this.corked=!0},_flush:function(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork:function(){this.corked=!1,this._flush()},end:function(b,C,w){var x=this,A=function(D){D?w(D):(x._flush(),x.pipes.forEach(function(P){P.end()}),x.emit("finish"))};b?this.write(b,C,A):A()},read:function(b){var C;if(b){for(C=[];b&&this.buffers.length&&!this.buffers[0].eod;){var w=this.buffers[0],x=w.read(b);b-=x.length,C.push(x),w.eod&&w.full&&this.buffers.shift()}return o.concat(C)}return C=this.buffers.map(function(A){return A.toBuffer()}).filter(Boolean),this.buffers=[],o.concat(C)},setEncoding:function(b){this.encoding=b},pause:function(){this.paused=!0},resume:function(){this.paused=!1},isPaused:function(){return!!this.paused},pipe:function(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe:function(b){this.pipes=this.pipes.filter(function(C){return C!==b})},unshift:function(){throw new Error("Not Implemented")},wrap:function(){throw new Error("Not Implemented")}}),n.exports=y}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":24,"./utils":26,_process:467,buffer:216,"readable-stream":491}],24:[function(r,n,i){(function(a){function o(l,p){for(var h=0;h<p.length;h++){var m=p[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var s=function(){function l(m){(function(v,f){if(!(v instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this._buf=a.alloc(m&&m.size||16384),this._encoding=m&&m.encoding||"utf8",this._inPos=0,this._buffer=void 0}var p,h;return p=l,(h=[{key:"toBuffer",value:function(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}},{key:"reset",value:function(m){m=m||0,this._buffer=void 0,this._inPos=m}},{key:"_grow",value:function(m){for(var v=2*this._buf.length;v<m;)v*=2;var f=a.alloc(v);this._buf.copy(f,0),this._buf=f}},{key:"addText",value:function(m){this._buffer=void 0;for(var v=this._inPos+this._buf.write(m,this._inPos,this._encoding);v>=this._buf.length-4;)this._grow(this._inPos+m.length),v=this._inPos+this._buf.write(m,this._inPos,this._encoding);this._inPos=v}},{key:"addStringBuf",value:function(m){m.length&&(this._buffer=void 0,this.length+m.length>this.capacity&&this._grow(this.length+m.length),m._buf.copy(this._buf,this._inPos,0,m.length),this._inPos+=m.length)}},{key:"length",get:function(){return this._inPos}},{key:"capacity",get:function(){return this._buf.length}},{key:"buffer",get:function(){return this._buf}}])&&o(p.prototype,h),l}();n.exports=s}).call(this,r("buffer").Buffer)},{buffer:216}],25:[function(r,n,i){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}var o=Object.prototype.toString,s=/["&<>]/,l={each:function(p,h){p&&(Array.isArray(p)?p.forEach(h):Object.keys(p).forEach(function(m){h(p[m],m)}))},some:function(p,h){return!!p&&(Array.isArray(p)?p.some(h):Object.keys(p).some(function(m){return h(p[m],m)}))},every:function(p,h){return!p||(Array.isArray(p)?p.every(h):Object.keys(p).every(function(m){return h(p[m],m)}))},map:function(p,h){return p?Array.isArray(p)?p.map(h):Object.keys(p).map(function(m){return h(p[m],m)}):[]},keyBy:function(p,h){return p.reduce(function(m,v){return m[v[h]]=v,m},{})},isEqual:function(p,h){var m=a(p),v=a(h),f=Array.isArray(p),u=Array.isArray(h);if(m!==v)return!1;switch(a(p)){case"object":return f||u?!(!f||!u)&&p.length===h.length&&p.every(function(c,d){var _=h[d];return l.isEqual(c,_)}):l.every(p,function(c,d){var _=h[d];return l.isEqual(c,_)});default:return p===h}},escapeHtml:function(p){var h=s.exec(p);if(!h)return p;for(var m="",v="",f=0,u=h.index;u<p.length;u++){switch(p.charAt(u)){case'"':v="&quot;";break;case"&":v="&amp;";break;case"'":v="&apos;";break;case"<":v="&lt;";break;case">":v="&gt;";break;default:continue}f!==u&&(m+=p.substring(f,u)),f=u+1,m+=v}return f!==u?m+p.substring(f,u):m},strcmp:function(p,h){return p<h?-1:p>h?1:0},isUndefined:function(p){return o.call(p)==="[object Undefined]"},isObject:function(p){return o.call(p)==="[object Object]"},deepMerge:function(){var p,h,m,v=arguments[0]||{},f=arguments.length;function u(d,_){p=v[_],m=Array.isArray(d),l.isObject(d)||m?(m?(m=!1,h=p&&Array.isArray(p)?p:[]):h=p&&l.isObject(p)?p:{},v[_]=l.deepMerge(h,d)):l.isUndefined(d)||(v[_]=d)}for(var c=0;c<f;c++)l.each(arguments[c],u);return v}};n.exports=l},{}],26:[function(r,n,i){(function(a,o){var s=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,p={nop:function(){},promiseImmediate:function(h){return new Promise(function(m){a.setImmediate?o(function(){m(h)}):setTimeout(function(){m(h)},1)})},inherits:function(h,m,v,f){h.super_=m,f||(f=v,v=null),v&&Object.keys(v).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(v,c))});var u={constructor:{value:h,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(function(c){u[c]=Object.getOwnPropertyDescriptor(f,c)}),h.prototype=Object.create(m.prototype,u)},dateToExcel:function(h,m){return 25569+h.getTime()/864e5-(m?1462:0)},excelToDate:function(h,m){var v=Math.round(24*(h-25569+(m?1462:0))*3600*1e3);return new Date(v)},parsePath:function(h){var m=h.lastIndexOf("/");return{path:h.substring(0,m),name:h.substring(m+1)}},getRelsPath:function(h){var m=p.parsePath(h);return"".concat(m.path,"/_rels/").concat(m.name,".rels")},xmlEncode:function(h){var m=l.exec(h);if(!m)return h;for(var v="",f="",u=0,c=m.index;c<h.length;c++){var d=h.charCodeAt(c);switch(d){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(d<=31&&(d<=8||d>=11&&d!==13)){f="";break}continue}u!==c&&(v+=h.substring(u,c)),u=c+1,f&&(v+=f)}return u!==c?v+h.substring(u,c):v},xmlDecode:function(h){return h.replace(/&([a-z]*);/g,function(m){switch(m){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return m}})},validInt:function(h){var m=parseInt(h,10);return Number.isNaN(m)?0:m},isDateFmt:function(h){return!!h&&(h=(h=h.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null},fs:{exists:function(h){return new Promise(function(m){s.access(h,s.constants.F_OK,function(v){m(!v)})})}},toIsoDateString:function(h){return h.toIsoString().subsstr(0,10)}};n.exports=p}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:215,timers:521}],27:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var o=r("./under-dash"),s=r("./utils");function l(m,v,f){m.push(" "),m.push(v),m.push('="'),m.push(s.xmlEncode(f.toString())),m.push('"')}function p(m,v){v&&o.each(v,function(f,u){f!==void 0&&l(m,u,f)})}var h=function(){function m(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,m),this._xml=[],this._stack=[],this._rollbacks=[]}var v,f;return v=m,(f=[{key:"openXml",value:function(u){var c=this._xml;c.push("<?xml"),p(c,u),c.push(`?>
`)}},{key:"openNode",value:function(u,c){var d=this.tos,_=this._xml;d&&this.open&&_.push(">"),this._stack.push(u),_.push("<"),_.push(u),p(_,c),this.leaf=!0,this.open=!0}},{key:"addAttribute",value:function(u,c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c!==void 0&&l(this._xml,u,c)}},{key:"addAttributes",value:function(u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");p(this._xml,u)}},{key:"writeText",value:function(u){var c=this._xml;this.open&&(c.push(">"),this.open=!1),this.leaf=!1,c.push(s.xmlEncode(u.toString()))}},{key:"writeXml",value:function(u){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(u)}},{key:"closeNode",value:function(){var u=this._stack.pop(),c=this._xml;this.leaf?c.push("/>"):(c.push("</"),c.push(u),c.push(">")),this.open=!1,this.leaf=!1}},{key:"leafNode",value:function(u,c,d){this.openNode(u,c),d!==void 0&&this.writeText(d),this.closeNode()}},{key:"closeAll",value:function(){for(;this._stack.length;)this.closeNode()}},{key:"addRollback",value:function(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}},{key:"commit",value:function(){this._rollbacks.pop()}},{key:"rollback",value:function(){var u=this._rollbacks.pop();this._xml.length>u.xml&&this._xml.splice(u.xml,this._xml.length-u.xml),this._stack.length>u.stack&&this._stack.splice(u.stack,this._stack.length-u.stack),this.leaf=u.leaf,this.open=u.open}},{key:"tos",get:function(){return this._stack.length?this._stack[this._stack.length-1]:void 0}},{key:"cursor",get:function(){return this._xml.length}},{key:"xml",get:function(){return this.closeAll(),this._xml.join("")}}])&&a(v.prototype,f),m}();h.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=h},{"./under-dash":25,"./utils":26}],28:[function(r,n,i){(function(a){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function s(g,y,b,C,w,x,A){try{var D=g[x](A),P=D.value}catch(k){return void b(k)}D.done?y(P):Promise.resolve(P).then(C,w)}function l(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function p(g,y){return(p=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function h(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=v(g);if(y){var w=v(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return m(this,b)}}function m(g,y){return!y||o(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function v(g){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=r("events"),u=r("jszip"),c=r("./stream-buf"),d=r("./browser-buffer-encode").stringToBuffer,_=function(g){(function(D,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(P&&P.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),P&&p(D,P)})(A,g);var y,b,C,w,x=h(A);function A(D){var P;return function(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A),(P=x.call(this)).options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},D),P.zip=new u,P.stream=new c,P}return y=A,(b=[{key:"append",value:function(D,P){P.hasOwnProperty("base64")&&P.base64?this.zip.file(P.name,D,{base64:!0}):(a.browser&&typeof D=="string"&&(D=d(D)),this.zip.file(P.name,D))}},{key:"finalize",value:(C=regeneratorRuntime.mark(function D(){var P;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.zip.generateAsync(this.options);case 2:P=k.sent,this.stream.end(P),this.emit("finish");case 5:case"end":return k.stop()}},D,this)}),w=function(){var D=this,P=arguments;return new Promise(function(k,B){var E=C.apply(D,P);function O(R){s(E,k,B,O,S,"next",R)}function S(R){s(E,k,B,O,S,"throw",R)}O(void 0)})},function(){return w.apply(this,arguments)})},{key:"read",value:function(D){return this.stream.read(D)}},{key:"setEncoding",value:function(D){return this.stream.setEncoding(D)}},{key:"pause",value:function(){return this.stream.pause()}},{key:"resume",value:function(){return this.stream.resume()}},{key:"isPaused",value:function(){return this.stream.isPaused()}},{key:"pipe",value:function(D,P){return this.stream.pipe(D,P)}},{key:"unpipe",value:function(D){return this.stream.unpipe(D)}},{key:"unshift",value:function(D){return this.stream.unshift(D)}},{key:"wrap",value:function(D){return this.stream.wrap(D)}}])&&l(y.prototype,b),A}(f.EventEmitter);n.exports={ZipWriter:_}}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":23,_process:467,events:367,jszip:399}],29:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],30:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],31:[function(r,n,i){function a(u,c){var d;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(d=function(w,x){if(w){if(typeof w=="string")return o(w,x);var A=Object.prototype.toString.call(w).slice(8,-1);if(A==="Object"&&w.constructor&&(A=w.constructor.name),A==="Map"||A==="Set")return Array.from(w);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return o(w,x)}}(u))||c&&u&&typeof u.length=="number"){d&&(u=d);var _=0,g=function(){};return{s:g,n:function(){return _>=u.length?{done:!0}:{done:!1,value:u[_++]}},e:function(w){throw w},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,b=!0,C=!1;return{s:function(){d=u[Symbol.iterator]()},n:function(){var w=d.next();return b=w.done,w},e:function(w){C=!0,y=w},f:function(){try{b||d.return==null||d.return()}finally{if(C)throw y}}}}function o(u,c){(c==null||c>u.length)&&(c=u.length);for(var d=0,_=new Array(c);d<c;d++)_[d]=u[d];return _}function s(u,c,d,_,g,y,b){try{var C=u[y](b),w=C.value}catch(x){return void d(x)}C.done?c(w):Promise.resolve(w).then(_,g)}function l(u){return function(){var c=this,d=arguments;return new Promise(function(_,g){var y=u.apply(c,d);function b(w){s(y,_,g,b,C,"next",w)}function C(w){s(y,_,g,b,C,"throw",w)}b(void 0)})}}function p(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function h(u){var c;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(c=u[Symbol.asyncIterator])!=null||Symbol.iterator&&(c=u[Symbol.iterator])!=null))return c.call(u);throw new TypeError("Object is not async iterable")}var m=r("../../utils/parse-sax"),v=r("../../utils/xml-stream"),f=function(){function u(){(function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u)}var c,d,_,g,y;return c=u,d=[{key:"prepare",value:function(){}},{key:"render",value:function(){}},{key:"parseOpen",value:function(b){}},{key:"parseText",value:function(b){}},{key:"parseClose",value:function(b){}},{key:"reconcile",value:function(b,C){}},{key:"reset",value:function(){this.model=null,this.map&&Object.values(this.map).forEach(function(b){b instanceof u?b.reset():b.xform&&b.xform.reset()})}},{key:"mergeModel",value:function(b){this.model=Object.assign(this.model||{},b)}},{key:"parse",value:(y=l(regeneratorRuntime.mark(function b(C){var w,x,A,D,P,k,B,E,O,S,R;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:w=!0,x=!1,T.prev=2,D=h(C);case 4:return T.next=6,D.next();case 6:return P=T.sent,w=P.done,T.next=10,P.value;case 10:if(k=T.sent,w){T.next=42;break}B=a(k),T.prev=14,B.s();case 16:if((E=B.n()).done){T.next=31;break}if(O=E.value,S=O.eventType,R=O.value,S!=="opentag"){T.next=22;break}this.parseOpen(R),T.next=29;break;case 22:if(S!=="text"){T.next=26;break}this.parseText(R),T.next=29;break;case 26:if(S!=="closetag"){T.next=29;break}if(this.parseClose(R.name)){T.next=29;break}return T.abrupt("return",this.model);case 29:T.next=16;break;case 31:T.next=36;break;case 33:T.prev=33,T.t0=T.catch(14),B.e(T.t0);case 36:return T.prev=36,B.f(),T.finish(36);case 39:w=!0,T.next=4;break;case 42:T.next=48;break;case 44:T.prev=44,T.t1=T.catch(2),x=!0,A=T.t1;case 48:if(T.prev=48,T.prev=49,w||D.return==null){T.next=53;break}return T.next=53,D.return();case 53:if(T.prev=53,!x){T.next=56;break}throw A;case 56:return T.finish(53);case 57:return T.finish(48);case 58:return T.abrupt("return",this.model);case 59:case"end":return T.stop()}},b,this,[[2,44,48,58],[14,33,36,39],[49,,53,57]])})),function(b){return y.apply(this,arguments)})},{key:"parseStream",value:(g=l(regeneratorRuntime.mark(function b(C){return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",this.parse(m(C)));case 1:case"end":return w.stop()}},b,this)})),function(b){return g.apply(this,arguments)})},{key:"toXml",value:function(b){var C=new v;return this.render(C,b),C.xml}},{key:"xml",get:function(){return this.toXml(this.model)}}],_=[{key:"toAttribute",value:function(b,C){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(b===void 0){if(w)return C}else if(w||b!==C)return b.toString()}},{key:"toStringAttribute",value:function(b,C){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(b,C,w)}},{key:"toStringValue",value:function(b,C){return b===void 0?C:b}},{key:"toBoolAttribute",value:function(b,C){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(b===void 0){if(w)return C}else if(w||b!==C)return b?"1":"0"}},{key:"toBoolValue",value:function(b,C){return b===void 0?C:b==="1"}},{key:"toIntAttribute",value:function(b,C){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(b,C,w)}},{key:"toIntValue",value:function(b,C){return b===void 0?C:parseInt(b,10)}},{key:"toFloatAttribute",value:function(b,C){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(b,C,w)}},{key:"toFloatValue",value:function(b,C){return b===void 0?C:parseFloat(b)}}],d&&p(c.prototype,d),_&&p(c,_),u}();n.exports=f},{"../../utils/parse-sax":21,"../../utils/xml-stream":27}],32:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function s(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function l(_,g){return(l=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function p(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=m(_);if(g){var C=m(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return h(this,y)}}function h(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function m(_){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var v=r("../base-xform"),f=r("../../../utils/col-cache"),u=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&l(w,x)})(C,_);var g,y,b=p(C);function C(){return o(this,C),b.apply(this,arguments)}return g=C,(y=[{key:"render",value:function(w,x){w.openNode("definedName",{name:x.name,localSheetId:x.localSheetId}),w.writeText(x.ranges.join(",")),w.closeNode()}},{key:"parseOpen",value:function(w){switch(w.name){case"definedName":return this._parsedName=w.attributes.name,this._parsedLocalSheetId=w.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}},{key:"parseText",value:function(w){this._parsedText.push(w)}},{key:"parseClose",value:function(){return this.model={name:this._parsedName,ranges:d(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}])&&s(g.prototype,y),C}(v);function c(_){try{return f.decodeEx(_),!0}catch{return!1}}function d(_){var g=[],y=!1,b="";return _.split(",").forEach(function(C){if(C){var w=(C.match(/'/g)||[]).length;if(w){var x=w%2==0;!y&&x&&c(C)?g.push(C):y&&!x?(y=!1,c(b+C)&&g.push(b+C),b=""):(y=!0,b+="".concat(C,","))}else y?b+="".concat(C,","):c(C)&&g.push(C)}}),g}n.exports=u},{"../../../utils/col-cache":19,"../base-xform":31}],33:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../../utils/utils"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){y.leafNode("sheet",{sheetId:b.id,name:b.name,state:b.state,"r:id":b.rId})}},{key:"parseOpen",value:function(y){return y.name==="sheet"&&(this.model={name:v.xmlDecode(y.attributes.name),id:parseInt(y.attributes.sheetId,10),state:y.attributes.state,rId:y.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(c.prototype,d),g}(r("../base-xform"));n.exports=f},{"../../../utils/utils":26,"../base-xform":31}],34:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:y.fullCalcOnLoad?1:void 0})}},{key:"parseOpen",value:function(g){return g.name==="calcPr"&&(this.model={},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],35:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("workbookPr",{date1904:y.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}},{key:"parseOpen",value:function(g){return g.name==="workbookPr"&&(this.model={date1904:g.attributes.date1904==="1"},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],36:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){var b={xWindow:y.x||0,yWindow:y.y||0,windowWidth:y.width||12e3,windowHeight:y.height||24e3,firstSheet:y.firstSheet,activeTab:y.activeTab};y.visibility&&y.visibility!=="visible"&&(b.visibility=y.visibility),g.leafNode("workbookView",b)}},{key:"parseOpen",value:function(g){if(g.name==="workbookView"){var y=this.model={},b=function(D,P,k){var B=P!==void 0?y[D]=parseInt(P,10):k;B!==void 0&&(y[D]=B)};return b("x",g.attributes.xWindow,0),b("y",g.attributes.yWindow,0),b("width",g.attributes.windowWidth,25e3),b("height",g.attributes.windowHeight,1e4),C="visibility",w=g.attributes.visibility,x="visible",(A=w!==void 0?y[C]=w:x)!==void 0&&(y[C]=A),b("activeTab",g.attributes.activeTab,void 0),b("firstSheet",g.attributes.firstSheet,void 0),!0}var C,w,x,A;return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],37:[function(r,n,i){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function o(x,A){for(var D=0;D<A.length;D++){var P=A[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}function s(x,A){return(s=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D})(x,A)}function l(x){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var D,P=h(x);if(A){var k=h(this).constructor;D=Reflect.construct(P,arguments,k)}else D=P.apply(this,arguments);return p(this,D)}}function p(x,A){return!A||a(A)!=="object"&&typeof A!="function"?function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(x):A}function h(x){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(x)}var m=r("../../../utils/under-dash"),v=r("../../../utils/col-cache"),f=r("../../../utils/xml-stream"),u=r("../base-xform"),c=r("../static-xform"),d=r("../list-xform"),_=r("./defined-name-xform"),g=r("./sheet-xform"),y=r("./workbook-view-xform"),b=r("./workbook-properties-xform"),C=r("./workbook-calc-properties-xform"),w=function(x){(function(B,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(E&&E.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),E&&s(B,E)})(k,x);var A,D,P=l(k);function k(){var B;return function(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}(this,k),(B=P.call(this)).map={fileVersion:k.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new d({tag:"bookViews",count:!1,childXform:new y}),sheets:new d({tag:"sheets",count:!1,childXform:new g}),definedNames:new d({tag:"definedNames",count:!1,childXform:new _}),calcPr:new C},B}return A=k,(D=[{key:"prepare",value:function(B){B.sheets=B.worksheets;var E=[],O=0;B.sheets.forEach(function(S){if(S.pageSetup&&S.pageSetup.printArea&&S.pageSetup.printArea.split("&&").forEach(function(N){var j=N.split(":"),H={name:"_xlnm.Print_Area",ranges:["'".concat(S.name,"'!$").concat(j[0],":$").concat(j[1])],localSheetId:O};E.push(H)}),S.pageSetup&&(S.pageSetup.printTitlesRow||S.pageSetup.printTitlesColumn)){var R=[];if(S.pageSetup.printTitlesColumn){var T=S.pageSetup.printTitlesColumn.split(":");R.push("'".concat(S.name,"'!$").concat(T[0],":$").concat(T[1]))}if(S.pageSetup.printTitlesRow){var I=S.pageSetup.printTitlesRow.split(":");R.push("'".concat(S.name,"'!$").concat(I[0],":$").concat(I[1]))}var M={name:"_xlnm.Print_Titles",ranges:R,localSheetId:O};E.push(M)}O++}),E.length&&(B.definedNames=B.definedNames.concat(E)),(B.media||[]).forEach(function(S,R){S.name=S.type+(R+1)})}},{key:"render",value:function(B,E){B.openXml(f.StdDocAttributes),B.openNode("workbook",k.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(B),this.map.workbookPr.render(B,E.properties),this.map.bookViews.render(B,E.views),this.map.sheets.render(B,E.sheets),this.map.definedNames.render(B,E.definedNames),this.map.calcPr.render(B,E.calcProperties),B.closeNode()}},{key:"parseOpen",value:function(B){if(this.parser)return this.parser.parseOpen(B),!0;switch(B.name){case"workbook":return!0;default:return this.parser=this.map[B.name],this.parser&&this.parser.parseOpen(B),!0}}},{key:"parseText",value:function(B){this.parser&&this.parser.parseText(B)}},{key:"parseClose",value:function(B){if(this.parser)return this.parser.parseClose(B)||(this.parser=void 0),!0;switch(B){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}},{key:"reconcile",value:function(B){var E,O=(B.workbookRels||[]).reduce(function(I,M){return I[M.Id]=M,I},{}),S=[],R=0;(B.sheets||[]).forEach(function(I){var M=O[I.rId];M&&(E=B.worksheetHash["xl/".concat(M.Target.replace(/^(\s|\/xl\/)+/,""))])&&(E.name=I.name,E.id=I.id,E.state=I.state,S[R++]=E)});var T=[];m.each(B.definedNames,function(I){if(I.name==="_xlnm.Print_Area"){if(E=S[I.localSheetId]){E.pageSetup||(E.pageSetup={});var M=v.decodeEx(I.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?"".concat(E.pageSetup.printArea,"&&").concat(M.dimensions):M.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(E=S[I.localSheetId]){E.pageSetup||(E.pageSetup={});var N=I.ranges.join(","),j=/\$/g,H=N.match(/\$\d+:\$\d+/);if(H&&H.length){var U=H[0];E.pageSetup.printTitlesRow=U.replace(j,"")}var W=N.match(/\$[A-Z]+:\$[A-Z]+/);if(W&&W.length){var G=W[0];E.pageSetup.printTitlesColumn=G.replace(j,"")}}}else T.push(I)}),B.definedNames=T,B.media.forEach(function(I,M){I.index=M})}}])&&o(A.prototype,D),k}(u);w.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},w.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"../static-xform":119,"./defined-name-xform":32,"./sheet-xform":33,"./workbook-calc-properties-xform":34,"./workbook-properties-xform":35,"./workbook-view-xform":36}],38:[function(r,n,i){function a(m,v){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);v&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(m,c).enumerable})),f.push.apply(f,u)}return f}function o(m,v,f){return v in m?Object.defineProperty(m,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[v]=f,m}var s=r("../strings/rich-text-xform"),l=r("../../../utils/utils"),p=r("../base-xform"),h=n.exports=function(m){this.model=m};l.inherits(h,p,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render:function(m,v){var f=this;v=v||this.model,m.openNode("comment",{ref:v.ref,authorId:0}),m.openNode("text"),v&&v.note&&v.note.texts&&v.note.texts.forEach(function(u){f.richTextXform.render(m,u)}),m.closeNode(),m.closeNode()},parseOpen:function(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"comment":return this.model=function(v){for(var f=1;f<arguments.length;f++){var u=arguments[f]!=null?arguments[f]:{};f%2?a(Object(u),!0).forEach(function(c){o(v,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(u)):a(Object(u)).forEach(function(c){Object.defineProperty(v,c,Object.getOwnPropertyDescriptor(u,c))})}return v}({type:"note",note:{texts:[]}},m.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(m),!0;default:return!1}},parseText:function(m){this.parser&&this.parser.parseText(m)},parseClose:function(m){switch(m){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(m),!0}}})},{"../../../utils/utils":26,"../base-xform":31,"../strings/rich-text-xform":121}],39:[function(r,n,i){var a=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),s=r("../base-xform"),l=r("./comment-xform"),p=n.exports=function(){this.map={comment:new l}};o.inherits(p,s,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render:function(h,m){var v=this;m=m||this.model,h.openXml(a.StdDocAttributes),h.openNode("comments",p.COMMENTS_ATTRIBUTES),h.openNode("authors"),h.leafNode("author",null,"Author"),h.closeNode(),h.openNode("commentList"),m.comments.forEach(function(f){v.map.comment.render(h,f)}),h.closeNode(),h.closeNode()},parseOpen:function(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(h),!0;default:return!1}},parseText:function(h){this.parser&&this.parser.parseText(h)},parseClose:function(h){switch(h){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(h),!0}}})},{"../../../utils/utils":26,"../../../utils/xml-stream":27,"../base-xform":31,"./comment-xform":38}],40:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this))._model=_,g}return f=d,(u=[{key:"render",value:function(_,g,y){(g===y[2]||this.tag==="x:SizeWithCells"&&g===y[1])&&_.leafNode(this.tag)}},{key:"parseOpen",value:function(_){switch(_.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this._model&&this._model.tag}}])&&o(f.prototype,u),d}(r("../../base-xform"));n.exports=m},{"../../base-xform":31}],41:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this))._model=_,g}return f=d,(u=[{key:"render",value:function(_,g){_.leafNode(this.tag,null,g)}},{key:"parseOpen",value:function(_){switch(_.name){case this.tag:return this.text="",!0;default:return!1}}},{key:"parseText",value:function(_){this.text=_}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this._model&&this._model.tag}}])&&o(f.prototype,u),d}(r("../../base-xform"));n.exports=m},{"../../base-xform":31}],42:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"getAnchorRect",value:function(g){var y=Math.floor(g.left),b=Math.floor(68*(g.left-y)),C=Math.floor(g.top),w=Math.floor(18*(g.top-C)),x=Math.floor(g.right),A=Math.floor(68*(g.right-x)),D=Math.floor(g.bottom);return[y,b,C,w,x,A,D,Math.floor(18*(g.bottom-D))]}},{key:"getDefaultRect",value:function(g){var y=g.col,b=Math.max(g.row-2,0);return[y,6,b,14,y+2,2,b+4,16]}},{key:"render",value:function(g,y){var b=y.anchor?this.getAnchorRect(y.anchor):this.getDefaultRect(y.refAddress);g.leafNode("x:Anchor",null,b.join(", "))}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.text="",!0;default:return!1}}},{key:"parseText",value:function(g){this.text=g}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"x:Anchor"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],43:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../base-xform"),v=r("./vml-anchor-xform"),f=r("./style/vml-protection-xform"),u=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"],d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={"x:Anchor":new v,"x:Locked":new f({tag:"x:Locked"}),"x:LockText":new f({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})},w}return g=C,(y=[{key:"render",value:function(w,x){var A=x.note,D=A.protection,P=A.editAs;w.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(w,P,c),this.map["x:SizeWithCells"].render(w,P,c),this.map["x:Anchor"].render(w,x),this.map["x:Locked"].render(w,D.locked),w.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(w,D.lockText),w.leafNode("x:Row",null,x.refAddress.row-1),w.leafNode("x:Column",null,x.refAddress.col-1),w.closeNode()}},{key:"parseOpen",value:function(w){switch(w.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[w.name],this.parser&&this.parser.parseOpen(w)}return!0}},{key:"parseText",value:function(w){this.parser&&this.parser.parseText(w)}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.parser=void 0),!0;switch(w){case this.tag:return this.normalizeModel(),!1;default:return!0}}},{key:"normalizeModel",value:function(){var w=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),x=Object.keys(w).length;this.model.editAs=c[x],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}},{key:"tag",get:function(){return"x:ClientData"}}])&&o(g.prototype,y),C}(m);n.exports=d},{"../base-xform":31,"./style/vml-position-xform":40,"./style/vml-protection-xform":41,"./vml-anchor-xform":42}],44:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../../utils/xml-stream"),v=r("../base-xform"),f=r("./vml-shape-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"v:shape":new f},b}return d=y,(_=[{key:"render",value:function(b,C){var w=this;b.openXml(m.StdDocAttributes),b.openNode(this.tag,y.DRAWING_ATTRIBUTES),b.openNode("o:shapelayout",{"v:ext":"edit"}),b.leafNode("o:idmap",{"v:ext":"edit",data:1}),b.closeNode(),b.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),b.leafNode("v:stroke",{joinstyle:"miter"}),b.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),b.closeNode(),C.comments.forEach(function(x,A){w.map["v:shape"].render(b,x,A)}),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)}return!0}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(b){case this.tag:return!1;default:return!0}}},{key:"reconcile",value:function(b,C){var w=this;b.anchors.forEach(function(x){x.br?w.map["xdr:twoCellAnchor"].reconcile(x,C):w.map["xdr:oneCellAnchor"].reconcile(x,C)})}},{key:"tag",get:function(){return"xml"}}])&&o(d.prototype,_),y}(v);u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":27,"../base-xform":31,"./vml-shape-xform":45}],45:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../base-xform"),v=r("./vml-textbox-xform"),f=r("./vml-client-data-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"v:textbox":new v,"x:ClientData":new f},b}return d=y,(_=[{key:"render",value:function(b,C,w){b.openNode("v:shape",y.V_SHAPE_ATTRIBUTES(C,w)),b.leafNode("v:fill",{color2:"infoBackground [80]"}),b.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),b.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(b,C),this.map["x:ClientData"].render(b,C),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case this.tag:this.reset(),this.model={margins:{insetmode:b.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)}return!0}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}},{key:"tag",get:function(){return"v:shape"}}])&&o(d.prototype,_),y}(m);u.V_SHAPE_ATTRIBUTES=function(c,d){return{id:"_x0000_s".concat(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}},n.exports=u},{"../base-xform":31,"./vml-client-data-xform":43,"./vml-textbox-xform":46}],46:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"conversionUnit",value:function(g,y,b){return"".concat(parseFloat(g)*y.toFixed(2)).concat(b)}},{key:"reverseConversionUnit",value:function(g){var y=this;return(g||"").split(",").map(function(b){return Number(parseFloat(y.conversionUnit(parseFloat(b),.1,"")).toFixed(2))})}},{key:"render",value:function(g,y){var b=this,C={style:"mso-direction-alt:auto"};if(y&&y.note){var w=(y.note&&y.note.margins).inset;Array.isArray(w)&&(w=w.map(function(x){return b.conversionUnit(x,10,"mm")}).join(",")),w&&(C.inset=w)}g.openNode("v:textbox",C),g.leafNode("div",{style:"text-align:left"}),g.closeNode()}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={inset:this.reverseConversionUnit(g.attributes.inset)},!0;default:return!0}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){switch(g){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"v:textbox"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],47:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"createNewModel",value:function(g){return{}}},{key:"parseOpen",value:function(g){return this.parser=this.parser||this.map[g.name],this.parser?(this.parser.parseOpen(g),!0):g.name===this.tag&&(this.model=this.createNewModel(g),!0)}},{key:"parseText",value:function(g){this.parser&&this.parser.parseText(g)}},{key:"onParserClose",value:function(g,y){this.model[g]=y.model}},{key:"parseClose",value:function(g){return this.parser?(this.parser.parseClose(g)||(this.onParserClose(g,this.parser),this.parser=void 0),!0):g!==this.tag}}])&&s(u.prototype,c),_}(r("./base-xform"));n.exports=v},{"./base-xform":31}],48:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.openNode("HeadingPairs"),g.openNode("vt:vector",{size:2,baseType:"variant"}),g.openNode("vt:variant"),g.leafNode("vt:lpstr",void 0,"Worksheets"),g.closeNode(),g.openNode("vt:variant"),g.leafNode("vt:i4",void 0,y.length),g.closeNode(),g.closeNode(),g.closeNode()}},{key:"parseOpen",value:function(g){return g.name==="HeadingPairs"}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){return g!=="HeadingPairs"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],49:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.openNode("TitlesOfParts"),g.openNode("vt:vector",{size:y.length,baseType:"lpstr"}),y.forEach(function(b){g.leafNode("vt:lpstr",void 0,b.name)}),g.closeNode(),g.closeNode()}},{key:"parseOpen",value:function(g){return g.name==="TitlesOfParts"}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){return g!=="TitlesOfParts"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],50:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../../../utils/xml-stream"),v=r("../base-xform"),f=r("../simple/string-xform"),u=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform"),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={Company:new f({tag:"Company"}),Manager:new f({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new c},w}return g=C,(y=[{key:"render",value:function(w,x){w.openXml(m.StdDocAttributes),w.openNode("Properties",C.PROPERTY_ATTRIBUTES),w.leafNode("Application",void 0,"Microsoft Excel"),w.leafNode("DocSecurity",void 0,"0"),w.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(w,x.worksheets),this.map.TitleOfParts.render(w,x.worksheets),this.map.Company.render(w,x.company||""),this.map.Manager.render(w,x.manager),w.leafNode("LinksUpToDate",void 0,"false"),w.leafNode("SharedDoc",void 0,"false"),w.leafNode("HyperlinksChanged",void 0,"false"),w.leafNode("AppVersion",void 0,"16.0300"),w.closeNode()}},{key:"parseOpen",value:function(w){if(this.parser)return this.parser.parseOpen(w),!0;switch(w.name){case"Properties":return!0;default:return this.parser=this.map[w.name],!!this.parser&&(this.parser.parseOpen(w),!0)}}},{key:"parseText",value:function(w){this.parser&&this.parser.parseText(w)}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.parser=void 0),!0;switch(w){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}])&&o(g.prototype,y),C}(v);d.DateFormat=function(_){return _.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":27,"../base-xform":31,"../simple/string-xform":118,"./app-heading-pairs-xform":48,"./app-titles-of-parts-xform":49}],51:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../../utils/xml-stream"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){y.openXml(v.StdDocAttributes),y.openNode("Types",g.PROPERTY_ATTRIBUTES);var C={};(b.media||[]).forEach(function(w){if(w.type==="image"){var x=w.extension;C[x]||(C[x]=!0,y.leafNode("Default",{Extension:x,ContentType:"image/".concat(x)}))}}),y.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),y.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),y.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),b.worksheets.forEach(function(w){var x="/xl/worksheets/sheet".concat(w.id,".xml");y.leafNode("Override",{PartName:x,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),y.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),y.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),b.sharedStrings&&b.sharedStrings.count&&y.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),b.tables&&b.tables.forEach(function(w){y.leafNode("Override",{PartName:"/xl/tables/".concat(w.target),ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),b.drawings&&b.drawings.forEach(function(w){y.leafNode("Override",{PartName:"/xl/drawings/".concat(w.name,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),b.commentRefs&&(y.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),b.commentRefs.forEach(function(w){var x=w.commentName;y.leafNode("Override",{PartName:"/xl/".concat(x,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),y.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),y.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),y.closeNode()}},{key:"parseOpen",value:function(){return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(c.prototype,d),g}(r("../base-xform"));f.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=f},{"../../../utils/xml-stream":27,"../base-xform":31}],52:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../../../utils/xml-stream"),v=r("../base-xform"),f=r("../simple/date-xform"),u=r("../simple/string-xform"),c=r("../simple/integer-xform"),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new f({tag:"cp:lastPrinted",format:C.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new f({tag:"dcterms:created",attrs:C.DateAttrs,format:C.DateFormat}),"dcterms:modified":new f({tag:"dcterms:modified",attrs:C.DateAttrs,format:C.DateFormat})},w}return g=C,(y=[{key:"render",value:function(w,x){w.openXml(m.StdDocAttributes),w.openNode("cp:coreProperties",C.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(w,x.creator),this.map["dc:title"].render(w,x.title),this.map["dc:subject"].render(w,x.subject),this.map["dc:description"].render(w,x.description),this.map["dc:identifier"].render(w,x.identifier),this.map["dc:language"].render(w,x.language),this.map["cp:keywords"].render(w,x.keywords),this.map["cp:category"].render(w,x.category),this.map["cp:lastModifiedBy"].render(w,x.lastModifiedBy),this.map["cp:lastPrinted"].render(w,x.lastPrinted),this.map["cp:revision"].render(w,x.revision),this.map["cp:version"].render(w,x.version),this.map["cp:contentStatus"].render(w,x.contentStatus),this.map["cp:contentType"].render(w,x.contentType),this.map["dcterms:created"].render(w,x.created),this.map["dcterms:modified"].render(w,x.modified),w.closeNode()}},{key:"parseOpen",value:function(w){if(this.parser)return this.parser.parseOpen(w),!0;switch(w.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[w.name],this.parser)return this.parser.parseOpen(w),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(w)))}}},{key:"parseText",value:function(w){this.parser&&this.parser.parseText(w)}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.parser=void 0),!0;switch(w){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: ".concat(w))}}}])&&o(g.prototype,y),C}(v);d.DateFormat=function(_){return _.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":27,"../base-xform":31,"../simple/date-xform":116,"../simple/integer-xform":117,"../simple/string-xform":118}],53:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("Relationship",y)}},{key:"parseOpen",value:function(g){switch(g.name){case"Relationship":return this.model=g.attributes,!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],54:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../../utils/xml-stream"),v=r("../base-xform"),f=r("./relationship-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={Relationship:new f},b}return d=y,(_=[{key:"render",value:function(b,C){var w=this;C=C||this._values,b.openXml(m.StdDocAttributes),b.openNode("Relationships",y.RELATIONSHIPS_ATTRIBUTES),C.forEach(function(x){w.map.Relationship.render(b,x)}),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[b.name],this.parser)return this.parser.parseOpen(b),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(b)))}}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(b){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: ".concat(b))}}}])&&o(d.prototype,_),y}(v);u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":27,"../base-xform":31,"./relationship-xform":53}],55:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"parseOpen",value:function(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case this.tag:this.reset(),this.model={range:{editAs:g.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g)}return!0}},{key:"parseText",value:function(g){this.parser&&this.parser.parseText(g)}},{key:"reconcilePicture",value:function(g,y){if(g&&g.rId){var b=y.rels[g.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(b){var C=b[1],w=y.mediaIndex[C];return y.media[w]}}}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],56:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../base-xform"),v=r("./blip-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),(y=_.call(this)).map={"a:blip":new v},y}return c=g,(d=[{key:"render",value:function(y,b){y.openNode(this.tag),this.map["a:blip"].render(y,b),y.openNode("a:stretch"),y.leafNode("a:fillRect"),y.closeNode(),y.closeNode()}},{key:"parseOpen",value:function(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case this.tag:this.reset();break;default:this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y)}return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}},{key:"tag",get:function(){return"xdr:blipFill"}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../base-xform":31,"./blip-xform":57}],57:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":y.rId,cstate:"print"})}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={rId:g.attributes["r:embed"]},!0;default:return!0}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){switch(g){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"a:blip"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],58:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g){g.openNode(this.tag),g.leafNode("a:picLocks",{noChangeAspect:"1"}),g.closeNode()}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:default:return!0}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){switch(g){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"xdr:cNvPicPr"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],59:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../base-xform"),v=r("./hlink-click-xform"),f=r("./ext-lst-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"a:hlinkClick":new v,"a:extLst":new f},b}return d=y,(_=[{key:"render",value:function(b,C){b.openNode(this.tag,{id:C.index,name:"Picture ".concat(C.index)}),this.map["a:hlinkClick"].render(b,C),this.map["a:extLst"].render(b,C),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case this.tag:this.reset();break;default:this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)}return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}},{key:"tag",get:function(){return"xdr:cNvPr"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../base-xform":31,"./ext-lst-xform":62,"./hlink-click-xform":64}],60:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../base-xform"),v=r("../simple/integer-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(y){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g),(b=_.call(this)).tag=y.tag,b.map={"xdr:col":new v({tag:"xdr:col",zero:!0}),"xdr:colOff":new v({tag:"xdr:colOff",zero:!0}),"xdr:row":new v({tag:"xdr:row",zero:!0}),"xdr:rowOff":new v({tag:"xdr:rowOff",zero:!0})},b}return c=g,(d=[{key:"render",value:function(y,b){y.openNode(this.tag),this.map["xdr:col"].render(y,b.nativeCol),this.map["xdr:colOff"].render(y,b.nativeColOff),this.map["xdr:row"].render(y,b.nativeRow),this.map["xdr:rowOff"].render(y,b.nativeRowOff),y.closeNode()}},{key:"parseOpen",value:function(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case this.tag:this.reset();break;default:this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y)}return!0}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"parseClose",value:function(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../base-xform":31,"../simple/integer-xform":117}],61:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../../../utils/col-cache"),v=r("../../../utils/xml-stream"),f=r("../base-xform"),u=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform"),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new c},w}return g=C,(y=[{key:"prepare",value:function(w){var x=this;w.anchors.forEach(function(A,D){A.anchorType=function(P){return(typeof P.range=="string"?m.decode(P.range):P.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(A),x.map[A.anchorType].prepare(A,{index:D})})}},{key:"render",value:function(w,x){var A=this;w.openXml(v.StdDocAttributes),w.openNode(this.tag,C.DRAWING_ATTRIBUTES),x.anchors.forEach(function(D){A.map[D.anchorType].render(w,D)}),w.closeNode()}},{key:"parseOpen",value:function(w){if(this.parser)return this.parser.parseOpen(w),!0;switch(w.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[w.name],this.parser&&this.parser.parseOpen(w)}return!0}},{key:"parseText",value:function(w){this.parser&&this.parser.parseText(w)}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(w){case this.tag:return!1;default:return!0}}},{key:"reconcile",value:function(w,x){var A=this;w.anchors.forEach(function(D){D.br?A.map["xdr:twoCellAnchor"].reconcile(D,x):A.map["xdr:oneCellAnchor"].reconcile(D,x)})}},{key:"tag",get:function(){return"xdr:wsDr"}}])&&o(g.prototype,y),C}(f);d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":27,"../base-xform":31,"./one-cell-anchor-xform":66,"./two-cell-anchor-xform":69}],62:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g){g.openNode(this.tag),g.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),g.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),g.closeNode(),g.closeNode()}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:default:return!0}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(g){switch(g){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"a:extLst"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],63:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function s(f,u){return(s=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function l(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=h(f);if(u){var _=h(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return p(this,c)}}function p(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function h(f){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var m=r("../base-xform"),v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&s(g,y)})(_,f);var u,c,d=l(_);function _(g){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_),(y=d.call(this)).tag=g.tag,y.map={},y}return u=_,(c=[{key:"render",value:function(g,y){g.openNode(this.tag);var b=Math.floor(9525*y.width),C=Math.floor(9525*y.height);g.addAttribute("cx",b),g.addAttribute("cy",C),g.closeNode()}},{key:"parseOpen",value:function(g){return g.name===this.tag&&(this.model={width:parseInt(g.attributes.cx||"0",10)/9525,height:parseInt(g.attributes.cy||"0",10)/9525},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&o(u.prototype,c),_}(m);n.exports=v},{"../base-xform":31}],64:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){y.hyperlinks&&y.hyperlinks.rId&&g.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":y.hyperlinks.rId,tooltip:y.hyperlinks.tooltip})}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={hyperlinks:{rId:g.attributes["r:id"],tooltip:g.attributes.tooltip}},!0;default:return!0}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"a:hlinkClick"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],65:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../base-xform"),v=r("./c-nv-pr-xform"),f=r("./c-nv-pic-pr-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"xdr:cNvPr":new v,"xdr:cNvPicPr":new f},b}return d=y,(_=[{key:"render",value:function(b,C){b.openNode(this.tag),this.map["xdr:cNvPr"].render(b,C),this.map["xdr:cNvPicPr"].render(b,C),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case this.tag:this.reset();break;default:this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)}return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}},{key:"tag",get:function(){return"xdr:nvPicPr"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../base-xform":31,"./c-nv-pic-pr-xform":58,"./c-nv-pr-xform":59}],66:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("./base-cell-anchor-xform"),v=r("../static-xform"),f=r("./cell-position-xform"),u=r("./ext-xform"),c=r("./pic-xform"),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={"xdr:from":new f({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new v({tag:"xdr:clientData"})},w}return g=C,(y=[{key:"prepare",value:function(w,x){this.map["xdr:pic"].prepare(w.picture,x)}},{key:"render",value:function(w,x){w.openNode(this.tag,{editAs:x.range.editAs||"oneCell"}),this.map["xdr:from"].render(w,x.range.tl),this.map["xdr:ext"].render(w,x.range.ext),this.map["xdr:pic"].render(w,x.picture),this.map["xdr:clientData"].render(w,{}),w.closeNode()}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.parser=void 0),!0;switch(w){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}},{key:"reconcile",value:function(w,x){w.medium=this.reconcilePicture(w.picture,x)}},{key:"tag",get:function(){return"xdr:oneCellAnchor"}}])&&o(g.prototype,y),C}(m);n.exports=d},{"../static-xform":119,"./base-cell-anchor-xform":55,"./cell-position-xform":60,"./ext-xform":63,"./pic-xform":67}],67:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../base-xform"),v=r("../static-xform"),f=r("./blip-fill-xform"),u=r("./nv-pic-pr-xform"),c=r("./sp-pr"),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(){var w;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,C),(w=b.call(this)).map={"xdr:nvPicPr":new u,"xdr:blipFill":new f,"xdr:spPr":new v(c)},w}return g=C,(y=[{key:"prepare",value:function(w,x){w.index=x.index+1}},{key:"render",value:function(w,x){w.openNode(this.tag),this.map["xdr:nvPicPr"].render(w,x),this.map["xdr:blipFill"].render(w,x),this.map["xdr:spPr"].render(w,x),w.closeNode()}},{key:"parseOpen",value:function(w){if(this.parser)return this.parser.parseOpen(w),!0;switch(w.name){case this.tag:this.reset();break;default:this.parser=this.map[w.name],this.parser&&this.parser.parseOpen(w)}return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(w){if(this.parser)return this.parser.parseClose(w)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(w){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"xdr:pic"}}])&&o(g.prototype,y),C}(m);n.exports=d},{"../base-xform":31,"../static-xform":119,"./blip-fill-xform":56,"./nv-pic-pr-xform":65,"./sp-pr":68}],68:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],69:[function(r,n,i){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function o(d,_){for(var g=0;g<_.length;g++){var y=_[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function s(d,_){return(s=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(d,_)}function l(d){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=h(d);if(_){var b=h(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return p(this,g)}}function p(d,_){return!_||a(_)!=="object"&&typeof _!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):_}function h(d){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}var m=r("./base-cell-anchor-xform"),v=r("../static-xform"),f=r("./cell-position-xform"),u=r("./pic-xform"),c=function(d){(function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&s(C,w)})(b,d);var _,g,y=l(b);function b(){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,b),(C=y.call(this)).map={"xdr:from":new f({tag:"xdr:from"}),"xdr:to":new f({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new v({tag:"xdr:clientData"})},C}return _=b,(g=[{key:"prepare",value:function(C,w){this.map["xdr:pic"].prepare(C.picture,w)}},{key:"render",value:function(C,w){C.openNode(this.tag,{editAs:w.range.editAs||"oneCell"}),this.map["xdr:from"].render(C,w.range.tl),this.map["xdr:to"].render(C,w.range.br),this.map["xdr:pic"].render(C,w.picture),this.map["xdr:clientData"].render(C,{}),C.closeNode()}},{key:"parseClose",value:function(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}},{key:"reconcile",value:function(C,w){C.medium=this.reconcilePicture(C.picture,w)}},{key:"tag",get:function(){return"xdr:twoCellAnchor"}}])&&o(_.prototype,g),b}(m);n.exports=c},{"../static-xform":119,"./base-cell-anchor-xform":55,"./cell-position-xform":60,"./pic-xform":67}],70:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).tag=_.tag,g.always=!!_.always,g.count=_.count,g.empty=_.empty,g.$count=_.$count||"count",g.$=_.$,g.childXform=_.childXform,g.maxItems=_.maxItems,g}return f=d,(u=[{key:"prepare",value:function(_,g){var y=this.childXform;_&&_.forEach(function(b,C){g.index=C,y.prepare(b,g)})}},{key:"render",value:function(_,g){if(this.always||g&&g.length){_.openNode(this.tag,this.$),this.count&&_.addAttribute(this.$count,g&&g.length||0);var y=this.childXform;(g||[]).forEach(function(b,C){y.render(_,b,C)}),_.closeNode()}else this.empty&&_.leafNode(this.tag)}},{key:"parseOpen",value:function(_){if(this.parser)return this.parser.parseOpen(_),!0;switch(_.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(_)&&(this.parser=this.childXform,!0)}}},{key:"parseText",value:function(_){this.parser&&this.parser.parseText(_)}},{key:"parseClose",value:function(_){if(this.parser){if(!this.parser.parseClose(_)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error("Max ".concat(this.childXform.tag," count (").concat(this.maxItems,") exceeded"));return!0}return!1}},{key:"reconcile",value:function(_,g){if(_){var y=this.childXform;_.forEach(function(b){y.reconcile(b,g)})}}}])&&o(f.prototype,u),d}(r("./base-xform"));n.exports=m},{"./base-xform":31}],71:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../../utils/col-cache"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){if(b)if(typeof b=="string")y.leafNode("autoFilter",{ref:b});else{var C=function(A){return typeof A=="string"?A:v.getAddress(A.row,A.column).address},w=C(b.from),x=C(b.to);w&&x&&y.leafNode("autoFilter",{ref:"".concat(w,":").concat(x)})}}},{key:"parseOpen",value:function(y){y.name==="autoFilter"&&(this.model=y.attributes.ref)}},{key:"tag",get:function(){return"autoFilter"}}])&&s(c.prototype,d),g}(r("../base-xform"));n.exports=f},{"../../../utils/col-cache":19,"../base-xform":31}],72:[function(r,n,i){function a(C){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}function o(C,w){var x=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);w&&(A=A.filter(function(D){return Object.getOwnPropertyDescriptor(C,D).enumerable})),x.push.apply(x,A)}return x}function s(C){for(var w=1;w<arguments.length;w++){var x=arguments[w]!=null?arguments[w]:{};w%2?o(Object(x),!0).forEach(function(A){l(C,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(x,A))})}return C}function l(C,w,x){return w in C?Object.defineProperty(C,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[w]=x,C}function p(C,w){for(var x=0;x<w.length;x++){var A=w[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function h(C,w){return(h=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x})(C,w)}function m(C){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var x,A=f(C);if(w){var D=f(this).constructor;x=Reflect.construct(A,arguments,D)}else x=A.apply(this,arguments);return v(this,x)}}function v(C,w){return!w||a(w)!=="object"&&typeof w!="function"?function(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(C):w}function f(C){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(C)}var u=r("../../../utils/utils"),c=r("../base-xform"),d=r("../../../doc/range"),_=r("../../../doc/enums"),g=r("../strings/rich-text-xform");function y(C){if(C==null)return _.ValueType.Null;if(C instanceof String||typeof C=="string")return _.ValueType.String;if(typeof C=="number")return _.ValueType.Number;if(typeof C=="boolean")return _.ValueType.Boolean;if(C instanceof Date)return _.ValueType.Date;if(C.text&&C.hyperlink)return _.ValueType.Hyperlink;if(C.formula)return _.ValueType.Formula;if(C.error)return _.ValueType.Error;throw new Error("I could not understand type of value")}var b=function(C){(function(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),k&&h(P,k)})(D,C);var w,x,A=m(D);function D(){var P;return function(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}(this,D),(P=A.call(this)).richTextXForm=new g,P}return w=D,(x=[{key:"prepare",value:function(P,k){var B=k.styles.addStyleModel(P.style||{},function(O){switch(O.type){case _.ValueType.Formula:return y(O.result);default:return O.type}}(P));switch(B&&(P.styleId=B),P.comment&&k.comments.push(s(s({},P.comment),{},{ref:P.address})),P.type){case _.ValueType.String:case _.ValueType.RichText:k.sharedStrings&&(P.ssId=k.sharedStrings.add(P.value));break;case _.ValueType.Date:k.date1904&&(P.date1904=!0);break;case _.ValueType.Hyperlink:k.sharedStrings&&P.text!==void 0&&P.text!==null&&(P.ssId=k.sharedStrings.add(P.text)),k.hyperlinks.push({address:P.address,target:P.hyperlink,tooltip:P.tooltip});break;case _.ValueType.Merge:k.merges.add(P);break;case _.ValueType.Formula:if(k.date1904&&(P.date1904=!0),P.shareType==="shared"&&(P.si=k.siFormulae++),P.formula)k.formulae[P.address]=P;else if(P.sharedFormula){var E=k.formulae[P.sharedFormula];if(!E)throw new Error("Shared Formula master must exist above and or left of clone for cell ".concat(P.address));E.si===void 0?(E.shareType="shared",E.si=k.siFormulae++,E.range=new d(E.address,P.address)):E.range&&E.range.expandToAddress(P.address),P.si=E.si}}}},{key:"renderFormula",value:function(P,k){var B=null;switch(k.shareType){case"shared":B={t:"shared",ref:k.ref||k.range.range,si:k.si};break;case"array":B={t:"array",ref:k.ref};break;default:k.si!==void 0&&(B={t:"shared",si:k.si})}switch(y(k.result)){case _.ValueType.Null:P.leafNode("f",B,k.formula);break;case _.ValueType.String:P.addAttribute("t","str"),P.leafNode("f",B,k.formula),P.leafNode("v",null,k.result);break;case _.ValueType.Number:P.leafNode("f",B,k.formula),P.leafNode("v",null,k.result);break;case _.ValueType.Boolean:P.addAttribute("t","b"),P.leafNode("f",B,k.formula),P.leafNode("v",null,k.result?1:0);break;case _.ValueType.Error:P.addAttribute("t","e"),P.leafNode("f",B,k.formula),P.leafNode("v",null,k.result.error);break;case _.ValueType.Date:P.leafNode("f",B,k.formula),P.leafNode("v",null,u.dateToExcel(k.result,k.date1904));break;default:throw new Error("I could not understand type of value")}}},{key:"render",value:function(P,k){var B=this;if(k.type!==_.ValueType.Null||k.styleId){switch(P.openNode("c"),P.addAttribute("r",k.address),k.styleId&&P.addAttribute("s",k.styleId),k.type){case _.ValueType.Null:break;case _.ValueType.Number:P.leafNode("v",null,k.value);break;case _.ValueType.Boolean:P.addAttribute("t","b"),P.leafNode("v",null,k.value?"1":"0");break;case _.ValueType.Error:P.addAttribute("t","e"),P.leafNode("v",null,k.value.error);break;case _.ValueType.String:case _.ValueType.RichText:k.ssId!==void 0?(P.addAttribute("t","s"),P.leafNode("v",null,k.ssId)):k.value&&k.value.richText?(P.addAttribute("t","inlineStr"),P.openNode("is"),k.value.richText.forEach(function(E){B.richTextXForm.render(P,E)}),P.closeNode("is")):(P.addAttribute("t","str"),P.leafNode("v",null,k.value));break;case _.ValueType.Date:P.leafNode("v",null,u.dateToExcel(k.value,k.date1904));break;case _.ValueType.Hyperlink:k.ssId!==void 0?(P.addAttribute("t","s"),P.leafNode("v",null,k.ssId)):(P.addAttribute("t","str"),P.leafNode("v",null,k.text));break;case _.ValueType.Formula:this.renderFormula(P,k);break;case _.ValueType.Merge:}P.closeNode()}}},{key:"parseOpen",value:function(P){if(this.parser)return this.parser.parseOpen(P),!0;switch(P.name){case"c":return this.model={address:P.attributes.r},this.t=P.attributes.t,P.attributes.s&&(this.model.styleId=parseInt(P.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=P.attributes.si,this.model.shareType=P.attributes.t,this.model.ref=P.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(P),!0;default:return!1}}},{key:"parseText",value:function(P){if(this.parser)this.parser.parseText(P);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+P:P;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+P:P:this.model.value=this.model.value?this.model.value+P:P}}},{key:"parseClose",value:function(P){switch(P){case"c":var k=this.model;if(k.formula||k.shareType)k.type=_.ValueType.Formula,k.value&&(this.t==="str"?k.result=u.xmlDecode(k.value):this.t==="b"?k.result=parseInt(k.value,10)!==0:this.t==="e"?k.result={error:k.value}:k.result=parseFloat(k.value),k.value=void 0);else if(k.value!==void 0)switch(this.t){case"s":k.type=_.ValueType.String,k.value=parseInt(k.value,10);break;case"str":k.type=_.ValueType.String,k.value=u.xmlDecode(k.value);break;case"inlineStr":k.type=_.ValueType.String;break;case"b":k.type=_.ValueType.Boolean,k.value=parseInt(k.value,10)!==0;break;case"e":k.type=_.ValueType.Error,k.value={error:k.value};break;default:k.type=_.ValueType.Number,k.value=parseFloat(k.value)}else k.styleId?k.type=_.ValueType.Null:k.type=_.ValueType.Merge;return!1;case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(P),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(P),!0)}}},{key:"reconcile",value:function(P,k){var B=P.styleId&&k.styles&&k.styles.getStyleModel(P.styleId);switch(B&&(P.style=B),P.styleId!==void 0&&(P.styleId=void 0),P.type){case _.ValueType.String:typeof P.value=="number"&&k.sharedStrings&&(P.value=k.sharedStrings.getString(P.value)),P.value.richText&&(P.type=_.ValueType.RichText);break;case _.ValueType.Number:B&&u.isDateFmt(B.numFmt)&&(P.type=_.ValueType.Date,P.value=u.excelToDate(P.value,k.date1904));break;case _.ValueType.Formula:P.result!==void 0&&B&&u.isDateFmt(B.numFmt)&&(P.result=u.excelToDate(P.result,k.date1904)),P.shareType==="shared"&&(P.ref?k.formulae[P.si]=P.address:(P.sharedFormula=k.formulae[P.si],delete P.shareType),delete P.si)}var E=k.hyperlinkMap[P.address];E&&(P.type===_.ValueType.Formula?(P.text=P.result,P.result=void 0):(P.text=P.value,P.value=void 0),P.type=_.ValueType.Hyperlink,P.hyperlink=E);var O=k.commentsMap&&k.commentsMap[P.address];O&&(P.comment=O)}},{key:"tag",get:function(){return"c"}}])&&p(w.prototype,x),D}(c);n.exports=b},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":26,"../base-xform":31,"../strings/rich-text-xform":121}],73:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../base-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){y.leafNode(this.tag,{iconSet:b.iconSet,iconId:b.iconId})}},{key:"parseOpen",value:function(y){var b=y.attributes;this.model={iconSet:b.iconSet,iconId:v.toIntValue(b.iconId)}}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"x14:cfIcon"}}])&&s(c.prototype,d),g}(v);n.exports=f},{"../../base-xform":31}],74:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function s(g,y){return(s=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function l(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=h(g);if(y){var w=h(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return p(this,b)}}function p(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function h(g){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var m=r("uuid").v4,v=r("../../base-xform"),f=r("../../composite-xform"),u=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},_=function(g){(function(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),D&&s(A,D)})(x,g);var y,b,C,w=l(x);function x(){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(A=w.call(this)).map={"x14:dataBar":A.databarXform=new u,"x14:iconSet":A.iconSetXform=new c},A}return y=x,C=[{key:"isExt",value:function(A){return A.type==="dataBar"?u.isExt(A):!(A.type!=="iconSet"||!A.custom&&!d[A.iconSet])}}],(b=[{key:"prepare",value:function(A){x.isExt(A)&&(A.x14Id="{".concat(m(),"}").toUpperCase())}},{key:"render",value:function(A,D){if(x.isExt(D))switch(D.type){case"dataBar":this.renderDataBar(A,D);break;case"iconSet":this.renderIconSet(A,D)}}},{key:"renderDataBar",value:function(A,D){A.openNode(this.tag,{type:"dataBar",id:D.x14Id}),this.databarXform.render(A,D),A.closeNode()}},{key:"renderIconSet",value:function(A,D){A.openNode(this.tag,{type:"iconSet",priority:D.priority,id:D.x14Id||"{".concat(m(),"}")}),this.iconSetXform.render(A,D),A.closeNode()}},{key:"createNewModel",value:function(A){var D=A.attributes;return{type:D.type,x14Id:D.id,priority:v.toIntValue(D.priority)}}},{key:"onParserClose",value:function(A,D){Object.assign(this.model,D.model)}},{key:"tag",get:function(){return"x14:cfRule"}}])&&o(y.prototype,b),C&&o(y,C),x}(f);n.exports=_},{"../../base-xform":31,"../../composite-xform":47,"./databar-ext-xform":78,"./icon-set-ext-xform":80,uuid:526}],75:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../../composite-xform"),v=r("./f-ext-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),(y=_.call(this)).map={"xm:f":y.fExtXform=new v},y}return c=g,(d=[{key:"render",value:function(y,b){y.openNode(this.tag,{type:b.type}),b.value!==void 0&&this.fExtXform.render(y,b.value),y.closeNode()}},{key:"createNewModel",value:function(y){return{type:y.attributes.type}}},{key:"onParserClose",value:function(y,b){switch(y){case"xm:f":this.model.value=b.model?parseFloat(b.model):0}}},{key:"tag",get:function(){return"x14:cfvo"}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../../composite-xform":47,"./f-ext-xform":79}],76:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../composite-xform"),v=r("./sqref-ext-xform"),f=r("./cf-rule-ext-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"xm:sqref":b.sqRef=new v,"x14:cfRule":b.cfRule=new f},b}return d=y,(_=[{key:"prepare",value:function(b,C){var w=this;b.rules.forEach(function(x){w.cfRule.prepare(x,C)})}},{key:"render",value:function(b,C){var w=this;C.rules.some(f.isExt)&&(b.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),C.rules.filter(f.isExt).forEach(function(x){return w.cfRule.render(b,x)}),this.sqRef.render(b,C.ref),b.closeNode())}},{key:"createNewModel",value:function(){return{rules:[]}}},{key:"onParserClose",value:function(b,C){switch(b){case"xm:sqref":this.model.ref=C.model;break;case"x14:cfRule":this.model.rules.push(C.model)}}},{key:"tag",get:function(){return"x14:conditionalFormatting"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../../composite-xform":47,"./cf-rule-ext-xform":74,"./sqref-ext-xform":81}],77:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../composite-xform"),v=r("./cf-rule-ext-xform"),f=r("./conditional-formatting-ext-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"x14:conditionalFormatting":b.cfXform=new f},b}return d=y,(_=[{key:"hasContent",value:function(b){return b.hasExtContent===void 0&&(b.hasExtContent=b.some(function(C){return C.rules.some(v.isExt)})),b.hasExtContent}},{key:"prepare",value:function(b,C){var w=this;b.forEach(function(x){w.cfXform.prepare(x,C)})}},{key:"render",value:function(b,C){var w=this;this.hasContent(C)&&(b.openNode(this.tag),C.forEach(function(x){return w.cfXform.render(b,x)}),b.closeNode())}},{key:"createNewModel",value:function(){return[]}},{key:"onParserClose",value:function(b,C){this.model.push(C.model)}},{key:"tag",get:function(){return"x14:conditionalFormattings"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../../composite-xform":47,"./cf-rule-ext-xform":74,"./conditional-formatting-ext-xform":76}],78:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){return function(b){if(Array.isArray(b))return b}(g)||function(b,C){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(b)))){var w=[],x=!0,A=!1,D=void 0;try{for(var P,k=b[Symbol.iterator]();!(x=(P=k.next()).done)&&(w.push(P.value),!C||w.length!==C);x=!0);}catch(B){A=!0,D=B}finally{try{x||k.return==null||k.return()}finally{if(A)throw D}}return w}}(g,y)||function(b,C){if(b){if(typeof b=="string")return s(b,C);var w=Object.prototype.toString.call(b).slice(8,-1);if(w==="Object"&&b.constructor&&(w=b.constructor.name),w==="Map"||w==="Set")return Array.from(b);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return s(b,C)}}(g,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(g,y){(y==null||y>g.length)&&(y=g.length);for(var b=0,C=new Array(y);b<y;b++)C[b]=g[b];return C}function l(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function p(g,y){return(p=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function h(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=v(g);if(y){var w=v(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return m(this,b)}}function m(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function v(g){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=r("../../base-xform"),u=r("../../composite-xform"),c=r("../../style/color-xform"),d=r("./cfvo-ext-xform"),_=function(g){(function(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),D&&p(A,D)})(x,g);var y,b,C,w=h(x);function x(){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(A=w.call(this)).map={"x14:cfvo":A.cfvoXform=new d,"x14:borderColor":A.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":A.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":A.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":A.axisColorXform=new c("x14:axisColor")},A}return y=x,C=[{key:"isExt",value:function(A){return!A.gradient}}],(b=[{key:"render",value:function(A,D){var P=this;A.openNode(this.tag,{minLength:f.toIntAttribute(D.minLength,0,!0),maxLength:f.toIntAttribute(D.maxLength,100,!0),border:f.toBoolAttribute(D.border,!1),gradient:f.toBoolAttribute(D.gradient,!0),negativeBarColorSameAsPositive:f.toBoolAttribute(D.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolAttribute(D.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toAttribute(D.axisPosition,"auto"),direction:f.toAttribute(D.direction,"leftToRight")}),D.cfvo.forEach(function(k){P.cfvoXform.render(A,k)}),this.borderColorXform.render(A,D.borderColor),this.negativeBorderColorXform.render(A,D.negativeBorderColor),this.negativeFillColorXform.render(A,D.negativeFillColor),this.axisColorXform.render(A,D.axisColor),A.closeNode()}},{key:"createNewModel",value:function(A){var D=A.attributes;return{cfvo:[],minLength:f.toIntValue(D.minLength,0),maxLength:f.toIntValue(D.maxLength,100),border:f.toBoolValue(D.border,!1),gradient:f.toBoolValue(D.gradient,!0),negativeBarColorSameAsPositive:f.toBoolValue(D.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolValue(D.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toStringValue(D.axisPosition,"auto"),direction:f.toStringValue(D.direction,"leftToRight")}}},{key:"onParserClose",value:function(A,D){var P=o(A.split(":"),2)[1];switch(P){case"cfvo":this.model.cfvo.push(D.model);break;default:this.model[P]=D.model}}},{key:"tag",get:function(){return"x14:dataBar"}}])&&l(y.prototype,b),C&&l(y,C),x}(u);n.exports=_},{"../../base-xform":31,"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-ext-xform":75}],79:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode(this.tag,null,y)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(g){this.model+=g}},{key:"parseClose",value:function(g){return g!==this.tag}},{key:"tag",get:function(){return"xm:f"}}])&&s(u.prototype,c),_}(r("../../base-xform"));n.exports=v},{"../../base-xform":31}],80:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){return function(b){if(Array.isArray(b))return b}(g)||function(b,C){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(b)))){var w=[],x=!0,A=!1,D=void 0;try{for(var P,k=b[Symbol.iterator]();!(x=(P=k.next()).done)&&(w.push(P.value),!C||w.length!==C);x=!0);}catch(B){A=!0,D=B}finally{try{x||k.return==null||k.return()}finally{if(A)throw D}}return w}}(g,y)||function(b,C){if(b){if(typeof b=="string")return s(b,C);var w=Object.prototype.toString.call(b).slice(8,-1);if(w==="Object"&&b.constructor&&(w=b.constructor.name),w==="Map"||w==="Set")return Array.from(b);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return s(b,C)}}(g,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(g,y){(y==null||y>g.length)&&(y=g.length);for(var b=0,C=new Array(y);b<y;b++)C[b]=g[b];return C}function l(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function p(g,y){return(p=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function h(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=v(g);if(y){var w=v(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return m(this,b)}}function m(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function v(g){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=r("../../base-xform"),u=r("../../composite-xform"),c=r("./cfvo-ext-xform"),d=r("./cf-icon-ext-xform"),_=function(g){(function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&p(x,A)})(w,g);var y,b,C=h(w);function w(){var x;return function(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(x=C.call(this)).map={"x14:cfvo":x.cfvoXform=new c,"x14:cfIcon":x.cfIconXform=new d},x}return y=w,(b=[{key:"render",value:function(x,A){var D=this;x.openNode(this.tag,{iconSet:f.toStringAttribute(A.iconSet),reverse:f.toBoolAttribute(A.reverse,!1),showValue:f.toBoolAttribute(A.showValue,!0),custom:f.toBoolAttribute(A.icons,!1)}),A.cfvo.forEach(function(P){D.cfvoXform.render(x,P)}),A.icons&&A.icons.forEach(function(P,k){P.iconId=k,D.cfIconXform.render(x,P)}),x.closeNode()}},{key:"createNewModel",value:function(x){var A=x.attributes;return{cfvo:[],iconSet:f.toStringValue(A.iconSet,"3TrafficLights"),reverse:f.toBoolValue(A.reverse,!1),showValue:f.toBoolValue(A.showValue,!0)}}},{key:"onParserClose",value:function(x,A){var D=o(x.split(":"),2)[1];switch(D){case"cfvo":this.model.cfvo.push(A.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(A.model);break;default:this.model[D]=A.model}}},{key:"tag",get:function(){return"x14:iconSet"}}])&&l(y.prototype,b),w}(u);n.exports=_},{"../../base-xform":31,"../../composite-xform":47,"./cf-icon-ext-xform":73,"./cfvo-ext-xform":75}],81:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode(this.tag,null,y)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(g){this.model+=g}},{key:"parseClose",value:function(g){return g!==this.tag}},{key:"tag",get:function(){return"xm:sqref"}}])&&s(u.prototype,c),_}(r("../../base-xform"));n.exports=v},{"../../base-xform":31}],82:[function(r,n,i){function a(A){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(A)}function o(A,D){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(A);D&&(k=k.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),P.push.apply(P,k)}return P}function s(A){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?o(Object(P),!0).forEach(function(k){l(A,k,P[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):o(Object(P)).forEach(function(k){Object.defineProperty(A,k,Object.getOwnPropertyDescriptor(P,k))})}return A}function l(A,D,P){return D in A?Object.defineProperty(A,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[D]=P,A}function p(A,D){for(var P=0;P<D.length;P++){var k=D[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}function h(A,D){return(h=Object.setPrototypeOf||function(P,k){return P.__proto__=k,P})(A,D)}function m(A){var D=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var P,k=f(A);if(D){var B=f(this).constructor;P=Reflect.construct(k,arguments,B)}else P=k.apply(this,arguments);return v(this,P)}}function v(A,D){return!D||a(D)!=="object"&&typeof D!="function"?function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(A):D}function f(A){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(A)}var u=r("../../base-xform"),c=r("../../composite-xform"),d=r("../../../../doc/range"),_=r("./databar-xform"),g=r("./ext-lst-ref-xform"),y=r("./formula-xform"),b=r("./color-scale-xform"),C=r("./icon-set-xform"),w={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},x=function(A){(function(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),S&&h(O,S)})(E,A);var D,P,k,B=m(E);function E(){var O;return function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,E),(O=B.call(this)).map={dataBar:O.databarXform=new _,extLst:O.extLstRefXform=new g,formula:O.formulaXform=new y,colorScale:O.colorScaleXform=new b,iconSet:O.iconSetXform=new C},O}return D=E,k=[{key:"isPrimitive",value:function(O){return O.type!=="iconSet"||!O.custom&&!w[O.iconSet]}}],(P=[{key:"render",value:function(O,S){switch(S.type){case"expression":this.renderExpression(O,S);break;case"cellIs":this.renderCellIs(O,S);break;case"top10":this.renderTop10(O,S);break;case"aboveAverage":this.renderAboveAverage(O,S);break;case"dataBar":this.renderDataBar(O,S);break;case"colorScale":this.renderColorScale(O,S);break;case"iconSet":this.renderIconSet(O,S);break;case"containsText":this.renderText(O,S);break;case"timePeriod":this.renderTimePeriod(O,S)}}},{key:"renderExpression",value:function(O,S){O.openNode(this.tag,{type:"expression",dxfId:S.dxfId,priority:S.priority}),this.formulaXform.render(O,S.formulae[0]),O.closeNode()}},{key:"renderCellIs",value:function(O,S){var R=this;O.openNode(this.tag,{type:"cellIs",dxfId:S.dxfId,priority:S.priority,operator:S.operator}),S.formulae.forEach(function(T){R.formulaXform.render(O,T)}),O.closeNode()}},{key:"renderTop10",value:function(O,S){O.leafNode(this.tag,{type:"top10",dxfId:S.dxfId,priority:S.priority,percent:u.toBoolAttribute(S.percent,!1),bottom:u.toBoolAttribute(S.bottom,!1),rank:u.toIntValue(S.rank,10,!0)})}},{key:"renderAboveAverage",value:function(O,S){O.leafNode(this.tag,{type:"aboveAverage",dxfId:S.dxfId,priority:S.priority,aboveAverage:u.toBoolAttribute(S.aboveAverage,!0)})}},{key:"renderDataBar",value:function(O,S){O.openNode(this.tag,{type:"dataBar",priority:S.priority}),this.databarXform.render(O,S),this.extLstRefXform.render(O,S),O.closeNode()}},{key:"renderColorScale",value:function(O,S){O.openNode(this.tag,{type:"colorScale",priority:S.priority}),this.colorScaleXform.render(O,S),O.closeNode()}},{key:"renderIconSet",value:function(O,S){E.isPrimitive(S)&&(O.openNode(this.tag,{type:"iconSet",priority:S.priority}),this.iconSetXform.render(O,S),O.closeNode())}},{key:"renderText",value:function(O,S){O.openNode(this.tag,{type:S.operator,dxfId:S.dxfId,priority:S.priority,operator:u.toStringAttribute(S.operator,"containsText")});var R=function(T){if(T.formulae&&T.formulae[0])return T.formulae[0];var I=new d(T.ref).tl;switch(T.operator){case"containsText":return'NOT(ISERROR(SEARCH("'.concat(T.text,'",').concat(I,")))");case"containsBlanks":return"LEN(TRIM(".concat(I,"))=0");case"notContainsBlanks":return"LEN(TRIM(".concat(I,"))>0");case"containsErrors":return"ISERROR(".concat(I,")");case"notContainsErrors":return"NOT(ISERROR(".concat(I,"))");default:return}}(S);R&&this.formulaXform.render(O,R),O.closeNode()}},{key:"renderTimePeriod",value:function(O,S){O.openNode(this.tag,{type:"timePeriod",dxfId:S.dxfId,priority:S.priority,timePeriod:S.timePeriod});var R=function(T){if(T.formulae&&T.formulae[0])return T.formulae[0];var I=new d(T.ref).tl;switch(T.timePeriod){case"thisWeek":return"AND(TODAY()-ROUNDDOWN(".concat(I,",0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(").concat(I,",0)-TODAY()<=7-WEEKDAY(TODAY()))");case"lastWeek":return"AND(TODAY()-ROUNDDOWN(".concat(I,",0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(").concat(I,",0)<(WEEKDAY(TODAY())+7))");case"nextWeek":return"AND(ROUNDDOWN(".concat(I,",0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(").concat(I,",0)-TODAY()<(15-WEEKDAY(TODAY())))");case"yesterday":return"FLOOR(".concat(I,",1)=TODAY()-1");case"today":return"FLOOR(".concat(I,",1)=TODAY()");case"tomorrow":return"FLOOR(".concat(I,",1)=TODAY()+1");case"last7Days":return"AND(TODAY()-FLOOR(".concat(I,",1)<=6,FLOOR(").concat(I,",1)<=TODAY())");case"lastMonth":return"AND(MONTH(".concat(I,")=MONTH(EDATE(TODAY(),0-1)),YEAR(").concat(I,")=YEAR(EDATE(TODAY(),0-1)))");case"thisMonth":return"AND(MONTH(".concat(I,")=MONTH(TODAY()),YEAR(").concat(I,")=YEAR(TODAY()))");case"nextMonth":return"AND(MONTH(".concat(I,")=MONTH(EDATE(TODAY(),0+1)),YEAR(").concat(I,")=YEAR(EDATE(TODAY(),0+1)))");default:return}}(S);R&&this.formulaXform.render(O,R),O.closeNode()}},{key:"createNewModel",value:function(O){var S=O.attributes;return s(s({},function(R){var T=R.type,I=R.operator;switch(T){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:T};default:return{type:T,operator:I}}}(S)),{},{dxfId:u.toIntValue(S.dxfId),priority:u.toIntValue(S.priority),timePeriod:S.timePeriod,percent:u.toBoolValue(S.percent),bottom:u.toBoolValue(S.bottom),rank:u.toIntValue(S.rank),aboveAverage:u.toBoolValue(S.aboveAverage)})}},{key:"onParserClose",value:function(O,S){switch(O){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,S.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(S.model)}}},{key:"tag",get:function(){return"cfRule"}}])&&p(D.prototype,P),k&&p(D,k),E}(c);n.exports=x},{"../../../../doc/range":10,"../../base-xform":31,"../../composite-xform":47,"./color-scale-xform":84,"./databar-xform":87,"./ext-lst-ref-xform":88,"./formula-xform":89,"./icon-set-xform":90}],83:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../base-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){y.leafNode(this.tag,{type:b.type,val:b.value})}},{key:"parseOpen",value:function(y){this.model={type:y.attributes.type,value:v.toFloatValue(y.attributes.val)}}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"cfvo"}}])&&s(c.prototype,d),g}(v);n.exports=f},{"../../base-xform":31}],84:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../composite-xform"),v=r("../../style/color-xform"),f=r("./cfvo-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={cfvo:b.cfvoXform=new f,color:b.colorXform=new v},b}return d=y,(_=[{key:"render",value:function(b,C){var w=this;b.openNode(this.tag),C.cfvo.forEach(function(x){w.cfvoXform.render(b,x)}),C.color.forEach(function(x){w.colorXform.render(b,x)}),b.closeNode()}},{key:"createNewModel",value:function(b){return{cfvo:[],color:[]}}},{key:"onParserClose",value:function(b,C){this.model[b].push(C.model)}},{key:"tag",get:function(){return"colorScale"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-xform":83}],85:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../../composite-xform"),v=r("./cf-rule-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),(y=_.call(this)).map={cfRule:new v},y}return c=g,(d=[{key:"render",value:function(y,b){var C=this;b.rules.some(v.isPrimitive)&&(y.openNode(this.tag,{sqref:b.ref}),b.rules.forEach(function(w){v.isPrimitive(w)&&(w.ref=b.ref,C.map.cfRule.render(y,w))}),y.closeNode())}},{key:"createNewModel",value:function(y){return{ref:y.attributes.sqref,rules:[]}}},{key:"onParserClose",value:function(y,b){this.model.rules.push(b.model)}},{key:"tag",get:function(){return"conditionalFormatting"}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../../composite-xform":47,"./cf-rule-xform":82}],86:[function(r,n,i){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function o(d){return function(_){if(Array.isArray(_))return s(_)}(d)||function(_){if(typeof Symbol<"u"&&Symbol.iterator in Object(_))return Array.from(_)}(d)||function(_,g){if(_){if(typeof _=="string")return s(_,g);var y=Object.prototype.toString.call(_).slice(8,-1);if(y==="Object"&&_.constructor&&(y=_.constructor.name),y==="Map"||y==="Set")return Array.from(_);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return s(_,g)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(d,_){(_==null||_>d.length)&&(_=d.length);for(var g=0,y=new Array(_);g<_;g++)y[g]=d[g];return y}function l(d,_){for(var g=0;g<_.length;g++){var y=_[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function p(d,_){return(p=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(d,_)}function h(d){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=v(d);if(_){var b=v(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return m(this,g)}}function m(d,_){return!_||a(_)!=="object"&&typeof _!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):_}function v(d){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}var f=r("../../base-xform"),u=r("./conditional-formatting-xform"),c=function(d){(function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&p(C,w)})(b,d);var _,g,y=h(b);function b(){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,b),(C=y.call(this)).cfXform=new u,C}return _=b,(g=[{key:"reset",value:function(){this.model=[]}},{key:"prepare",value:function(C,w){var x=C.reduce(function(A,D){return Math.max.apply(Math,[A].concat(o(D.rules.map(function(P){return P.priority||0}))))},1);C.forEach(function(A){A.rules.forEach(function(D){D.priority||(D.priority=x++),D.style&&(D.dxfId=w.styles.addDxfStyle(D.style))})})}},{key:"render",value:function(C,w){var x=this;w.forEach(function(A){x.cfXform.render(C,A)})}},{key:"parseOpen",value:function(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(C),!0;default:return!1}}},{key:"parseText",value:function(C){this.parser&&this.parser.parseText(C)}},{key:"parseClose",value:function(C){return!(!this.parser||!this.parser.parseClose(C)&&(this.model.push(this.parser.model),this.parser=void 0,1))}},{key:"reconcile",value:function(C,w){C.forEach(function(x){x.rules.forEach(function(A){A.dxfId!==void 0&&(A.style=w.styles.getDxfStyle(A.dxfId),delete A.dxfId)})})}},{key:"tag",get:function(){return"conditionalFormatting"}}])&&l(_.prototype,g),b}(f);n.exports=c},{"../../base-xform":31,"./conditional-formatting-xform":85}],87:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../composite-xform"),v=r("../../style/color-xform"),f=r("./cfvo-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={cfvo:b.cfvoXform=new f,color:b.colorXform=new v},b}return d=y,(_=[{key:"render",value:function(b,C){var w=this;b.openNode(this.tag),C.cfvo.forEach(function(x){w.cfvoXform.render(b,x)}),this.colorXform.render(b,C.color),b.closeNode()}},{key:"createNewModel",value:function(){return{cfvo:[]}}},{key:"onParserClose",value:function(b,C){switch(b){case"cfvo":this.model.cfvo.push(C.model);break;case"color":this.model.color=C.model}}},{key:"tag",get:function(){return"dataBar"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-xform":83}],88:[function(r,n,i){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function o(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function s(y,b){for(var C=0;C<b.length;C++){var w=b[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function l(y,b,C){return b&&s(y.prototype,b),C&&s(y,C),y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&h(y,b)}function h(y,b){return(h=Object.setPrototypeOf||function(C,w){return C.__proto__=w,C})(y,b)}function m(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var C,w=f(y);if(b){var x=f(this).constructor;C=Reflect.construct(w,arguments,x)}else C=w.apply(this,arguments);return v(this,C)}}function v(y,b){return!b||a(b)!=="object"&&typeof b!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(y):b}function f(y){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var u=r("../../base-xform"),c=r("../../composite-xform"),d=function(y){p(C,y);var b=m(C);function C(){return o(this,C),b.apply(this,arguments)}return l(C,[{key:"render",value:function(w,x){w.leafNode(this.tag,null,x)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(w){this.model+=w}},{key:"parseClose",value:function(w){return w!==this.tag}},{key:"tag",get:function(){return"x14:id"}}]),C}(u),_=function(y){p(C,y);var b=m(C);function C(){var w;return o(this,C),(w=b.call(this)).map={"x14:id":w.idXform=new d},w}return l(C,[{key:"render",value:function(w,x){w.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(w,x.x14Id),w.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(w,x){this.model.x14Id=x.model}},{key:"tag",get:function(){return"ext"}}]),C}(c),g=function(y){p(C,y);var b=m(C);function C(){var w;return o(this,C),(w=b.call(this)).map={ext:new _},w}return l(C,[{key:"render",value:function(w,x){w.openNode(this.tag),this.map.ext.render(w,x),w.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(w,x){Object.assign(this.model,x.model)}},{key:"tag",get:function(){return"extLst"}}]),C}(c);n.exports=g},{"../../base-xform":31,"../../composite-xform":47}],89:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode(this.tag,null,y)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(g){this.model+=g}},{key:"parseClose",value:function(g){return g!==this.tag}},{key:"tag",get:function(){return"formula"}}])&&s(u.prototype,c),_}(r("../../base-xform"));n.exports=v},{"../../base-xform":31}],90:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../base-xform"),v=r("../../composite-xform"),f=r("./cfvo-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={cfvo:b.cfvoXform=new f},b}return d=y,(_=[{key:"render",value:function(b,C){var w=this;b.openNode(this.tag,{iconSet:m.toStringAttribute(C.iconSet,"3TrafficLights"),reverse:m.toBoolAttribute(C.reverse,!1),showValue:m.toBoolAttribute(C.showValue,!0)}),C.cfvo.forEach(function(x){w.cfvoXform.render(b,x)}),b.closeNode()}},{key:"createNewModel",value:function(b){var C=b.attributes;return{iconSet:m.toStringValue(C.iconSet,"3TrafficLights"),reverse:m.toBoolValue(C.reverse),showValue:m.toBoolValue(C.showValue),cfvo:[]}}},{key:"onParserClose",value:function(b,C){this.model[b].push(C.model)}},{key:"tag",get:function(){return"iconSet"}}])&&o(d.prototype,_),y}(v);n.exports=u},{"../../base-xform":31,"../../composite-xform":47,"./cfvo-xform":83}],91:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"prepare",value:function(g,y){var b=y.styles.addStyleModel(g.style||{});b&&(g.styleId=b)}},{key:"render",value:function(g,y){g.openNode("col"),g.addAttribute("min",y.min),g.addAttribute("max",y.max),y.width&&g.addAttribute("width",y.width),y.styleId&&g.addAttribute("style",y.styleId),y.hidden&&g.addAttribute("hidden","1"),y.bestFit&&g.addAttribute("bestFit","1"),y.outlineLevel&&g.addAttribute("outlineLevel",y.outlineLevel),y.collapsed&&g.addAttribute("collapsed","1"),g.addAttribute("customWidth","1"),g.closeNode()}},{key:"parseOpen",value:function(g){if(g.name==="col"){var y=this.model={min:parseInt(g.attributes.min||"0",10),max:parseInt(g.attributes.max||"0",10),width:g.attributes.width===void 0?void 0:parseFloat(g.attributes.width||"0")};return g.attributes.style&&(y.styleId=parseInt(g.attributes.style,10)),g.attributes.hidden!==!0&&g.attributes.hidden!=="true"&&g.attributes.hidden!==1&&g.attributes.hidden!=="1"||(y.hidden=!0),g.attributes.bestFit&&(y.bestFit=!0),g.attributes.outlineLevel&&(y.outlineLevel=parseInt(g.attributes.outlineLevel,10)),g.attributes.collapsed&&(y.collapsed=!0),!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"reconcile",value:function(g,y){g.styleId&&(g.style=y.styles.getStyleModel(g.styleId))}},{key:"tag",get:function(){return"col"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],92:[function(r,n,i){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function o(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function s(x,A){for(var D=0;D<A.length;D++){var P=A[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}function l(x,A){return(l=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D})(x,A)}function p(x){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var D,P=m(x);if(A){var k=m(this).constructor;D=Reflect.construct(P,arguments,k)}else D=P.apply(this,arguments);return h(this,D)}}function h(x,A){return!A||a(A)!=="object"&&typeof A!="function"?function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(x):A}function m(x){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(x)}function v(x,A){var D=Object.keys(x);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(x);A&&(P=P.filter(function(k){return Object.getOwnPropertyDescriptor(x,k).enumerable})),D.push.apply(D,P)}return D}function f(x){for(var A=1;A<arguments.length;A++){var D=arguments[A]!=null?arguments[A]:{};A%2?v(Object(D),!0).forEach(function(P){u(x,P,D[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(D)):v(Object(D)).forEach(function(P){Object.defineProperty(x,P,Object.getOwnPropertyDescriptor(D,P))})}return x}function u(x,A,D){return A in x?Object.defineProperty(x,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[A]=D,x}var c=r("../../../utils/under-dash"),d=r("../../../utils/utils"),_=r("../../../utils/col-cache"),g=r("../base-xform"),y=r("../../../doc/range");function b(x,A,D,P){var k=A[D];k!==void 0?x[D]=k:P!==void 0&&(x[D]=P)}function C(x,A,D,P){var k=A[D];k!==void 0?x[D]=function(B){switch(B){case"1":case"true":return!0;default:return!1}}(k):P!==void 0&&(x[D]=P)}var w=function(x){(function(B,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(E&&E.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),E&&l(B,E)})(k,x);var A,D,P=p(k);function k(){return o(this,k),P.apply(this,arguments)}return A=k,(D=[{key:"render",value:function(B,E){var O=function(S){var R=c.map(S,function(M,N){return{address:N,dataValidation:M,marked:!1}}).sort(function(M,N){return c.strcmp(M.address,N.address)}),T=c.keyBy(R,"address"),I=function(M,N,j){for(var H=0;H<N;H++){var U=_.encodeAddress(M.row+H,j);if(!S[U]||!c.isEqual(S[M.address],S[U]))return!1}return!0};return R.map(function(M){if(!M.marked){var N=_.decodeEx(M.address);if(N.dimensions)return T[N.dimensions].marked=!0,f(f({},M.dataValidation),{},{sqref:M.address});for(var j=1,H=_.encodeAddress(N.row+j,N.col);S[H]&&c.isEqual(M.dataValidation,S[H]);)j++,H=_.encodeAddress(N.row+j,N.col);for(var U=1;I(N,j,N.col+U);)U++;for(var W=0;W<j;W++)for(var G=0;G<U;G++)H=_.encodeAddress(N.row+W,N.col+G),T[H].marked=!0;if(j>1||U>1){var K=N.row+(j-1),Q=N.col+(U-1);return f(f({},M.dataValidation),{},{sqref:"".concat(M.address,":").concat(_.encodeAddress(K,Q))})}return f(f({},M.dataValidation),{},{sqref:M.address})}return null}).filter(Boolean)}(E);O.length&&(B.openNode("dataValidations",{count:O.length}),O.forEach(function(S){B.openNode("dataValidation"),S.type!=="any"&&(B.addAttribute("type",S.type),S.operator&&S.type!=="list"&&S.operator!=="between"&&B.addAttribute("operator",S.operator),S.allowBlank&&B.addAttribute("allowBlank","1")),S.showInputMessage&&B.addAttribute("showInputMessage","1"),S.promptTitle&&B.addAttribute("promptTitle",S.promptTitle),S.prompt&&B.addAttribute("prompt",S.prompt),S.showErrorMessage&&B.addAttribute("showErrorMessage","1"),S.errorStyle&&B.addAttribute("errorStyle",S.errorStyle),S.errorTitle&&B.addAttribute("errorTitle",S.errorTitle),S.error&&B.addAttribute("error",S.error),B.addAttribute("sqref",S.sqref),(S.formulae||[]).forEach(function(R,T){B.openNode("formula".concat(T+1)),S.type==="date"?B.writeText(d.dateToExcel(new Date(R))):B.writeText(R),B.closeNode()}),B.closeNode()}),B.closeNode())}},{key:"parseOpen",value:function(B){switch(B.name){case"dataValidations":return this.model={},!0;case"dataValidation":this._address=B.attributes.sqref;var E={type:B.attributes.type||"any",formulae:[]};switch(B.attributes.type&&C(E,B.attributes,"allowBlank"),C(E,B.attributes,"showInputMessage"),C(E,B.attributes,"showErrorMessage"),E.type){case"any":case"list":case"custom":break;default:b(E,B.attributes,"operator","between")}return b(E,B.attributes,"promptTitle"),b(E,B.attributes,"prompt"),b(E,B.attributes,"errorStyle"),b(E,B.attributes,"errorTitle"),b(E,B.attributes,"error"),this._dataValidation=E,!0;case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}},{key:"parseText",value:function(B){this._formula&&this._formula.push(B)}},{key:"parseClose",value:function(B){var E=this;switch(B){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(function(S){S.includes(":")?new y(S).forEachAddress(function(R){E.model[R]=E._dataValidation}):E.model[S]=E._dataValidation}),!0;case"formula1":case"formula2":var O=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":O=parseInt(O,10);break;case"decimal":O=parseFloat(O);break;case"date":O=d.excelToDate(parseFloat(O))}return this._dataValidation.formulae.push(O),this._formula=void 0,!0;default:return!0}}},{key:"tag",get:function(){return"dataValidations"}}])&&s(A.prototype,D),k}(g);n.exports=w},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/utils":26,"../base-xform":31}],93:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){y&&g.leafNode("dimension",{ref:y})}},{key:"parseOpen",value:function(g){return g.name==="dimension"&&(this.model=g.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"dimension"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],94:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){y&&g.leafNode(this.tag,{"r:id":y.rId})}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={rId:g.attributes["r:id"]},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"drawing"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],95:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function s(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function l(g,y,b){return y&&s(g.prototype,y),b&&s(g,b),g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&h(g,y)}function h(g,y){return(h=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function m(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=f(g);if(y){var w=f(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return v(this,b)}}function v(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function f(g){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var u=r("../composite-xform"),c=r("./cf-ext/conditional-formattings-ext-xform"),d=function(g){p(b,g);var y=m(b);function b(){var C;return o(this,b),(C=y.call(this)).map={"x14:conditionalFormattings":C.conditionalFormattings=new c},C}return l(b,[{key:"hasContent",value:function(C){return this.conditionalFormattings.hasContent(C.conditionalFormattings)}},{key:"prepare",value:function(C,w){this.conditionalFormattings.prepare(C.conditionalFormattings,w)}},{key:"render",value:function(C,w){C.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(C,w.conditionalFormattings),C.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(C,w){this.model[C]=w.model}},{key:"tag",get:function(){return"ext"}}]),b}(u),_=function(g){p(b,g);var y=m(b);function b(){var C;return o(this,b),(C=y.call(this)).map={ext:C.ext=new d},C}return l(b,[{key:"prepare",value:function(C,w){this.ext.prepare(C,w)}},{key:"hasContent",value:function(C){return this.ext.hasContent(C)}},{key:"render",value:function(C,w){this.hasContent(w)&&(C.openNode("extLst"),this.ext.render(C,w),C.closeNode())}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(C,w){Object.assign(this.model,w.model)}},{key:"tag",get:function(){return"extLst"}}]),b}(u);n.exports=_},{"../composite-xform":47,"./cf-ext/conditional-formattings-ext-xform":77}],96:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){if(y){g.addRollback();var b=!1;g.openNode("headerFooter"),y.differentFirst&&(g.addAttribute("differentFirst","1"),b=!0),y.differentOddEven&&(g.addAttribute("differentOddEven","1"),b=!0),y.oddHeader&&typeof y.oddHeader=="string"&&(g.leafNode("oddHeader",null,y.oddHeader),b=!0),y.oddFooter&&typeof y.oddFooter=="string"&&(g.leafNode("oddFooter",null,y.oddFooter),b=!0),y.evenHeader&&typeof y.evenHeader=="string"&&(g.leafNode("evenHeader",null,y.evenHeader),b=!0),y.evenFooter&&typeof y.evenFooter=="string"&&(g.leafNode("evenFooter",null,y.evenFooter),b=!0),y.firstHeader&&typeof y.firstHeader=="string"&&(g.leafNode("firstHeader",null,y.firstHeader),b=!0),y.firstFooter&&typeof y.firstFooter=="string"&&(g.leafNode("firstFooter",null,y.firstFooter),b=!0),b?(g.closeNode(),g.commit()):g.rollback()}}},{key:"parseOpen",value:function(g){switch(g.name){case"headerFooter":return this.model={},g.attributes.differentFirst&&(this.model.differentFirst=parseInt(g.attributes.differentFirst,0)===1),g.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(g.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}},{key:"parseText",value:function(g){switch(this.currentNode){case"oddHeader":this.model.oddHeader=g;break;case"oddFooter":this.model.oddFooter=g;break;case"evenHeader":this.model.evenHeader=g;break;case"evenFooter":this.model.evenFooter=g;break;case"firstHeader":this.model.firstHeader=g;break;case"firstFooter":this.model.firstFooter=g}}},{key:"parseClose",value:function(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}},{key:"tag",get:function(){return"headerFooter"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],97:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("hyperlink",{ref:y.address,"r:id":y.rId,tooltip:y.tooltip})}},{key:"parseOpen",value:function(g){return g.name==="hyperlink"&&(this.model={address:g.attributes.ref,rId:g.attributes["r:id"],tooltip:g.attributes.tooltip},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"hyperlink"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],98:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("mergeCell",{ref:y})}},{key:"parseOpen",value:function(g){return g.name==="mergeCell"&&(this.model=g.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"mergeCell"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],99:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var o=r("../../../utils/under-dash"),s=r("../../../doc/range"),l=r("../../../utils/col-cache"),p=r("../../../doc/enums"),h=function(){function m(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,m),this.merges={}}var v,f;return v=m,(f=[{key:"add",value:function(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{var c="".concat(u.master,":").concat(u.address);this.merges[u.master]=new s(c)}}},{key:"reconcile",value:function(u,c){o.each(u,function(d){for(var _=l.decode(d),g=_.top;g<=_.bottom;g++)for(var y=c[g-1],b=_.left;b<=_.right;b++){var C=y.cells[b-1];C?C.type===p.ValueType.Merge&&(C.master=_.tl):y.cells[b]={type:p.ValueType.Null,address:l.encodeAddress(g,b)}}})}},{key:"getMasterAddress",value:function(u){var c=this.hash[u];return c&&c.tl}},{key:"mergeCells",get:function(){return o.map(this.merges,function(u){return u.range})}}])&&a(v.prototype,f),m}();n.exports=h},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":25}],100:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function s(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function l(c,d){return(l=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function p(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=m(c);if(d){var y=m(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return h(this,_)}}function h(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function m(c){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var v=r("../base-xform"),f=function(c){return c!==void 0},u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&l(b,C)})(y,c);var d,_,g=p(y);function y(){return o(this,y),g.apply(this,arguments)}return d=y,(_=[{key:"render",value:function(b,C){return!(!C||!f(C.summaryBelow)&&!f(C.summaryRight)||(b.leafNode(this.tag,{summaryBelow:f(C.summaryBelow)?Number(C.summaryBelow):void 0,summaryRight:f(C.summaryRight)?Number(C.summaryRight):void 0}),0))}},{key:"parseOpen",value:function(b){return b.name===this.tag&&(this.model={summaryBelow:f(b.attributes.summaryBelow)?!!Number(b.attributes.summaryBelow):void 0,summaryRight:f(b.attributes.summaryRight)?!!Number(b.attributes.summaryRight):void 0},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"outlinePr"}}])&&s(d.prototype,_),y}(v);n.exports=u},{"../base-xform":31}],101:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.leafNode("brk",y)}},{key:"parseOpen",value:function(g){return g.name==="brk"&&(this.model=g.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"brk"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],102:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../../utils/under-dash"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){if(b){var C={left:b.left,right:b.right,top:b.top,bottom:b.bottom,header:b.header,footer:b.footer};v.some(C,function(w){return w!==void 0})&&y.leafNode(this.tag,C)}}},{key:"parseOpen",value:function(y){switch(y.name){case this.tag:return this.model={left:parseFloat(y.attributes.left||.7),right:parseFloat(y.attributes.right||.7),top:parseFloat(y.attributes.top||.75),bottom:parseFloat(y.attributes.bottom||.75),header:parseFloat(y.attributes.header||.3),footer:parseFloat(y.attributes.footer||.3)},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageMargins"}}])&&s(c.prototype,d),g}(r("../base-xform"));n.exports=f},{"../../../utils/under-dash":25,"../base-xform":31}],103:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){return!(!y||!y.fitToPage||(g.leafNode(this.tag,{fitToPage:y.fitToPage?"1":void 0}),0))}},{key:"parseOpen",value:function(g){return g.name===this.tag&&(this.model={fitToPage:g.attributes.fitToPage==="1"},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageSetUpPr"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],104:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function s(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function l(g,y){return(l=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function p(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=m(g);if(y){var w=m(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return h(this,b)}}function h(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function m(g){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var v=r("../../../utils/under-dash");function f(g){return g?"1":void 0}function u(g){switch(g){case"overThenDown":return g;default:return}}function c(g){switch(g){case"atEnd":case"asDisplyed":return g;default:return}}function d(g){switch(g){case"dash":case"blank":case"NA":return g;default:return}}var _=function(g){(function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&l(x,A)})(w,g);var y,b,C=p(w);function w(){return o(this,w),C.apply(this,arguments)}return y=w,(b=[{key:"render",value:function(x,A){if(A){var D={paperSize:A.paperSize,orientation:A.orientation,horizontalDpi:A.horizontalDpi,verticalDpi:A.verticalDpi,pageOrder:u(A.pageOrder),blackAndWhite:f(A.blackAndWhite),draft:f(A.draft),cellComments:c(A.cellComments),errors:d(A.errors),scale:A.scale,fitToWidth:A.fitToWidth,fitToHeight:A.fitToHeight,firstPageNumber:A.firstPageNumber,useFirstPageNumber:f(A.firstPageNumber),usePrinterDefaults:f(A.usePrinterDefaults),copies:A.copies};v.some(D,function(P){return P!==void 0})&&x.leafNode(this.tag,D)}}},{key:"parseOpen",value:function(x){switch(x.name){case this.tag:return this.model={paperSize:(A=x.attributes.paperSize,A!==void 0?parseInt(A,10):void 0),orientation:x.attributes.orientation||"portrait",horizontalDpi:parseInt(x.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(x.attributes.verticalDpi||"4294967295",10),pageOrder:x.attributes.pageOrder||"downThenOver",blackAndWhite:x.attributes.blackAndWhite==="1",draft:x.attributes.draft==="1",cellComments:x.attributes.cellComments||"None",errors:x.attributes.errors||"displayed",scale:parseInt(x.attributes.scale||"100",10),fitToWidth:parseInt(x.attributes.fitToWidth||"1",10),fitToHeight:parseInt(x.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(x.attributes.firstPageNumber||"1",10),useFirstPageNumber:x.attributes.useFirstPageNumber==="1",usePrinterDefaults:x.attributes.usePrinterDefaults==="1",copies:parseInt(x.attributes.copies||"1",10)},!0;default:return!1}var A}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageSetup"}}])&&s(y.prototype,b),w}(r("../base-xform"));n.exports=_},{"../../../utils/under-dash":25,"../base-xform":31}],105:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){y&&g.leafNode(this.tag,{"r:id":y.rId})}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={rId:g.attributes["r:id"]},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"picture"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],106:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function s(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function l(c,d){return(l=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function p(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=m(c);if(d){var y=m(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return h(this,_)}}function h(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function m(c){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var v=r("../../../utils/under-dash");function f(c){return c?"1":void 0}var u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&l(b,C)})(y,c);var d,_,g=p(y);function y(){return o(this,y),g.apply(this,arguments)}return d=y,(_=[{key:"render",value:function(b,C){if(C){var w={headings:f(C.showRowColHeaders),gridLines:f(C.showGridLines),horizontalCentered:f(C.horizontalCentered),verticalCentered:f(C.verticalCentered)};v.some(w,function(x){return x!==void 0})&&b.leafNode(this.tag,w)}}},{key:"parseOpen",value:function(b){switch(b.name){case this.tag:return this.model={showRowColHeaders:b.attributes.headings==="1",showGridLines:b.attributes.gridLines==="1",horizontalCentered:b.attributes.horizontalCentered==="1",verticalCentered:b.attributes.verticalCentered==="1"},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"printOptions"}}])&&s(d.prototype,_),y}(r("../base-xform"));n.exports=u},{"../../../utils/under-dash":25,"../base-xform":31}],107:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function s(f,u){return(s=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function l(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=h(f);if(u){var _=h(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return p(this,c)}}function p(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function h(f){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var m=r("./page-breaks-xform"),v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&s(g,y)})(_,f);var u,c,d=l(_);function _(){(function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_);var g={tag:"rowBreaks",count:!0,childXform:new m};return d.call(this,g)}return u=_,(c=[{key:"render",value:function(g,y){if(y&&y.length){g.openNode(this.tag,this.$),this.count&&(g.addAttribute(this.$count,y.length),g.addAttribute("manualBreakCount",y.length));var b=this.childXform;y.forEach(function(C){b.render(g,C)}),g.closeNode()}else this.empty&&g.leafNode(this.tag)}}])&&o(u.prototype,c),_}(r("../list-xform"));n.exports=v},{"../list-xform":70,"./page-breaks-xform":101}],108:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../base-xform"),v=r("./cell-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(y){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g),(b=_.call(this)).maxItems=y&&y.maxItems,b.map={c:new v},b}return c=g,(d=[{key:"prepare",value:function(y,b){var C=b.styles.addStyleModel(y.style);C&&(y.styleId=C);var w=this.map.c;y.cells.forEach(function(x){w.prepare(x,b)})}},{key:"render",value:function(y,b,C){y.openNode("row"),y.addAttribute("r",b.number),b.height&&(y.addAttribute("ht",b.height),y.addAttribute("customHeight","1")),b.hidden&&y.addAttribute("hidden","1"),b.min>0&&b.max>0&&b.min<=b.max&&y.addAttribute("spans","".concat(b.min,":").concat(b.max)),b.styleId&&(y.addAttribute("s",b.styleId),y.addAttribute("customFormat","1")),y.addAttribute("x14ac:dyDescent","0.25"),b.outlineLevel&&y.addAttribute("outlineLevel",b.outlineLevel),b.collapsed&&y.addAttribute("collapsed","1");var w=this.map.c;b.cells.forEach(function(x){w.render(y,x,C)}),y.closeNode()}},{key:"parseOpen",value:function(y){if(this.parser)return this.parser.parseOpen(y),!0;if(y.name==="row"){this.numRowsSeen+=1;var b=y.attributes.spans?y.attributes.spans.split(":").map(function(w){return parseInt(w,10)}):[void 0,void 0],C=this.model={number:parseInt(y.attributes.r,10),min:b[0],max:b[1],cells:[]};return y.attributes.s&&(C.styleId=parseInt(y.attributes.s,10)),y.attributes.hidden!==!0&&y.attributes.hidden!=="true"&&y.attributes.hidden!==1&&y.attributes.hidden!=="1"||(C.hidden=!0),y.attributes.bestFit&&(C.bestFit=!0),y.attributes.ht&&(C.height=parseFloat(y.attributes.ht)),y.attributes.outlineLevel&&(C.outlineLevel=parseInt(y.attributes.outlineLevel,10)),y.attributes.collapsed&&(C.collapsed=!0),!0}return this.parser=this.map[y.name],!!this.parser&&(this.parser.parseOpen(y),!0)}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"parseClose",value:function(y){if(this.parser){if(!this.parser.parseClose(y)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error("Max column count (".concat(this.maxItems,") exceeded"));this.parser=void 0}return!0}return!1}},{key:"reconcile",value:function(y,b){y.style=y.styleId?b.styles.getStyleModel(y.styleId):{},y.styleId!==void 0&&(y.styleId=void 0);var C=this.map.c;y.cells.forEach(function(w){C.reconcile(w,b)})}},{key:"tag",get:function(){return"row"}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../base-xform":31,"./cell-xform":72}],109:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function s(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function l(u,c){return(l=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function p(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=m(u);if(c){var g=m(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return h(this,d)}}function h(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function m(u){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var v=r("../../../utils/under-dash"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&l(y,b)})(g,u);var c,d,_=p(g);function g(){return o(this,g),_.apply(this,arguments)}return c=g,(d=[{key:"render",value:function(y,b){if(b){var C={defaultRowHeight:b.defaultRowHeight,outlineLevelRow:b.outlineLevelRow,outlineLevelCol:b.outlineLevelCol,"x14ac:dyDescent":b.dyDescent};b.defaultColWidth&&(C.defaultColWidth=b.defaultColWidth),b.defaultRowHeight&&b.defaultRowHeight===15||(C.customHeight="1"),v.some(C,function(w){return w!==void 0})&&y.leafNode("sheetFormatPr",C)}}},{key:"parseOpen",value:function(y){return y.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(y.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(y.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(y.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(y.attributes.outlineLevelCol||"0",10)},y.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(y.attributes.defaultColWidth)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"sheetFormatPr"}}])&&s(c.prototype,d),g}(r("../base-xform"));n.exports=f},{"../../../utils/under-dash":25,"../base-xform":31}],110:[function(r,n,i){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function o(d,_){for(var g=0;g<_.length;g++){var y=_[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function s(d,_){return(s=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(d,_)}function l(d){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=h(d);if(_){var b=h(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return p(this,g)}}function p(d,_){return!_||a(_)!=="object"&&typeof _!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):_}function h(d){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}var m=r("../base-xform"),v=r("../style/color-xform"),f=r("./page-setup-properties-xform"),u=r("./outline-properties-xform"),c=function(d){(function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&s(C,w)})(b,d);var _,g,y=l(b);function b(){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,b),(C=y.call(this)).map={tabColor:new v("tabColor"),pageSetUpPr:new f,outlinePr:new u},C}return _=b,(g=[{key:"render",value:function(C,w){if(w){C.addRollback(),C.openNode("sheetPr");var x=!1;x=this.map.tabColor.render(C,w.tabColor)||x,x=this.map.pageSetUpPr.render(C,w.pageSetup)||x,(x=this.map.outlinePr.render(C,w.outlineProperties)||x)?(C.closeNode(),C.commit()):C.rollback()}}},{key:"parseOpen",value:function(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.reset(),!0):!!this.map[C.name]&&(this.parser=this.map[C.name],this.parser.parseOpen(C),!0)}},{key:"parseText",value:function(C){return!!this.parser&&(this.parser.parseText(C),!0)}},{key:"parseClose",value:function(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}},{key:"tag",get:function(){return"sheetPr"}}])&&o(_.prototype,g),b}(m);n.exports=c},{"../base-xform":31,"../style/color-xform":127,"./outline-properties-xform":100,"./page-setup-properties-xform":103}],111:[function(r,n,i){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function o(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function s(d,_){for(var g=0;g<_.length;g++){var y=_[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function l(d,_){return(l=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(d,_)}function p(d){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=m(d);if(_){var b=m(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return h(this,g)}}function h(d,_){return!_||a(_)!=="object"&&typeof _!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):_}function m(d){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}var v=r("../../../utils/under-dash");function f(d,_){return d?_:void 0}function u(d,_){return d===_||void 0}var c=function(d){(function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&l(C,w)})(b,d);var _,g,y=p(b);function b(){return o(this,b),y.apply(this,arguments)}return _=b,(g=[{key:"render",value:function(C,w){if(w){var x={sheet:f(w.sheet,"1"),selectLockedCells:w.selectLockedCells===!1?"1":void 0,selectUnlockedCells:w.selectUnlockedCells===!1?"1":void 0,formatCells:f(w.formatCells,"0"),formatColumns:f(w.formatColumns,"0"),formatRows:f(w.formatRows,"0"),insertColumns:f(w.insertColumns,"0"),insertRows:f(w.insertRows,"0"),insertHyperlinks:f(w.insertHyperlinks,"0"),deleteColumns:f(w.deleteColumns,"0"),deleteRows:f(w.deleteRows,"0"),sort:f(w.sort,"0"),autoFilter:f(w.autoFilter,"0"),pivotTables:f(w.pivotTables,"0")};w.sheet&&(x.algorithmName=w.algorithmName,x.hashValue=w.hashValue,x.saltValue=w.saltValue,x.spinCount=w.spinCount,x.objects=f(w.objects===!1,"1"),x.scenarios=f(w.scenarios===!1,"1")),v.some(x,function(A){return A!==void 0})&&C.leafNode(this.tag,x)}}},{key:"parseOpen",value:function(C){switch(C.name){case this.tag:return this.model={sheet:u(C.attributes.sheet,"1"),objects:C.attributes.objects!=="1"&&void 0,scenarios:C.attributes.scenarios!=="1"&&void 0,selectLockedCells:C.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:C.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(C.attributes.formatCells,"0"),formatColumns:u(C.attributes.formatColumns,"0"),formatRows:u(C.attributes.formatRows,"0"),insertColumns:u(C.attributes.insertColumns,"0"),insertRows:u(C.attributes.insertRows,"0"),insertHyperlinks:u(C.attributes.insertHyperlinks,"0"),deleteColumns:u(C.attributes.deleteColumns,"0"),deleteRows:u(C.attributes.deleteRows,"0"),sort:u(C.attributes.sort,"0"),autoFilter:u(C.attributes.autoFilter,"0"),pivotTables:u(C.attributes.pivotTables,"0")},C.attributes.algorithmName&&(this.model.algorithmName=C.attributes.algorithmName,this.model.hashValue=C.attributes.hashValue,this.model.saltValue=C.attributes.saltValue,this.model.spinCount=parseInt(C.attributes.spinCount,10)),!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"sheetProtection"}}])&&s(_.prototype,g),b}(r("../base-xform"));n.exports=c},{"../../../utils/under-dash":25,"../base-xform":31}],112:[function(r,n,i){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function o(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function s(d,_){for(var g=0;g<_.length;g++){var y=_[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function l(d,_){return(l=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(d,_)}function p(d){var _=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=m(d);if(_){var b=m(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return h(this,g)}}function h(d,_){return!_||a(_)!=="object"&&typeof _!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):_}function m(d){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}var v=r("../../../utils/col-cache"),f=r("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"},c=function(d){(function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&l(C,w)})(b,d);var _,g,y=p(b);function b(){return o(this,b),y.apply(this,arguments)}return _=b,(g=[{key:"prepare",value:function(C){switch(C.state){case"frozen":case"split":break;default:C.state="normal"}}},{key:"render",value:function(C,w){C.openNode("sheetView",{workbookViewId:w.workbookViewId||0});var x,A,D,P,k=function(B,E,O){O&&C.addAttribute(B,E)};switch(k("rightToLeft","1",w.rightToLeft===!0),k("tabSelected","1",w.tabSelected),k("showRuler","0",w.showRuler===!1),k("showRowColHeaders","0",w.showRowColHeaders===!1),k("showGridLines","0",w.showGridLines===!1),k("zoomScale",w.zoomScale,w.zoomScale),k("zoomScaleNormal",w.zoomScaleNormal,w.zoomScaleNormal),k("view",w.style,w.style),w.state){case"frozen":A=w.xSplit||0,D=w.ySplit||0,x=w.topLeftCell||v.getAddress(D+1,A+1).address,P=(w.xSplit&&w.ySplit?"bottomRight":w.xSplit&&"topRight")||"bottomLeft",C.leafNode("pane",{xSplit:w.xSplit||void 0,ySplit:w.ySplit||void 0,topLeftCell:x,activePane:P,state:"frozen"}),C.leafNode("selection",{pane:P,activeCell:w.activeCell,sqref:w.activeCell});break;case"split":w.activePane==="topLeft"&&(w.activePane=void 0),C.leafNode("pane",{xSplit:w.xSplit||void 0,ySplit:w.ySplit||void 0,topLeftCell:w.topLeftCell,activePane:w.activePane}),C.leafNode("selection",{pane:w.activePane,activeCell:w.activeCell,sqref:w.activeCell});break;case"normal":w.activeCell&&C.leafNode("selection",{activeCell:w.activeCell,sqref:w.activeCell})}C.closeNode()}},{key:"parseOpen",value:function(C){switch(C.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(C.attributes.workbookViewId,10),rightToLeft:C.attributes.rightToLeft==="1",tabSelected:C.attributes.tabSelected==="1",showRuler:C.attributes.showRuler!=="0",showRowColHeaders:C.attributes.showRowColHeaders!=="0",showGridLines:C.attributes.showGridLines!=="0",zoomScale:parseInt(C.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(C.attributes.zoomScaleNormal||"100",10),style:C.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(C.attributes.xSplit||"0",10),ySplit:parseInt(C.attributes.ySplit||"0",10),topLeftCell:C.attributes.topLeftCell,activePane:C.attributes.activePane||"topLeft",state:C.attributes.state},!0;case"selection":var w=C.attributes.pane||"topLeft";return this.selections[w]={pane:w,activeCell:C.attributes.activeCell},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(C){var w,x;switch(C){case"sheetView":return this.sheetView&&this.pane?(w=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(w.activePane=this.pane.activePane),(x=this.selections[this.pane.activePane])&&x.activeCell&&(w.activeCell=x.activeCell),this.sheetView.style&&(w.style=this.sheetView.style)):(w=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},(x=this.selections.topLeft)&&x.activeCell&&(w.activeCell=x.activeCell),this.sheetView.style&&(w.style=this.sheetView.style)),!1;default:return!0}}},{key:"reconcile",value:function(){}},{key:"tag",get:function(){return"sheetView"}}])&&s(_.prototype,g),b}(f);n.exports=c},{"../../../utils/col-cache":19,"../base-xform":31}],113:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){y&&g.leafNode(this.tag,{"r:id":y.rId})}},{key:"parseOpen",value:function(g){switch(g.name){case this.tag:return this.model={rId:g.attributes["r:id"]},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tablePart"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],114:[function(r,n,i){function a(G){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(G)}function o(G,K){for(var Q=0;Q<K.length;Q++){var $=K[Q];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(G,$.key,$)}}function s(G,K){return(s=Object.setPrototypeOf||function(Q,$){return Q.__proto__=$,Q})(G,K)}function l(G){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Q,$=h(G);if(K){var L=h(this).constructor;Q=Reflect.construct($,arguments,L)}else Q=$.apply(this,arguments);return p(this,Q)}}function p(G,K){return!K||a(K)!=="object"&&typeof K!="function"?function(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(G):K}function h(G){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(G)}var m=r("../../../utils/under-dash"),v=r("../../../utils/col-cache"),f=r("../../../utils/xml-stream"),u=r("../../rel-type"),c=r("./merges"),d=r("../base-xform"),_=r("../list-xform"),g=r("./row-xform"),y=r("./col-xform"),b=r("./dimension-xform"),C=r("./hyperlink-xform"),w=r("./merge-cell-xform"),x=r("./data-validations-xform"),A=r("./sheet-properties-xform"),D=r("./sheet-format-properties-xform"),P=r("./sheet-view-xform"),k=r("./sheet-protection-xform"),B=r("./page-margins-xform"),E=r("./page-setup-xform"),O=r("./print-options-xform"),S=r("./auto-filter-xform"),R=r("./picture-xform"),T=r("./drawing-xform"),I=r("./table-part-xform"),M=r("./row-breaks-xform"),N=r("./header-footer-xform"),j=r("./cf/conditional-formattings-xform"),H=r("./ext-lst-xform"),U=function(G,K){if(!K||!K.length)return G;if(!G||!G.length)return K;var Q={},$={};return G.forEach(function(L){Q[L.ref]=L,L.rules.forEach(function(F){var z=F.x14Id;z&&($[z]=F)})}),K.forEach(function(L){L.rules.forEach(function(F){var z=$[F.x14Id];z?function(Z,J){Object.keys(J).forEach(function(ee){var pe=Z[ee],le=J[ee];pe===void 0&&le!==void 0&&(Z[ee]=le)})}(z,F):Q[L.ref]?Q[L.ref].rules.push(F):G.push({ref:L.ref,rules:[F]})})}),G},W=function(G){(function(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(z&&z.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),z&&s(F,z)})(L,G);var K,Q,$=l(L);function L(F){var z;(function(pe,le){if(!(pe instanceof le))throw new TypeError("Cannot call a class as a function")})(this,L),z=$.call(this);var Z=F||{},J=Z.maxRows,ee=Z.maxCols;return z.map={sheetPr:new A,dimension:new b,sheetViews:new _({tag:"sheetViews",count:!1,childXform:new P}),sheetFormatPr:new D,cols:new _({tag:"cols",count:!1,childXform:new y}),sheetData:new _({tag:"sheetData",count:!1,empty:!0,childXform:new g({maxItems:ee}),maxItems:J}),autoFilter:new S,mergeCells:new _({tag:"mergeCells",count:!0,childXform:new w}),rowBreaks:new M,hyperlinks:new _({tag:"hyperlinks",count:!1,childXform:new C}),pageMargins:new B,dataValidations:new x,pageSetup:new E,headerFooter:new N,printOptions:new O,picture:new R,drawing:new T,sheetProtection:new k,tableParts:new _({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new j,extLst:new H},z}return K=L,(Q=[{key:"prepare",value:function(F,z){var Z=this;z.merges=new c,F.hyperlinks=z.hyperlinks=[],F.comments=z.comments=[],z.formulae={},z.siFormulae=0,this.map.cols.prepare(F.cols,z),this.map.sheetData.prepare(F.rows,z),this.map.conditionalFormatting.prepare(F.conditionalFormattings,z),F.mergeCells=z.merges.mergeCells;var J=F.rels=[];function ee(be){return"rId".concat(be.length+1)}if(F.hyperlinks.forEach(function(be){var Je=ee(J);be.rId=Je,J.push({Id:Je,Type:u.Hyperlink,Target:be.target,TargetMode:"External"})}),F.comments.length>0){var pe={Id:ee(J),Type:u.Comments,Target:"../comments".concat(F.id,".xml")};J.push(pe);var le={Id:ee(J),Type:u.VmlDrawing,Target:"../drawings/vmlDrawing".concat(F.id,".vml")};J.push(le),F.comments.forEach(function(be){be.refAddress=v.decodeAddress(be.ref)}),z.commentRefs.push({commentName:"comments".concat(F.id),vmlDrawing:"vmlDrawing".concat(F.id)})}var ye,ke=[];F.media.forEach(function(be){if(be.type==="background"){var Je=ee(J);ye=z.media[be.imageId],J.push({Id:Je,Type:u.Image,Target:"../media/".concat(ye.name,".").concat(ye.extension)}),F.background={rId:Je},F.image=z.media[be.imageId]}else if(be.type==="image"){var je=F.drawing;ye=z.media[be.imageId],je||(je=F.drawing={rId:ee(J),name:"drawing".concat(++z.drawingsCount),anchors:[],rels:[]},z.drawings.push(je),J.push({Id:je.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/".concat(je.name,".xml")}));var Be=Z.preImageId===be.imageId?ke[be.imageId]:ke[je.rels.length];Be||(Be=ee(je.rels),ke[je.rels.length]=Be,je.rels.push({Id:Be,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/".concat(ye.name,".").concat(ye.extension)}));var $e={picture:{rId:Be},range:be.range};if(be.hyperlinks&&be.hyperlinks.hyperlink){var nt=ee(je.rels);ke[je.rels.length]=nt,$e.picture.hyperlinks={tooltip:be.hyperlinks.tooltip,rId:nt},je.rels.push({Id:nt,Type:u.Hyperlink,Target:be.hyperlinks.hyperlink,TargetMode:"External"})}Z.preImageId=be.imageId,je.anchors.push($e)}}),F.tables.forEach(function(be){var Je=ee(J);be.rId=Je,J.push({Id:Je,Type:u.Table,Target:"../tables/".concat(be.target)}),be.columns.forEach(function(je){var Be=je.style;Be&&(je.dxfId=z.styles.addDxfStyle(Be))})}),this.map.extLst.prepare(F,z)}},{key:"render",value:function(F,z){F.openXml(f.StdDocAttributes),F.openNode("worksheet",L.WORKSHEET_ATTRIBUTES);var Z=z.properties?{defaultRowHeight:z.properties.defaultRowHeight,dyDescent:z.properties.dyDescent,outlineLevelCol:z.properties.outlineLevelCol,outlineLevelRow:z.properties.outlineLevelRow}:void 0;z.properties&&z.properties.defaultColWidth&&(Z.defaultColWidth=z.properties.defaultColWidth);var J={outlineProperties:z.properties&&z.properties.outlineProperties,tabColor:z.properties&&z.properties.tabColor,pageSetup:z.pageSetup&&z.pageSetup.fitToPage?{fitToPage:z.pageSetup.fitToPage}:void 0},ee=z.pageSetup&&z.pageSetup.margins,pe={showRowColHeaders:z.pageSetup&&z.pageSetup.showRowColHeaders,showGridLines:z.pageSetup&&z.pageSetup.showGridLines,horizontalCentered:z.pageSetup&&z.pageSetup.horizontalCentered,verticalCentered:z.pageSetup&&z.pageSetup.verticalCentered},le=z.sheetProtection;this.map.sheetPr.render(F,J),this.map.dimension.render(F,z.dimensions),this.map.sheetViews.render(F,z.views),this.map.sheetFormatPr.render(F,Z),this.map.cols.render(F,z.cols),this.map.sheetData.render(F,z.rows),this.map.sheetProtection.render(F,le),this.map.autoFilter.render(F,z.autoFilter),this.map.mergeCells.render(F,z.mergeCells),this.map.conditionalFormatting.render(F,z.conditionalFormattings),this.map.dataValidations.render(F,z.dataValidations),this.map.hyperlinks.render(F,z.hyperlinks),this.map.printOptions.render(F,pe),this.map.pageMargins.render(F,ee),this.map.pageSetup.render(F,z.pageSetup),this.map.headerFooter.render(F,z.headerFooter),this.map.rowBreaks.render(F,z.rowBreaks),this.map.drawing.render(F,z.drawing),this.map.picture.render(F,z.background),this.map.tableParts.render(F,z.tables),this.map.extLst.render(F,z),z.rels&&z.rels.forEach(function(ye){ye.Type===u.VmlDrawing&&F.leafNode("legacyDrawing",{"r:id":ye.Id})}),F.closeNode()}},{key:"parseOpen",value:function(F){return this.parser?(this.parser.parseOpen(F),!0):F.name==="worksheet"?(m.each(this.map,function(z){z.reset()}),!0):(this.parser=this.map[F.name],this.parser&&this.parser.parseOpen(F),!0)}},{key:"parseText",value:function(F){this.parser&&this.parser.parseText(F)}},{key:"parseClose",value:function(F){if(this.parser)return this.parser.parseClose(F)||(this.parser=void 0),!0;switch(F){case"worksheet":var z=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(z.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(z.outlineProperties=this.map.sheetPr.model.outlineProperties);var Z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},J=Object.assign(Z,this.map.pageSetup.model,this.map.printOptions.model),ee=U(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:z,views:this.map.sheetViews.model,pageSetup:J,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:ee},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1;default:return!0}}},{key:"reconcile",value:function(F,z){var Z=(F.relationships||[]).reduce(function(ke,be){if(ke[be.Id]=be,be.Type===u.Comments&&(F.comments=z.comments[be.Target].comments),be.Type===u.VmlDrawing&&F.comments&&F.comments.length){var Je=z.vmlDrawings[be.Target].comments;F.comments.forEach(function(je,Be){je.note=Object.assign({},je.note,Je[Be])})}return ke},{});if(z.commentsMap=(F.comments||[]).reduce(function(ke,be){return be.ref&&(ke[be.ref]=be),ke},{}),z.hyperlinkMap=(F.hyperlinks||[]).reduce(function(ke,be){return be.rId&&(ke[be.address]=Z[be.rId].Target),ke},{}),z.formulae={},F.rows=F.rows&&F.rows.filter(Boolean)||[],F.rows.forEach(function(ke){ke.cells=ke.cells&&ke.cells.filter(Boolean)||[]}),this.map.cols.reconcile(F.cols,z),this.map.sheetData.reconcile(F.rows,z),this.map.conditionalFormatting.reconcile(F.conditionalFormattings,z),F.media=[],F.drawing){var J=Z[F.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(J){var ee=J[1];z.drawings[ee].anchors.forEach(function(ke){if(ke.medium){var be={type:"image",imageId:ke.medium.index,range:ke.range,hyperlinks:ke.picture.hyperlinks};F.media.push(be)}})}}var pe=F.background&&Z[F.background.rId];if(pe){var le=pe.Target.split("/media/")[1],ye=z.mediaIndex&&z.mediaIndex[le];ye!==void 0&&F.media.push({type:"background",imageId:ye})}F.tables=(F.tables||[]).map(function(ke){var be=Z[ke.rId];return z.tables[be.Target]}),delete F.relationships,delete F.hyperlinks,delete F.comments}}])&&o(K.prototype,Q),L}(d);W.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=W},{"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/xml-stream":27,"../../rel-type":30,"../base-xform":31,"../list-xform":70,"./auto-filter-xform":71,"./cf/conditional-formattings-xform":86,"./col-xform":91,"./data-validations-xform":92,"./dimension-xform":93,"./drawing-xform":94,"./ext-lst-xform":95,"./header-footer-xform":96,"./hyperlink-xform":97,"./merge-cell-xform":98,"./merges":99,"./page-margins-xform":102,"./page-setup-xform":104,"./picture-xform":105,"./print-options-xform":106,"./row-breaks-xform":107,"./row-xform":108,"./sheet-format-properties-xform":109,"./sheet-properties-xform":110,"./sheet-protection-xform":111,"./sheet-view-xform":112,"./table-part-xform":113}],115:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).tag=_.tag,g.attr=_.attr,g}return f=d,(u=[{key:"render",value:function(_,g){g&&(_.openNode(this.tag),_.closeNode())}},{key:"parseOpen",value:function(_){_.name===this.tag&&(this.model=!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&o(f.prototype,u),d}(r("../base-xform"));n.exports=m},{"../base-xform":31}],116:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).tag=_.tag,g.attr=_.attr,g.attrs=_.attrs,g._format=_.format||function(y){try{return Number.isNaN(y.getTime())?"":y.toISOString()}catch{return""}},g._parse=_.parse||function(y){return new Date(y)},g}return f=d,(u=[{key:"render",value:function(_,g){g&&(_.openNode(this.tag),this.attrs&&_.addAttributes(this.attrs),this.attr?_.addAttribute(this.attr,this._format(g)):_.writeText(this._format(g)),_.closeNode())}},{key:"parseOpen",value:function(_){_.name===this.tag&&(this.attr?this.model=this._parse(_.attributes[this.attr]):this.text=[])}},{key:"parseText",value:function(_){this.attr||this.text.push(_)}},{key:"parseClose",value:function(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}])&&o(f.prototype,u),d}(r("../base-xform"));n.exports=m},{"../base-xform":31}],117:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).tag=_.tag,g.attr=_.attr,g.attrs=_.attrs,g.zero=_.zero,g}return f=d,(u=[{key:"render",value:function(_,g){(g||this.zero)&&(_.openNode(this.tag),this.attrs&&_.addAttributes(this.attrs),this.attr?_.addAttribute(this.attr,g):_.writeText(g),_.closeNode())}},{key:"parseOpen",value:function(_){return _.name===this.tag&&(this.attr?this.model=parseInt(_.attributes[this.attr],10):this.text=[],!0)}},{key:"parseText",value:function(_){this.attr||this.text.push(_)}},{key:"parseClose",value:function(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}])&&o(f.prototype,u),d}(r("../base-xform"));n.exports=m},{"../base-xform":31}],118:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).tag=_.tag,g.attr=_.attr,g.attrs=_.attrs,g}return f=d,(u=[{key:"render",value:function(_,g){g!==void 0&&(_.openNode(this.tag),this.attrs&&_.addAttributes(this.attrs),this.attr?_.addAttribute(this.attr,g):_.writeText(g),_.closeNode())}},{key:"parseOpen",value:function(_){_.name===this.tag&&(this.attr?this.model=_.attributes[this.attr]:this.text=[])}},{key:"parseText",value:function(_){this.attr||this.text.push(_)}},{key:"parseClose",value:function(){return this.attr||(this.model=this.text.join("")),!1}}])&&o(f.prototype,u),d}(r("../base-xform"));n.exports=m},{"../base-xform":31}],119:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("./base-xform"),v=r("../../utils/xml-stream"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(y){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g),(b=_.call(this))._model=y,b}return c=g,(d=[{key:"render",value:function(y){if(!this._xml){var b=new v;(function C(w,x){w.openNode(x.tag,x.$),x.c&&x.c.forEach(function(A){C(w,A)}),x.t&&w.writeText(x.t),w.closeNode()})(b,this._model),this._xml=b.xml}y.writeXml(this._xml)}},{key:"parseOpen",value:function(){return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){switch(y){case this._model.tag:return!1;default:return!0}}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../../utils/xml-stream":27,"./base-xform":31}],120:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("./text-xform"),v=r("./rich-text-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),(y=_.call(this)).map={r:new v,t:new m},y}return c=g,(d=[{key:"render",value:function(y,b){if(y.openNode(this.tag,{sb:b.sb||0,eb:b.eb||0}),b&&b.hasOwnProperty("richText")&&b.richText){var C=this.map.r;b.richText.forEach(function(w){C.render(y,w)})}else b&&this.map.t.render(y,b.text);y.closeNode()}},{key:"parseOpen",value:function(y){var b=y.name;return this.parser?(this.parser.parseOpen(y),!0):b===this.tag?(this.model={sb:parseInt(y.attributes.sb,10),eb:parseInt(y.attributes.eb,10)},!0):(this.parser=this.map[b],!!this.parser&&(this.parser.parseOpen(y),!0))}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"parseClose",value:function(y){if(this.parser){if(!this.parser.parseClose(y)){switch(y){case"r":var b=this.model.richText;b||(b=this.model.richText=[]),b.push(this.parser.model);break;case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(y){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"rPh"}}])&&o(c.prototype,d),g}(r("../base-xform"));n.exports=f},{"../base-xform":31,"./rich-text-xform":121,"./text-xform":124}],121:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("./text-xform"),v=r("../style/font-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(y){var b;return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g),(b=_.call(this)).model=y,b}return c=g,(d=[{key:"render",value:function(y,b){b=b||this.model,y.openNode("r"),b.font&&this.fontXform.render(y,b.font),this.textXform.render(y,b.text),y.closeNode()}},{key:"parseOpen",value:function(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(y),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(y),!0;default:return!1}}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"parseClose",value:function(y){switch(y){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(y),!0}}},{key:"tag",get:function(){return"r"}},{key:"textXform",get:function(){return this._textXform||(this._textXform=new m)}},{key:"fontXform",get:function(){return this._fontXform||(this._fontXform=new v(g.FONT_OPTIONS))}}])&&o(c.prototype,d),g}(r("../base-xform"));f.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=f},{"../base-xform":31,"../style/font-xform":130,"./text-xform":124}],122:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("./text-xform"),v=r("./rich-text-xform"),f=r("./phonetic-text-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(b){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,y),(C=g.call(this)).model=b,C.map={r:new v,t:new m,rPh:new f},C}return d=y,(_=[{key:"render",value:function(b,C){var w=this;b.openNode(this.tag),C&&C.hasOwnProperty("richText")&&C.richText?C.richText.length?C.richText.forEach(function(x){w.map.r.render(b,x)}):this.map.t.render(b,""):C!=null&&this.map.t.render(b,C),b.closeNode()}},{key:"parseOpen",value:function(b){var C=b.name;return this.parser?(this.parser.parseOpen(b),!0):C===this.tag?(this.model={},!0):(this.parser=this.map[C],!!this.parser&&(this.parser.parseOpen(b),!0))}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser){if(!this.parser.parseClose(b)){switch(b){case"r":var C=this.model.richText;C||(C=this.model.richText=[]),C.push(this.parser.model);break;case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(b){case this.tag:return!1;default:return!0}}},{key:"tag",get:function(){return"si"}}])&&o(d.prototype,_),y}(r("../base-xform"));n.exports=u},{"../base-xform":31,"./phonetic-text-xform":120,"./rich-text-xform":121,"./text-xform":124}],123:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../../../utils/xml-stream"),v=r("../base-xform"),f=r("./shared-string-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(b){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,y),(C=g.call(this)).model=b||{values:[],count:0},C.hash=Object.create(null),C.rich=Object.create(null),C}return d=y,(_=[{key:"getString",value:function(b){return this.model.values[b]}},{key:"add",value:function(b){return b.richText?this.addRichText(b):this.addText(b)}},{key:"addText",value:function(b){var C=this.hash[b];return C===void 0&&(C=this.hash[b]=this.model.values.length,this.model.values.push(b)),this.model.count++,C}},{key:"addRichText",value:function(b){var C=this.sharedStringXform.toXml(b),w=this.rich[C];return w===void 0&&(w=this.rich[C]=this.model.values.length,this.model.values.push(b)),this.model.count++,w}},{key:"render",value:function(b,C){C=C||this._values,b.openXml(m.StdDocAttributes),b.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:C.count,uniqueCount:C.values.length});var w=this.sharedStringXform;C.values.forEach(function(x){w.render(b,x)}),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(b),!0;default:throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(b)))}}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(b){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: ".concat(b))}}},{key:"sharedStringXform",get:function(){return this._sharedStringXform||(this._sharedStringXform=new f)}},{key:"values",get:function(){return this.model.values}},{key:"uniqueCount",get:function(){return this.model.values.length}},{key:"count",get:function(){return this.model.count}}])&&o(d.prototype,_),y}(v);n.exports=u},{"../../../utils/xml-stream":27,"../base-xform":31,"./shared-string-xform":122}],124:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){g.openNode("t"),/^\s|\n|\s$/.test(y)&&g.addAttribute("xml:space","preserve"),g.writeText(y),g.closeNode()}},{key:"parseOpen",value:function(g){switch(g.name){case"t":return this._text=[],!0;default:return!1}}},{key:"parseText",value:function(g){this._text.push(g)}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"t"}},{key:"model",get:function(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,function(g,y){return String.fromCharCode(parseInt(y,16))})}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],125:[function(r,n,i){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function o(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function s(y,b){for(var C=0;C<b.length;C++){var w=b[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function l(y,b){return(l=Object.setPrototypeOf||function(C,w){return C.__proto__=w,C})(y,b)}function p(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var C,w=m(y);if(b){var x=m(this).constructor;C=Reflect.construct(w,arguments,x)}else C=w.apply(this,arguments);return h(this,C)}}function h(y,b){return!b||a(b)!=="object"&&typeof b!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(y):b}function m(y){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var v=r("../../../doc/enums"),f=r("../../../utils/utils"),u=r("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce(function(y,b){return y[b]=!0,y},{}),horizontal:function(y){return this.horizontalValues[y]?y:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce(function(y,b){return y[b]=!0,y},{}),vertical:function(y){return y==="middle"?"center":this.verticalValues[y]?y:void 0},wrapText:function(y){return!!y||void 0},shrinkToFit:function(y){return!!y||void 0},textRotation:function(y){switch(y){case"vertical":return y;default:return(y=f.validInt(y))>=-90&&y<=90?y:void 0}},indent:function(y){return y=f.validInt(y),Math.max(0,y)},readingOrder:function(y){switch(y){case"ltr":return v.ReadingOrder.LeftToRight;case"rtl":return v.ReadingOrder.RightToLeft;default:return}}},d=function(y){if(y=c.textRotation(y)){if(y==="vertical")return 255;var b=Math.round(y);if(b>=0&&b<=90)return b;if(b<0&&b>=-90)return 90-b}},_=function(y){var b=f.validInt(y);if(b!==void 0){if(b===255)return"vertical";if(b>=0&&b<=90)return b;if(b>90&&b<=180)return 90-b}},g=function(y){(function(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),D&&l(A,D)})(x,y);var b,C,w=p(x);function x(){return o(this,x),w.apply(this,arguments)}return b=x,(C=[{key:"render",value:function(A,D){A.addRollback(),A.openNode("alignment");var P=!1;function k(B,E){E&&(A.addAttribute(B,E),P=!0)}k("horizontal",c.horizontal(D.horizontal)),k("vertical",c.vertical(D.vertical)),k("wrapText",!!c.wrapText(D.wrapText)&&"1"),k("shrinkToFit",!!c.shrinkToFit(D.shrinkToFit)&&"1"),k("indent",c.indent(D.indent)),k("textRotation",d(D.textRotation)),k("readingOrder",c.readingOrder(D.readingOrder)),A.closeNode(),P?A.commit():A.rollback()}},{key:"parseOpen",value:function(A){var D={},P=!1;function k(B,E,O){B&&(D[E]=O,P=!0)}k(A.attributes.horizontal,"horizontal",A.attributes.horizontal),k(A.attributes.vertical,"vertical",A.attributes.vertical==="center"?"middle":A.attributes.vertical),k(A.attributes.wrapText,"wrapText",!!A.attributes.wrapText),k(A.attributes.shrinkToFit,"shrinkToFit",!!A.attributes.shrinkToFit),k(A.attributes.indent,"indent",parseInt(A.attributes.indent,10)),k(A.attributes.textRotation,"textRotation",_(A.attributes.textRotation)),k(A.attributes.readingOrder,"readingOrder",A.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=P?D:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"alignment"}}])&&s(b.prototype,C),x}(u);n.exports=g},{"../../../doc/enums":7,"../../../utils/utils":26,"../base-xform":31}],126:[function(r,n,i){function a(C,w){var x=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);w&&(A=A.filter(function(D){return Object.getOwnPropertyDescriptor(C,D).enumerable})),x.push.apply(x,A)}return x}function o(C){for(var w=1;w<arguments.length;w++){var x=arguments[w]!=null?arguments[w]:{};w%2?a(Object(x),!0).forEach(function(A){s(C,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(x)):a(Object(x)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(x,A))})}return C}function s(C,w,x){return w in C?Object.defineProperty(C,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[w]=x,C}function l(C){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}function p(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function h(C,w){for(var x=0;x<w.length;x++){var A=w[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function m(C,w,x){return w&&h(C.prototype,w),x&&h(C,x),C}function v(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),w&&f(C,w)}function f(C,w){return(f=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x})(C,w)}function u(C){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var x,A=d(C);if(w){var D=d(this).constructor;x=Reflect.construct(A,arguments,D)}else x=A.apply(this,arguments);return c(this,x)}}function c(C,w){return!w||l(w)!=="object"&&typeof w!="function"?function(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(C):w}function d(C){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(C)}var _=r("../base-xform"),g=r("./color-xform"),y=function(C){v(x,C);var w=u(x);function x(A){var D;return p(this,x),(D=w.call(this)).name=A,D.map={color:new g},D}return m(x,[{key:"render",value:function(A,D,P){var k=D&&D.color||P||this.defaultColor;A.openNode(this.name),D&&D.style&&(A.addAttribute("style",D.style),k&&this.map.color.render(A,k)),A.closeNode()}},{key:"parseOpen",value:function(A){if(this.parser)return this.parser.parseOpen(A),!0;switch(A.name){case this.name:var D=A.attributes.style;return this.model=D?{style:D}:void 0,!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(A),!0;default:return!1}}},{key:"parseText",value:function(A){this.parser&&this.parser.parseText(A)}},{key:"parseClose",value:function(A){return this.parser?(this.parser.parseClose(A)||(this.parser=void 0),!0):(A===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}},{key:"validStyle",value:function(A){return x.validStyleValues[A]}},{key:"tag",get:function(){return this.name}}]),x}(_);y.validStyleValues=["thin","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce(function(C,w){return C[w]=!0,C},{});var b=function(C){v(x,C);var w=u(x);function x(){var A;return p(this,x),(A=w.call(this)).map={top:new y("top"),left:new y("left"),bottom:new y("bottom"),right:new y("right"),diagonal:new y("diagonal")},A}return m(x,[{key:"render",value:function(A,D){var P=D.color;function k(B,E){B&&!B.color&&D.color&&(B=o(o({},B),{},{color:D.color})),E.render(A,B,P)}A.openNode("border"),D.diagonal&&D.diagonal.style&&(D.diagonal.up&&A.addAttribute("diagonalUp","1"),D.diagonal.down&&A.addAttribute("diagonalDown","1")),k(D.left,this.map.left),k(D.right,this.map.right),k(D.top,this.map.top),k(D.bottom,this.map.bottom),k(D.diagonal,this.map.diagonal),A.closeNode()}},{key:"parseOpen",value:function(A){if(this.parser)return this.parser.parseOpen(A),!0;switch(A.name){case"border":return this.reset(),this.diagonalUp=!!A.attributes.diagonalUp,this.diagonalDown=!!A.attributes.diagonalDown,!0;default:return this.parser=this.map[A.name],!!this.parser&&(this.parser.parseOpen(A),!0)}}},{key:"parseText",value:function(A){this.parser&&this.parser.parseText(A)}},{key:"parseClose",value:function(A){if(this.parser)return this.parser.parseClose(A)||(this.parser=void 0),!0;if(A==="border"){var D=this.model={},P=function(k,B,E){B&&(E&&Object.assign(B,E),D[k]=B)};P("left",this.map.left.model),P("right",this.map.right.model),P("top",this.map.top.model),P("bottom",this.map.bottom.model),P("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}]),x}(_);n.exports=b},{"../base-xform":31,"./color-xform":127}],127:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).name=_||"color",g}return f=d,(u=[{key:"render",value:function(_,g){return!!g&&(_.openNode(this.name),g.argb?_.addAttribute("rgb",g.argb):g.theme!==void 0?(_.addAttribute("theme",g.theme),g.tint!==void 0&&_.addAttribute("tint",g.tint)):g.indexed!==void 0?_.addAttribute("indexed",g.indexed):_.addAttribute("auto","1"),_.closeNode(),!0)}},{key:"parseOpen",value:function(_){return _.name===this.name&&(_.attributes.rgb?this.model={argb:_.attributes.rgb}:_.attributes.theme?(this.model={theme:parseInt(_.attributes.theme,10)},_.attributes.tint&&(this.model.tint=parseFloat(_.attributes.tint))):_.attributes.indexed?this.model={indexed:parseInt(_.attributes.indexed,10)}:this.model=void 0,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this.name}}])&&o(f.prototype,u),d}(r("../base-xform"));n.exports=m},{"../base-xform":31}],128:[function(r,n,i){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function o(y,b){for(var C=0;C<b.length;C++){var w=b[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function s(y,b){return(s=Object.setPrototypeOf||function(C,w){return C.__proto__=w,C})(y,b)}function l(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var C,w=h(y);if(b){var x=h(this).constructor;C=Reflect.construct(w,arguments,x)}else C=w.apply(this,arguments);return p(this,C)}}function p(y,b){return!b||a(b)!=="object"&&typeof b!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(y):b}function h(y){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var m=r("../base-xform"),v=r("./alignment-xform"),f=r("./border-xform"),u=r("./fill-xform"),c=r("./font-xform"),d=r("./numfmt-xform"),_=r("./protection-xform"),g=function(y){(function(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),D&&s(A,D)})(x,y);var b,C,w=l(x);function x(){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(A=w.call(this)).map={alignment:new v,border:new f,fill:new u,font:new c,numFmt:new d,protection:new _},A}return b=x,(C=[{key:"render",value:function(A,D){A.openNode(this.tag),D.font&&this.map.font.render(A,D.font),D.numFmt&&this.map.numFmt.render(A,D.numFmt),D.fill&&this.map.fill.render(A,D.fill),D.alignment&&this.map.alignment.render(A,D.alignment),D.border&&this.map.border.render(A,D.border),D.protection&&this.map.protection.render(A,D.protection),A.closeNode()}},{key:"parseOpen",value:function(A){if(this.parser)return this.parser.parseOpen(A),!0;switch(A.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[A.name],this.parser&&this.parser.parseOpen(A),!0}}},{key:"parseText",value:function(A){this.parser&&this.parser.parseText(A)}},{key:"parseClose",value:function(A){return this.parser?(this.parser.parseClose(A)||(this.parser=void 0),!0):A!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}},{key:"tag",get:function(){return"dxf"}}])&&o(b.prototype,C),x}(m);n.exports=g},{"../base-xform":31,"./alignment-xform":125,"./border-xform":126,"./fill-xform":129,"./font-xform":130,"./numfmt-xform":131,"./protection-xform":132}],129:[function(r,n,i){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(b)}function o(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function s(b,C){for(var w=0;w<C.length;w++){var x=C[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}function l(b,C,w){return C&&s(b.prototype,C),w&&s(b,w),b}function p(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&h(b,C)}function h(b,C){return(h=Object.setPrototypeOf||function(w,x){return w.__proto__=x,w})(b,C)}function m(b){var C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var w,x=f(b);if(C){var A=f(this).constructor;w=Reflect.construct(x,arguments,A)}else w=x.apply(this,arguments);return v(this,w)}}function v(b,C){return!C||a(C)!=="object"&&typeof C!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(b):C}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(b)}var u=r("../base-xform"),c=r("./color-xform"),d=function(b){p(w,b);var C=m(w);function w(){var x;return o(this,w),(x=C.call(this)).map={color:new c},x}return l(w,[{key:"render",value:function(x,A){x.openNode("stop"),x.addAttribute("position",A.position),this.map.color.render(x,A.color),x.closeNode()}},{key:"parseOpen",value:function(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"stop":return this.model={position:parseFloat(x.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(x),!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(x){return!!this.parser&&(this.parser.parseClose(x)||(this.model.color=this.parser.model,this.parser=void 0),!0)}},{key:"tag",get:function(){return"stop"}}]),w}(u),_=function(b){p(w,b);var C=m(w);function w(){var x;return o(this,w),(x=C.call(this)).map={fgColor:new c("fgColor"),bgColor:new c("bgColor")},x}return l(w,[{key:"render",value:function(x,A){x.openNode("patternFill"),x.addAttribute("patternType",A.pattern),A.fgColor&&this.map.fgColor.render(x,A.fgColor),A.bgColor&&this.map.bgColor.render(x,A.bgColor),x.closeNode()}},{key:"parseOpen",value:function(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"patternFill":return this.model={type:"pattern",pattern:x.attributes.patternType},!0;default:return this.parser=this.map[x.name],!!this.parser&&(this.parser.parseOpen(x),!0)}}},{key:"parseText",value:function(x){this.parser&&this.parser.parseText(x)}},{key:"parseClose",value:function(x){return!!this.parser&&(this.parser.parseClose(x)||(this.parser.model&&(this.model[x]=this.parser.model),this.parser=void 0),!0)}},{key:"name",get:function(){return"pattern"}},{key:"tag",get:function(){return"patternFill"}}]),w}(u),g=function(b){p(w,b);var C=m(w);function w(){var x;return o(this,w),(x=C.call(this)).map={stop:new d},x}return l(w,[{key:"render",value:function(x,A){switch(x.openNode("gradientFill"),A.gradient){case"angle":x.addAttribute("degree",A.degree);break;case"path":x.addAttribute("type","path"),A.center.left&&(x.addAttribute("left",A.center.left),A.center.right===void 0&&x.addAttribute("right",A.center.left)),A.center.right&&x.addAttribute("right",A.center.right),A.center.top&&(x.addAttribute("top",A.center.top),A.center.bottom===void 0&&x.addAttribute("bottom",A.center.top)),A.center.bottom&&x.addAttribute("bottom",A.center.bottom)}var D=this.map.stop;A.stops.forEach(function(P){D.render(x,P)}),x.closeNode()}},{key:"parseOpen",value:function(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"gradientFill":var A=this.model={stops:[]};return x.attributes.degree?(A.gradient="angle",A.degree=parseInt(x.attributes.degree,10)):x.attributes.type==="path"&&(A.gradient="path",A.center={left:x.attributes.left?parseFloat(x.attributes.left):0,top:x.attributes.top?parseFloat(x.attributes.top):0},x.attributes.right!==x.attributes.left&&(A.center.right=x.attributes.right?parseFloat(x.attributes.right):0),x.attributes.bottom!==x.attributes.top&&(A.center.bottom=x.attributes.bottom?parseFloat(x.attributes.bottom):0)),!0;case"stop":return this.parser=this.map.stop,this.parser.parseOpen(x),!0;default:return!1}}},{key:"parseText",value:function(x){this.parser&&this.parser.parseText(x)}},{key:"parseClose",value:function(x){return!!this.parser&&(this.parser.parseClose(x)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}},{key:"name",get:function(){return"gradient"}},{key:"tag",get:function(){return"gradientFill"}}]),w}(u),y=function(b){p(w,b);var C=m(w);function w(){var x;return o(this,w),(x=C.call(this)).map={patternFill:new _,gradientFill:new g},x}return l(w,[{key:"render",value:function(x,A){switch(x.addRollback(),x.openNode("fill"),A.type){case"pattern":this.map.patternFill.render(x,A);break;case"gradient":this.map.gradientFill.render(x,A);break;default:return void x.rollback()}x.closeNode(),x.commit()}},{key:"parseOpen",value:function(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"fill":return this.model={},!0;default:return this.parser=this.map[x.name],!!this.parser&&(this.parser.parseOpen(x),!0)}}},{key:"parseText",value:function(x){this.parser&&this.parser.parseText(x)}},{key:"parseClose",value:function(x){return!!this.parser&&(this.parser.parseClose(x)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}},{key:"validStyle",value:function(x){return w.validPatternValues[x]}},{key:"tag",get:function(){return"fill"}}]),w}(u);y.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce(function(b,C){return b[C]=!0,b},{}),y.StopXform=d,y.PatternFillXform=_,y.GradientFillXform=g,n.exports=y},{"../base-xform":31,"./color-xform":127}],130:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function o(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function s(g,y){return(s=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function l(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=h(g);if(y){var w=h(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return p(this,b)}}function p(g,y){return!y||a(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function h(g){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var m=r("./color-xform"),v=r("../simple/boolean-xform"),f=r("../simple/integer-xform"),u=r("../simple/string-xform"),c=r("./underline-xform"),d=r("../../../utils/under-dash"),_=function(g){(function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&s(x,A)})(w,g);var y,b,C=l(w);function w(x){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,w),(A=C.call(this)).options=x||w.OPTIONS,A.map={b:{prop:"bold",xform:new v({tag:"b",attr:"val"})},i:{prop:"italic",xform:new v({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new f({tag:"charset",attr:"val"})},color:{prop:"color",xform:new m},condense:{prop:"condense",xform:new v({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new v({tag:"extend",attr:"val"})},family:{prop:"family",xform:new f({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new v({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new v({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new v({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new f({tag:"sz",attr:"val"})}},A.map[A.options.fontNameTag]={prop:"name",xform:new u({tag:A.options.fontNameTag,attr:"val"})},A}return y=w,(b=[{key:"render",value:function(x,A){var D=this.map;x.openNode(this.options.tagName),d.each(this.map,function(P,k){D[k].xform.render(x,A[P.prop])}),x.closeNode()}},{key:"parseOpen",value:function(x){if(this.parser)return this.parser.parseOpen(x),!0;if(this.map[x.name])return this.parser=this.map[x.name].xform,this.parser.parseOpen(x);switch(x.name){case this.options.tagName:return this.model={},!0;default:return!1}}},{key:"parseText",value:function(x){this.parser&&this.parser.parseText(x)}},{key:"parseClose",value:function(x){if(this.parser&&!this.parser.parseClose(x)){var A=this.map[x];return this.parser.model&&(this.model[A.prop]=this.parser.model),this.parser=void 0,!0}switch(x){case this.options.tagName:return!1;default:return!0}}},{key:"tag",get:function(){return this.options.tagName}}])&&o(y.prototype,b),w}(r("../base-xform"));_.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=_},{"../../../utils/under-dash":25,"../base-xform":31,"../simple/boolean-xform":115,"../simple/integer-xform":117,"../simple/string-xform":118,"./color-xform":127,"./underline-xform":135}],131:[function(r,n,i){function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function s(_,g){return(s=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(_,g)}function l(_){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=h(_);if(g){var C=h(this).constructor;y=Reflect.construct(b,arguments,C)}else y=b.apply(this,arguments);return p(this,y)}}function p(_,g){return!g||a(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(_):g}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=r("../../../utils/under-dash"),v=r("../../defaultnumformats"),f=r("../base-xform"),u,c=(u={},m.each(v,function(_,g){_.f&&(u[_.f]=parseInt(g,10))}),u),d=function(_){(function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),x&&s(w,x)})(C,_);var g,y,b=l(C);function C(w,x){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,C),(A=b.call(this)).id=w,A.formatCode=x,A}return g=C,(y=[{key:"render",value:function(w,x){w.leafNode("numFmt",{numFmtId:x.id,formatCode:x.formatCode})}},{key:"parseOpen",value:function(w){switch(w.name){case"numFmt":return this.model={id:parseInt(w.attributes.numFmtId,10),formatCode:w.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"numFmt"}}])&&o(g.prototype,y),C}(f);d.getDefaultFmtId=function(_){return c[_]},d.getDefaultFmtCode=function(_){return v[_]&&v[_].f},n.exports=d},{"../../../utils/under-dash":25,"../../defaultnumformats":29,"../base-xform":31}],132:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function s(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function l(c,d){return(l=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function p(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=m(c);if(d){var y=m(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return h(this,_)}}function h(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function m(c){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var v=r("../base-xform"),f=function(c,d){return c===void 0?d:c},u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&l(b,C)})(y,c);var d,_,g=p(y);function y(){return o(this,y),g.apply(this,arguments)}return d=y,(_=[{key:"render",value:function(b,C){b.addRollback(),b.openNode("protection");var w=!1;function x(A,D){D!==void 0&&(b.addAttribute(A,D),w=!0)}x("locked",f(C.locked,!0)?void 0:"0"),x("hidden",f(C.hidden,!1)?"1":void 0),b.closeNode(),w?b.commit():b.rollback()}},{key:"parseOpen",value:function(b){var C={locked:b.attributes.locked!=="0",hidden:b.attributes.hidden==="1"},w=!C.locked||C.hidden;this.model=w?C:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"protection"}}])&&s(d.prototype,_),y}(v);n.exports=u},{"../base-xform":31}],133:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function o(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function s(c,d){return(s=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function l(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=h(c);if(d){var y=h(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return p(this,_)}}function p(c,d){return!d||a(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function h(c){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}var m=r("../base-xform"),v=r("./alignment-xform"),f=r("./protection-xform"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&s(b,C)})(y,c);var d,_,g=l(y);function y(b){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,y),(C=g.call(this)).xfId=!(!b||!b.xfId),C.map={alignment:new v,protection:new f},C}return d=y,(_=[{key:"render",value:function(b,C){b.openNode("xf",{numFmtId:C.numFmtId||0,fontId:C.fontId||0,fillId:C.fillId||0,borderId:C.borderId||0}),this.xfId&&b.addAttribute("xfId",C.xfId||0),C.numFmtId&&b.addAttribute("applyNumberFormat","1"),C.fontId&&b.addAttribute("applyFont","1"),C.fillId&&b.addAttribute("applyFill","1"),C.borderId&&b.addAttribute("applyBorder","1"),C.alignment&&b.addAttribute("applyAlignment","1"),C.protection&&b.addAttribute("applyProtection","1"),C.alignment&&this.map.alignment.render(b,C.alignment),C.protection&&this.map.protection.render(b,C.protection),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"xf":return this.model={numFmtId:parseInt(b.attributes.numFmtId,10),fontId:parseInt(b.attributes.fontId,10),fillId:parseInt(b.attributes.fillId,10),borderId:parseInt(b.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(b.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(b),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(b),!0;default:return!1}}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){return this.parser?(this.parser.parseClose(b)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):b!=="xf"}},{key:"tag",get:function(){return"xf"}}])&&o(d.prototype,_),y}(m);n.exports=u},{"../base-xform":31,"./alignment-xform":125,"./protection-xform":132}],134:[function(r,n,i){function a(k){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(k)}function o(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function s(k,B){for(var E=0;E<B.length;E++){var O=B[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function l(k,B,E){return B&&s(k.prototype,B),E&&s(k,E),k}function p(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(B&&B.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),B&&h(k,B)}function h(k,B){return(h=Object.setPrototypeOf||function(E,O){return E.__proto__=O,E})(k,B)}function m(k){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var E,O=f(k);if(B){var S=f(this).constructor;E=Reflect.construct(O,arguments,S)}else E=O.apply(this,arguments);return v(this,E)}}function v(k,B){return!B||a(B)!=="object"&&typeof B!="function"?function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(k):B}function f(k){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(k)}var u=r("../../../doc/enums"),c=r("../../../utils/xml-stream"),d=r("../base-xform"),_=r("../static-xform"),g=r("../list-xform"),y=r("./font-xform"),b=r("./fill-xform"),C=r("./border-xform"),w=r("./numfmt-xform"),x=r("./style-xform"),A=r("./dxf-xform"),D=function(k){p(E,k);var B=m(E);function E(O){var S;return o(this,E),(S=B.call(this)).map={numFmts:new g({tag:"numFmts",count:!0,childXform:new w}),fonts:new g({tag:"fonts",count:!0,childXform:new y,$:{"x14ac:knownFonts":1}}),fills:new g({tag:"fills",count:!0,childXform:new b}),borders:new g({tag:"borders",count:!0,childXform:new C}),cellStyleXfs:new g({tag:"cellStyleXfs",count:!0,childXform:new x}),cellXfs:new g({tag:"cellXfs",count:!0,childXform:new x({xfId:!0})}),dxfs:new g({tag:"dxfs",always:!0,count:!0,childXform:new A}),numFmt:new w,font:new y,fill:new b,border:new C,style:new x({xfId:!0}),cellStyles:E.STATIC_XFORMS.cellStyles,tableStyles:E.STATIC_XFORMS.tableStyles,extLst:E.STATIC_XFORMS.extLst},O&&S.init(),S}return l(E,[{key:"initIndex",value:function(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}},{key:"init",value:function(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}},{key:"render",value:function(O,S){S=S||this.model,O.openXml(c.StdDocAttributes),O.openNode("styleSheet",E.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(O.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(function(R){O.writeXml(R)}),O.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),O.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(function(R){O.writeXml(R)}),O.closeNode(),O.openNode("fills",{count:S.fills.length}),S.fills.forEach(function(R){O.writeXml(R)}),O.closeNode(),O.openNode("borders",{count:S.borders.length}),S.borders.forEach(function(R){O.writeXml(R)}),O.closeNode(),this.map.cellStyleXfs.render(O,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),O.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(function(R){O.writeXml(R)}),O.closeNode()):(this.map.numFmts.render(O,S.numFmts),this.map.fonts.render(O,S.fonts),this.map.fills.render(O,S.fills),this.map.borders.render(O,S.borders),this.map.cellStyleXfs.render(O,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(O,S.styles)),E.STATIC_XFORMS.cellStyles.render(O),this.map.dxfs.render(O,S.dxfs),E.STATIC_XFORMS.tableStyles.render(O),E.STATIC_XFORMS.extLst.render(O),O.closeNode()}},{key:"parseOpen",value:function(O){if(this.parser)return this.parser.parseOpen(O),!0;switch(O.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[O.name],this.parser&&this.parser.parseOpen(O),!0}}},{key:"parseText",value:function(O){this.parser&&this.parser.parseText(O)}},{key:"parseClose",value:function(O){var S=this;if(this.parser)return this.parser.parseClose(O)||(this.parser=void 0),!0;switch(O){case"styleSheet":this.model={};var R=function(I,M){M.model&&M.model.length&&(S.model[I]=M.model)};if(R("numFmts",this.map.numFmts),R("fonts",this.map.fonts),R("fills",this.map.fills),R("borders",this.map.borders),R("styles",this.map.cellXfs),R("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){var T=this.index.numFmt;this.model.numFmts.forEach(function(I){T[I.id]=I.formatCode})}return!1;default:return!0}}},{key:"addStyleModel",value:function(O,S){if(!O)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(O))return this.weakMap.get(O);var R={};if(S=S||u.ValueType.Number,O.numFmt)R.numFmtId=this._addNumFmtStr(O.numFmt);else switch(S){case u.ValueType.Number:R.numFmtId=this._addNumFmtStr("General");break;case u.ValueType.Date:R.numFmtId=this._addNumFmtStr("mm-dd-yy")}O.font&&(R.fontId=this._addFont(O.font)),O.border&&(R.borderId=this._addBorder(O.border)),O.fill&&(R.fillId=this._addFill(O.fill)),O.alignment&&(R.alignment=O.alignment),O.protection&&(R.protection=O.protection);var T=this._addStyle(R);return this.weakMap&&this.weakMap.set(O,T),T}},{key:"getStyleModel",value:function(O){var S=this.model.styles[O];if(!S)return null;var R=this.index.model[O];if(R)return R;if(R=this.index.model[O]={},S.numFmtId){var T=this.index.numFmt[S.numFmtId]||w.getDefaultFmtCode(S.numFmtId);T&&(R.numFmt=T)}function I(M,N,j){if(j||j===0){var H=N[j];H&&(R[M]=H)}}return I("font",this.model.fonts,S.fontId),I("border",this.model.borders,S.borderId),I("fill",this.model.fills,S.fillId),S.alignment&&(R.alignment=S.alignment),S.protection&&(R.protection=S.protection),R}},{key:"addDxfStyle",value:function(O){return this.model.dxfs.push(O),this.model.dxfs.length-1}},{key:"getDxfStyle",value:function(O){return this.model.dxfs[O]}},{key:"_addStyle",value:function(O){var S=this.map.style.toXml(O),R=this.index.style[S];return R===void 0&&(R=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),R}},{key:"_addNumFmtStr",value:function(O){var S=w.getDefaultFmtId(O);if(S!==void 0||(S=this.index.numFmt[O])!==void 0)return S;S=this.index.numFmt[O]=164+this.model.numFmts.length;var R=this.map.numFmt.toXml({id:S,formatCode:O});return this.model.numFmts.push(R),S}},{key:"_addFont",value:function(O){var S=this.map.font.toXml(O),R=this.index.font[S];return R===void 0&&(R=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),R}},{key:"_addBorder",value:function(O){var S=this.map.border.toXml(O),R=this.index.border[S];return R===void 0&&(R=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),R}},{key:"_addFill",value:function(O){var S=this.map.fill.toXml(O),R=this.index.fill[S];return R===void 0&&(R=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),R}}]),E}(d);D.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},D.STATIC_XFORMS={cellStyles:new _({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new _({tag:"dxfs",$:{count:0}}),tableStyles:new _({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new _({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};var P=function(k){p(E,k);var B=m(E);function E(){var O;return o(this,E),(O=B.call(this)).model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]},O}return l(E,[{key:"parseStream",value:function(O){return O.autodrain(),Promise.resolve()}},{key:"addStyleModel",value:function(O,S){switch(S){case u.ValueType.Date:return this.dateStyleId;default:return 0}}},{key:"getStyleModel",value:function(){return{}}},{key:"dateStyleId",get:function(){if(!this._dateStyleId){var O={numFmtId:w.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(O)}return this._dateStyleId}}]),E}(D);D.Mock=P,n.exports=D},{"../../../doc/enums":7,"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"../static-xform":119,"./border-xform":126,"./dxf-xform":128,"./fill-xform":129,"./font-xform":130,"./numfmt-xform":131,"./style-xform":133}],135:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function s(v,f){return(s=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(v,f)}function l(v){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=h(v);if(f){var d=h(this).constructor;u=Reflect.construct(c,arguments,d)}else u=c.apply(this,arguments);return p(this,u)}}function p(v,f){return!f||a(f)!=="object"&&typeof f!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(v):f}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}var m=function(v){(function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&s(_,g)})(d,v);var f,u,c=l(d);function d(_){var g;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(g=c.call(this)).model=_,g}return f=d,(u=[{key:"render",value:function(_,g){if((g=g||this.model)===!0)_.leafNode("u");else{var y=d.Attributes[g];y&&_.leafNode("u",y)}}},{key:"parseOpen",value:function(_){_.name==="u"&&(this.model=_.attributes.val||!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"u"}}])&&o(f.prototype,u),d}(r("../base-xform"));m.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=m},{"../base-xform":31}],136:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function o(u,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}function s(u,c){return(s=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(u,c)}function l(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=h(u);if(c){var g=h(this).constructor;d=Reflect.construct(_,arguments,g)}else d=_.apply(this,arguments);return p(this,d)}}function p(u,c){return!c||a(c)!=="object"&&typeof c!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(u):c}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var m=r("../base-xform"),v=r("./filter-column-xform"),f=function(u){(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&s(y,b)})(g,u);var c,d,_=l(g);function g(){var y;return function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),(y=_.call(this)).map={filterColumn:new v},y}return c=g,(d=[{key:"prepare",value:function(y){var b=this;y.columns.forEach(function(C,w){b.map.filterColumn.prepare(C,{index:w})})}},{key:"render",value:function(y,b){var C=this;return y.openNode(this.tag,{ref:b.autoFilterRef}),b.columns.forEach(function(w){C.map.filterColumn.render(y,w)}),y.closeNode(),!0}},{key:"parseOpen",value:function(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case this.tag:return this.model={autoFilterRef:y.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[y.name],this.parser)return this.parseOpen(y),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(y)))}}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"parseClose",value:function(y){if(this.parser)return this.parser.parseClose(y)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(y){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: ".concat(y))}}},{key:"tag",get:function(){return"autoFilter"}}])&&o(c.prototype,d),g}(m);n.exports=f},{"../base-xform":31,"./filter-column-xform":137}],137:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"prepare",value:function(g,y){g.colId=y.index.toString()}},{key:"render",value:function(g,y){return g.leafNode(this.tag,{colId:y.colId,hiddenButton:y.filterButton?"0":"1"}),!0}},{key:"parseOpen",value:function(g){if(g.name===this.tag){var y=g.attributes;return this.model={filterButton:y.hiddenButton==="0"},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"filterColumn"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],138:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"prepare",value:function(g,y){g.id=y.index+1}},{key:"render",value:function(g,y){return g.leafNode(this.tag,{id:y.id.toString(),name:y.name,totalsRowLabel:y.totalsRowLabel,totalsRowFunction:y.totalsRowFunction,dxfId:y.dxfId}),!0}},{key:"parseOpen",value:function(g){if(g.name===this.tag){var y=g.attributes;return this.model={name:y.name,totalsRowLabel:y.totalsRowLabel,totalsRowFunction:y.totalsRowFunction,dxfId:y.dxfId},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tableColumn"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],139:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function o(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function s(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function l(f,u){return(l=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(f,u)}function p(f){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,d=m(f);if(u){var _=m(this).constructor;c=Reflect.construct(d,arguments,_)}else c=d.apply(this,arguments);return h(this,c)}}function h(f,u){return!u||a(u)!=="object"&&typeof u!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f):u}function m(f){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}var v=function(f){(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&l(g,y)})(_,f);var u,c,d=p(_);function _(){return o(this,_),d.apply(this,arguments)}return u=_,(c=[{key:"render",value:function(g,y){return g.leafNode(this.tag,{name:y.theme?y.theme:void 0,showFirstColumn:y.showFirstColumn?"1":"0",showLastColumn:y.showLastColumn?"1":"0",showRowStripes:y.showRowStripes?"1":"0",showColumnStripes:y.showColumnStripes?"1":"0"}),!0}},{key:"parseOpen",value:function(g){if(g.name===this.tag){var y=g.attributes;return this.model={theme:y.name?y.name:null,showFirstColumn:y.showFirstColumn==="1",showLastColumn:y.showLastColumn==="1",showRowStripes:y.showRowStripes==="1",showColumnStripes:y.showColumnStripes==="1"},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tableStyleInfo"}}])&&s(u.prototype,c),_}(r("../base-xform"));n.exports=v},{"../base-xform":31}],140:[function(r,n,i){function a(C){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}function o(C,w){var x=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);w&&(A=A.filter(function(D){return Object.getOwnPropertyDescriptor(C,D).enumerable})),x.push.apply(x,A)}return x}function s(C){for(var w=1;w<arguments.length;w++){var x=arguments[w]!=null?arguments[w]:{};w%2?o(Object(x),!0).forEach(function(A){l(C,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(x,A))})}return C}function l(C,w,x){return w in C?Object.defineProperty(C,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[w]=x,C}function p(C,w){for(var x=0;x<w.length;x++){var A=w[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function h(C,w){return(h=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x})(C,w)}function m(C){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var x,A=f(C);if(w){var D=f(this).constructor;x=Reflect.construct(A,arguments,D)}else x=A.apply(this,arguments);return v(this,x)}}function v(C,w){return!w||a(w)!=="object"&&typeof w!="function"?function(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(C):w}function f(C){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(C)}var u=r("../../../utils/xml-stream"),c=r("../base-xform"),d=r("../list-xform"),_=r("./auto-filter-xform"),g=r("./table-column-xform"),y=r("./table-style-info-xform"),b=function(C){(function(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),k&&h(P,k)})(D,C);var w,x,A=m(D);function D(){var P;return function(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}(this,D),(P=A.call(this)).map={autoFilter:new _,tableColumns:new d({tag:"tableColumns",count:!0,empty:!0,childXform:new g}),tableStyleInfo:new y},P}return w=D,(x=[{key:"prepare",value:function(P,k){this.map.autoFilter.prepare(P),this.map.tableColumns.prepare(P.columns,k)}},{key:"render",value:function(P,k){P.openXml(u.StdDocAttributes),P.openNode(this.tag,s(s({},D.TABLE_ATTRIBUTES),{},{id:k.id,name:k.name,displayName:k.displayName||k.name,ref:k.tableRef,totalsRowCount:k.totalsRow?"1":void 0,totalsRowShown:k.totalsRow?void 0:"1",headerRowCount:k.headerRow?"1":"0"})),this.map.autoFilter.render(P,k),this.map.tableColumns.render(P,k.columns),this.map.tableStyleInfo.render(P,k.style),P.closeNode()}},{key:"parseOpen",value:function(P){if(this.parser)return this.parser.parseOpen(P),!0;var k=P.name,B=P.attributes;switch(k){case this.tag:this.reset(),this.model={name:B.name,displayName:B.displayName||B.name,tableRef:B.ref,totalsRow:B.totalsRowCount==="1",headerRow:B.headerRowCount==="1"};break;default:this.parser=this.map[P.name],this.parser&&this.parser.parseOpen(P)}return!0}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){var k=this;if(this.parser)return this.parser.parseClose(P)||(this.parser=void 0),!0;switch(P){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach(function(B,E){k.model.columns[E].filterButton=B.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}},{key:"reconcile",value:function(P,k){P.columns.forEach(function(B){B.dxfId!==void 0&&(B.style=k.styles.getDxfStyle(B.dxfId))})}},{key:"tag",get:function(){return"table"}}])&&p(w.prototype,x),D}(c);b.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=b},{"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"./auto-filter-xform":136,"./table-column-xform":138,"./table-style-info-xform":139}],141:[function(r,n,i){(function(a,o){function s(I,M,N,j,H,U,W){try{var G=I[U](W),K=G.value}catch(Q){return void N(Q)}G.done?M(K):Promise.resolve(K).then(j,H)}function l(I){return function(){var M=this,N=arguments;return new Promise(function(j,H){var U=I.apply(M,N);function W(K){s(U,j,H,W,G,"next",K)}function G(K){s(U,j,H,W,G,"throw",K)}W(void 0)})}}function p(I,M){for(var N=0;N<M.length;N++){var j=M[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}function h(I){var M;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(M=I[Symbol.asyncIterator])!=null||Symbol.iterator&&(M=I[Symbol.iterator])!=null))return M.call(I);throw new TypeError("Object is not async iterable")}var m=r("fs"),v=r("jszip"),f=r("readable-stream").PassThrough,u=r("../utils/zip-stream"),c=r("../utils/stream-buf"),d=r("../utils/utils"),_=r("../utils/xml-stream"),g=r("../utils/browser-buffer-decode").bufferToString,y=r("./xform/style/styles-xform"),b=r("./xform/core/core-xform"),C=r("./xform/strings/shared-strings-xform"),w=r("./xform/core/relationships-xform"),x=r("./xform/core/content-types-xform"),A=r("./xform/core/app-xform"),D=r("./xform/book/workbook-xform"),P=r("./xform/sheet/worksheet-xform"),k=r("./xform/drawing/drawing-xform"),B=r("./xform/table/table-xform"),E=r("./xform/comment/comments-xform"),O=r("./xform/comment/vml-notes-xform"),S=r("./xml/theme1.js");function R(I,M){return new Promise(function(N,j){m.readFile(I,M,function(H,U){H?j(H):N(U)})})}var T=function(){function I(re){(function(ue,se){if(!(ue instanceof se))throw new TypeError("Cannot call a class as a function")})(this,I),this.workbook=re}var M,N,j,H,U,W,G,K,Q,$,L,F,z,Z,J,ee,pe,le,ye,ke,be,Je,je,Be,$e,nt,Se;return M=I,(N=[{key:"readFile",value:(Se=l(regeneratorRuntime.mark(function re(ue,se){var me,fe;return regeneratorRuntime.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,d.fs.exists(ue);case 2:if(ge.sent){ge.next=4;break}throw new Error("File not found: ".concat(ue));case 4:return me=m.createReadStream(ue),ge.prev=5,ge.next=8,this.read(me,se);case 8:return fe=ge.sent,me.close(),ge.abrupt("return",fe);case 13:throw ge.prev=13,ge.t0=ge.catch(5),me.close(),ge.t0;case 17:case"end":return ge.stop()}},re,this,[[5,13]])})),function(re,ue){return Se.apply(this,arguments)})},{key:"parseRels",value:function(re){return new w().parseStream(re)}},{key:"parseWorkbook",value:function(re){return new D().parseStream(re)}},{key:"parseSharedStrings",value:function(re){return new C().parseStream(re)}},{key:"reconcile",value:function(re,ue){var se=new D,me=new P(ue),fe=new k,ge=new B;se.reconcile(re);var de={media:re.media,mediaIndex:re.mediaIndex};Object.keys(re.drawings).forEach(function(Ae){var Ke=re.drawings[Ae],Le=re.drawingRels[Ae];Le&&(de.rels=Le.reduce(function(bt,dt){return bt[dt.Id]=dt,bt},{}),(Ke.anchors||[]).forEach(function(bt){var dt=bt.picture&&bt.picture.hyperlinks;dt&&de.rels[dt.rId]&&(dt.hyperlink=de.rels[dt.rId].Target,delete dt.rId)}),fe.reconcile(Ke,de))});var Oe={styles:re.styles};Object.values(re.tables).forEach(function(Ae){ge.reconcile(Ae,Oe)});var Ie={styles:re.styles,sharedStrings:re.sharedStrings,media:re.media,mediaIndex:re.mediaIndex,date1904:re.properties&&re.properties.date1904,drawings:re.drawings,comments:re.comments,tables:re.tables,vmlDrawings:re.vmlDrawings};re.worksheets.forEach(function(Ae){Ae.relationships=re.worksheetRels[Ae.sheetNo],me.reconcile(Ae,Ie)}),delete re.worksheetHash,delete re.worksheetRels,delete re.globalRels,delete re.sharedStrings,delete re.workbookRels,delete re.sheetDefs,delete re.styles,delete re.mediaIndex,delete re.drawings,delete re.drawingRels,delete re.vmlDrawings}},{key:"_processWorksheetEntry",value:(nt=l(regeneratorRuntime.mark(function re(ue,se,me,fe,ge){var de,Oe;return regeneratorRuntime.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return de=new P(fe),Ie.next=3,de.parseStream(ue);case 3:(Oe=Ie.sent).sheetNo=me,se.worksheetHash[ge]=Oe,se.worksheets.push(Oe);case 7:case"end":return Ie.stop()}},re)})),function(re,ue,se,me,fe){return nt.apply(this,arguments)})},{key:"_processCommentEntry",value:($e=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new E,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.comments["../".concat(me,".xml")]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return $e.apply(this,arguments)})},{key:"_processTableEntry",value:(Be=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new B,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.tables["../tables/".concat(me,".xml")]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return Be.apply(this,arguments)})},{key:"_processWorksheetRelsEntry",value:(je=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new w,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.worksheetRels[me]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return je.apply(this,arguments)})},{key:"_processMediaEntry",value:(Je=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge,de;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!((fe=me.lastIndexOf("."))>=1)){Oe.next=6;break}return ge=me.substr(fe+1),de=me.substr(0,fe),Oe.next=6,new Promise(function(Ie,Ae){var Ke=new c;Ke.on("finish",function(){se.mediaIndex[me]=se.media.length,se.mediaIndex[de]=se.media.length;var Le={type:"image",name:de,extension:ge,buffer:Ke.toBuffer()};se.media.push(Le),Ie()}),ue.on("error",function(Le){Ae(Le)}),ue.pipe(Ke)});case 6:case"end":return Oe.stop()}},re)})),function(re,ue,se){return Je.apply(this,arguments)})},{key:"_processDrawingEntry",value:(be=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new k,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.drawings[me]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return be.apply(this,arguments)})},{key:"_processDrawingRelsEntry",value:(ke=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new w,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.drawingRels[me]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return ke.apply(this,arguments)})},{key:"_processVmlDrawingEntry",value:(ye=l(regeneratorRuntime.mark(function re(ue,se,me){var fe,ge;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return fe=new O,de.next=3,fe.parseStream(ue);case 3:ge=de.sent,se.vmlDrawings["../drawings/".concat(me,".vml")]=ge;case 5:case"end":return de.stop()}},re)})),function(re,ue,se){return ye.apply(this,arguments)})},{key:"_processThemeEntry",value:(le=l(regeneratorRuntime.mark(function re(ue,se,me){return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,new Promise(function(ge,de){var Oe=new c;ue.on("error",de),Oe.on("error",de),Oe.on("finish",function(){se.themes[me]=Oe.read().toString(),ge()}),ue.pipe(Oe)});case 2:case"end":return fe.stop()}},re)})),function(re,ue,se){return le.apply(this,arguments)})},{key:"createInputStream",value:function(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"read",value:(pe=l(regeneratorRuntime.mark(function re(ue,se){var me,fe,ge,de,Oe,Ie,Ae,Ke;return regeneratorRuntime.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:!ue[Symbol.asyncIterator]&&ue.pipe&&(ue=ue.pipe(new f)),me=[],fe=!0,ge=!1,Le.prev=4,Oe=h(ue);case 6:return Le.next=8,Oe.next();case 8:return Ie=Le.sent,fe=Ie.done,Le.next=12,Ie.value;case 12:if(Ae=Le.sent,fe){Le.next=19;break}Ke=Ae,me.push(Ke);case 16:fe=!0,Le.next=6;break;case 19:Le.next=25;break;case 21:Le.prev=21,Le.t0=Le.catch(4),ge=!0,de=Le.t0;case 25:if(Le.prev=25,Le.prev=26,fe||Oe.return==null){Le.next=30;break}return Le.next=30,Oe.return();case 30:if(Le.prev=30,!ge){Le.next=33;break}throw de;case 33:return Le.finish(30);case 34:return Le.finish(25);case 35:return Le.abrupt("return",this.load(o.concat(me),se));case 36:case"end":return Le.stop()}},re,this,[[4,21,25,35],[26,,30,34]])})),function(re,ue){return pe.apply(this,arguments)})},{key:"load",value:(ee=l(regeneratorRuntime.mark(function re(ue,se){var me,fe,ge,de,Oe,Ie,Ae,Ke,Le,bt,dt,Ct,zt,cr,mt,It;return regeneratorRuntime.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return me=se&&se.base64?o.from(ue.toString(),"base64"):ue,fe={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},De.next=4,v.loadAsync(me);case 4:ge=De.sent,de=0,Oe=Object.values(ge.files);case 6:if(!(de<Oe.length)){De.next=126;break}if((Ie=Oe[de]).dir){De.next=123;break}if((Ae=Ie.name)[0]==="/"&&(Ae=Ae.substr(1)),Ke=void 0,!Ae.match(/xl\/media\//)&&!Ae.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/)){De.next=21;break}return Ke=new f,De.t0=Ke,De.next=17,Ie.async("nodebuffer");case 17:De.t1=De.sent,De.t0.write.call(De.t0,De.t1),De.next=36;break;case 21:if(Ke=new f({writableObjectMode:!0,readableObjectMode:!0}),Le=void 0,!a.browser){De.next=31;break}return De.t2=g,De.next=27,Ie.async("nodebuffer");case 27:De.t3=De.sent,Le=(0,De.t2)(De.t3),De.next=34;break;case 31:return De.next=33,Ie.async("string");case 33:Le=De.sent;case 34:for(bt=0;bt<Le.length;bt+=16384)Ke.write(Le.substring(bt,bt+16384));case 36:Ke.end(),De.t4=Ae,De.next=De.t4==="_rels/.rels"?40:De.t4==="xl/workbook.xml"?44:De.t4==="xl/_rels/workbook.xml.rels"?53:De.t4==="xl/sharedStrings.xml"?57:De.t4==="xl/styles.xml"?61:De.t4==="docProps/app.xml"?65:De.t4==="docProps/core.xml"?72:78;break;case 40:return De.next=42,this.parseRels(Ke);case 42:return fe.globalRels=De.sent,De.abrupt("break",123);case 44:return De.next=46,this.parseWorkbook(Ke);case 46:return dt=De.sent,fe.sheets=dt.sheets,fe.definedNames=dt.definedNames,fe.views=dt.views,fe.properties=dt.properties,fe.calcProperties=dt.calcProperties,De.abrupt("break",123);case 53:return De.next=55,this.parseRels(Ke);case 55:return fe.workbookRels=De.sent,De.abrupt("break",123);case 57:return fe.sharedStrings=new C,De.next=60,fe.sharedStrings.parseStream(Ke);case 60:return De.abrupt("break",123);case 61:return fe.styles=new y,De.next=64,fe.styles.parseStream(Ke);case 64:return De.abrupt("break",123);case 65:return Ct=new A,De.next=68,Ct.parseStream(Ke);case 68:return zt=De.sent,fe.company=zt.company,fe.manager=zt.manager,De.abrupt("break",123);case 72:return cr=new b,De.next=75,cr.parseStream(Ke);case 75:return mt=De.sent,Object.assign(fe,mt),De.abrupt("break",123);case 78:if(!(It=Ae.match(/xl\/worksheets\/sheet(\d+)[.]xml/))){De.next=83;break}return De.next=82,this._processWorksheetEntry(Ke,fe,It[1],se,Ae);case 82:return De.abrupt("break",123);case 83:if(!(It=Ae.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/))){De.next=88;break}return De.next=87,this._processWorksheetRelsEntry(Ke,fe,It[1]);case 87:return De.abrupt("break",123);case 88:if(!(It=Ae.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))){De.next=93;break}return De.next=92,this._processThemeEntry(Ke,fe,It[1]);case 92:return De.abrupt("break",123);case 93:if(!(It=Ae.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/))){De.next=98;break}return De.next=97,this._processMediaEntry(Ke,fe,It[1]);case 97:return De.abrupt("break",123);case 98:if(!(It=Ae.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/))){De.next=103;break}return De.next=102,this._processDrawingEntry(Ke,fe,It[1]);case 102:return De.abrupt("break",123);case 103:if(!(It=Ae.match(/xl\/(comments\d+)[.]xml/))){De.next=108;break}return De.next=107,this._processCommentEntry(Ke,fe,It[1]);case 107:return De.abrupt("break",123);case 108:if(!(It=Ae.match(/xl\/tables\/(table\d+)[.]xml/))){De.next=113;break}return De.next=112,this._processTableEntry(Ke,fe,It[1]);case 112:return De.abrupt("break",123);case 113:if(!(It=Ae.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/))){De.next=118;break}return De.next=117,this._processDrawingRelsEntry(Ke,fe,It[1]);case 117:return De.abrupt("break",123);case 118:if(!(It=Ae.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/))){De.next=123;break}return De.next=122,this._processVmlDrawingEntry(Ke,fe,It[1]);case 122:return De.abrupt("break",123);case 123:de++,De.next=6;break;case 126:return this.reconcile(fe,se),this.workbook.model=fe,De.abrupt("return",this.workbook);case 129:case"end":return De.stop()}},re,this)})),function(re,ue){return ee.apply(this,arguments)})},{key:"addMedia",value:(J=l(regeneratorRuntime.mark(function re(ue,se){return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Promise.all(se.media.map(function(){var fe=l(regeneratorRuntime.mark(function ge(de){var Oe,Ie,Ae,Ke;return regeneratorRuntime.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(de.type!=="image"){Le.next=13;break}if(Oe="xl/media/".concat(de.name,".").concat(de.extension),!de.filename){Le.next=7;break}return Le.next=5,R(de.filename);case 5:return Ie=Le.sent,Le.abrupt("return",ue.append(Ie,{name:Oe}));case 7:if(!de.buffer){Le.next=9;break}return Le.abrupt("return",ue.append(de.buffer,{name:Oe}));case 9:if(!de.base64){Le.next=13;break}return Ae=de.base64,Ke=Ae.substring(Ae.indexOf(",")+1),Le.abrupt("return",ue.append(Ke,{name:Oe,base64:!0}));case 13:throw new Error("Unsupported media");case 14:case"end":return Le.stop()}},ge)}));return function(ge){return fe.apply(this,arguments)}}()));case 2:case"end":return me.stop()}},re)})),function(re,ue){return J.apply(this,arguments)})},{key:"addDrawings",value:function(re,ue){var se=new k,me=new w;ue.worksheets.forEach(function(fe){var ge=fe.drawing;if(ge){se.prepare(ge,{});var de=se.toXml(ge);re.append(de,{name:"xl/drawings/".concat(ge.name,".xml")}),de=me.toXml(ge.rels),re.append(de,{name:"xl/drawings/_rels/".concat(ge.name,".xml.rels")})}})}},{key:"addTables",value:function(re,ue){var se=new B;ue.worksheets.forEach(function(me){me.tables.forEach(function(fe){se.prepare(fe,{});var ge=se.toXml(fe);re.append(ge,{name:"xl/tables/".concat(fe.target)})})})}},{key:"addContentTypes",value:(Z=l(regeneratorRuntime.mark(function re(ue,se){var me,fe;return regeneratorRuntime.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:me=new x,fe=me.toXml(se),ue.append(fe,{name:"[Content_Types].xml"});case 3:case"end":return ge.stop()}},re)})),function(re,ue){return Z.apply(this,arguments)})},{key:"addApp",value:(z=l(regeneratorRuntime.mark(function re(ue,se){var me,fe;return regeneratorRuntime.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:me=new A,fe=me.toXml(se),ue.append(fe,{name:"docProps/app.xml"});case 3:case"end":return ge.stop()}},re)})),function(re,ue){return z.apply(this,arguments)})},{key:"addCore",value:(F=l(regeneratorRuntime.mark(function re(ue,se){var me;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:me=new b,ue.append(me.toXml(se),{name:"docProps/core.xml"});case 2:case"end":return fe.stop()}},re)})),function(re,ue){return F.apply(this,arguments)})},{key:"addThemes",value:(L=l(regeneratorRuntime.mark(function re(ue,se){var me;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:me=se.themes||{theme1:S},Object.keys(me).forEach(function(ge){var de=me[ge],Oe="xl/theme/".concat(ge,".xml");ue.append(de,{name:Oe})});case 2:case"end":return fe.stop()}},re)})),function(re,ue){return L.apply(this,arguments)})},{key:"addOfficeRels",value:($=l(regeneratorRuntime.mark(function re(ue){var se,me;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:se=new w,me=se.toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]),ue.append(me,{name:"_rels/.rels"});case 3:case"end":return fe.stop()}},re)})),function(re){return $.apply(this,arguments)})},{key:"addWorkbookRels",value:(Q=l(regeneratorRuntime.mark(function re(ue,se){var me,fe,ge,de;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:me=1,fe=[{Id:"rId".concat(me++),Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId".concat(me++),Type:I.RelType.Theme,Target:"theme/theme1.xml"}],se.sharedStrings.count&&fe.push({Id:"rId".concat(me++),Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),se.worksheets.forEach(function(Ie){Ie.rId="rId".concat(me++),fe.push({Id:Ie.rId,Type:I.RelType.Worksheet,Target:"worksheets/sheet".concat(Ie.id,".xml")})}),ge=new w,de=ge.toXml(fe),ue.append(de,{name:"xl/_rels/workbook.xml.rels"});case 7:case"end":return Oe.stop()}},re)})),function(re,ue){return Q.apply(this,arguments)})},{key:"addSharedStrings",value:(K=l(regeneratorRuntime.mark(function re(ue,se){return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:se.sharedStrings&&se.sharedStrings.count&&ue.append(se.sharedStrings.xml,{name:"xl/sharedStrings.xml"});case 1:case"end":return me.stop()}},re)})),function(re,ue){return K.apply(this,arguments)})},{key:"addStyles",value:(G=l(regeneratorRuntime.mark(function re(ue,se){var me;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:(me=se.styles.xml)&&ue.append(me,{name:"xl/styles.xml"});case 2:case"end":return fe.stop()}},re)})),function(re,ue){return G.apply(this,arguments)})},{key:"addWorkbook",value:(W=l(regeneratorRuntime.mark(function re(ue,se){var me;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:me=new D,ue.append(me.toXml(se),{name:"xl/workbook.xml"});case 2:case"end":return fe.stop()}},re)})),function(re,ue){return W.apply(this,arguments)})},{key:"addWorksheets",value:(U=l(regeneratorRuntime.mark(function re(ue,se){var me,fe,ge,de;return regeneratorRuntime.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:me=new P,fe=new w,ge=new E,de=new O,se.worksheets.forEach(function(Ie){var Ae=new _;me.render(Ae,Ie),ue.append(Ae.xml,{name:"xl/worksheets/sheet".concat(Ie.id,".xml")}),Ie.rels&&Ie.rels.length&&(Ae=new _,fe.render(Ae,Ie.rels),ue.append(Ae.xml,{name:"xl/worksheets/_rels/sheet".concat(Ie.id,".xml.rels")})),Ie.comments.length>0&&(Ae=new _,ge.render(Ae,Ie),ue.append(Ae.xml,{name:"xl/comments".concat(Ie.id,".xml")}),Ae=new _,de.render(Ae,Ie),ue.append(Ae.xml,{name:"xl/drawings/vmlDrawing".concat(Ie.id,".vml")}))});case 5:case"end":return Oe.stop()}},re)})),function(re,ue){return U.apply(this,arguments)})},{key:"_finalize",value:function(re){var ue=this;return new Promise(function(se,me){re.on("finish",function(){se(ue)}),re.on("error",me),re.finalize()})}},{key:"prepareModel",value:function(re,ue){re.creator=re.creator||"ExcelJS",re.lastModifiedBy=re.lastModifiedBy||"ExcelJS",re.created=re.created||new Date,re.modified=re.modified||new Date,re.useSharedStrings=ue.useSharedStrings===void 0||ue.useSharedStrings,re.useStyles=ue.useStyles===void 0||ue.useStyles,re.sharedStrings=new C,re.styles=re.useStyles?new y(!0):new y.Mock;var se=new D,me=new P;se.prepare(re);var fe={sharedStrings:re.sharedStrings,styles:re.styles,date1904:re.properties.date1904,drawingsCount:0,media:re.media};fe.drawings=re.drawings=[],fe.commentRefs=re.commentRefs=[];var ge=0;re.tables=[],re.worksheets.forEach(function(de){de.tables.forEach(function(Oe){ge++,Oe.target="table".concat(ge,".xml"),Oe.id=ge,re.tables.push(Oe)}),me.prepare(de,fe)})}},{key:"write",value:(H=l(regeneratorRuntime.mark(function re(ue,se){var me,fe;return regeneratorRuntime.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return se=se||{},me=this.workbook.model,(fe=new u.ZipWriter(se.zip)).pipe(ue),this.prepareModel(me,se),ge.next=7,this.addContentTypes(fe,me);case 7:return ge.next=9,this.addOfficeRels(fe,me);case 9:return ge.next=11,this.addWorkbookRels(fe,me);case 11:return ge.next=13,this.addWorksheets(fe,me);case 13:return ge.next=15,this.addSharedStrings(fe,me);case 15:return ge.next=17,this.addDrawings(fe,me);case 17:return ge.next=19,this.addTables(fe,me);case 19:return ge.next=21,Promise.all([this.addThemes(fe,me),this.addStyles(fe,me)]);case 21:return ge.next=23,this.addMedia(fe,me);case 23:return ge.next=25,Promise.all([this.addApp(fe,me),this.addCore(fe,me)]);case 25:return ge.next=27,this.addWorkbook(fe,me);case 27:return ge.abrupt("return",this._finalize(fe));case 28:case"end":return ge.stop()}},re,this)})),function(re,ue){return H.apply(this,arguments)})},{key:"writeFile",value:function(re,ue){var se=this,me=m.createWriteStream(re);return new Promise(function(fe,ge){me.on("finish",function(){fe()}),me.on("error",function(de){ge(de)}),se.write(me,ue).then(function(){me.end()})})}},{key:"writeBuffer",value:(j=l(regeneratorRuntime.mark(function re(ue){var se;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return se=new c,me.next=3,this.write(se,ue);case 3:return me.abrupt("return",se.read());case 4:case"end":return me.stop()}},re,this)})),function(re){return j.apply(this,arguments)})}])&&p(M.prototype,N),I}();T.RelType=r("./rel-type"),n.exports=T}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":23,"../utils/utils":26,"../utils/xml-stream":27,"../utils/zip-stream":28,"./rel-type":30,"./xform/book/workbook-xform":37,"./xform/comment/comments-xform":39,"./xform/comment/vml-notes-xform":44,"./xform/core/app-xform":50,"./xform/core/content-types-xform":51,"./xform/core/core-xform":52,"./xform/core/relationships-xform":54,"./xform/drawing/drawing-xform":61,"./xform/sheet/worksheet-xform":114,"./xform/strings/shared-strings-xform":123,"./xform/style/styles-xform":134,"./xform/table/table-xform":140,"./xml/theme1.js":142,_process:467,buffer:216,fs:215,jszip:399,"readable-stream":491}],142:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],143:[function(r,n,i){(function(a){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function l(c,d){return(l=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(c,d)}function p(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _,g=m(c);if(d){var y=m(this).constructor;_=Reflect.construct(g,arguments,y)}else _=g.apply(this,arguments);return h(this,_)}}function h(c,d){return!d||o(d)!=="object"&&typeof d!="function"?function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(c):d}function m(c){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;var v=r("stream"),f=r("./formatter"),u=function(c){(function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&l(b,C)})(y,c);var d,_,g=p(y);function y(b){var C;return function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,y),(C=g.call(this,{writableObjectMode:b.objectMode})).hasWrittenBOM=!1,C.formatterOptions=b,C.rowFormatter=new f.RowFormatter(b),C.hasWrittenBOM=!b.writeBOM,C}return d=y,(_=[{key:"transform",value:function(b){return this.rowFormatter.rowTransform=b,this}},{key:"_transform",value:function(b,C,w){var x=this,A=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(b,function(D,P){return D?(A=!0,w(D)):(P&&P.forEach(function(k){x.push(a.from(k,"utf8"))}),A=!0,w())})}catch(D){if(A)throw D;w(D)}}},{key:"_flush",value:function(b){var C=this;this.rowFormatter.finish(function(w,x){return w?b(w):(x&&x.forEach(function(A){C.push(a.from(A,"utf8"))}),b())})}}])&&s(d.prototype,_),y}(v.Transform);i.CsvFormatterStream=u}).call(this,r("buffer").Buffer)},{"./formatter":147,buffer:216,stream:506}],144:[function(r,n,i){function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=function o(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a(this,o),this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,l||{}),(l==null?void 0:l.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(l==null?void 0:l.quote)===!0?this.quote='"':(l==null?void 0:l.quote)===!1&&(this.quote=""),typeof(l==null?void 0:l.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=l.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote="".concat(this.escape).concat(this.quote)}},{}],145:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var o=function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;var s=o(r("lodash.isboolean")),l=o(r("lodash.isnil")),p=o(r("lodash.escaperegexp")),h=function(){function m(u){(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m),this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");var c="[".concat(u.delimiter).concat(p.default(u.rowDelimiter),`|\r|
']`);this.ESCAPE_REGEXP=new RegExp(c)}var v,f;return v=m,(f=[{key:"shouldQuote",value:function(u,c){var d=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(d)?d:Array.isArray(d)?d[u]:this._headers!==null&&d[this._headers[u]]}},{key:"format",value:function(u,c,d){var _="".concat(l.default(u)?"":u).replace(/\0/g,""),g=this.formatterOptions;return g.quote!==""&&_.indexOf(g.quote)!==-1?this.quoteField(_.replace(this.REPLACE_REGEXP,g.escapedQuote)):_.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,d)?this.quoteField(_):_}},{key:"quoteField",value:function(u){var c=this.formatterOptions.quote;return"".concat(c).concat(u).concat(c)}},{key:"headers",set:function(u){this._headers=u}}])&&a(v.prototype,f),m}();i.FieldFormatter=h},{"lodash.escaperegexp":426,"lodash.isboolean":428,"lodash.isnil":431}],146:[function(r,n,i){function a(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var o=function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;var s=o(r("lodash.isfunction")),l=o(r("lodash.isequal")),p=r("./FieldFormatter"),h=r("../types"),m=function(){function v(d){(function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")})(this,v),this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new p.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}var f,u,c;return f=v,c=[{key:"isHashArray",value:function(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}},{key:"gatherHeaders",value:function(d){return v.isHashArray(d)?d.map(function(_){return _[0]}):Array.isArray(d)?d:Object.keys(d)}},{key:"createTransform",value:function(d){return h.isSyncTransform(d)?function(_,g){var y=null;try{y=d(_)}catch(b){return g(b)}return g(null,y)}:function(_,g){d(_,g)}}}],(u=[{key:"format",value:function(d,_){var g=this;this.callTransformer(d,function(y,b){if(y)return _(y);if(!d)return _(null);var C=[];if(b){var w=g.checkHeaders(b),x=w.shouldFormatColumns,A=w.headers;if(g.shouldWriteHeaders&&A&&!g.hasWrittenHeaders&&(C.push(g.formatColumns(A,!0)),g.hasWrittenHeaders=!0),x){var D=g.gatherColumns(b);C.push(g.formatColumns(D,!1))}}return _(null,C)})}},{key:"finish",value:function(d){var _=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));_.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&_.push(this.formatterOptions.rowDelimiter),d(null,_)}},{key:"checkHeaders",value:function(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};var _=v.gatherHeaders(d);return this.headers=_,this.fieldFormatter.headers=_,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(_,d),headers:_}:{shouldFormatColumns:!0,headers:null}}},{key:"gatherColumns",value:function(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?v.isHashArray(d)?this.headers.map(function(_,g){var y=d[g];return y?y[1]:""}):this.headers.map(function(_,g){return d[g]}):this.headers.map(function(_){return d[_]})}},{key:"callTransformer",value:function(d,_){return this._rowTransform?this._rowTransform(d,_):_(null,d)}},{key:"formatColumns",value:function(d,_){var g=this,y=d.map(function(C,w){return g.fieldFormatter.format(C,w,_)}).join(this.formatterOptions.delimiter),b=this.rowCount;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,y].join(""):y}},{key:"rowTransform",set:function(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=v.createTransform(d)}}])&&a(f.prototype,u),c&&a(f,c),v}();i.RowFormatter=m},{"../types":149,"./FieldFormatter":145,"lodash.isequal":429,"lodash.isfunction":430}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":145,"./RowFormatter":146}],148:[function(r,n,i){(function(a){var o=Object.create?function(_,g,y,b){b===void 0&&(b=y),Object.defineProperty(_,b,{enumerable:!0,get:function(){return g[y]}})}:function(_,g,y,b){b===void 0&&(b=y),_[b]=g[y]},s=Object.create?function(_,g){Object.defineProperty(_,"default",{enumerable:!0,value:g})}:function(_,g){_.default=g},l=function(_){if(_&&_.__esModule)return _;var g={};if(_!=null)for(var y in _)y!=="default"&&Object.hasOwnProperty.call(_,y)&&o(g,_,y);return s(g,_),g},p=function(_,g){for(var y in _)y==="default"||g.hasOwnProperty(y)||o(g,_,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var h=r("util"),m=r("stream"),v=l(r("fs")),f=r("./FormatterOptions"),u=r("./CsvFormatterStream");p(r("./types"),i);var c=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return c.CsvFormatterStream}});var d=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return d.FormatterOptions}}),i.format=function(_){return new u.CsvFormatterStream(new f.FormatterOptions(_))},i.write=function(_,g){var y=i.format(g),b=h.promisify(function(C,w){y.write(C,void 0,w)});return _.reduce(function(C,w){return C.then(function(){return b(w)})},Promise.resolve()).then(function(){return y.end()}).catch(function(C){y.emit("error",C)}),y},i.writeToStream=function(_,g,y){return i.write(g,y).pipe(_)},i.writeToBuffer=function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=[],b=new m.Writable({write:function(C,w,x){y.push(C),x()}});return new Promise(function(C,w){b.on("error",w).on("finish",function(){return C(a.concat(y))}),i.write(_,g).pipe(b)})},i.writeToString=function(_,g){return i.writeToBuffer(_,g).then(function(y){return y.toString()})},i.writeToPath=function(_,g,y){var b=v.createWriteStream(_,{encoding:"utf8"});return i.write(g,y).pipe(b)}}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":143,"./FormatterOptions":144,"./types":149,buffer:216,fs:215,stream:506,util:525}],149:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=function(a){return a.length===1}},{}],150:[function(r,n,i){(function(a){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function s(g,y){for(var b=0;b<y.length;b++){var C=y[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function l(g,y,b){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,w,x){var A=function(P,k){for(;!Object.prototype.hasOwnProperty.call(P,k)&&(P=v(P))!==null;);return P}(C,w);if(A){var D=Object.getOwnPropertyDescriptor(A,w);return D.get?D.get.call(x):D.value}})(g,y,b||g)}function p(g,y){return(p=Object.setPrototypeOf||function(b,C){return b.__proto__=C,b})(g,y)}function h(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,C=v(g);if(y){var w=v(this).constructor;b=Reflect.construct(C,arguments,w)}else b=C.apply(this,arguments);return m(this,b)}}function m(g,y){return!y||o(y)!=="object"&&typeof y!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function v(g){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;var f=r("string_decoder"),u=r("stream"),c=r("./transforms"),d=r("./parser"),_=function(g){(function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&p(x,A)})(w,g);var y,b,C=h(w);function w(x){var A;return function(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}(this,w),(A=C.call(this,{objectMode:x.objectMode})).lines="",A.rowCount=0,A.parsedRowCount=0,A.parsedLineCount=0,A.endEmitted=!1,A.headersEmitted=!1,A.parserOptions=x,A.parser=new d.Parser(x),A.headerTransformer=new c.HeaderTransformer(x),A.decoder=new f.StringDecoder(x.encoding),A.rowTransformerValidator=new c.RowTransformerValidator,A}return y=w,(b=[{key:"transform",value:function(x){return this.rowTransformerValidator.rowTransform=x,this}},{key:"validate",value:function(x){return this.rowTransformerValidator.rowValidator=x,this}},{key:"emit",value:function(x){var A;if(x==="end")return this.endEmitted||(this.endEmitted=!0,l(v(w.prototype),"emit",this).call(this,"end",this.rowCount)),!1;for(var D=arguments.length,P=new Array(D>1?D-1:0),k=1;k<D;k++)P[k-1]=arguments[k];return(A=l(v(w.prototype),"emit",this)).call.apply(A,[this,x].concat(P))}},{key:"_transform",value:function(x,A,D){if(this.hasHitRowLimit)return D();try{var P=this.lines+this.decoder.write(x),k=this.parse(P,!0);return this.processRows(k,D)}catch(B){return D(B)}}},{key:"_flush",value:function(x){if(this.hasHitRowLimit)return x();try{var A=this.lines+this.decoder.end(),D=this.parse(A,!1);return this.processRows(D,x)}catch(P){return x(P)}}},{key:"parse",value:function(x,A){if(!x)return[];var D=this.parser.parse(x,A),P=D.line,k=D.rows;return this.lines=P,k}},{key:"processRows",value:function(x,A){var D=this,P=x.length;(function k(B){var E=function(R){return R?A(R):B%100!=0?k(B+1):void a(function(){return k(B+1)})};if(D.checkAndEmitHeaders(),B>=P||D.hasHitRowLimit)return A();if(D.parsedLineCount+=1,D.shouldSkipLine)return E();var O=x[B];D.rowCount+=1,D.parsedRowCount+=1;var S=D.rowCount;return D.transformRow(O,function(R,T){if(R)return D.rowCount-=1,E(R);if(!T)return E(new Error("expected transform result"));if(T.isValid){if(T.row)return D.pushRow(T.row,E)}else D.emit("data-invalid",T.row,S,T.reason);return E()})})(0)}},{key:"transformRow",value:function(x,A){var D=this;try{this.headerTransformer.transform(x,function(P,k){return P?A(P):k?k.isValid?k.row?D.shouldEmitRows?D.rowTransformerValidator.transformAndValidate(k.row,A):D.skipRow(A):(D.rowCount-=1,D.parsedRowCount-=1,A(null,{row:null,isValid:!0})):D.shouldEmitRows?A(null,{isValid:!1,row:x}):D.skipRow(A):A(new Error("Expected result from header transform"))})}catch(P){A(P)}}},{key:"checkAndEmitHeaders",value:function(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}},{key:"skipRow",value:function(x){return this.rowCount-=1,x(null,{row:null,isValid:!0})}},{key:"pushRow",value:function(x,A){try{this.parserOptions.objectMode?this.push(x):this.push(JSON.stringify(x)),A()}catch(D){A(D)}}},{key:"hasHitRowLimit",get:function(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}},{key:"shouldEmitRows",get:function(){return this.parsedRowCount>this.parserOptions.skipRows}},{key:"shouldSkipLine",get:function(){return this.parsedLineCount<=this.parserOptions.skipLines}}])&&s(y.prototype,b),w}(u.Transform);i.CsvParserStream=_}).call(this,r("timers").setImmediate)},{"./parser":162,"./transforms":165,stream:506,string_decoder:520,timers:521}],151:[function(r,n,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;var o=a(r("lodash.escaperegexp")),s=a(r("lodash.isnil"));i.ParserOptions=function l(p){var h;if(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,l),this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,p||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(h=this.escape)!==null&&h!==void 0?h:this.quote,this.supportsComments=!s.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp("([^\\s]|\\r\\n|\\n|\\r|".concat(this.escapedDelimiter,")")),this.maxRows>0&&(this.limitRows=!0)}},{"lodash.escaperegexp":426,"lodash.isnil":431}],152:[function(r,n,i){var a=Object.create?function(c,d,_,g){g===void 0&&(g=_),Object.defineProperty(c,g,{enumerable:!0,get:function(){return d[_]}})}:function(c,d,_,g){g===void 0&&(g=_),c[g]=d[_]},o=Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d},s=function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var _ in c)_!=="default"&&Object.hasOwnProperty.call(c,_)&&a(d,c,_);return o(d,c),d},l=function(c,d){for(var _ in c)_==="default"||d.hasOwnProperty(_)||a(d,c,_)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=void 0;var p=s(r("fs")),h=r("stream"),m=r("./ParserOptions"),v=r("./CsvParserStream");l(r("./types"),i);var f=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var u=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return u.ParserOptions}}),i.parse=function(c){return new v.CsvParserStream(new m.ParserOptions(c))},i.parseStream=function(c,d){return c.pipe(new v.CsvParserStream(new m.ParserOptions(d)))},i.parseFile=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p.createReadStream(c).pipe(new v.CsvParserStream(new m.ParserOptions(d)))},i.parseString=function(c,d){var _=new h.Readable;return _.push(c),_.push(null),_.pipe(new v.CsvParserStream(new m.ParserOptions(d)))}},{"./CsvParserStream":150,"./ParserOptions":151,"./types":166,fs:215,stream:506}],153:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;var o=r("./Scanner"),s=r("./RowParser"),l=r("./Token"),p=/^\s*(?:''|"")?\s*(?:,\s*(?:''|"")?\s*)*$/,h=function(){function m(c){(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m),this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}var v,f,u;return v=m,u=[{key:"removeBOM",value:function(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}}],(f=[{key:"parse",value:function(c,d){var _=new o.Scanner({line:m.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(_):this.parseWithoutComments(_)}},{key:"parseWithoutComments",value:function(c){for(var d=[],_=!0;_;)_=this.parseRow(c,d);return{line:c.line,rows:d}}},{key:"parseWithComments",value:function(c){for(var d=this.parserOptions,_=[],g=c.nextCharacterToken;g!==null;g=c.nextCharacterToken)if(l.Token.isTokenComment(g,d)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:_};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:_};c.truncateToCursor()}else if(!this.parseRow(c,_))break;return{line:c.line,rows:_}}},{key:"parseRow",value:function(c,d){if(!c.nextNonSpaceToken)return!1;var _=this.rowParser.parse(c);return _!==null&&(this.parserOptions.ignoreEmpty&&p.test(_.join(""))||d.push(_),!0)}}])&&a(v.prototype,f),u&&a(v,u),m}();i.Parser=h},{"./RowParser":154,"./Scanner":155,"./Token":156}],154:[function(r,n,i){function a(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;var o=r("./column"),s=r("./Token").Token,l=s.isTokenRowDelimiter,p=s.isTokenCarriageReturn,h=s.isTokenDelimiter,m=function(){function v(c){(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,v),this.parserOptions=c,this.columnParser=new o.ColumnParser(c)}var f,u;return f=v,(u=[{key:"parse",value:function(c){for(var d=this.parserOptions,_=c.hasMoreData,g=c,y=[],b=this.getStartToken(g,y);b;){if(l(b))return g.advancePastToken(b),!g.hasMoreCharacters&&p(b,d)&&_?null:(g.truncateToCursor(),y);if(!this.shouldSkipColumnParse(g,b,y)){var C=this.columnParser.parse(g);if(C===null)return null;y.push(C)}b=g.nextNonSpaceToken}return _?null:(g.truncateToCursor(),y)}},{key:"getStartToken",value:function(c,d){var _=c.nextNonSpaceToken;return _!==null&&h(_,this.parserOptions)?(d.push(""),c.nextNonSpaceToken):_}},{key:"shouldSkipColumnParse",value:function(c,d,_){var g=this.parserOptions;if(h(d,g)){c.advancePastToken(d);var y=c.nextCharacterToken;if(!c.hasMoreCharacters||y!==null&&l(y)||y!==null&&h(y,g))return _.push(""),!0}return!1}}])&&a(f.prototype,u),v}();i.RowParser=m},{"./Token":156,"./column":161}],155:[function(r,n,i){function a(p,h){for(var m=0;m<h.length;m++){var v=h[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;var o=r("./Token"),s=/((?:\r\n)|\n|\r)/,l=function(){function p(v){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,p),this.cursor=0,this.line=v.line,this.lineLength=this.line.length,this.parserOptions=v.parserOptions,this.hasMoreData=v.hasMoreData,this.cursor=v.cursor||0}var h,m;return h=p,(m=[{key:"advancePastLine",value:function(){var v=s.exec(this.lineFromCursor);return v?(this.cursor+=(v.index||0)+v[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}},{key:"advanceTo",value:function(v){return this.cursor=v,this}},{key:"advanceToToken",value:function(v){return this.cursor=v.startCursor,this}},{key:"advancePastToken",value:function(v){return this.cursor=v.endCursor+1,this}},{key:"truncateToCursor",value:function(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}},{key:"hasMoreCharacters",get:function(){return this.lineLength>this.cursor}},{key:"nextNonSpaceToken",get:function(){var v=this.lineFromCursor,f=this.parserOptions.NEXT_TOKEN_REGEXP;if(v.search(f)===-1)return null;var u=f.exec(v);if(u==null)return null;var c=u[1],d=this.cursor+(u.index||0);return new o.Token({token:c,startCursor:d,endCursor:d+c.length-1})}},{key:"nextCharacterToken",get:function(){var v=this.cursor;return this.lineLength<=v?null:new o.Token({token:this.line[v],startCursor:v,endCursor:v})}},{key:"lineFromCursor",get:function(){return this.line.substr(this.cursor)}}])&&a(h.prototype,m),p}();i.Scanner=l},{"./Token":156}],156:[function(r,n,i){function a(s,l){for(var p=0;p<l.length;p++){var h=l[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0;var o=function(){function s(m){(function(v,f){if(!(v instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s),this.token=m.token,this.startCursor=m.startCursor,this.endCursor=m.endCursor}var l,p,h;return l=s,h=[{key:"isTokenRowDelimiter",value:function(m){var v=m.token;return v==="\r"||v===`
`||v===`\r
`}},{key:"isTokenCarriageReturn",value:function(m,v){return m.token===v.carriageReturn}},{key:"isTokenComment",value:function(m,v){return v.supportsComments&&!!m&&m.token===v.comment}},{key:"isTokenEscapeCharacter",value:function(m,v){return m.token===v.escapeChar}},{key:"isTokenQuote",value:function(m,v){return m.token===v.quote}},{key:"isTokenDelimiter",value:function(m,v){return m.token===v.delimiter}}],(p=null)&&a(l.prototype,p),h&&a(l,h),s}();i.Token=o},{}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=function a(o){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),o.trim?this.format=function(s){return s.trim()}:o.ltrim?this.format=function(s){return s.trimLeft()}:o.rtrim?this.format=function(s){return s.trimRight()}:this.format=function(s){return s}}},{}],158:[function(r,n,i){function a(h,m){for(var v=0;v<m.length;v++){var f=m[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;var o=r("./NonQuotedColumnParser"),s=r("./QuotedColumnParser"),l=r("../Token"),p=function(){function h(f){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,h),this.parserOptions=f,this.quotedColumnParser=new s.QuotedColumnParser(f),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(f)}var m,v;return m=h,(v=[{key:"parse",value:function(f){var u=f.nextNonSpaceToken;return u!==null&&l.Token.isTokenQuote(u,this.parserOptions)?(f.advanceToToken(u),this.quotedColumnParser.parse(f)):this.nonQuotedColumnParser.parse(f)}}])&&a(m.prototype,v),h}();i.ColumnParser=p},{"../Token":156,"./NonQuotedColumnParser":159,"./QuotedColumnParser":160}],159:[function(r,n,i){function a(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;var o=r("./ColumnFormatter"),s=r("../Token").Token,l=s.isTokenDelimiter,p=s.isTokenRowDelimiter,h=function(){function m(u){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m),this.parserOptions=u,this.columnFormatter=new o.ColumnFormatter(u)}var v,f;return v=m,(f=[{key:"parse",value:function(u){if(!u.hasMoreCharacters)return null;for(var c=this.parserOptions,d=[],_=u.nextCharacterToken;_&&!l(_,c)&&!p(_);_=u.nextCharacterToken)d.push(_.token),u.advancePastToken(_);return this.columnFormatter.format(d.join(""))}}])&&a(v.prototype,f),m}();i.NonQuotedColumnParser=h},{"../Token":156,"./ColumnFormatter":157}],160:[function(r,n,i){function a(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;var o=r("./ColumnFormatter"),s=r("../Token").Token,l=s.isTokenDelimiter,p=s.isTokenRowDelimiter,h=s.isTokenEscapeCharacter,m=s.isTokenQuote,v=function(){function f(d){(function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.parserOptions=d,this.columnFormatter=new o.ColumnFormatter(d)}var u,c;return u=f,(c=[{key:"parse",value:function(d){if(!d.hasMoreCharacters)return null;var _=d.cursor,g=this.gatherDataBetweenQuotes(d),y=g.foundClosingQuote,b=g.col;if(!y){if(d.advanceTo(_),!d.hasMoreData)throw new Error("Parse Error: missing closing: '".concat(this.parserOptions.quote||"","' in line: at '").concat(d.lineFromCursor.replace(/[\r\n]/g,"\\n'"),"'"));return null}return this.checkForMalformedColumn(d),b}},{key:"gatherDataBetweenQuotes",value:function(d){for(var _=this.parserOptions,g=!1,y=!1,b=[],C=d.nextCharacterToken;!y&&C!==null;C=d.nextCharacterToken){var w=m(C,_);if(!g&&w)g=!0;else if(g)if(h(C,_)){d.advancePastToken(C);var x=d.nextCharacterToken;x!==null&&(m(x,_)||h(x,_))?(b.push(x.token),C=x):w?y=!0:b.push(C.token)}else w?y=!0:b.push(C.token);d.advancePastToken(C)}return{col:this.columnFormatter.format(b.join("")),foundClosingQuote:y}}},{key:"checkForMalformedColumn",value:function(d){var _=this.parserOptions,g=d.nextNonSpaceToken;if(g){var y=l(g,_),b=p(g);if(!y&&!b){var C=d.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error("Parse Error: expected: '".concat(_.escapedDelimiter,"' OR new line got: '").concat(g.token,"'. at '").concat(C))}d.advanceToToken(g)}else d.hasMoreData||d.advancePastLine()}}])&&a(u.prototype,c),f}();i.QuotedColumnParser=v},{"../Token":156,"./ColumnFormatter":157}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var s=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":157,"./ColumnParser":158,"./NonQuotedColumnParser":159,"./QuotedColumnParser":160}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var s=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return s.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var p=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return p.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return p.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return p.QuotedColumnParser}})},{"./Parser":153,"./RowParser":154,"./Scanner":155,"./Token":156,"./column":161}],163:[function(r,n,i){function a(v,f){for(var u=0;u<f.length;u++){var c=f[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var o=function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;var s=o(r("lodash.isundefined")),l=o(r("lodash.isfunction")),p=o(r("lodash.uniq")),h=o(r("lodash.groupby")),m=function(){function v(c){(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,v),this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):l.default(c.headers)&&(this.headersTransform=c.headers)}var f,u;return f=v,(u=[{key:"transform",value:function(c,d){return this.shouldMapRow(c)?d(null,this.processRow(c)):d(null,{row:null,isValid:!0})}},{key:"shouldMapRow",value:function(c){var d=this.parserOptions;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}},{key:"processRow",value:function(c){if(!this.headers)return{row:c,isValid:!0};var d=this.parserOptions;if(!d.discardUnmappedColumns&&c.length>this.headersLength){if(!d.strictColumnHandling)throw new Error("Unexpected Error: column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length));return{row:c,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length)}}return d.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length)}:{row:this.mapHeaders(c),isValid:!0}}},{key:"mapHeaders",value:function(c){for(var d={},_=this.headers,g=this.headersLength,y=0;y<g;y+=1){var b=_[y];if(!s.default(b)){var C=c[y];s.default(C)?d[b]="":d[b]=C}}return d}},{key:"setHeaders",value:function(c){var d,_=c.filter(function(b){return!!b});if(p.default(_).length!==_.length){var g=h.default(_),y=Object.keys(g).filter(function(b){return g[b].length>1});throw new Error("Duplicate headers found ".concat(JSON.stringify(y)))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}])&&a(f.prototype,u),v}();i.HeaderTransformer=m},{"lodash.groupby":427,"lodash.isfunction":430,"lodash.isundefined":432,"lodash.uniq":433}],164:[function(r,n,i){function a(h,m){for(var v=0;v<m.length;v++){var f=m[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}var o=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;var s=o(r("lodash.isfunction")),l=r("../types"),p=function(){function h(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,h),this._rowTransform=null,this._rowValidator=null}var m,v,f;return m=h,f=[{key:"createTransform",value:function(u){return l.isSyncTransform(u)?function(c,d){var _=null;try{_=u(c)}catch(g){return d(g)}return d(null,_)}:u}},{key:"createValidator",value:function(u){return l.isSyncValidate(u)?function(c,d){d(null,{row:c,isValid:u(c)})}:function(c,d){u(c,function(_,g,y){return _?d(_):d(null,g?{row:c,isValid:g,reason:y}:{row:c,isValid:!1,reason:y})})}}}],(v=[{key:"transformAndValidate",value:function(u,c){var d=this;return this.callTransformer(u,function(_,g){return _?c(_):g?d.callValidator(g,function(y,b){return y?c(y):b&&!b.isValid?c(null,{row:g,isValid:!1,reason:b.reason}):c(null,{row:g,isValid:!0})}):c(null,{row:null,isValid:!0})})}},{key:"callTransformer",value:function(u,c){return this._rowTransform?this._rowTransform(u,c):c(null,u)}},{key:"callValidator",value:function(u,c){return this._rowValidator?this._rowValidator(u,c):c(null,{row:u,isValid:!0})}},{key:"rowTransform",set:function(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=h.createTransform(u)}},{key:"rowValidator",set:function(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=h.createValidator(u)}}])&&a(m.prototype,v),f&&a(m,f),h}();i.RowTransformerValidator=p},{"../types":166,"lodash.isfunction":430}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":163,"./RowTransformerValidator":164}],166:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=function(a){return a.length===1},i.isSyncValidate=function(a){return a.length===1}},{}],167:[function(r,n,i){var a=i;a.bignum=r("bn.js"),a.define=r("./asn1/api").define,a.base=r("./asn1/base"),a.constants=r("./asn1/constants"),a.decoders=r("./asn1/decoders"),a.encoders=r("./asn1/encoders")},{"./asn1/api":168,"./asn1/base":170,"./asn1/constants":174,"./asn1/decoders":176,"./asn1/encoders":179,"bn.js":181}],168:[function(r,n,i){var a=r("./encoders"),o=r("./decoders"),s=r("inherits");function l(p,h){this.name=p,this.body=h,this.decoders={},this.encoders={}}i.define=function(p,h){return new l(p,h)},l.prototype._createNamed=function(p){var h=this.name;function m(v){this._initNamed(v,h)}return s(m,p),m.prototype._initNamed=function(v,f){p.call(this,v,f)},new m(this)},l.prototype._getDecoder=function(p){return p=p||"der",this.decoders.hasOwnProperty(p)||(this.decoders[p]=this._createNamed(o[p])),this.decoders[p]},l.prototype.decode=function(p,h,m){return this._getDecoder(h).decode(p,m)},l.prototype._getEncoder=function(p){return p=p||"der",this.encoders.hasOwnProperty(p)||(this.encoders[p]=this._createNamed(a[p])),this.encoders[p]},l.prototype.encode=function(p,h,m){return this._getEncoder(h).encode(p,m)}},{"./decoders":176,"./encoders":179,inherits:387}],169:[function(r,n,i){function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}var o=r("inherits"),s=r("../base/reporter").Reporter,l=r("safer-buffer").Buffer;function p(m,v){s.call(this,v),l.isBuffer(m)?(this.base=m,this.offset=0,this.length=m.length):this.error("Input not Buffer")}function h(m,v){if(Array.isArray(m))this.length=0,this.value=m.map(function(f){return h.isEncoderBuffer(f)||(f=new h(f,v)),this.length+=f.length,f},this);else if(typeof m=="number"){if(!(0<=m&&m<=255))return v.error("non-byte EncoderBuffer value");this.value=m,this.length=1}else if(typeof m=="string")this.value=m,this.length=l.byteLength(m);else{if(!l.isBuffer(m))return v.error("Unsupported type: "+a(m));this.value=m,this.length=m.length}}o(p,s),i.DecoderBuffer=p,p.isDecoderBuffer=function(m){return m instanceof p||a(m)==="object"&&l.isBuffer(m.base)&&m.constructor.name==="DecoderBuffer"&&typeof m.offset=="number"&&typeof m.length=="number"&&typeof m.save=="function"&&typeof m.restore=="function"&&typeof m.isEmpty=="function"&&typeof m.readUInt8=="function"&&typeof m.skip=="function"&&typeof m.raw=="function"},p.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},p.prototype.restore=function(m){var v=new p(this.base);return v.offset=m.offset,v.length=this.offset,this.offset=m.offset,s.prototype.restore.call(this,m.reporter),v},p.prototype.isEmpty=function(){return this.offset===this.length},p.prototype.readUInt8=function(m){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(m||"DecoderBuffer overrun")},p.prototype.skip=function(m,v){if(!(this.offset+m<=this.length))return this.error(v||"DecoderBuffer overrun");var f=new p(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+m,this.offset+=m,f},p.prototype.raw=function(m){return this.base.slice(m?m.offset:this.offset,this.length)},i.EncoderBuffer=h,h.isEncoderBuffer=function(m){return m instanceof h||a(m)==="object"&&m.constructor.name==="EncoderBuffer"&&typeof m.length=="number"&&typeof m.join=="function"},h.prototype.join=function(m,v){return m||(m=l.alloc(this.length)),v||(v=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(m,v),v+=f.length}):(typeof this.value=="number"?m[v]=this.value:typeof this.value=="string"?m.write(this.value,v):l.isBuffer(this.value)&&this.value.copy(m,v),v+=this.length)),m}},{"../base/reporter":172,inherits:387,"safer-buffer":495}],170:[function(r,n,i){var a=i;a.Reporter=r("./reporter").Reporter,a.DecoderBuffer=r("./buffer").DecoderBuffer,a.EncoderBuffer=r("./buffer").EncoderBuffer,a.Node=r("./node")},{"./buffer":169,"./node":171,"./reporter":172}],171:[function(r,n,i){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}var o=r("../base/reporter").Reporter,s=r("../base/buffer").EncoderBuffer,l=r("../base/buffer").DecoderBuffer,p=r("minimalistic-assert"),h=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],m=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(h);function v(u,c,d){var _={};this._baseState=_,_.name=d,_.enc=u,_.parent=c||null,_.children=null,_.tag=null,_.args=null,_.reverseArgs=null,_.choice=null,_.optional=!1,_.any=!1,_.obj=!1,_.use=null,_.useDecoder=null,_.key=null,_.default=null,_.explicit=null,_.implicit=null,_.contains=null,_.parent||(_.children=[],this._wrap())}n.exports=v;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];v.prototype.clone=function(){var u=this._baseState,c={};f.forEach(function(_){c[_]=u[_]});var d=new this.constructor(c.parent);return d._baseState=c,d},v.prototype._wrap=function(){var u=this._baseState;m.forEach(function(c){this[c]=function(){var d=new this.constructor(this);return u.children.push(d),d[c].apply(d,arguments)}},this)},v.prototype._init=function(u){var c=this._baseState;p(c.parent===null),u.call(this),c.children=c.children.filter(function(d){return d._baseState.parent===this},this),p.equal(c.children.length,1,"Root node can have only one child")},v.prototype._useArgs=function(u){var c=this._baseState,d=u.filter(function(_){return _ instanceof this.constructor},this);u=u.filter(function(_){return!(_ instanceof this.constructor)},this),d.length!==0&&(p(c.children===null),c.children=d,d.forEach(function(_){_._baseState.parent=this},this)),u.length!==0&&(p(c.args===null),c.args=u,c.reverseArgs=u.map(function(_){if(a(_)!=="object"||_.constructor!==Object)return _;var g={};return Object.keys(_).forEach(function(y){y==(0|y)&&(y|=0);var b=_[y];g[b]=y}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(u){v.prototype[u]=function(){var c=this._baseState;throw new Error(u+" not implemented for encoding: "+c.enc)}}),h.forEach(function(u){v.prototype[u]=function(){var c=this._baseState,d=Array.prototype.slice.call(arguments);return p(c.tag===null),c.tag=u,this._useArgs(d),this}}),v.prototype.use=function(u){p(u);var c=this._baseState;return p(c.use===null),c.use=u,this},v.prototype.optional=function(){return this._baseState.optional=!0,this},v.prototype.def=function(u){var c=this._baseState;return p(c.default===null),c.default=u,c.optional=!0,this},v.prototype.explicit=function(u){var c=this._baseState;return p(c.explicit===null&&c.implicit===null),c.explicit=u,this},v.prototype.implicit=function(u){var c=this._baseState;return p(c.explicit===null&&c.implicit===null),c.implicit=u,this},v.prototype.obj=function(){var u=this._baseState,c=Array.prototype.slice.call(arguments);return u.obj=!0,c.length!==0&&this._useArgs(c),this},v.prototype.key=function(u){var c=this._baseState;return p(c.key===null),c.key=u,this},v.prototype.any=function(){return this._baseState.any=!0,this},v.prototype.choice=function(u){var c=this._baseState;return p(c.choice===null),c.choice=u,this._useArgs(Object.keys(u).map(function(d){return u[d]})),this},v.prototype.contains=function(u){var c=this._baseState;return p(c.use===null),c.contains=u,this},v.prototype._decode=function(u,c){var d=this._baseState;if(d.parent===null)return u.wrapResult(d.children[0]._decode(u,c));var _,g=d.default,y=!0,b=null;if(d.key!==null&&(b=u.enterKey(d.key)),d.optional){var C=null;if(d.explicit!==null?C=d.explicit:d.implicit!==null?C=d.implicit:d.tag!==null&&(C=d.tag),C!==null||d.any){if(y=this._peekTag(u,C,d.any),u.isError(y))return y}else{var w=u.save();try{d.choice===null?this._decodeGeneric(d.tag,u,c):this._decodeChoice(u,c),y=!0}catch{y=!1}u.restore(w)}}if(d.obj&&y&&(_=u.enterObject()),y){if(d.explicit!==null){var x=this._decodeTag(u,d.explicit);if(u.isError(x))return x;u=x}var A=u.offset;if(d.use===null&&d.choice===null){var D;d.any&&(D=u.save());var P=this._decodeTag(u,d.implicit!==null?d.implicit:d.tag,d.any);if(u.isError(P))return P;d.any?g=u.raw(D):u=P}if(c&&c.track&&d.tag!==null&&c.track(u.path(),A,u.length,"tagged"),c&&c.track&&d.tag!==null&&c.track(u.path(),u.offset,u.length,"content"),d.any||(g=d.choice===null?this._decodeGeneric(d.tag,u,c):this._decodeChoice(u,c)),u.isError(g))return g;if(d.any||d.choice!==null||d.children===null||d.children.forEach(function(B){B._decode(u,c)}),d.contains&&(d.tag==="octstr"||d.tag==="bitstr")){var k=new l(g);g=this._getUse(d.contains,u._reporterState.obj)._decode(k,c)}}return d.obj&&y&&(g=u.leaveObject(_)),d.key===null||g===null&&y!==!0?b!==null&&u.exitKey(b):u.leaveKey(b,d.key,g),g},v.prototype._decodeGeneric=function(u,c,d){var _=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(c,u,_.args[0],d):/str$/.test(u)?this._decodeStr(c,u,d):u==="objid"&&_.args?this._decodeObjid(c,_.args[0],_.args[1],d):u==="objid"?this._decodeObjid(c,null,null,d):u==="gentime"||u==="utctime"?this._decodeTime(c,u,d):u==="null_"?this._decodeNull(c,d):u==="bool"?this._decodeBool(c,d):u==="objDesc"?this._decodeStr(c,u,d):u==="int"||u==="enum"?this._decodeInt(c,_.args&&_.args[0],d):_.use!==null?this._getUse(_.use,c._reporterState.obj)._decode(c,d):c.error("unknown tag: "+u)},v.prototype._getUse=function(u,c){var d=this._baseState;return d.useDecoder=this._use(u,c),p(d.useDecoder._baseState.parent===null),d.useDecoder=d.useDecoder._baseState.children[0],d.implicit!==d.useDecoder._baseState.implicit&&(d.useDecoder=d.useDecoder.clone(),d.useDecoder._baseState.implicit=d.implicit),d.useDecoder},v.prototype._decodeChoice=function(u,c){var d=this._baseState,_=null,g=!1;return Object.keys(d.choice).some(function(y){var b=u.save(),C=d.choice[y];try{var w=C._decode(u,c);if(u.isError(w))return!1;_={type:y,value:w},g=!0}catch{return u.restore(b),!1}return!0},this),g?_:u.error("Choice not matched")},v.prototype._createEncoderBuffer=function(u){return new s(u,this.reporter)},v.prototype._encode=function(u,c,d){var _=this._baseState;if(_.default===null||_.default!==u){var g=this._encodeValue(u,c,d);if(g!==void 0&&!this._skipDefault(g,c,d))return g}},v.prototype._encodeValue=function(u,c,d){var _=this._baseState;if(_.parent===null)return _.children[0]._encode(u,c||new o);var g=null;if(this.reporter=c,_.optional&&u===void 0){if(_.default===null)return;u=_.default}var y=null,b=!1;if(_.any)g=this._createEncoderBuffer(u);else if(_.choice)g=this._encodeChoice(u,c);else if(_.contains)y=this._getUse(_.contains,d)._encode(u,c),b=!0;else if(_.children)y=_.children.map(function(A){if(A._baseState.tag==="null_")return A._encode(null,c,u);if(A._baseState.key===null)return c.error("Child should have a key");var D=c.enterKey(A._baseState.key);if(a(u)!=="object")return c.error("Child expected, but input is not object");var P=A._encode(u[A._baseState.key],c,u);return c.leaveKey(D),P},this).filter(function(A){return A}),y=this._createEncoderBuffer(y);else if(_.tag==="seqof"||_.tag==="setof"){if(!_.args||_.args.length!==1)return c.error("Too many args for : "+_.tag);if(!Array.isArray(u))return c.error("seqof/setof, but data is not Array");var C=this.clone();C._baseState.implicit=null,y=this._createEncoderBuffer(u.map(function(A){var D=this._baseState;return this._getUse(D.args[0],u)._encode(A,c)},C))}else _.use!==null?g=this._getUse(_.use,d)._encode(u,c):(y=this._encodePrimitive(_.tag,u),b=!0);if(!_.any&&_.choice===null){var w=_.implicit!==null?_.implicit:_.tag,x=_.implicit===null?"universal":"context";w===null?_.use===null&&c.error("Tag could be omitted only for .use()"):_.use===null&&(g=this._encodeComposite(w,b,x,y))}return _.explicit!==null&&(g=this._encodeComposite(_.explicit,!1,"context",g)),g},v.prototype._encodeChoice=function(u,c){var d=this._baseState,_=d.choice[u.type];return _||p(!1,u.type+" not found in "+JSON.stringify(Object.keys(d.choice))),_._encode(u.value,c)},v.prototype._encodePrimitive=function(u,c){var d=this._baseState;if(/str$/.test(u))return this._encodeStr(c,u);if(u==="objid"&&d.args)return this._encodeObjid(c,d.reverseArgs[0],d.args[1]);if(u==="objid")return this._encodeObjid(c,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(c,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(c,d.args&&d.reverseArgs[0]);if(u==="bool")return this._encodeBool(c);if(u==="objDesc")return this._encodeStr(c,u);throw new Error("Unsupported tag: "+u)},v.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},v.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":169,"../base/reporter":172,"minimalistic-assert":437}],172:[function(r,n,i){var a=r("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function s(l,p){this.path=l,this.rethrow(p)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof s},o.prototype.save=function(){var l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){var p=this._reporterState;p.obj=l.obj,p.path=p.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){var p=this._reporterState;p.path=p.path.slice(0,l-1)},o.prototype.leaveKey=function(l,p,h){var m=this._reporterState;this.exitKey(l),m.obj!==null&&(m.obj[p]=h)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){var l=this._reporterState,p=l.obj;return l.obj={},p},o.prototype.leaveObject=function(l){var p=this._reporterState,h=p.obj;return p.obj=l,h},o.prototype.error=function(l){var p,h=this._reporterState,m=l instanceof s;if(p=m?l:new s(h.path.map(function(v){return"["+JSON.stringify(v)+"]"}).join(""),l.message||l,l.stack),!h.options.partial)throw p;return m||h.errors.push(p),p},o.prototype.wrapResult=function(l){var p=this._reporterState;return p.options.partial?{result:this.isError(l)?null:l,errors:p.errors}:l},a(s,Error),s.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(p){this.stack=p.stack}return this}},{inherits:387}],173:[function(r,n,i){function a(o){var s={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);var p=o[l];s[p]=l}),s}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],174:[function(r,n,i){var a=i;a._reverse=function(o){var s={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);var p=o[l];s[p]=l}),s},a.der=r("./der")},{"./der":173}],175:[function(r,n,i){var a=r("inherits"),o=r("bn.js"),s=r("../base/buffer").DecoderBuffer,l=r("../base/node"),p=r("../constants/der");function h(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new m,this.tree._init(u.body)}function m(u){l.call(this,"der",u)}function v(u,c){var d=u.readUInt8(c);if(u.isError(d))return d;var _=p.tagClass[d>>6],g=(32&d)==0;if((31&d)==31){var y=d;for(d=0;(128&y)==128;){if(y=u.readUInt8(c),u.isError(y))return y;d<<=7,d|=127&y}}else d&=31;return{cls:_,primitive:g,tag:d,tagStr:p.tag[d]}}function f(u,c,d){var _=u.readUInt8(d);if(u.isError(_))return _;if(!c&&_===128)return null;if(!(128&_))return _;var g=127&_;if(g>4)return u.error("length octect is too long");_=0;for(var y=0;y<g;y++){_<<=8;var b=u.readUInt8(d);if(u.isError(b))return b;_|=b}return _}n.exports=h,h.prototype.decode=function(u,c){return s.isDecoderBuffer(u)||(u=new s(u,c)),this.tree._decode(u,c)},a(m,l),m.prototype._peekTag=function(u,c,d){if(u.isEmpty())return!1;var _=u.save(),g=v(u,'Failed to peek tag: "'+c+'"');return u.isError(g)?g:(u.restore(_),g.tag===c||g.tagStr===c||g.tagStr+"of"===c||d)},m.prototype._decodeTag=function(u,c,d){var _=v(u,'Failed to decode tag of "'+c+'"');if(u.isError(_))return _;var g=f(u,_.primitive,'Failed to get length of "'+c+'"');if(u.isError(g))return g;if(!d&&_.tag!==c&&_.tagStr!==c&&_.tagStr+"of"!==c)return u.error('Failed to match tag: "'+c+'"');if(_.primitive||g!==null)return u.skip(g,'Failed to match body of: "'+c+'"');var y=u.save(),b=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(b)?b:(g=u.offset-y.offset,u.restore(y),u.skip(g,'Failed to match body of: "'+c+'"'))},m.prototype._skipUntilEnd=function(u,c){for(;;){var d=v(u,c);if(u.isError(d))return d;var _=f(u,d.primitive,c);if(u.isError(_))return _;var g=void 0;if(g=d.primitive||_!==null?u.skip(_):this._skipUntilEnd(u,c),u.isError(g))return g;if(d.tagStr==="end")break}},m.prototype._decodeList=function(u,c,d,_){for(var g=[];!u.isEmpty();){var y=this._peekTag(u,"end");if(u.isError(y))return y;var b=d.decode(u,"der",_);if(u.isError(b)&&y)break;g.push(b)}return g},m.prototype._decodeStr=function(u,c){if(c==="bitstr"){var d=u.readUInt8();return u.isError(d)?d:{unused:d,data:u.raw()}}if(c==="bmpstr"){var _=u.raw();if(_.length%2==1)return u.error("Decoding of string type: bmpstr length mismatch");for(var g="",y=0;y<_.length/2;y++)g+=String.fromCharCode(_.readUInt16BE(2*y));return g}if(c==="numstr"){var b=u.raw().toString("ascii");return this._isNumstr(b)?b:u.error("Decoding of string type: numstr unsupported characters")}if(c==="octstr"||c==="objDesc")return u.raw();if(c==="printstr"){var C=u.raw().toString("ascii");return this._isPrintstr(C)?C:u.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(c)?u.raw().toString():u.error("Decoding of string type: "+c+" unsupported")},m.prototype._decodeObjid=function(u,c,d){for(var _,g=[],y=0,b=0;!u.isEmpty();)y<<=7,y|=127&(b=u.readUInt8()),!(128&b)&&(g.push(y),y=0);128&b&&g.push(y);var C=g[0]/40|0,w=g[0]%40;if(_=d?g:[C,w].concat(g.slice(1)),c){var x=c[_.join(" ")];x===void 0&&(x=c[_.join(".")]),x!==void 0&&(_=x)}return _},m.prototype._decodeTime=function(u,c){var d,_,g,y,b,C,w=u.raw().toString();if(c==="gentime")d=0|w.slice(0,4),_=0|w.slice(4,6),g=0|w.slice(6,8),y=0|w.slice(8,10),b=0|w.slice(10,12),C=0|w.slice(12,14);else{if(c!=="utctime")return u.error("Decoding "+c+" time is not supported yet");d=0|w.slice(0,2),_=0|w.slice(2,4),g=0|w.slice(4,6),y=0|w.slice(6,8),b=0|w.slice(8,10),C=0|w.slice(10,12),d=d<70?2e3+d:1900+d}return Date.UTC(d,_-1,g,y,b,C,0)},m.prototype._decodeNull=function(){return null},m.prototype._decodeBool=function(u){var c=u.readUInt8();return u.isError(c)?c:c!==0},m.prototype._decodeInt=function(u,c){var d=u.raw(),_=new o(d);return c&&(_=c[_.toString(10)]||_),_},m.prototype._use=function(u,c){return typeof u=="function"&&(u=u(c)),u._getDecoder("der").tree}},{"../base/buffer":169,"../base/node":171,"../constants/der":173,"bn.js":181,inherits:387}],176:[function(r,n,i){var a=i;a.der=r("./der"),a.pem=r("./pem")},{"./der":175,"./pem":177}],177:[function(r,n,i){var a=r("inherits"),o=r("safer-buffer").Buffer,s=r("./der");function l(p){s.call(this,p),this.enc="pem"}a(l,s),n.exports=l,l.prototype.decode=function(p,h){for(var m=p.toString().split(/[\r\n]+/g),v=h.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,u=-1,c=-1,d=0;d<m.length;d++){var _=m[d].match(f);if(_!==null&&_[2]===v){if(u!==-1){if(_[1]!=="END")break;c=d;break}if(_[1]!=="BEGIN")break;u=d}}if(u===-1||c===-1)throw new Error("PEM section not found for: "+v);var g=m.slice(u+1,c).join("");g.replace(/[^a-z0-9+/=]+/gi,"");var y=o.from(g,"base64");return s.prototype.decode.call(this,y,h)}},{"./der":175,inherits:387,"safer-buffer":495}],178:[function(r,n,i){var a=r("inherits"),o=r("safer-buffer").Buffer,s=r("../base/node"),l=r("../constants/der");function p(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new h,this.tree._init(v.body)}function h(v){s.call(this,"der",v)}function m(v){return v<10?"0"+v:v}n.exports=p,p.prototype.encode=function(v,f){return this.tree._encode(v,f).join()},a(h,s),h.prototype._encodeComposite=function(v,f,u,c){var d=function(x,A,D,P){var k;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),l.tagByName.hasOwnProperty(x))k=l.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return P.error("Unknown tag: "+x);k=x}return k>=31?P.error("Multi-octet tag encoding unsupported"):(A||(k|=32),k|=l.tagClassByName[D||"universal"]<<6)}(v,f,u,this.reporter);if(c.length<128){var _=o.alloc(2);return _[0]=d,_[1]=c.length,this._createEncoderBuffer([_,c])}for(var g=1,y=c.length;y>=256;y>>=8)g++;var b=o.alloc(2+g);b[0]=d,b[1]=128|g;for(var C=1+g,w=c.length;w>0;C--,w>>=8)b[C]=255&w;return this._createEncoderBuffer([b,c])},h.prototype._encodeStr=function(v,f){if(f==="bitstr")return this._createEncoderBuffer([0|v.unused,v.data]);if(f==="bmpstr"){for(var u=o.alloc(2*v.length),c=0;c<v.length;c++)u.writeUInt16BE(v.charCodeAt(c),2*c);return this._createEncoderBuffer(u)}return f==="numstr"?this._isNumstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: "+f+" unsupported")},h.prototype._encodeObjid=function(v,f,u){if(typeof v=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(v))return this.reporter.error("objid not found in values map");v=f[v].split(/[\s.]+/g);for(var c=0;c<v.length;c++)v[c]|=0}else if(Array.isArray(v)){v=v.slice();for(var d=0;d<v.length;d++)v[d]|=0}if(!Array.isArray(v))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(v));if(!u){if(v[1]>=40)return this.reporter.error("Second objid identifier OOB");v.splice(0,2,40*v[0]+v[1])}for(var _=0,g=0;g<v.length;g++){var y=v[g];for(_++;y>=128;y>>=7)_++}for(var b=o.alloc(_),C=b.length-1,w=v.length-1;w>=0;w--){var x=v[w];for(b[C--]=127&x;(x>>=7)>0;)b[C--]=128|127&x}return this._createEncoderBuffer(b)},h.prototype._encodeTime=function(v,f){var u,c=new Date(v);return f==="gentime"?u=[m(c.getUTCFullYear()),m(c.getUTCMonth()+1),m(c.getUTCDate()),m(c.getUTCHours()),m(c.getUTCMinutes()),m(c.getUTCSeconds()),"Z"].join(""):f==="utctime"?u=[m(c.getUTCFullYear()%100),m(c.getUTCMonth()+1),m(c.getUTCDate()),m(c.getUTCHours()),m(c.getUTCMinutes()),m(c.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(u,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(v,f){if(typeof v=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(v))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(v));v=f[v]}if(typeof v!="number"&&!o.isBuffer(v)){var u=v.toArray();!v.sign&&128&u[0]&&u.unshift(0),v=o.from(u)}if(o.isBuffer(v)){var c=v.length;v.length===0&&c++;var d=o.alloc(c);return v.copy(d),v.length===0&&(d[0]=0),this._createEncoderBuffer(d)}if(v<128)return this._createEncoderBuffer(v);if(v<256)return this._createEncoderBuffer([0,v]);for(var _=1,g=v;g>=256;g>>=8)_++;for(var y=new Array(_),b=y.length-1;b>=0;b--)y[b]=255&v,v>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},h.prototype._encodeBool=function(v){return this._createEncoderBuffer(v?255:0)},h.prototype._use=function(v,f){return typeof v=="function"&&(v=v(f)),v._getEncoder("der").tree},h.prototype._skipDefault=function(v,f,u){var c,d=this._baseState;if(d.default===null)return!1;var _=v.join();if(d.defaultBuffer===void 0&&(d.defaultBuffer=this._encodeValue(d.default,f,u).join()),_.length!==d.defaultBuffer.length)return!1;for(c=0;c<_.length;c++)if(_[c]!==d.defaultBuffer[c])return!1;return!0}},{"../base/node":171,"../constants/der":173,inherits:387,"safer-buffer":495}],179:[function(r,n,i){var a=i;a.der=r("./der"),a.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){var a=r("inherits"),o=r("./der");function s(l){o.call(this,l),this.enc="pem"}a(s,o),n.exports=s,s.prototype.encode=function(l,p){for(var h=o.prototype.encode.call(this,l).toString("base64"),m=["-----BEGIN "+p.label+"-----"],v=0;v<h.length;v+=64)m.push(h.slice(v,v+64));return m.push("-----END "+p.label+"-----"),m.join(`
`)}},{"./der":178,inherits:387}],181:[function(r,n,i){function a(o){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}(function(o,s){function l(E,O){if(!E)throw new Error(O||"Assertion failed")}function p(E,O){E.super_=O;var S=function(){};S.prototype=O.prototype,E.prototype=new S,E.prototype.constructor=E}function h(E,O,S){if(h.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(O!=="le"&&O!=="be"||(S=O,O=10),this._init(E||0,O||10,S||"be"))}var m;a(o)==="object"?o.exports=h:(void 0).BN=h,h.BN=h,h.wordSize=26;try{m=r("buffer").Buffer}catch{}function v(E,O,S){for(var R=0,T=Math.min(E.length,S),I=O;I<T;I++){var M=E.charCodeAt(I)-48;R<<=4,R|=M>=49&&M<=54?M-49+10:M>=17&&M<=22?M-17+10:15&M}return R}function f(E,O,S,R){for(var T=0,I=Math.min(E.length,S),M=O;M<I;M++){var N=E.charCodeAt(M)-48;T*=R,T+=N>=49?N-49+10:N>=17?N-17+10:N}return T}h.isBN=function(E){return E instanceof h||E!==null&&a(E)==="object"&&E.constructor.wordSize===h.wordSize&&Array.isArray(E.words)},h.max=function(E,O){return E.cmp(O)>0?E:O},h.min=function(E,O){return E.cmp(O)<0?E:O},h.prototype._init=function(E,O,S){if(typeof E=="number")return this._initNumber(E,O,S);if(a(E)==="object")return this._initArray(E,O,S);O==="hex"&&(O=16),l(O===(0|O)&&O>=2&&O<=36);var R=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&R++,O===16?this._parseHex(E,R):this._parseBase(E,O,R),E[0]==="-"&&(this.negative=1),this.strip(),S==="le"&&this._initArray(this.toArray(),O,S)},h.prototype._initNumber=function(E,O,S){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(l(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),O,S)},h.prototype._initArray=function(E,O,S){if(l(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var T,I,M=0;if(S==="be")for(R=E.length-1,T=0;R>=0;R-=3)I=E[R]|E[R-1]<<8|E[R-2]<<16,this.words[T]|=I<<M&67108863,this.words[T+1]=I>>>26-M&67108863,(M+=24)>=26&&(M-=26,T++);else if(S==="le")for(R=0,T=0;R<E.length;R+=3)I=E[R]|E[R+1]<<8|E[R+2]<<16,this.words[T]|=I<<M&67108863,this.words[T+1]=I>>>26-M&67108863,(M+=24)>=26&&(M-=26,T++);return this.strip()},h.prototype._parseHex=function(E,O){this.length=Math.ceil((E.length-O)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var R,T,I=0;for(S=E.length-6,R=0;S>=O;S-=6)T=v(E,S,S+6),this.words[R]|=T<<I&67108863,this.words[R+1]|=T>>>26-I&4194303,(I+=24)>=26&&(I-=26,R++);S+6!==O&&(T=v(E,O,S+6),this.words[R]|=T<<I&67108863,this.words[R+1]|=T>>>26-I&4194303),this.strip()},h.prototype._parseBase=function(E,O,S){this.words=[0],this.length=1;for(var R=0,T=1;T<=67108863;T*=O)R++;R--,T=T/O|0;for(var I=E.length-S,M=I%R,N=Math.min(I,I-M)+S,j=0,H=S;H<N;H+=R)j=f(E,H,H+R,O),this.imuln(T),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(M!==0){var U=1;for(j=f(E,H,E.length,O),H=0;H<M;H++)U*=O;this.imuln(U),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},h.prototype.copy=function(E){E.words=new Array(this.length);for(var O=0;O<this.length;O++)E.words[O]=this.words[O];E.length=this.length,E.negative=this.negative,E.red=this.red},h.prototype.clone=function(){var E=new h(null);return this.copy(E),E},h.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function _(E,O,S){S.negative=O.negative^E.negative;var R=E.length+O.length|0;S.length=R,R=R-1|0;var T=0|E.words[0],I=0|O.words[0],M=T*I,N=67108863&M,j=M/67108864|0;S.words[0]=N;for(var H=1;H<R;H++){for(var U=j>>>26,W=67108863&j,G=Math.min(H,O.length-1),K=Math.max(0,H-E.length+1);K<=G;K++){var Q=H-K|0;U+=(M=(T=0|E.words[Q])*(I=0|O.words[K])+W)/67108864|0,W=67108863&M}S.words[H]=0|W,j=0|U}return j!==0?S.words[H]=0|j:S.length--,S.strip()}h.prototype.toString=function(E,O){var S;if(O=0|O||1,(E=E||10)===16||E==="hex"){S="";for(var R=0,T=0,I=0;I<this.length;I++){var M=this.words[I],N=(16777215&(M<<R|T)).toString(16);S=(T=M>>>24-R&16777215)!==0||I!==this.length-1?u[6-N.length]+N+S:N+S,(R+=2)>=26&&(R-=26,I--)}for(T!==0&&(S=T.toString(16)+S);S.length%O!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(E===(0|E)&&E>=2&&E<=36){var j=c[E],H=d[E];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var W=U.modn(H).toString(E);S=(U=U.idivn(H)).isZero()?W+S:u[j-W.length]+W+S}for(this.isZero()&&(S="0"+S);S.length%O!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}l(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(E,O){return l(m!==void 0),this.toArrayLike(m,E,O)},h.prototype.toArray=function(E,O){return this.toArrayLike(Array,E,O)},h.prototype.toArrayLike=function(E,O,S){var R=this.byteLength(),T=S||Math.max(1,R);l(R<=T,"byte array longer than desired length"),l(T>0,"Requested array length <= 0"),this.strip();var I,M,N=O==="le",j=new E(T),H=this.clone();if(N){for(M=0;!H.isZero();M++)I=H.andln(255),H.iushrn(8),j[M]=I;for(;M<T;M++)j[M]=0}else{for(M=0;M<T-R;M++)j[M]=0;for(M=0;!H.isZero();M++)I=H.andln(255),H.iushrn(8),j[T-M-1]=I}return j},Math.clz32?h.prototype._countBits=function(E){return 32-Math.clz32(E)}:h.prototype._countBits=function(E){var O=E,S=0;return O>=4096&&(S+=13,O>>>=13),O>=64&&(S+=7,O>>>=7),O>=8&&(S+=4,O>>>=4),O>=2&&(S+=2,O>>>=2),S+O},h.prototype._zeroBits=function(E){if(E===0)return 26;var O=E,S=0;return!(8191&O)&&(S+=13,O>>>=13),!(127&O)&&(S+=7,O>>>=7),!(15&O)&&(S+=4,O>>>=4),!(3&O)&&(S+=2,O>>>=2),!(1&O)&&S++,S},h.prototype.bitLength=function(){var E=this.words[this.length-1],O=this._countBits(E);return 26*(this.length-1)+O},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,O=0;O<this.length;O++){var S=this._zeroBits(this.words[O]);if(E+=S,S!==26)break}return E},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},h.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var O=0;O<E.length;O++)this.words[O]=this.words[O]|E.words[O];return this.strip()},h.prototype.ior=function(E){return l((this.negative|E.negative)==0),this.iuor(E)},h.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},h.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},h.prototype.iuand=function(E){var O;O=this.length>E.length?E:this;for(var S=0;S<O.length;S++)this.words[S]=this.words[S]&E.words[S];return this.length=O.length,this.strip()},h.prototype.iand=function(E){return l((this.negative|E.negative)==0),this.iuand(E)},h.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},h.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},h.prototype.iuxor=function(E){var O,S;this.length>E.length?(O=this,S=E):(O=E,S=this);for(var R=0;R<S.length;R++)this.words[R]=O.words[R]^S.words[R];if(this!==O)for(;R<O.length;R++)this.words[R]=O.words[R];return this.length=O.length,this.strip()},h.prototype.ixor=function(E){return l((this.negative|E.negative)==0),this.iuxor(E)},h.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},h.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},h.prototype.inotn=function(E){l(typeof E=="number"&&E>=0);var O=0|Math.ceil(E/26),S=E%26;this._expand(O),S>0&&O--;for(var R=0;R<O;R++)this.words[R]=67108863&~this.words[R];return S>0&&(this.words[R]=~this.words[R]&67108863>>26-S),this.strip()},h.prototype.notn=function(E){return this.clone().inotn(E)},h.prototype.setn=function(E,O){l(typeof E=="number"&&E>=0);var S=E/26|0,R=E%26;return this._expand(S+1),this.words[S]=O?this.words[S]|1<<R:this.words[S]&~(1<<R),this.strip()},h.prototype.iadd=function(E){var O,S,R;if(this.negative!==0&&E.negative===0)return this.negative=0,O=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,O=this.isub(E),E.negative=1,O._normSign();this.length>E.length?(S=this,R=E):(S=E,R=this);for(var T=0,I=0;I<R.length;I++)O=(0|S.words[I])+(0|R.words[I])+T,this.words[I]=67108863&O,T=O>>>26;for(;T!==0&&I<S.length;I++)O=(0|S.words[I])+T,this.words[I]=67108863&O,T=O>>>26;if(this.length=S.length,T!==0)this.words[this.length]=T,this.length++;else if(S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this},h.prototype.add=function(E){var O;return E.negative!==0&&this.negative===0?(E.negative=0,O=this.sub(E),E.negative^=1,O):E.negative===0&&this.negative!==0?(this.negative=0,O=E.sub(this),this.negative=1,O):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},h.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var O=this.iadd(E);return E.negative=1,O._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var S,R,T=this.cmp(E);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(S=this,R=E):(S=E,R=this);for(var I=0,M=0;M<R.length;M++)I=(O=(0|S.words[M])-(0|R.words[M])+I)>>26,this.words[M]=67108863&O;for(;I!==0&&M<S.length;M++)I=(O=(0|S.words[M])+I)>>26,this.words[M]=67108863&O;if(I===0&&M<S.length&&S!==this)for(;M<S.length;M++)this.words[M]=S.words[M];return this.length=Math.max(this.length,M),S!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(E){return this.clone().isub(E)};var g=function(E,O,S){var R,T,I,M=E.words,N=O.words,j=S.words,H=0,U=0|M[0],W=8191&U,G=U>>>13,K=0|M[1],Q=8191&K,$=K>>>13,L=0|M[2],F=8191&L,z=L>>>13,Z=0|M[3],J=8191&Z,ee=Z>>>13,pe=0|M[4],le=8191&pe,ye=pe>>>13,ke=0|M[5],be=8191&ke,Je=ke>>>13,je=0|M[6],Be=8191&je,$e=je>>>13,nt=0|M[7],Se=8191&nt,re=nt>>>13,ue=0|M[8],se=8191&ue,me=ue>>>13,fe=0|M[9],ge=8191&fe,de=fe>>>13,Oe=0|N[0],Ie=8191&Oe,Ae=Oe>>>13,Ke=0|N[1],Le=8191&Ke,bt=Ke>>>13,dt=0|N[2],Ct=8191&dt,zt=dt>>>13,cr=0|N[3],mt=8191&cr,It=cr>>>13,De=0|N[4],wt=8191&De,tr=De>>>13,Qt=0|N[5],Ot=8191&Qt,lr=Qt>>>13,or=0|N[6],kt=8191&or,wr=or>>>13,ie=0|N[7],ce=8191&ie,Pe=ie>>>13,Ye=0|N[8],it=8191&Ye,ut=Ye>>>13,St=0|N[9],at=8191&St,$t=St>>>13;S.negative=E.negative^O.negative,S.length=19;var At=(H+(R=Math.imul(W,Ie))|0)+((8191&(T=(T=Math.imul(W,Ae))+Math.imul(G,Ie)|0))<<13)|0;H=((I=Math.imul(G,Ae))+(T>>>13)|0)+(At>>>26)|0,At&=67108863,R=Math.imul(Q,Ie),T=(T=Math.imul(Q,Ae))+Math.imul($,Ie)|0,I=Math.imul($,Ae);var Tt=(H+(R=R+Math.imul(W,Le)|0)|0)+((8191&(T=(T=T+Math.imul(W,bt)|0)+Math.imul(G,Le)|0))<<13)|0;H=((I=I+Math.imul(G,bt)|0)+(T>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,R=Math.imul(F,Ie),T=(T=Math.imul(F,Ae))+Math.imul(z,Ie)|0,I=Math.imul(z,Ae),R=R+Math.imul(Q,Le)|0,T=(T=T+Math.imul(Q,bt)|0)+Math.imul($,Le)|0,I=I+Math.imul($,bt)|0;var Fr=(H+(R=R+Math.imul(W,Ct)|0)|0)+((8191&(T=(T=T+Math.imul(W,zt)|0)+Math.imul(G,Ct)|0))<<13)|0;H=((I=I+Math.imul(G,zt)|0)+(T>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,R=Math.imul(J,Ie),T=(T=Math.imul(J,Ae))+Math.imul(ee,Ie)|0,I=Math.imul(ee,Ae),R=R+Math.imul(F,Le)|0,T=(T=T+Math.imul(F,bt)|0)+Math.imul(z,Le)|0,I=I+Math.imul(z,bt)|0,R=R+Math.imul(Q,Ct)|0,T=(T=T+Math.imul(Q,zt)|0)+Math.imul($,Ct)|0,I=I+Math.imul($,zt)|0;var zr=(H+(R=R+Math.imul(W,mt)|0)|0)+((8191&(T=(T=T+Math.imul(W,It)|0)+Math.imul(G,mt)|0))<<13)|0;H=((I=I+Math.imul(G,It)|0)+(T>>>13)|0)+(zr>>>26)|0,zr&=67108863,R=Math.imul(le,Ie),T=(T=Math.imul(le,Ae))+Math.imul(ye,Ie)|0,I=Math.imul(ye,Ae),R=R+Math.imul(J,Le)|0,T=(T=T+Math.imul(J,bt)|0)+Math.imul(ee,Le)|0,I=I+Math.imul(ee,bt)|0,R=R+Math.imul(F,Ct)|0,T=(T=T+Math.imul(F,zt)|0)+Math.imul(z,Ct)|0,I=I+Math.imul(z,zt)|0,R=R+Math.imul(Q,mt)|0,T=(T=T+Math.imul(Q,It)|0)+Math.imul($,mt)|0,I=I+Math.imul($,It)|0;var xr=(H+(R=R+Math.imul(W,wt)|0)|0)+((8191&(T=(T=T+Math.imul(W,tr)|0)+Math.imul(G,wt)|0))<<13)|0;H=((I=I+Math.imul(G,tr)|0)+(T>>>13)|0)+(xr>>>26)|0,xr&=67108863,R=Math.imul(be,Ie),T=(T=Math.imul(be,Ae))+Math.imul(Je,Ie)|0,I=Math.imul(Je,Ae),R=R+Math.imul(le,Le)|0,T=(T=T+Math.imul(le,bt)|0)+Math.imul(ye,Le)|0,I=I+Math.imul(ye,bt)|0,R=R+Math.imul(J,Ct)|0,T=(T=T+Math.imul(J,zt)|0)+Math.imul(ee,Ct)|0,I=I+Math.imul(ee,zt)|0,R=R+Math.imul(F,mt)|0,T=(T=T+Math.imul(F,It)|0)+Math.imul(z,mt)|0,I=I+Math.imul(z,It)|0,R=R+Math.imul(Q,wt)|0,T=(T=T+Math.imul(Q,tr)|0)+Math.imul($,wt)|0,I=I+Math.imul($,tr)|0;var nn=(H+(R=R+Math.imul(W,Ot)|0)|0)+((8191&(T=(T=T+Math.imul(W,lr)|0)+Math.imul(G,Ot)|0))<<13)|0;H=((I=I+Math.imul(G,lr)|0)+(T>>>13)|0)+(nn>>>26)|0,nn&=67108863,R=Math.imul(Be,Ie),T=(T=Math.imul(Be,Ae))+Math.imul($e,Ie)|0,I=Math.imul($e,Ae),R=R+Math.imul(be,Le)|0,T=(T=T+Math.imul(be,bt)|0)+Math.imul(Je,Le)|0,I=I+Math.imul(Je,bt)|0,R=R+Math.imul(le,Ct)|0,T=(T=T+Math.imul(le,zt)|0)+Math.imul(ye,Ct)|0,I=I+Math.imul(ye,zt)|0,R=R+Math.imul(J,mt)|0,T=(T=T+Math.imul(J,It)|0)+Math.imul(ee,mt)|0,I=I+Math.imul(ee,It)|0,R=R+Math.imul(F,wt)|0,T=(T=T+Math.imul(F,tr)|0)+Math.imul(z,wt)|0,I=I+Math.imul(z,tr)|0,R=R+Math.imul(Q,Ot)|0,T=(T=T+Math.imul(Q,lr)|0)+Math.imul($,Ot)|0,I=I+Math.imul($,lr)|0;var an=(H+(R=R+Math.imul(W,kt)|0)|0)+((8191&(T=(T=T+Math.imul(W,wr)|0)+Math.imul(G,kt)|0))<<13)|0;H=((I=I+Math.imul(G,wr)|0)+(T>>>13)|0)+(an>>>26)|0,an&=67108863,R=Math.imul(Se,Ie),T=(T=Math.imul(Se,Ae))+Math.imul(re,Ie)|0,I=Math.imul(re,Ae),R=R+Math.imul(Be,Le)|0,T=(T=T+Math.imul(Be,bt)|0)+Math.imul($e,Le)|0,I=I+Math.imul($e,bt)|0,R=R+Math.imul(be,Ct)|0,T=(T=T+Math.imul(be,zt)|0)+Math.imul(Je,Ct)|0,I=I+Math.imul(Je,zt)|0,R=R+Math.imul(le,mt)|0,T=(T=T+Math.imul(le,It)|0)+Math.imul(ye,mt)|0,I=I+Math.imul(ye,It)|0,R=R+Math.imul(J,wt)|0,T=(T=T+Math.imul(J,tr)|0)+Math.imul(ee,wt)|0,I=I+Math.imul(ee,tr)|0,R=R+Math.imul(F,Ot)|0,T=(T=T+Math.imul(F,lr)|0)+Math.imul(z,Ot)|0,I=I+Math.imul(z,lr)|0,R=R+Math.imul(Q,kt)|0,T=(T=T+Math.imul(Q,wr)|0)+Math.imul($,kt)|0,I=I+Math.imul($,wr)|0;var Zn=(H+(R=R+Math.imul(W,ce)|0)|0)+((8191&(T=(T=T+Math.imul(W,Pe)|0)+Math.imul(G,ce)|0))<<13)|0;H=((I=I+Math.imul(G,Pe)|0)+(T>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,R=Math.imul(se,Ie),T=(T=Math.imul(se,Ae))+Math.imul(me,Ie)|0,I=Math.imul(me,Ae),R=R+Math.imul(Se,Le)|0,T=(T=T+Math.imul(Se,bt)|0)+Math.imul(re,Le)|0,I=I+Math.imul(re,bt)|0,R=R+Math.imul(Be,Ct)|0,T=(T=T+Math.imul(Be,zt)|0)+Math.imul($e,Ct)|0,I=I+Math.imul($e,zt)|0,R=R+Math.imul(be,mt)|0,T=(T=T+Math.imul(be,It)|0)+Math.imul(Je,mt)|0,I=I+Math.imul(Je,It)|0,R=R+Math.imul(le,wt)|0,T=(T=T+Math.imul(le,tr)|0)+Math.imul(ye,wt)|0,I=I+Math.imul(ye,tr)|0,R=R+Math.imul(J,Ot)|0,T=(T=T+Math.imul(J,lr)|0)+Math.imul(ee,Ot)|0,I=I+Math.imul(ee,lr)|0,R=R+Math.imul(F,kt)|0,T=(T=T+Math.imul(F,wr)|0)+Math.imul(z,kt)|0,I=I+Math.imul(z,wr)|0,R=R+Math.imul(Q,ce)|0,T=(T=T+Math.imul(Q,Pe)|0)+Math.imul($,ce)|0,I=I+Math.imul($,Pe)|0;var ne=(H+(R=R+Math.imul(W,it)|0)|0)+((8191&(T=(T=T+Math.imul(W,ut)|0)+Math.imul(G,it)|0))<<13)|0;H=((I=I+Math.imul(G,ut)|0)+(T>>>13)|0)+(ne>>>26)|0,ne&=67108863,R=Math.imul(ge,Ie),T=(T=Math.imul(ge,Ae))+Math.imul(de,Ie)|0,I=Math.imul(de,Ae),R=R+Math.imul(se,Le)|0,T=(T=T+Math.imul(se,bt)|0)+Math.imul(me,Le)|0,I=I+Math.imul(me,bt)|0,R=R+Math.imul(Se,Ct)|0,T=(T=T+Math.imul(Se,zt)|0)+Math.imul(re,Ct)|0,I=I+Math.imul(re,zt)|0,R=R+Math.imul(Be,mt)|0,T=(T=T+Math.imul(Be,It)|0)+Math.imul($e,mt)|0,I=I+Math.imul($e,It)|0,R=R+Math.imul(be,wt)|0,T=(T=T+Math.imul(be,tr)|0)+Math.imul(Je,wt)|0,I=I+Math.imul(Je,tr)|0,R=R+Math.imul(le,Ot)|0,T=(T=T+Math.imul(le,lr)|0)+Math.imul(ye,Ot)|0,I=I+Math.imul(ye,lr)|0,R=R+Math.imul(J,kt)|0,T=(T=T+Math.imul(J,wr)|0)+Math.imul(ee,kt)|0,I=I+Math.imul(ee,wr)|0,R=R+Math.imul(F,ce)|0,T=(T=T+Math.imul(F,Pe)|0)+Math.imul(z,ce)|0,I=I+Math.imul(z,Pe)|0,R=R+Math.imul(Q,it)|0,T=(T=T+Math.imul(Q,ut)|0)+Math.imul($,it)|0,I=I+Math.imul($,ut)|0;var _e=(H+(R=R+Math.imul(W,at)|0)|0)+((8191&(T=(T=T+Math.imul(W,$t)|0)+Math.imul(G,at)|0))<<13)|0;H=((I=I+Math.imul(G,$t)|0)+(T>>>13)|0)+(_e>>>26)|0,_e&=67108863,R=Math.imul(ge,Le),T=(T=Math.imul(ge,bt))+Math.imul(de,Le)|0,I=Math.imul(de,bt),R=R+Math.imul(se,Ct)|0,T=(T=T+Math.imul(se,zt)|0)+Math.imul(me,Ct)|0,I=I+Math.imul(me,zt)|0,R=R+Math.imul(Se,mt)|0,T=(T=T+Math.imul(Se,It)|0)+Math.imul(re,mt)|0,I=I+Math.imul(re,It)|0,R=R+Math.imul(Be,wt)|0,T=(T=T+Math.imul(Be,tr)|0)+Math.imul($e,wt)|0,I=I+Math.imul($e,tr)|0,R=R+Math.imul(be,Ot)|0,T=(T=T+Math.imul(be,lr)|0)+Math.imul(Je,Ot)|0,I=I+Math.imul(Je,lr)|0,R=R+Math.imul(le,kt)|0,T=(T=T+Math.imul(le,wr)|0)+Math.imul(ye,kt)|0,I=I+Math.imul(ye,wr)|0,R=R+Math.imul(J,ce)|0,T=(T=T+Math.imul(J,Pe)|0)+Math.imul(ee,ce)|0,I=I+Math.imul(ee,Pe)|0,R=R+Math.imul(F,it)|0,T=(T=T+Math.imul(F,ut)|0)+Math.imul(z,it)|0,I=I+Math.imul(z,ut)|0;var Re=(H+(R=R+Math.imul(Q,at)|0)|0)+((8191&(T=(T=T+Math.imul(Q,$t)|0)+Math.imul($,at)|0))<<13)|0;H=((I=I+Math.imul($,$t)|0)+(T>>>13)|0)+(Re>>>26)|0,Re&=67108863,R=Math.imul(ge,Ct),T=(T=Math.imul(ge,zt))+Math.imul(de,Ct)|0,I=Math.imul(de,zt),R=R+Math.imul(se,mt)|0,T=(T=T+Math.imul(se,It)|0)+Math.imul(me,mt)|0,I=I+Math.imul(me,It)|0,R=R+Math.imul(Se,wt)|0,T=(T=T+Math.imul(Se,tr)|0)+Math.imul(re,wt)|0,I=I+Math.imul(re,tr)|0,R=R+Math.imul(Be,Ot)|0,T=(T=T+Math.imul(Be,lr)|0)+Math.imul($e,Ot)|0,I=I+Math.imul($e,lr)|0,R=R+Math.imul(be,kt)|0,T=(T=T+Math.imul(be,wr)|0)+Math.imul(Je,kt)|0,I=I+Math.imul(Je,wr)|0,R=R+Math.imul(le,ce)|0,T=(T=T+Math.imul(le,Pe)|0)+Math.imul(ye,ce)|0,I=I+Math.imul(ye,Pe)|0,R=R+Math.imul(J,it)|0,T=(T=T+Math.imul(J,ut)|0)+Math.imul(ee,it)|0,I=I+Math.imul(ee,ut)|0;var Fe=(H+(R=R+Math.imul(F,at)|0)|0)+((8191&(T=(T=T+Math.imul(F,$t)|0)+Math.imul(z,at)|0))<<13)|0;H=((I=I+Math.imul(z,$t)|0)+(T>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,R=Math.imul(ge,mt),T=(T=Math.imul(ge,It))+Math.imul(de,mt)|0,I=Math.imul(de,It),R=R+Math.imul(se,wt)|0,T=(T=T+Math.imul(se,tr)|0)+Math.imul(me,wt)|0,I=I+Math.imul(me,tr)|0,R=R+Math.imul(Se,Ot)|0,T=(T=T+Math.imul(Se,lr)|0)+Math.imul(re,Ot)|0,I=I+Math.imul(re,lr)|0,R=R+Math.imul(Be,kt)|0,T=(T=T+Math.imul(Be,wr)|0)+Math.imul($e,kt)|0,I=I+Math.imul($e,wr)|0,R=R+Math.imul(be,ce)|0,T=(T=T+Math.imul(be,Pe)|0)+Math.imul(Je,ce)|0,I=I+Math.imul(Je,Pe)|0,R=R+Math.imul(le,it)|0,T=(T=T+Math.imul(le,ut)|0)+Math.imul(ye,it)|0,I=I+Math.imul(ye,ut)|0;var ct=(H+(R=R+Math.imul(J,at)|0)|0)+((8191&(T=(T=T+Math.imul(J,$t)|0)+Math.imul(ee,at)|0))<<13)|0;H=((I=I+Math.imul(ee,$t)|0)+(T>>>13)|0)+(ct>>>26)|0,ct&=67108863,R=Math.imul(ge,wt),T=(T=Math.imul(ge,tr))+Math.imul(de,wt)|0,I=Math.imul(de,tr),R=R+Math.imul(se,Ot)|0,T=(T=T+Math.imul(se,lr)|0)+Math.imul(me,Ot)|0,I=I+Math.imul(me,lr)|0,R=R+Math.imul(Se,kt)|0,T=(T=T+Math.imul(Se,wr)|0)+Math.imul(re,kt)|0,I=I+Math.imul(re,wr)|0,R=R+Math.imul(Be,ce)|0,T=(T=T+Math.imul(Be,Pe)|0)+Math.imul($e,ce)|0,I=I+Math.imul($e,Pe)|0,R=R+Math.imul(be,it)|0,T=(T=T+Math.imul(be,ut)|0)+Math.imul(Je,it)|0,I=I+Math.imul(Je,ut)|0;var ze=(H+(R=R+Math.imul(le,at)|0)|0)+((8191&(T=(T=T+Math.imul(le,$t)|0)+Math.imul(ye,at)|0))<<13)|0;H=((I=I+Math.imul(ye,$t)|0)+(T>>>13)|0)+(ze>>>26)|0,ze&=67108863,R=Math.imul(ge,Ot),T=(T=Math.imul(ge,lr))+Math.imul(de,Ot)|0,I=Math.imul(de,lr),R=R+Math.imul(se,kt)|0,T=(T=T+Math.imul(se,wr)|0)+Math.imul(me,kt)|0,I=I+Math.imul(me,wr)|0,R=R+Math.imul(Se,ce)|0,T=(T=T+Math.imul(Se,Pe)|0)+Math.imul(re,ce)|0,I=I+Math.imul(re,Pe)|0,R=R+Math.imul(Be,it)|0,T=(T=T+Math.imul(Be,ut)|0)+Math.imul($e,it)|0,I=I+Math.imul($e,ut)|0;var Xe=(H+(R=R+Math.imul(be,at)|0)|0)+((8191&(T=(T=T+Math.imul(be,$t)|0)+Math.imul(Je,at)|0))<<13)|0;H=((I=I+Math.imul(Je,$t)|0)+(T>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,R=Math.imul(ge,kt),T=(T=Math.imul(ge,wr))+Math.imul(de,kt)|0,I=Math.imul(de,wr),R=R+Math.imul(se,ce)|0,T=(T=T+Math.imul(se,Pe)|0)+Math.imul(me,ce)|0,I=I+Math.imul(me,Pe)|0,R=R+Math.imul(Se,it)|0,T=(T=T+Math.imul(Se,ut)|0)+Math.imul(re,it)|0,I=I+Math.imul(re,ut)|0;var Vt=(H+(R=R+Math.imul(Be,at)|0)|0)+((8191&(T=(T=T+Math.imul(Be,$t)|0)+Math.imul($e,at)|0))<<13)|0;H=((I=I+Math.imul($e,$t)|0)+(T>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,R=Math.imul(ge,ce),T=(T=Math.imul(ge,Pe))+Math.imul(de,ce)|0,I=Math.imul(de,Pe),R=R+Math.imul(se,it)|0,T=(T=T+Math.imul(se,ut)|0)+Math.imul(me,it)|0,I=I+Math.imul(me,ut)|0;var Nt=(H+(R=R+Math.imul(Se,at)|0)|0)+((8191&(T=(T=T+Math.imul(Se,$t)|0)+Math.imul(re,at)|0))<<13)|0;H=((I=I+Math.imul(re,$t)|0)+(T>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,R=Math.imul(ge,it),T=(T=Math.imul(ge,ut))+Math.imul(de,it)|0,I=Math.imul(de,ut);var Lt=(H+(R=R+Math.imul(se,at)|0)|0)+((8191&(T=(T=T+Math.imul(se,$t)|0)+Math.imul(me,at)|0))<<13)|0;H=((I=I+Math.imul(me,$t)|0)+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var gt=(H+(R=Math.imul(ge,at))|0)+((8191&(T=(T=Math.imul(ge,$t))+Math.imul(de,at)|0))<<13)|0;return H=((I=Math.imul(de,$t))+(T>>>13)|0)+(gt>>>26)|0,gt&=67108863,j[0]=At,j[1]=Tt,j[2]=Fr,j[3]=zr,j[4]=xr,j[5]=nn,j[6]=an,j[7]=Zn,j[8]=ne,j[9]=_e,j[10]=Re,j[11]=Fe,j[12]=ct,j[13]=ze,j[14]=Xe,j[15]=Vt,j[16]=Nt,j[17]=Lt,j[18]=gt,H!==0&&(j[19]=H,S.length++),S};function y(E,O,S){return new b().mulp(E,O,S)}function b(E,O){this.x=E,this.y=O}Math.imul||(g=_),h.prototype.mulTo=function(E,O){var S=this.length+E.length;return this.length===10&&E.length===10?g(this,E,O):S<63?_(this,E,O):S<1024?function(R,T,I){I.negative=T.negative^R.negative,I.length=R.length+T.length;for(var M=0,N=0,j=0;j<I.length-1;j++){var H=N;N=0;for(var U=67108863&M,W=Math.min(j,T.length-1),G=Math.max(0,j-R.length+1);G<=W;G++){var K=j-G,Q=(0|R.words[K])*(0|T.words[G]),$=67108863&Q;U=67108863&($=$+U|0),N+=(H=(H=H+(Q/67108864|0)|0)+($>>>26)|0)>>>26,H&=67108863}I.words[j]=U,M=H,H=N}return M!==0?I.words[j]=M:I.length--,I.strip()}(this,E,O):y(this,E,O)},b.prototype.makeRBT=function(E){for(var O=new Array(E),S=h.prototype._countBits(E)-1,R=0;R<E;R++)O[R]=this.revBin(R,S,E);return O},b.prototype.revBin=function(E,O,S){if(E===0||E===S-1)return E;for(var R=0,T=0;T<O;T++)R|=(1&E)<<O-T-1,E>>=1;return R},b.prototype.permute=function(E,O,S,R,T,I){for(var M=0;M<I;M++)R[M]=O[E[M]],T[M]=S[E[M]]},b.prototype.transform=function(E,O,S,R,T,I){this.permute(I,E,O,S,R,T);for(var M=1;M<T;M<<=1)for(var N=M<<1,j=Math.cos(2*Math.PI/N),H=Math.sin(2*Math.PI/N),U=0;U<T;U+=N)for(var W=j,G=H,K=0;K<M;K++){var Q=S[U+K],$=R[U+K],L=S[U+K+M],F=R[U+K+M],z=W*L-G*F;F=W*F+G*L,L=z,S[U+K]=Q+L,R[U+K]=$+F,S[U+K+M]=Q-L,R[U+K+M]=$-F,K!==N&&(z=j*W-H*G,G=j*G+H*W,W=z)}},b.prototype.guessLen13b=function(E,O){var S=1|Math.max(O,E),R=1&S,T=0;for(S=S/2|0;S;S>>>=1)T++;return 1<<T+1+R},b.prototype.conjugate=function(E,O,S){if(!(S<=1))for(var R=0;R<S/2;R++){var T=E[R];E[R]=E[S-R-1],E[S-R-1]=T,T=O[R],O[R]=-O[S-R-1],O[S-R-1]=-T}},b.prototype.normalize13b=function(E,O){for(var S=0,R=0;R<O/2;R++){var T=8192*Math.round(E[2*R+1]/O)+Math.round(E[2*R]/O)+S;E[R]=67108863&T,S=T<67108864?0:T/67108864|0}return E},b.prototype.convert13b=function(E,O,S,R){for(var T=0,I=0;I<O;I++)T+=0|E[I],S[2*I]=8191&T,T>>>=13,S[2*I+1]=8191&T,T>>>=13;for(I=2*O;I<R;++I)S[I]=0;l(T===0),l((-8192&T)==0)},b.prototype.stub=function(E){for(var O=new Array(E),S=0;S<E;S++)O[S]=0;return O},b.prototype.mulp=function(E,O,S){var R=2*this.guessLen13b(E.length,O.length),T=this.makeRBT(R),I=this.stub(R),M=new Array(R),N=new Array(R),j=new Array(R),H=new Array(R),U=new Array(R),W=new Array(R),G=S.words;G.length=R,this.convert13b(E.words,E.length,M,R),this.convert13b(O.words,O.length,H,R),this.transform(M,I,N,j,R,T),this.transform(H,I,U,W,R,T);for(var K=0;K<R;K++){var Q=N[K]*U[K]-j[K]*W[K];j[K]=N[K]*W[K]+j[K]*U[K],N[K]=Q}return this.conjugate(N,j,R),this.transform(N,j,G,I,R,T),this.conjugate(G,I,R),this.normalize13b(G,R),S.negative=E.negative^O.negative,S.length=E.length+O.length,S.strip()},h.prototype.mul=function(E){var O=new h(null);return O.words=new Array(this.length+E.length),this.mulTo(E,O)},h.prototype.mulf=function(E){var O=new h(null);return O.words=new Array(this.length+E.length),y(this,E,O)},h.prototype.imul=function(E){return this.clone().mulTo(E,this)},h.prototype.imuln=function(E){l(typeof E=="number"),l(E<67108864);for(var O=0,S=0;S<this.length;S++){var R=(0|this.words[S])*E,T=(67108863&R)+(67108863&O);O>>=26,O+=R/67108864|0,O+=T>>>26,this.words[S]=67108863&T}return O!==0&&(this.words[S]=O,this.length++),this},h.prototype.muln=function(E){return this.clone().imuln(E)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(E){var O=function(I){for(var M=new Array(I.bitLength()),N=0;N<M.length;N++){var j=N/26|0,H=N%26;M[N]=(I.words[j]&1<<H)>>>H}return M}(E);if(O.length===0)return new h(1);for(var S=this,R=0;R<O.length&&O[R]===0;R++,S=S.sqr());if(++R<O.length)for(var T=S.sqr();R<O.length;R++,T=T.sqr())O[R]!==0&&(S=S.mul(T));return S},h.prototype.iushln=function(E){l(typeof E=="number"&&E>=0);var O,S=E%26,R=(E-S)/26,T=67108863>>>26-S<<26-S;if(S!==0){var I=0;for(O=0;O<this.length;O++){var M=this.words[O]&T,N=(0|this.words[O])-M<<S;this.words[O]=N|I,I=M>>>26-S}I&&(this.words[O]=I,this.length++)}if(R!==0){for(O=this.length-1;O>=0;O--)this.words[O+R]=this.words[O];for(O=0;O<R;O++)this.words[O]=0;this.length+=R}return this.strip()},h.prototype.ishln=function(E){return l(this.negative===0),this.iushln(E)},h.prototype.iushrn=function(E,O,S){var R;l(typeof E=="number"&&E>=0),R=O?(O-O%26)/26:0;var T=E%26,I=Math.min((E-T)/26,this.length),M=67108863^67108863>>>T<<T,N=S;if(R-=I,R=Math.max(0,R),N){for(var j=0;j<I;j++)N.words[j]=this.words[j];N.length=I}if(I!==0)if(this.length>I)for(this.length-=I,j=0;j<this.length;j++)this.words[j]=this.words[j+I];else this.words[0]=0,this.length=1;var H=0;for(j=this.length-1;j>=0&&(H!==0||j>=R);j--){var U=0|this.words[j];this.words[j]=H<<26-T|U>>>T,H=U&M}return N&&H!==0&&(N.words[N.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(E,O,S){return l(this.negative===0),this.iushrn(E,O,S)},h.prototype.shln=function(E){return this.clone().ishln(E)},h.prototype.ushln=function(E){return this.clone().iushln(E)},h.prototype.shrn=function(E){return this.clone().ishrn(E)},h.prototype.ushrn=function(E){return this.clone().iushrn(E)},h.prototype.testn=function(E){l(typeof E=="number"&&E>=0);var O=E%26,S=(E-O)/26,R=1<<O;return!(this.length<=S)&&!!(this.words[S]&R)},h.prototype.imaskn=function(E){l(typeof E=="number"&&E>=0);var O=E%26,S=(E-O)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(O!==0&&S++,this.length=Math.min(S,this.length),O!==0){var R=67108863^67108863>>>O<<O;this.words[this.length-1]&=R}return this.strip()},h.prototype.maskn=function(E){return this.clone().imaskn(E)},h.prototype.iaddn=function(E){return l(typeof E=="number"),l(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},h.prototype._iaddn=function(E){this.words[0]+=E;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},h.prototype.isubn=function(E){if(l(typeof E=="number"),l(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},h.prototype.addn=function(E){return this.clone().iaddn(E)},h.prototype.subn=function(E){return this.clone().isubn(E)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(E,O,S){var R,T,I=E.length+S;this._expand(I);var M=0;for(R=0;R<E.length;R++){T=(0|this.words[R+S])+M;var N=(0|E.words[R])*O;M=((T-=67108863&N)>>26)-(N/67108864|0),this.words[R+S]=67108863&T}for(;R<this.length-S;R++)M=(T=(0|this.words[R+S])+M)>>26,this.words[R+S]=67108863&T;if(M===0)return this.strip();for(l(M===-1),M=0,R=0;R<this.length;R++)M=(T=-(0|this.words[R])+M)>>26,this.words[R]=67108863&T;return this.negative=1,this.strip()},h.prototype._wordDiv=function(E,O){var S=(this.length,E.length),R=this.clone(),T=E,I=0|T.words[T.length-1];(S=26-this._countBits(I))!==0&&(T=T.ushln(S),R.iushln(S),I=0|T.words[T.length-1]);var M,N=R.length-T.length;if(O!=="mod"){(M=new h(null)).length=N+1,M.words=new Array(M.length);for(var j=0;j<M.length;j++)M.words[j]=0}var H=R.clone()._ishlnsubmul(T,1,N);H.negative===0&&(R=H,M&&(M.words[N]=1));for(var U=N-1;U>=0;U--){var W=67108864*(0|R.words[T.length+U])+(0|R.words[T.length+U-1]);for(W=Math.min(W/I|0,67108863),R._ishlnsubmul(T,W,U);R.negative!==0;)W--,R.negative=0,R._ishlnsubmul(T,1,U),R.isZero()||(R.negative^=1);M&&(M.words[U]=W)}return M&&M.strip(),R.strip(),O!=="div"&&S!==0&&R.iushrn(S),{div:M||null,mod:R}},h.prototype.divmod=function(E,O,S){return l(!E.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:this.negative!==0&&E.negative===0?(I=this.neg().divmod(E,O),O!=="mod"&&(R=I.div.neg()),O!=="div"&&(T=I.mod.neg(),S&&T.negative!==0&&T.iadd(E)),{div:R,mod:T}):this.negative===0&&E.negative!==0?(I=this.divmod(E.neg(),O),O!=="mod"&&(R=I.div.neg()),{div:R,mod:I.mod}):this.negative&E.negative?(I=this.neg().divmod(E.neg(),O),O!=="div"&&(T=I.mod.neg(),S&&T.negative!==0&&T.isub(E)),{div:I.div,mod:T}):E.length>this.length||this.cmp(E)<0?{div:new h(0),mod:this}:E.length===1?O==="div"?{div:this.divn(E.words[0]),mod:null}:O==="mod"?{div:null,mod:new h(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new h(this.modn(E.words[0]))}:this._wordDiv(E,O);var R,T,I},h.prototype.div=function(E){return this.divmod(E,"div",!1).div},h.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},h.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},h.prototype.divRound=function(E){var O=this.divmod(E);if(O.mod.isZero())return O.div;var S=O.div.negative!==0?O.mod.isub(E):O.mod,R=E.ushrn(1),T=E.andln(1),I=S.cmp(R);return I<0||T===1&&I===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},h.prototype.modn=function(E){l(E<=67108863);for(var O=(1<<26)%E,S=0,R=this.length-1;R>=0;R--)S=(O*S+(0|this.words[R]))%E;return S},h.prototype.idivn=function(E){l(E<=67108863);for(var O=0,S=this.length-1;S>=0;S--){var R=(0|this.words[S])+67108864*O;this.words[S]=R/E|0,O=R%E}return this.strip()},h.prototype.divn=function(E){return this.clone().idivn(E)},h.prototype.egcd=function(E){l(E.negative===0),l(!E.isZero());var O=this,S=E.clone();O=O.negative!==0?O.umod(E):O.clone();for(var R=new h(1),T=new h(0),I=new h(0),M=new h(1),N=0;O.isEven()&&S.isEven();)O.iushrn(1),S.iushrn(1),++N;for(var j=S.clone(),H=O.clone();!O.isZero();){for(var U=0,W=1;!(O.words[0]&W)&&U<26;++U,W<<=1);if(U>0)for(O.iushrn(U);U-- >0;)(R.isOdd()||T.isOdd())&&(R.iadd(j),T.isub(H)),R.iushrn(1),T.iushrn(1);for(var G=0,K=1;!(S.words[0]&K)&&G<26;++G,K<<=1);if(G>0)for(S.iushrn(G);G-- >0;)(I.isOdd()||M.isOdd())&&(I.iadd(j),M.isub(H)),I.iushrn(1),M.iushrn(1);O.cmp(S)>=0?(O.isub(S),R.isub(I),T.isub(M)):(S.isub(O),I.isub(R),M.isub(T))}return{a:I,b:M,gcd:S.iushln(N)}},h.prototype._invmp=function(E){l(E.negative===0),l(!E.isZero());var O=this,S=E.clone();O=O.negative!==0?O.umod(E):O.clone();for(var R,T=new h(1),I=new h(0),M=S.clone();O.cmpn(1)>0&&S.cmpn(1)>0;){for(var N=0,j=1;!(O.words[0]&j)&&N<26;++N,j<<=1);if(N>0)for(O.iushrn(N);N-- >0;)T.isOdd()&&T.iadd(M),T.iushrn(1);for(var H=0,U=1;!(S.words[0]&U)&&H<26;++H,U<<=1);if(H>0)for(S.iushrn(H);H-- >0;)I.isOdd()&&I.iadd(M),I.iushrn(1);O.cmp(S)>=0?(O.isub(S),T.isub(I)):(S.isub(O),I.isub(T))}return(R=O.cmpn(1)===0?T:I).cmpn(0)<0&&R.iadd(E),R},h.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var O=this.clone(),S=E.clone();O.negative=0,S.negative=0;for(var R=0;O.isEven()&&S.isEven();R++)O.iushrn(1),S.iushrn(1);for(;;){for(;O.isEven();)O.iushrn(1);for(;S.isEven();)S.iushrn(1);var T=O.cmp(S);if(T<0){var I=O;O=S,S=I}else if(T===0||S.cmpn(1)===0)break;O.isub(S)}return S.iushln(R)},h.prototype.invm=function(E){return this.egcd(E).a.umod(E)},h.prototype.isEven=function(){return(1&this.words[0])==0},h.prototype.isOdd=function(){return(1&this.words[0])==1},h.prototype.andln=function(E){return this.words[0]&E},h.prototype.bincn=function(E){l(typeof E=="number");var O=E%26,S=(E-O)/26,R=1<<O;if(this.length<=S)return this._expand(S+1),this.words[S]|=R,this;for(var T=R,I=S;T!==0&&I<this.length;I++){var M=0|this.words[I];T=(M+=T)>>>26,M&=67108863,this.words[I]=M}return T!==0&&(this.words[I]=T,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(E){var O,S=E<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this.strip(),this.length>1)O=1;else{S&&(E=-E),l(E<=67108863,"Number is too big");var R=0|this.words[0];O=R===E?0:R<E?-1:1}return this.negative!==0?0|-O:O},h.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var O=this.ucmp(E);return this.negative!==0?0|-O:O},h.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var O=0,S=this.length-1;S>=0;S--){var R=0|this.words[S],T=0|E.words[S];if(R!==T){R<T?O=-1:R>T&&(O=1);break}}return O},h.prototype.gtn=function(E){return this.cmpn(E)===1},h.prototype.gt=function(E){return this.cmp(E)===1},h.prototype.gten=function(E){return this.cmpn(E)>=0},h.prototype.gte=function(E){return this.cmp(E)>=0},h.prototype.ltn=function(E){return this.cmpn(E)===-1},h.prototype.lt=function(E){return this.cmp(E)===-1},h.prototype.lten=function(E){return this.cmpn(E)<=0},h.prototype.lte=function(E){return this.cmp(E)<=0},h.prototype.eqn=function(E){return this.cmpn(E)===0},h.prototype.eq=function(E){return this.cmp(E)===0},h.red=function(E){return new k(E)},h.prototype.toRed=function(E){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},h.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(E){return this.red=E,this},h.prototype.forceRed=function(E){return l(!this.red,"Already a number in reduction context"),this._forceRed(E)},h.prototype.redAdd=function(E){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},h.prototype.redIAdd=function(E){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},h.prototype.redSub=function(E){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},h.prototype.redISub=function(E){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},h.prototype.redShl=function(E){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},h.prototype.redMul=function(E){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},h.prototype.redIMul=function(E){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},h.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(E){return l(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var C={k256:null,p224:null,p192:null,p25519:null};function w(E,O){this.name=E,this.p=new h(O,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(E){if(typeof E=="string"){var O=h._prime(E);this.m=O.p,this.prime=O}else l(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function B(E){k.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var E=new h(null);return E.words=new Array(Math.ceil(this.n/13)),E},w.prototype.ireduce=function(E){var O,S=E;do this.split(S,this.tmp),O=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(O>this.n);var R=O<this.n?-1:S.ucmp(this.p);return R===0?(S.words[0]=0,S.length=1):R>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},w.prototype.split=function(E,O){E.iushrn(this.n,0,O)},w.prototype.imulK=function(E){return E.imul(this.k)},p(x,w),x.prototype.split=function(E,O){for(var S=Math.min(E.length,9),R=0;R<S;R++)O.words[R]=E.words[R];if(O.length=S,E.length<=9)return E.words[0]=0,void(E.length=1);var T=E.words[9];for(O.words[O.length++]=4194303&T,R=10;R<E.length;R++){var I=0|E.words[R];E.words[R-10]=(4194303&I)<<4|T>>>22,T=I}T>>>=22,E.words[R-10]=T,T===0&&E.length>10?E.length-=10:E.length-=9},x.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var O=0,S=0;S<E.length;S++){var R=0|E.words[S];O+=977*R,E.words[S]=67108863&O,O=64*R+(O/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},p(A,w),p(D,w),p(P,w),P.prototype.imulK=function(E){for(var O=0,S=0;S<E.length;S++){var R=19*(0|E.words[S])+O,T=67108863&R;R>>>=26,E.words[S]=T,O=R}return O!==0&&(E.words[E.length++]=O),E},h._prime=function(E){if(C[E])return C[E];var O;if(E==="k256")O=new x;else if(E==="p224")O=new A;else if(E==="p192")O=new D;else{if(E!=="p25519")throw new Error("Unknown prime "+E);O=new P}return C[E]=O,O},k.prototype._verify1=function(E){l(E.negative===0,"red works only with positives"),l(E.red,"red works only with red numbers")},k.prototype._verify2=function(E,O){l((E.negative|O.negative)==0,"red works only with positives"),l(E.red&&E.red===O.red,"red works only with red numbers")},k.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},k.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},k.prototype.add=function(E,O){this._verify2(E,O);var S=E.add(O);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},k.prototype.iadd=function(E,O){this._verify2(E,O);var S=E.iadd(O);return S.cmp(this.m)>=0&&S.isub(this.m),S},k.prototype.sub=function(E,O){this._verify2(E,O);var S=E.sub(O);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},k.prototype.isub=function(E,O){this._verify2(E,O);var S=E.isub(O);return S.cmpn(0)<0&&S.iadd(this.m),S},k.prototype.shl=function(E,O){return this._verify1(E),this.imod(E.ushln(O))},k.prototype.imul=function(E,O){return this._verify2(E,O),this.imod(E.imul(O))},k.prototype.mul=function(E,O){return this._verify2(E,O),this.imod(E.mul(O))},k.prototype.isqr=function(E){return this.imul(E,E.clone())},k.prototype.sqr=function(E){return this.mul(E,E)},k.prototype.sqrt=function(E){if(E.isZero())return E.clone();var O=this.m.andln(3);if(l(O%2==1),O===3){var S=this.m.add(new h(1)).iushrn(2);return this.pow(E,S)}for(var R=this.m.subn(1),T=0;!R.isZero()&&R.andln(1)===0;)T++,R.iushrn(1);l(!R.isZero());var I=new h(1).toRed(this),M=I.redNeg(),N=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new h(2*j*j).toRed(this);this.pow(j,N).cmp(M)!==0;)j.redIAdd(M);for(var H=this.pow(j,R),U=this.pow(E,R.addn(1).iushrn(1)),W=this.pow(E,R),G=T;W.cmp(I)!==0;){for(var K=W,Q=0;K.cmp(I)!==0;Q++)K=K.redSqr();l(Q<G);var $=this.pow(H,new h(1).iushln(G-Q-1));U=U.redMul($),H=$.redSqr(),W=W.redMul(H),G=Q}return U},k.prototype.invm=function(E){var O=E._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},k.prototype.pow=function(E,O){if(O.isZero())return new h(1).toRed(this);if(O.cmpn(1)===0)return E.clone();var S=new Array(16);S[0]=new h(1).toRed(this),S[1]=E;for(var R=2;R<S.length;R++)S[R]=this.mul(S[R-1],E);var T=S[0],I=0,M=0,N=O.bitLength()%26;for(N===0&&(N=26),R=O.length-1;R>=0;R--){for(var j=O.words[R],H=N-1;H>=0;H--){var U=j>>H&1;T!==S[0]&&(T=this.sqr(T)),U!==0||I!==0?(I<<=1,I|=U,(++M===4||R===0&&H===0)&&(T=this.mul(T,S[I]),M=0,I=0)):M=0}N=26}return T},k.prototype.convertTo=function(E){var O=E.umod(this.m);return O===E?O.clone():O},k.prototype.convertFrom=function(E){var O=E.clone();return O.red=null,O},h.mont=function(E){return new B(E)},p(B,k),B.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},B.prototype.convertFrom=function(E){var O=this.imod(E.mul(this.rinv));return O.red=null,O},B.prototype.imul=function(E,O){if(E.isZero()||O.isZero())return E.words[0]=0,E.length=1,E;var S=E.imul(O),R=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(R).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},B.prototype.mul=function(E,O){if(E.isZero()||O.isZero())return new h(0)._forceRed(this);var S=E.mul(O),R=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(R).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},B.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:185}],182:[function(r,n,i){i.byteLength=function(f){var u=m(f),c=u[0],d=u[1];return 3*(c+d)/4-d},i.toByteArray=function(f){var u,c,d=m(f),_=d[0],g=d[1],y=new s(function(w,x,A){return 3*(x+A)/4-A}(0,_,g)),b=0,C=g>0?_-4:_;for(c=0;c<C;c+=4)u=o[f.charCodeAt(c)]<<18|o[f.charCodeAt(c+1)]<<12|o[f.charCodeAt(c+2)]<<6|o[f.charCodeAt(c+3)],y[b++]=u>>16&255,y[b++]=u>>8&255,y[b++]=255&u;return g===2&&(u=o[f.charCodeAt(c)]<<2|o[f.charCodeAt(c+1)]>>4,y[b++]=255&u),g===1&&(u=o[f.charCodeAt(c)]<<10|o[f.charCodeAt(c+1)]<<4|o[f.charCodeAt(c+2)]>>2,y[b++]=u>>8&255,y[b++]=255&u),y},i.fromByteArray=function(f){for(var u,c=f.length,d=c%3,_=[],g=0,y=c-d;g<y;g+=16383)_.push(v(f,g,g+16383>y?y:g+16383));return d===1?(u=f[c-1],_.push(a[u>>2]+a[u<<4&63]+"==")):d===2&&(u=(f[c-2]<<8)+f[c-1],_.push(a[u>>10]+a[u>>4&63]+a[u<<2&63]+"=")),_.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=l.length;p<h;++p)a[p]=l[p],o[l.charCodeAt(p)]=p;function m(f){var u=f.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=f.indexOf("=");return c===-1&&(c=u),[c,c===u?0:4-c%4]}function v(f,u,c){for(var d,_,g=[],y=u;y<c;y+=3)d=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(255&f[y+2]),g.push(a[(_=d)>>18&63]+a[_>>12&63]+a[_>>6&63]+a[63&_]);return g.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],183:[function(r,n,i){function a(o){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}(function(o,s){function l(S,R){if(!S)throw new Error(R||"Assertion failed")}function p(S,R){S.super_=R;var T=function(){};T.prototype=R.prototype,S.prototype=new T,S.prototype.constructor=S}function h(S,R,T){if(h.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&(R!=="le"&&R!=="be"||(T=R,R=10),this._init(S||0,R||10,T||"be"))}var m;a(o)==="object"?o.exports=h:(void 0).BN=h,h.BN=h,h.wordSize=26;try{m=r("buffer").Buffer}catch{}function v(S,R,T){for(var I=0,M=Math.min(S.length,T),N=0,j=R;j<M;j++){var H,U=S.charCodeAt(j)-48;I<<=4,I|=H=U>=49&&U<=54?U-49+10:U>=17&&U<=22?U-17+10:U,N|=H}return l(!(240&N),"Invalid character in "+S),I}function f(S,R,T,I){for(var M=0,N=0,j=Math.min(S.length,T),H=R;H<j;H++){var U=S.charCodeAt(H)-48;M*=I,N=U>=49?U-49+10:U>=17?U-17+10:U,l(U>=0&&N<I,"Invalid character"),M+=N}return M}function u(S,R){S.words=R.words,S.length=R.length,S.negative=R.negative,S.red=R.red}if(h.isBN=function(S){return S instanceof h||S!==null&&a(S)==="object"&&S.constructor.wordSize===h.wordSize&&Array.isArray(S.words)},h.max=function(S,R){return S.cmp(R)>0?S:R},h.min=function(S,R){return S.cmp(R)<0?S:R},h.prototype._init=function(S,R,T){if(typeof S=="number")return this._initNumber(S,R,T);if(a(S)==="object")return this._initArray(S,R,T);R==="hex"&&(R=16),l(R===(0|R)&&R>=2&&R<=36);var I=0;(S=S.toString().replace(/\s+/g,""))[0]==="-"&&I++,R===16?this._parseHex(S,I):this._parseBase(S,R,I),S[0]==="-"&&(this.negative=1),this._strip(),T==="le"&&this._initArray(this.toArray(),R,T)},h.prototype._initNumber=function(S,R,T){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[67108863&S],this.length=1):S<4503599627370496?(this.words=[67108863&S,S/67108864&67108863],this.length=2):(l(S<9007199254740992),this.words=[67108863&S,S/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),R,T)},h.prototype._initArray=function(S,R,T){if(l(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var M,N,j=0;if(T==="be")for(I=S.length-1,M=0;I>=0;I-=3)N=S[I]|S[I-1]<<8|S[I-2]<<16,this.words[M]|=N<<j&67108863,this.words[M+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,M++);else if(T==="le")for(I=0,M=0;I<S.length;I+=3)N=S[I]|S[I+1]<<8|S[I+2]<<16,this.words[M]|=N<<j&67108863,this.words[M+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,M++);return this._strip()},h.prototype._parseHex=function(S,R){this.length=Math.ceil((S.length-R)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,M,N=0;for(T=S.length-6,I=0;T>=R;T-=6)M=v(S,T,T+6),this.words[I]|=M<<N&67108863,this.words[I+1]|=M>>>26-N&4194303,(N+=24)>=26&&(N-=26,I++);T+6!==R&&(M=v(S,R,T+6),this.words[I]|=M<<N&67108863,this.words[I+1]|=M>>>26-N&4194303),this._strip()},h.prototype._parseBase=function(S,R,T){this.words=[0],this.length=1;for(var I=0,M=1;M<=67108863;M*=R)I++;I--,M=M/R|0;for(var N=S.length-T,j=N%I,H=Math.min(N,N-j)+T,U=0,W=T;W<H;W+=I)U=f(S,W,W+I,R),this.imuln(M),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(j!==0){var G=1;for(U=f(S,W,S.length,R),W=0;W<j;W++)G*=R;this.imuln(G),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}},h.prototype.copy=function(S){S.words=new Array(this.length);for(var R=0;R<this.length;R++)S.words[R]=this.words[R];S.length=this.length,S.negative=this.negative,S.red=this.red},h.prototype._move=function(S){u(S,this)},h.prototype.clone=function(){var S=new h(null);return this.copy(S),S},h.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{h.prototype.inspect=c}else h.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(S,R){var T;if(R=0|R||1,(S=S||10)===16||S==="hex"){T="";for(var I=0,M=0,N=0;N<this.length;N++){var j=this.words[N],H=(16777215&(j<<I|M)).toString(16);T=(M=j>>>24-I&16777215)!==0||N!==this.length-1?d[6-H.length]+H+T:H+T,(I+=2)>=26&&(I-=26,N--)}for(M!==0&&(T=M.toString(16)+T);T.length%R!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(S===(0|S)&&S>=2&&S<=36){var U=_[S],W=g[S];T="";var G=this.clone();for(G.negative=0;!G.isZero();){var K=G.modrn(W).toString(S);T=(G=G.idivn(W)).isZero()?K+T:d[U-K.length]+K+T}for(this.isZero()&&(T="0"+T);T.length%R!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}l(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=67108864*this.words[1]:this.length===3&&this.words[2]===1?S+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},h.prototype.toJSON=function(){return this.toString(16,2)},m&&(h.prototype.toBuffer=function(S,R){return this.toArrayLike(m,S,R)}),h.prototype.toArray=function(S,R){return this.toArrayLike(Array,S,R)};function y(S,R,T){T.negative=R.negative^S.negative;var I=S.length+R.length|0;T.length=I,I=I-1|0;var M=0|S.words[0],N=0|R.words[0],j=M*N,H=67108863&j,U=j/67108864|0;T.words[0]=H;for(var W=1;W<I;W++){for(var G=U>>>26,K=67108863&U,Q=Math.min(W,R.length-1),$=Math.max(0,W-S.length+1);$<=Q;$++){var L=W-$|0;G+=(j=(M=0|S.words[L])*(N=0|R.words[$])+K)/67108864|0,K=67108863&j}T.words[W]=0|K,U=0|G}return U!==0?T.words[W]=0|U:T.length--,T._strip()}h.prototype.toArrayLike=function(S,R,T){this._strip();var I=this.byteLength(),M=T||Math.max(1,I);l(I<=M,"byte array longer than desired length"),l(M>0,"Requested array length <= 0");var N=function(j,H){return j.allocUnsafe?j.allocUnsafe(H):new j(H)}(S,M);return this["_toArrayLike"+(R==="le"?"LE":"BE")](N,I),N},h.prototype._toArrayLikeLE=function(S,R){for(var T=0,I=0,M=0,N=0;M<this.length;M++){var j=this.words[M]<<N|I;S[T++]=255&j,T<S.length&&(S[T++]=j>>8&255),T<S.length&&(S[T++]=j>>16&255),N===6?(T<S.length&&(S[T++]=j>>24&255),I=0,N=0):(I=j>>>24,N+=2)}if(T<S.length)for(S[T++]=I;T<S.length;)S[T++]=0},h.prototype._toArrayLikeBE=function(S,R){for(var T=S.length-1,I=0,M=0,N=0;M<this.length;M++){var j=this.words[M]<<N|I;S[T--]=255&j,T>=0&&(S[T--]=j>>8&255),T>=0&&(S[T--]=j>>16&255),N===6?(T>=0&&(S[T--]=j>>24&255),I=0,N=0):(I=j>>>24,N+=2)}if(T>=0)for(S[T--]=I;T>=0;)S[T--]=0},Math.clz32?h.prototype._countBits=function(S){return 32-Math.clz32(S)}:h.prototype._countBits=function(S){var R=S,T=0;return R>=4096&&(T+=13,R>>>=13),R>=64&&(T+=7,R>>>=7),R>=8&&(T+=4,R>>>=4),R>=2&&(T+=2,R>>>=2),T+R},h.prototype._zeroBits=function(S){if(S===0)return 26;var R=S,T=0;return!(8191&R)&&(T+=13,R>>>=13),!(127&R)&&(T+=7,R>>>=7),!(15&R)&&(T+=4,R>>>=4),!(3&R)&&(T+=2,R>>>=2),!(1&R)&&T++,T},h.prototype.bitLength=function(){var S=this.words[this.length-1],R=this._countBits(S);return 26*(this.length-1)+R},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,R=0;R<this.length;R++){var T=this._zeroBits(this.words[R]);if(S+=T,T!==26)break}return S},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},h.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var R=0;R<S.length;R++)this.words[R]=this.words[R]|S.words[R];return this._strip()},h.prototype.ior=function(S){return l((this.negative|S.negative)==0),this.iuor(S)},h.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},h.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},h.prototype.iuand=function(S){var R;R=this.length>S.length?S:this;for(var T=0;T<R.length;T++)this.words[T]=this.words[T]&S.words[T];return this.length=R.length,this._strip()},h.prototype.iand=function(S){return l((this.negative|S.negative)==0),this.iuand(S)},h.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},h.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},h.prototype.iuxor=function(S){var R,T;this.length>S.length?(R=this,T=S):(R=S,T=this);for(var I=0;I<T.length;I++)this.words[I]=R.words[I]^T.words[I];if(this!==R)for(;I<R.length;I++)this.words[I]=R.words[I];return this.length=R.length,this._strip()},h.prototype.ixor=function(S){return l((this.negative|S.negative)==0),this.iuxor(S)},h.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},h.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},h.prototype.inotn=function(S){l(typeof S=="number"&&S>=0);var R=0|Math.ceil(S/26),T=S%26;this._expand(R),T>0&&R--;for(var I=0;I<R;I++)this.words[I]=67108863&~this.words[I];return T>0&&(this.words[I]=~this.words[I]&67108863>>26-T),this._strip()},h.prototype.notn=function(S){return this.clone().inotn(S)},h.prototype.setn=function(S,R){l(typeof S=="number"&&S>=0);var T=S/26|0,I=S%26;return this._expand(T+1),this.words[T]=R?this.words[T]|1<<I:this.words[T]&~(1<<I),this._strip()},h.prototype.iadd=function(S){var R,T,I;if(this.negative!==0&&S.negative===0)return this.negative=0,R=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,R=this.isub(S),S.negative=1,R._normSign();this.length>S.length?(T=this,I=S):(T=S,I=this);for(var M=0,N=0;N<I.length;N++)R=(0|T.words[N])+(0|I.words[N])+M,this.words[N]=67108863&R,M=R>>>26;for(;M!==0&&N<T.length;N++)R=(0|T.words[N])+M,this.words[N]=67108863&R,M=R>>>26;if(this.length=T.length,M!==0)this.words[this.length]=M,this.length++;else if(T!==this)for(;N<T.length;N++)this.words[N]=T.words[N];return this},h.prototype.add=function(S){var R;return S.negative!==0&&this.negative===0?(S.negative=0,R=this.sub(S),S.negative^=1,R):S.negative===0&&this.negative!==0?(this.negative=0,R=S.sub(this),this.negative=1,R):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},h.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var R=this.iadd(S);return S.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var T,I,M=this.cmp(S);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;M>0?(T=this,I=S):(T=S,I=this);for(var N=0,j=0;j<I.length;j++)N=(R=(0|T.words[j])-(0|I.words[j])+N)>>26,this.words[j]=67108863&R;for(;N!==0&&j<T.length;j++)N=(R=(0|T.words[j])+N)>>26,this.words[j]=67108863&R;if(N===0&&j<T.length&&T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=Math.max(this.length,j),T!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(S){return this.clone().isub(S)};var b=function(S,R,T){var I,M,N,j=S.words,H=R.words,U=T.words,W=0,G=0|j[0],K=8191&G,Q=G>>>13,$=0|j[1],L=8191&$,F=$>>>13,z=0|j[2],Z=8191&z,J=z>>>13,ee=0|j[3],pe=8191&ee,le=ee>>>13,ye=0|j[4],ke=8191&ye,be=ye>>>13,Je=0|j[5],je=8191&Je,Be=Je>>>13,$e=0|j[6],nt=8191&$e,Se=$e>>>13,re=0|j[7],ue=8191&re,se=re>>>13,me=0|j[8],fe=8191&me,ge=me>>>13,de=0|j[9],Oe=8191&de,Ie=de>>>13,Ae=0|H[0],Ke=8191&Ae,Le=Ae>>>13,bt=0|H[1],dt=8191&bt,Ct=bt>>>13,zt=0|H[2],cr=8191&zt,mt=zt>>>13,It=0|H[3],De=8191&It,wt=It>>>13,tr=0|H[4],Qt=8191&tr,Ot=tr>>>13,lr=0|H[5],or=8191&lr,kt=lr>>>13,wr=0|H[6],ie=8191&wr,ce=wr>>>13,Pe=0|H[7],Ye=8191&Pe,it=Pe>>>13,ut=0|H[8],St=8191&ut,at=ut>>>13,$t=0|H[9],At=8191&$t,Tt=$t>>>13;T.negative=S.negative^R.negative,T.length=19;var Fr=(W+(I=Math.imul(K,Ke))|0)+((8191&(M=(M=Math.imul(K,Le))+Math.imul(Q,Ke)|0))<<13)|0;W=((N=Math.imul(Q,Le))+(M>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,I=Math.imul(L,Ke),M=(M=Math.imul(L,Le))+Math.imul(F,Ke)|0,N=Math.imul(F,Le);var zr=(W+(I=I+Math.imul(K,dt)|0)|0)+((8191&(M=(M=M+Math.imul(K,Ct)|0)+Math.imul(Q,dt)|0))<<13)|0;W=((N=N+Math.imul(Q,Ct)|0)+(M>>>13)|0)+(zr>>>26)|0,zr&=67108863,I=Math.imul(Z,Ke),M=(M=Math.imul(Z,Le))+Math.imul(J,Ke)|0,N=Math.imul(J,Le),I=I+Math.imul(L,dt)|0,M=(M=M+Math.imul(L,Ct)|0)+Math.imul(F,dt)|0,N=N+Math.imul(F,Ct)|0;var xr=(W+(I=I+Math.imul(K,cr)|0)|0)+((8191&(M=(M=M+Math.imul(K,mt)|0)+Math.imul(Q,cr)|0))<<13)|0;W=((N=N+Math.imul(Q,mt)|0)+(M>>>13)|0)+(xr>>>26)|0,xr&=67108863,I=Math.imul(pe,Ke),M=(M=Math.imul(pe,Le))+Math.imul(le,Ke)|0,N=Math.imul(le,Le),I=I+Math.imul(Z,dt)|0,M=(M=M+Math.imul(Z,Ct)|0)+Math.imul(J,dt)|0,N=N+Math.imul(J,Ct)|0,I=I+Math.imul(L,cr)|0,M=(M=M+Math.imul(L,mt)|0)+Math.imul(F,cr)|0,N=N+Math.imul(F,mt)|0;var nn=(W+(I=I+Math.imul(K,De)|0)|0)+((8191&(M=(M=M+Math.imul(K,wt)|0)+Math.imul(Q,De)|0))<<13)|0;W=((N=N+Math.imul(Q,wt)|0)+(M>>>13)|0)+(nn>>>26)|0,nn&=67108863,I=Math.imul(ke,Ke),M=(M=Math.imul(ke,Le))+Math.imul(be,Ke)|0,N=Math.imul(be,Le),I=I+Math.imul(pe,dt)|0,M=(M=M+Math.imul(pe,Ct)|0)+Math.imul(le,dt)|0,N=N+Math.imul(le,Ct)|0,I=I+Math.imul(Z,cr)|0,M=(M=M+Math.imul(Z,mt)|0)+Math.imul(J,cr)|0,N=N+Math.imul(J,mt)|0,I=I+Math.imul(L,De)|0,M=(M=M+Math.imul(L,wt)|0)+Math.imul(F,De)|0,N=N+Math.imul(F,wt)|0;var an=(W+(I=I+Math.imul(K,Qt)|0)|0)+((8191&(M=(M=M+Math.imul(K,Ot)|0)+Math.imul(Q,Qt)|0))<<13)|0;W=((N=N+Math.imul(Q,Ot)|0)+(M>>>13)|0)+(an>>>26)|0,an&=67108863,I=Math.imul(je,Ke),M=(M=Math.imul(je,Le))+Math.imul(Be,Ke)|0,N=Math.imul(Be,Le),I=I+Math.imul(ke,dt)|0,M=(M=M+Math.imul(ke,Ct)|0)+Math.imul(be,dt)|0,N=N+Math.imul(be,Ct)|0,I=I+Math.imul(pe,cr)|0,M=(M=M+Math.imul(pe,mt)|0)+Math.imul(le,cr)|0,N=N+Math.imul(le,mt)|0,I=I+Math.imul(Z,De)|0,M=(M=M+Math.imul(Z,wt)|0)+Math.imul(J,De)|0,N=N+Math.imul(J,wt)|0,I=I+Math.imul(L,Qt)|0,M=(M=M+Math.imul(L,Ot)|0)+Math.imul(F,Qt)|0,N=N+Math.imul(F,Ot)|0;var Zn=(W+(I=I+Math.imul(K,or)|0)|0)+((8191&(M=(M=M+Math.imul(K,kt)|0)+Math.imul(Q,or)|0))<<13)|0;W=((N=N+Math.imul(Q,kt)|0)+(M>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,I=Math.imul(nt,Ke),M=(M=Math.imul(nt,Le))+Math.imul(Se,Ke)|0,N=Math.imul(Se,Le),I=I+Math.imul(je,dt)|0,M=(M=M+Math.imul(je,Ct)|0)+Math.imul(Be,dt)|0,N=N+Math.imul(Be,Ct)|0,I=I+Math.imul(ke,cr)|0,M=(M=M+Math.imul(ke,mt)|0)+Math.imul(be,cr)|0,N=N+Math.imul(be,mt)|0,I=I+Math.imul(pe,De)|0,M=(M=M+Math.imul(pe,wt)|0)+Math.imul(le,De)|0,N=N+Math.imul(le,wt)|0,I=I+Math.imul(Z,Qt)|0,M=(M=M+Math.imul(Z,Ot)|0)+Math.imul(J,Qt)|0,N=N+Math.imul(J,Ot)|0,I=I+Math.imul(L,or)|0,M=(M=M+Math.imul(L,kt)|0)+Math.imul(F,or)|0,N=N+Math.imul(F,kt)|0;var ne=(W+(I=I+Math.imul(K,ie)|0)|0)+((8191&(M=(M=M+Math.imul(K,ce)|0)+Math.imul(Q,ie)|0))<<13)|0;W=((N=N+Math.imul(Q,ce)|0)+(M>>>13)|0)+(ne>>>26)|0,ne&=67108863,I=Math.imul(ue,Ke),M=(M=Math.imul(ue,Le))+Math.imul(se,Ke)|0,N=Math.imul(se,Le),I=I+Math.imul(nt,dt)|0,M=(M=M+Math.imul(nt,Ct)|0)+Math.imul(Se,dt)|0,N=N+Math.imul(Se,Ct)|0,I=I+Math.imul(je,cr)|0,M=(M=M+Math.imul(je,mt)|0)+Math.imul(Be,cr)|0,N=N+Math.imul(Be,mt)|0,I=I+Math.imul(ke,De)|0,M=(M=M+Math.imul(ke,wt)|0)+Math.imul(be,De)|0,N=N+Math.imul(be,wt)|0,I=I+Math.imul(pe,Qt)|0,M=(M=M+Math.imul(pe,Ot)|0)+Math.imul(le,Qt)|0,N=N+Math.imul(le,Ot)|0,I=I+Math.imul(Z,or)|0,M=(M=M+Math.imul(Z,kt)|0)+Math.imul(J,or)|0,N=N+Math.imul(J,kt)|0,I=I+Math.imul(L,ie)|0,M=(M=M+Math.imul(L,ce)|0)+Math.imul(F,ie)|0,N=N+Math.imul(F,ce)|0;var _e=(W+(I=I+Math.imul(K,Ye)|0)|0)+((8191&(M=(M=M+Math.imul(K,it)|0)+Math.imul(Q,Ye)|0))<<13)|0;W=((N=N+Math.imul(Q,it)|0)+(M>>>13)|0)+(_e>>>26)|0,_e&=67108863,I=Math.imul(fe,Ke),M=(M=Math.imul(fe,Le))+Math.imul(ge,Ke)|0,N=Math.imul(ge,Le),I=I+Math.imul(ue,dt)|0,M=(M=M+Math.imul(ue,Ct)|0)+Math.imul(se,dt)|0,N=N+Math.imul(se,Ct)|0,I=I+Math.imul(nt,cr)|0,M=(M=M+Math.imul(nt,mt)|0)+Math.imul(Se,cr)|0,N=N+Math.imul(Se,mt)|0,I=I+Math.imul(je,De)|0,M=(M=M+Math.imul(je,wt)|0)+Math.imul(Be,De)|0,N=N+Math.imul(Be,wt)|0,I=I+Math.imul(ke,Qt)|0,M=(M=M+Math.imul(ke,Ot)|0)+Math.imul(be,Qt)|0,N=N+Math.imul(be,Ot)|0,I=I+Math.imul(pe,or)|0,M=(M=M+Math.imul(pe,kt)|0)+Math.imul(le,or)|0,N=N+Math.imul(le,kt)|0,I=I+Math.imul(Z,ie)|0,M=(M=M+Math.imul(Z,ce)|0)+Math.imul(J,ie)|0,N=N+Math.imul(J,ce)|0,I=I+Math.imul(L,Ye)|0,M=(M=M+Math.imul(L,it)|0)+Math.imul(F,Ye)|0,N=N+Math.imul(F,it)|0;var Re=(W+(I=I+Math.imul(K,St)|0)|0)+((8191&(M=(M=M+Math.imul(K,at)|0)+Math.imul(Q,St)|0))<<13)|0;W=((N=N+Math.imul(Q,at)|0)+(M>>>13)|0)+(Re>>>26)|0,Re&=67108863,I=Math.imul(Oe,Ke),M=(M=Math.imul(Oe,Le))+Math.imul(Ie,Ke)|0,N=Math.imul(Ie,Le),I=I+Math.imul(fe,dt)|0,M=(M=M+Math.imul(fe,Ct)|0)+Math.imul(ge,dt)|0,N=N+Math.imul(ge,Ct)|0,I=I+Math.imul(ue,cr)|0,M=(M=M+Math.imul(ue,mt)|0)+Math.imul(se,cr)|0,N=N+Math.imul(se,mt)|0,I=I+Math.imul(nt,De)|0,M=(M=M+Math.imul(nt,wt)|0)+Math.imul(Se,De)|0,N=N+Math.imul(Se,wt)|0,I=I+Math.imul(je,Qt)|0,M=(M=M+Math.imul(je,Ot)|0)+Math.imul(Be,Qt)|0,N=N+Math.imul(Be,Ot)|0,I=I+Math.imul(ke,or)|0,M=(M=M+Math.imul(ke,kt)|0)+Math.imul(be,or)|0,N=N+Math.imul(be,kt)|0,I=I+Math.imul(pe,ie)|0,M=(M=M+Math.imul(pe,ce)|0)+Math.imul(le,ie)|0,N=N+Math.imul(le,ce)|0,I=I+Math.imul(Z,Ye)|0,M=(M=M+Math.imul(Z,it)|0)+Math.imul(J,Ye)|0,N=N+Math.imul(J,it)|0,I=I+Math.imul(L,St)|0,M=(M=M+Math.imul(L,at)|0)+Math.imul(F,St)|0,N=N+Math.imul(F,at)|0;var Fe=(W+(I=I+Math.imul(K,At)|0)|0)+((8191&(M=(M=M+Math.imul(K,Tt)|0)+Math.imul(Q,At)|0))<<13)|0;W=((N=N+Math.imul(Q,Tt)|0)+(M>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,I=Math.imul(Oe,dt),M=(M=Math.imul(Oe,Ct))+Math.imul(Ie,dt)|0,N=Math.imul(Ie,Ct),I=I+Math.imul(fe,cr)|0,M=(M=M+Math.imul(fe,mt)|0)+Math.imul(ge,cr)|0,N=N+Math.imul(ge,mt)|0,I=I+Math.imul(ue,De)|0,M=(M=M+Math.imul(ue,wt)|0)+Math.imul(se,De)|0,N=N+Math.imul(se,wt)|0,I=I+Math.imul(nt,Qt)|0,M=(M=M+Math.imul(nt,Ot)|0)+Math.imul(Se,Qt)|0,N=N+Math.imul(Se,Ot)|0,I=I+Math.imul(je,or)|0,M=(M=M+Math.imul(je,kt)|0)+Math.imul(Be,or)|0,N=N+Math.imul(Be,kt)|0,I=I+Math.imul(ke,ie)|0,M=(M=M+Math.imul(ke,ce)|0)+Math.imul(be,ie)|0,N=N+Math.imul(be,ce)|0,I=I+Math.imul(pe,Ye)|0,M=(M=M+Math.imul(pe,it)|0)+Math.imul(le,Ye)|0,N=N+Math.imul(le,it)|0,I=I+Math.imul(Z,St)|0,M=(M=M+Math.imul(Z,at)|0)+Math.imul(J,St)|0,N=N+Math.imul(J,at)|0;var ct=(W+(I=I+Math.imul(L,At)|0)|0)+((8191&(M=(M=M+Math.imul(L,Tt)|0)+Math.imul(F,At)|0))<<13)|0;W=((N=N+Math.imul(F,Tt)|0)+(M>>>13)|0)+(ct>>>26)|0,ct&=67108863,I=Math.imul(Oe,cr),M=(M=Math.imul(Oe,mt))+Math.imul(Ie,cr)|0,N=Math.imul(Ie,mt),I=I+Math.imul(fe,De)|0,M=(M=M+Math.imul(fe,wt)|0)+Math.imul(ge,De)|0,N=N+Math.imul(ge,wt)|0,I=I+Math.imul(ue,Qt)|0,M=(M=M+Math.imul(ue,Ot)|0)+Math.imul(se,Qt)|0,N=N+Math.imul(se,Ot)|0,I=I+Math.imul(nt,or)|0,M=(M=M+Math.imul(nt,kt)|0)+Math.imul(Se,or)|0,N=N+Math.imul(Se,kt)|0,I=I+Math.imul(je,ie)|0,M=(M=M+Math.imul(je,ce)|0)+Math.imul(Be,ie)|0,N=N+Math.imul(Be,ce)|0,I=I+Math.imul(ke,Ye)|0,M=(M=M+Math.imul(ke,it)|0)+Math.imul(be,Ye)|0,N=N+Math.imul(be,it)|0,I=I+Math.imul(pe,St)|0,M=(M=M+Math.imul(pe,at)|0)+Math.imul(le,St)|0,N=N+Math.imul(le,at)|0;var ze=(W+(I=I+Math.imul(Z,At)|0)|0)+((8191&(M=(M=M+Math.imul(Z,Tt)|0)+Math.imul(J,At)|0))<<13)|0;W=((N=N+Math.imul(J,Tt)|0)+(M>>>13)|0)+(ze>>>26)|0,ze&=67108863,I=Math.imul(Oe,De),M=(M=Math.imul(Oe,wt))+Math.imul(Ie,De)|0,N=Math.imul(Ie,wt),I=I+Math.imul(fe,Qt)|0,M=(M=M+Math.imul(fe,Ot)|0)+Math.imul(ge,Qt)|0,N=N+Math.imul(ge,Ot)|0,I=I+Math.imul(ue,or)|0,M=(M=M+Math.imul(ue,kt)|0)+Math.imul(se,or)|0,N=N+Math.imul(se,kt)|0,I=I+Math.imul(nt,ie)|0,M=(M=M+Math.imul(nt,ce)|0)+Math.imul(Se,ie)|0,N=N+Math.imul(Se,ce)|0,I=I+Math.imul(je,Ye)|0,M=(M=M+Math.imul(je,it)|0)+Math.imul(Be,Ye)|0,N=N+Math.imul(Be,it)|0,I=I+Math.imul(ke,St)|0,M=(M=M+Math.imul(ke,at)|0)+Math.imul(be,St)|0,N=N+Math.imul(be,at)|0;var Xe=(W+(I=I+Math.imul(pe,At)|0)|0)+((8191&(M=(M=M+Math.imul(pe,Tt)|0)+Math.imul(le,At)|0))<<13)|0;W=((N=N+Math.imul(le,Tt)|0)+(M>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,I=Math.imul(Oe,Qt),M=(M=Math.imul(Oe,Ot))+Math.imul(Ie,Qt)|0,N=Math.imul(Ie,Ot),I=I+Math.imul(fe,or)|0,M=(M=M+Math.imul(fe,kt)|0)+Math.imul(ge,or)|0,N=N+Math.imul(ge,kt)|0,I=I+Math.imul(ue,ie)|0,M=(M=M+Math.imul(ue,ce)|0)+Math.imul(se,ie)|0,N=N+Math.imul(se,ce)|0,I=I+Math.imul(nt,Ye)|0,M=(M=M+Math.imul(nt,it)|0)+Math.imul(Se,Ye)|0,N=N+Math.imul(Se,it)|0,I=I+Math.imul(je,St)|0,M=(M=M+Math.imul(je,at)|0)+Math.imul(Be,St)|0,N=N+Math.imul(Be,at)|0;var Vt=(W+(I=I+Math.imul(ke,At)|0)|0)+((8191&(M=(M=M+Math.imul(ke,Tt)|0)+Math.imul(be,At)|0))<<13)|0;W=((N=N+Math.imul(be,Tt)|0)+(M>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,I=Math.imul(Oe,or),M=(M=Math.imul(Oe,kt))+Math.imul(Ie,or)|0,N=Math.imul(Ie,kt),I=I+Math.imul(fe,ie)|0,M=(M=M+Math.imul(fe,ce)|0)+Math.imul(ge,ie)|0,N=N+Math.imul(ge,ce)|0,I=I+Math.imul(ue,Ye)|0,M=(M=M+Math.imul(ue,it)|0)+Math.imul(se,Ye)|0,N=N+Math.imul(se,it)|0,I=I+Math.imul(nt,St)|0,M=(M=M+Math.imul(nt,at)|0)+Math.imul(Se,St)|0,N=N+Math.imul(Se,at)|0;var Nt=(W+(I=I+Math.imul(je,At)|0)|0)+((8191&(M=(M=M+Math.imul(je,Tt)|0)+Math.imul(Be,At)|0))<<13)|0;W=((N=N+Math.imul(Be,Tt)|0)+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,I=Math.imul(Oe,ie),M=(M=Math.imul(Oe,ce))+Math.imul(Ie,ie)|0,N=Math.imul(Ie,ce),I=I+Math.imul(fe,Ye)|0,M=(M=M+Math.imul(fe,it)|0)+Math.imul(ge,Ye)|0,N=N+Math.imul(ge,it)|0,I=I+Math.imul(ue,St)|0,M=(M=M+Math.imul(ue,at)|0)+Math.imul(se,St)|0,N=N+Math.imul(se,at)|0;var Lt=(W+(I=I+Math.imul(nt,At)|0)|0)+((8191&(M=(M=M+Math.imul(nt,Tt)|0)+Math.imul(Se,At)|0))<<13)|0;W=((N=N+Math.imul(Se,Tt)|0)+(M>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Oe,Ye),M=(M=Math.imul(Oe,it))+Math.imul(Ie,Ye)|0,N=Math.imul(Ie,it),I=I+Math.imul(fe,St)|0,M=(M=M+Math.imul(fe,at)|0)+Math.imul(ge,St)|0,N=N+Math.imul(ge,at)|0;var gt=(W+(I=I+Math.imul(ue,At)|0)|0)+((8191&(M=(M=M+Math.imul(ue,Tt)|0)+Math.imul(se,At)|0))<<13)|0;W=((N=N+Math.imul(se,Tt)|0)+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,I=Math.imul(Oe,St),M=(M=Math.imul(Oe,at))+Math.imul(Ie,St)|0,N=Math.imul(Ie,at);var Sr=(W+(I=I+Math.imul(fe,At)|0)|0)+((8191&(M=(M=M+Math.imul(fe,Tt)|0)+Math.imul(ge,At)|0))<<13)|0;W=((N=N+Math.imul(ge,Tt)|0)+(M>>>13)|0)+(Sr>>>26)|0,Sr&=67108863;var Or=(W+(I=Math.imul(Oe,At))|0)+((8191&(M=(M=Math.imul(Oe,Tt))+Math.imul(Ie,At)|0))<<13)|0;return W=((N=Math.imul(Ie,Tt))+(M>>>13)|0)+(Or>>>26)|0,Or&=67108863,U[0]=Fr,U[1]=zr,U[2]=xr,U[3]=nn,U[4]=an,U[5]=Zn,U[6]=ne,U[7]=_e,U[8]=Re,U[9]=Fe,U[10]=ct,U[11]=ze,U[12]=Xe,U[13]=Vt,U[14]=Nt,U[15]=Lt,U[16]=gt,U[17]=Sr,U[18]=Or,W!==0&&(U[19]=W,T.length++),T};function C(S,R,T){T.negative=R.negative^S.negative,T.length=S.length+R.length;for(var I=0,M=0,N=0;N<T.length-1;N++){var j=M;M=0;for(var H=67108863&I,U=Math.min(N,R.length-1),W=Math.max(0,N-S.length+1);W<=U;W++){var G=N-W,K=(0|S.words[G])*(0|R.words[W]),Q=67108863&K;H=67108863&(Q=Q+H|0),M+=(j=(j=j+(K/67108864|0)|0)+(Q>>>26)|0)>>>26,j&=67108863}T.words[N]=H,I=j,j=M}return I!==0?T.words[N]=I:T.length--,T._strip()}function w(S,R,T){return C(S,R,T)}Math.imul||(b=y),h.prototype.mulTo=function(S,R){var T=this.length+S.length;return this.length===10&&S.length===10?b(this,S,R):T<63?y(this,S,R):T<1024?C(this,S,R):w(this,S,R)},h.prototype.mul=function(S){var R=new h(null);return R.words=new Array(this.length+S.length),this.mulTo(S,R)},h.prototype.mulf=function(S){var R=new h(null);return R.words=new Array(this.length+S.length),w(this,S,R)},h.prototype.imul=function(S){return this.clone().mulTo(S,this)},h.prototype.imuln=function(S){var R=S<0;R&&(S=-S),l(typeof S=="number"),l(S<67108864);for(var T=0,I=0;I<this.length;I++){var M=(0|this.words[I])*S,N=(67108863&M)+(67108863&T);T>>=26,T+=M/67108864|0,T+=N>>>26,this.words[I]=67108863&N}return T!==0&&(this.words[I]=T,this.length++),R?this.ineg():this},h.prototype.muln=function(S){return this.clone().imuln(S)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(S){var R=function(N){for(var j=new Array(N.bitLength()),H=0;H<j.length;H++){var U=H/26|0,W=H%26;j[H]=N.words[U]>>>W&1}return j}(S);if(R.length===0)return new h(1);for(var T=this,I=0;I<R.length&&R[I]===0;I++,T=T.sqr());if(++I<R.length)for(var M=T.sqr();I<R.length;I++,M=M.sqr())R[I]!==0&&(T=T.mul(M));return T},h.prototype.iushln=function(S){l(typeof S=="number"&&S>=0);var R,T=S%26,I=(S-T)/26,M=67108863>>>26-T<<26-T;if(T!==0){var N=0;for(R=0;R<this.length;R++){var j=this.words[R]&M,H=(0|this.words[R])-j<<T;this.words[R]=H|N,N=j>>>26-T}N&&(this.words[R]=N,this.length++)}if(I!==0){for(R=this.length-1;R>=0;R--)this.words[R+I]=this.words[R];for(R=0;R<I;R++)this.words[R]=0;this.length+=I}return this._strip()},h.prototype.ishln=function(S){return l(this.negative===0),this.iushln(S)},h.prototype.iushrn=function(S,R,T){var I;l(typeof S=="number"&&S>=0),I=R?(R-R%26)/26:0;var M=S%26,N=Math.min((S-M)/26,this.length),j=67108863^67108863>>>M<<M,H=T;if(I-=N,I=Math.max(0,I),H){for(var U=0;U<N;U++)H.words[U]=this.words[U];H.length=N}if(N!==0)if(this.length>N)for(this.length-=N,U=0;U<this.length;U++)this.words[U]=this.words[U+N];else this.words[0]=0,this.length=1;var W=0;for(U=this.length-1;U>=0&&(W!==0||U>=I);U--){var G=0|this.words[U];this.words[U]=W<<26-M|G>>>M,W=G&j}return H&&W!==0&&(H.words[H.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(S,R,T){return l(this.negative===0),this.iushrn(S,R,T)},h.prototype.shln=function(S){return this.clone().ishln(S)},h.prototype.ushln=function(S){return this.clone().iushln(S)},h.prototype.shrn=function(S){return this.clone().ishrn(S)},h.prototype.ushrn=function(S){return this.clone().iushrn(S)},h.prototype.testn=function(S){l(typeof S=="number"&&S>=0);var R=S%26,T=(S-R)/26,I=1<<R;return!(this.length<=T)&&!!(this.words[T]&I)},h.prototype.imaskn=function(S){l(typeof S=="number"&&S>=0);var R=S%26,T=(S-R)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(R!==0&&T++,this.length=Math.min(T,this.length),R!==0){var I=67108863^67108863>>>R<<R;this.words[this.length-1]&=I}return this._strip()},h.prototype.maskn=function(S){return this.clone().imaskn(S)},h.prototype.iaddn=function(S){return l(typeof S=="number"),l(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(0|this.words[0])<=S?(this.words[0]=S-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},h.prototype._iaddn=function(S){this.words[0]+=S;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},h.prototype.isubn=function(S){if(l(typeof S=="number"),l(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this._strip()},h.prototype.addn=function(S){return this.clone().iaddn(S)},h.prototype.subn=function(S){return this.clone().isubn(S)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(S,R,T){var I,M,N=S.length+T;this._expand(N);var j=0;for(I=0;I<S.length;I++){M=(0|this.words[I+T])+j;var H=(0|S.words[I])*R;j=((M-=67108863&H)>>26)-(H/67108864|0),this.words[I+T]=67108863&M}for(;I<this.length-T;I++)j=(M=(0|this.words[I+T])+j)>>26,this.words[I+T]=67108863&M;if(j===0)return this._strip();for(l(j===-1),j=0,I=0;I<this.length;I++)j=(M=-(0|this.words[I])+j)>>26,this.words[I]=67108863&M;return this.negative=1,this._strip()},h.prototype._wordDiv=function(S,R){var T=(this.length,S.length),I=this.clone(),M=S,N=0|M.words[M.length-1];(T=26-this._countBits(N))!==0&&(M=M.ushln(T),I.iushln(T),N=0|M.words[M.length-1]);var j,H=I.length-M.length;if(R!=="mod"){(j=new h(null)).length=H+1,j.words=new Array(j.length);for(var U=0;U<j.length;U++)j.words[U]=0}var W=I.clone()._ishlnsubmul(M,1,H);W.negative===0&&(I=W,j&&(j.words[H]=1));for(var G=H-1;G>=0;G--){var K=67108864*(0|I.words[M.length+G])+(0|I.words[M.length+G-1]);for(K=Math.min(K/N|0,67108863),I._ishlnsubmul(M,K,G);I.negative!==0;)K--,I.negative=0,I._ishlnsubmul(M,1,G),I.isZero()||(I.negative^=1);j&&(j.words[G]=K)}return j&&j._strip(),I._strip(),R!=="div"&&T!==0&&I.iushrn(T),{div:j||null,mod:I}},h.prototype.divmod=function(S,R,T){return l(!S.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:this.negative!==0&&S.negative===0?(N=this.neg().divmod(S,R),R!=="mod"&&(I=N.div.neg()),R!=="div"&&(M=N.mod.neg(),T&&M.negative!==0&&M.iadd(S)),{div:I,mod:M}):this.negative===0&&S.negative!==0?(N=this.divmod(S.neg(),R),R!=="mod"&&(I=N.div.neg()),{div:I,mod:N.mod}):this.negative&S.negative?(N=this.neg().divmod(S.neg(),R),R!=="div"&&(M=N.mod.neg(),T&&M.negative!==0&&M.isub(S)),{div:N.div,mod:M}):S.length>this.length||this.cmp(S)<0?{div:new h(0),mod:this}:S.length===1?R==="div"?{div:this.divn(S.words[0]),mod:null}:R==="mod"?{div:null,mod:new h(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new h(this.modrn(S.words[0]))}:this._wordDiv(S,R);var I,M,N},h.prototype.div=function(S){return this.divmod(S,"div",!1).div},h.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},h.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},h.prototype.divRound=function(S){var R=this.divmod(S);if(R.mod.isZero())return R.div;var T=R.div.negative!==0?R.mod.isub(S):R.mod,I=S.ushrn(1),M=S.andln(1),N=T.cmp(I);return N<0||M===1&&N===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},h.prototype.modrn=function(S){var R=S<0;R&&(S=-S),l(S<=67108863);for(var T=(1<<26)%S,I=0,M=this.length-1;M>=0;M--)I=(T*I+(0|this.words[M]))%S;return R?-I:I},h.prototype.modn=function(S){return this.modrn(S)},h.prototype.idivn=function(S){var R=S<0;R&&(S=-S),l(S<=67108863);for(var T=0,I=this.length-1;I>=0;I--){var M=(0|this.words[I])+67108864*T;this.words[I]=M/S|0,T=M%S}return this._strip(),R?this.ineg():this},h.prototype.divn=function(S){return this.clone().idivn(S)},h.prototype.egcd=function(S){l(S.negative===0),l(!S.isZero());var R=this,T=S.clone();R=R.negative!==0?R.umod(S):R.clone();for(var I=new h(1),M=new h(0),N=new h(0),j=new h(1),H=0;R.isEven()&&T.isEven();)R.iushrn(1),T.iushrn(1),++H;for(var U=T.clone(),W=R.clone();!R.isZero();){for(var G=0,K=1;!(R.words[0]&K)&&G<26;++G,K<<=1);if(G>0)for(R.iushrn(G);G-- >0;)(I.isOdd()||M.isOdd())&&(I.iadd(U),M.isub(W)),I.iushrn(1),M.iushrn(1);for(var Q=0,$=1;!(T.words[0]&$)&&Q<26;++Q,$<<=1);if(Q>0)for(T.iushrn(Q);Q-- >0;)(N.isOdd()||j.isOdd())&&(N.iadd(U),j.isub(W)),N.iushrn(1),j.iushrn(1);R.cmp(T)>=0?(R.isub(T),I.isub(N),M.isub(j)):(T.isub(R),N.isub(I),j.isub(M))}return{a:N,b:j,gcd:T.iushln(H)}},h.prototype._invmp=function(S){l(S.negative===0),l(!S.isZero());var R=this,T=S.clone();R=R.negative!==0?R.umod(S):R.clone();for(var I,M=new h(1),N=new h(0),j=T.clone();R.cmpn(1)>0&&T.cmpn(1)>0;){for(var H=0,U=1;!(R.words[0]&U)&&H<26;++H,U<<=1);if(H>0)for(R.iushrn(H);H-- >0;)M.isOdd()&&M.iadd(j),M.iushrn(1);for(var W=0,G=1;!(T.words[0]&G)&&W<26;++W,G<<=1);if(W>0)for(T.iushrn(W);W-- >0;)N.isOdd()&&N.iadd(j),N.iushrn(1);R.cmp(T)>=0?(R.isub(T),M.isub(N)):(T.isub(R),N.isub(M))}return(I=R.cmpn(1)===0?M:N).cmpn(0)<0&&I.iadd(S),I},h.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var R=this.clone(),T=S.clone();R.negative=0,T.negative=0;for(var I=0;R.isEven()&&T.isEven();I++)R.iushrn(1),T.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;T.isEven();)T.iushrn(1);var M=R.cmp(T);if(M<0){var N=R;R=T,T=N}else if(M===0||T.cmpn(1)===0)break;R.isub(T)}return T.iushln(I)},h.prototype.invm=function(S){return this.egcd(S).a.umod(S)},h.prototype.isEven=function(){return(1&this.words[0])==0},h.prototype.isOdd=function(){return(1&this.words[0])==1},h.prototype.andln=function(S){return this.words[0]&S},h.prototype.bincn=function(S){l(typeof S=="number");var R=S%26,T=(S-R)/26,I=1<<R;if(this.length<=T)return this._expand(T+1),this.words[T]|=I,this;for(var M=I,N=T;M!==0&&N<this.length;N++){var j=0|this.words[N];M=(j+=M)>>>26,j&=67108863,this.words[N]=j}return M!==0&&(this.words[N]=M,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(S){var R,T=S<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this._strip(),this.length>1)R=1;else{T&&(S=-S),l(S<=67108863,"Number is too big");var I=0|this.words[0];R=I===S?0:I<S?-1:1}return this.negative!==0?0|-R:R},h.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var R=this.ucmp(S);return this.negative!==0?0|-R:R},h.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var R=0,T=this.length-1;T>=0;T--){var I=0|this.words[T],M=0|S.words[T];if(I!==M){I<M?R=-1:I>M&&(R=1);break}}return R},h.prototype.gtn=function(S){return this.cmpn(S)===1},h.prototype.gt=function(S){return this.cmp(S)===1},h.prototype.gten=function(S){return this.cmpn(S)>=0},h.prototype.gte=function(S){return this.cmp(S)>=0},h.prototype.ltn=function(S){return this.cmpn(S)===-1},h.prototype.lt=function(S){return this.cmp(S)===-1},h.prototype.lten=function(S){return this.cmpn(S)<=0},h.prototype.lte=function(S){return this.cmp(S)<=0},h.prototype.eqn=function(S){return this.cmpn(S)===0},h.prototype.eq=function(S){return this.cmp(S)===0},h.red=function(S){return new E(S)},h.prototype.toRed=function(S){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},h.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(S){return this.red=S,this},h.prototype.forceRed=function(S){return l(!this.red,"Already a number in reduction context"),this._forceRed(S)},h.prototype.redAdd=function(S){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},h.prototype.redIAdd=function(S){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},h.prototype.redSub=function(S){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},h.prototype.redISub=function(S){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},h.prototype.redShl=function(S){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},h.prototype.redMul=function(S){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},h.prototype.redIMul=function(S){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},h.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(S){return l(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var x={k256:null,p224:null,p192:null,p25519:null};function A(S,R){this.name=S,this.p=new h(R,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(S){if(typeof S=="string"){var R=h._prime(S);this.m=R.p,this.prime=R}else l(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}function O(S){E.call(this,S),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var S=new h(null);return S.words=new Array(Math.ceil(this.n/13)),S},A.prototype.ireduce=function(S){var R,T=S;do this.split(T,this.tmp),R=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(R>this.n);var I=R<this.n?-1:T.ucmp(this.p);return I===0?(T.words[0]=0,T.length=1):I>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},A.prototype.split=function(S,R){S.iushrn(this.n,0,R)},A.prototype.imulK=function(S){return S.imul(this.k)},p(D,A),D.prototype.split=function(S,R){for(var T=Math.min(S.length,9),I=0;I<T;I++)R.words[I]=S.words[I];if(R.length=T,S.length<=9)return S.words[0]=0,void(S.length=1);var M=S.words[9];for(R.words[R.length++]=4194303&M,I=10;I<S.length;I++){var N=0|S.words[I];S.words[I-10]=(4194303&N)<<4|M>>>22,M=N}M>>>=22,S.words[I-10]=M,M===0&&S.length>10?S.length-=10:S.length-=9},D.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var R=0,T=0;T<S.length;T++){var I=0|S.words[T];R+=977*I,S.words[T]=67108863&R,R=64*I+(R/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S},p(P,A),p(k,A),p(B,A),B.prototype.imulK=function(S){for(var R=0,T=0;T<S.length;T++){var I=19*(0|S.words[T])+R,M=67108863&I;I>>>=26,S.words[T]=M,R=I}return R!==0&&(S.words[S.length++]=R),S},h._prime=function(S){if(x[S])return x[S];var R;if(S==="k256")R=new D;else if(S==="p224")R=new P;else if(S==="p192")R=new k;else{if(S!=="p25519")throw new Error("Unknown prime "+S);R=new B}return x[S]=R,R},E.prototype._verify1=function(S){l(S.negative===0,"red works only with positives"),l(S.red,"red works only with red numbers")},E.prototype._verify2=function(S,R){l((S.negative|R.negative)==0,"red works only with positives"),l(S.red&&S.red===R.red,"red works only with red numbers")},E.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(u(S,S.umod(this.m)._forceRed(this)),S)},E.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},E.prototype.add=function(S,R){this._verify2(S,R);var T=S.add(R);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},E.prototype.iadd=function(S,R){this._verify2(S,R);var T=S.iadd(R);return T.cmp(this.m)>=0&&T.isub(this.m),T},E.prototype.sub=function(S,R){this._verify2(S,R);var T=S.sub(R);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},E.prototype.isub=function(S,R){this._verify2(S,R);var T=S.isub(R);return T.cmpn(0)<0&&T.iadd(this.m),T},E.prototype.shl=function(S,R){return this._verify1(S),this.imod(S.ushln(R))},E.prototype.imul=function(S,R){return this._verify2(S,R),this.imod(S.imul(R))},E.prototype.mul=function(S,R){return this._verify2(S,R),this.imod(S.mul(R))},E.prototype.isqr=function(S){return this.imul(S,S.clone())},E.prototype.sqr=function(S){return this.mul(S,S)},E.prototype.sqrt=function(S){if(S.isZero())return S.clone();var R=this.m.andln(3);if(l(R%2==1),R===3){var T=this.m.add(new h(1)).iushrn(2);return this.pow(S,T)}for(var I=this.m.subn(1),M=0;!I.isZero()&&I.andln(1)===0;)M++,I.iushrn(1);l(!I.isZero());var N=new h(1).toRed(this),j=N.redNeg(),H=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new h(2*U*U).toRed(this);this.pow(U,H).cmp(j)!==0;)U.redIAdd(j);for(var W=this.pow(U,I),G=this.pow(S,I.addn(1).iushrn(1)),K=this.pow(S,I),Q=M;K.cmp(N)!==0;){for(var $=K,L=0;$.cmp(N)!==0;L++)$=$.redSqr();l(L<Q);var F=this.pow(W,new h(1).iushln(Q-L-1));G=G.redMul(F),W=F.redSqr(),K=K.redMul(W),Q=L}return G},E.prototype.invm=function(S){var R=S._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},E.prototype.pow=function(S,R){if(R.isZero())return new h(1).toRed(this);if(R.cmpn(1)===0)return S.clone();var T=new Array(16);T[0]=new h(1).toRed(this),T[1]=S;for(var I=2;I<T.length;I++)T[I]=this.mul(T[I-1],S);var M=T[0],N=0,j=0,H=R.bitLength()%26;for(H===0&&(H=26),I=R.length-1;I>=0;I--){for(var U=R.words[I],W=H-1;W>=0;W--){var G=U>>W&1;M!==T[0]&&(M=this.sqr(M)),G!==0||N!==0?(N<<=1,N|=G,(++j===4||I===0&&W===0)&&(M=this.mul(M,T[N]),j=0,N=0)):j=0}H=26}return M},E.prototype.convertTo=function(S){var R=S.umod(this.m);return R===S?R.clone():R},E.prototype.convertFrom=function(S){var R=S.clone();return R.red=null,R},h.mont=function(S){return new O(S)},p(O,E),O.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},O.prototype.convertFrom=function(S){var R=this.imod(S.mul(this.rinv));return R.red=null,R},O.prototype.imul=function(S,R){if(S.isZero()||R.isZero())return S.words[0]=0,S.length=1,S;var T=S.imul(R),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(I).iushrn(this.shift),N=M;return M.cmp(this.m)>=0?N=M.isub(this.m):M.cmpn(0)<0&&(N=M.iadd(this.m)),N._forceRed(this)},O.prototype.mul=function(S,R){if(S.isZero()||R.isZero())return new h(0)._forceRed(this);var T=S.mul(R),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(I).iushrn(this.shift),N=M;return M.cmp(this.m)>=0?N=M.isub(this.m):M.cmpn(0)<0&&(N=M.iadd(this.m)),N._forceRed(this)},O.prototype.invm=function(S){return this.imod(S._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:185}],184:[function(r,n,i){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}var o;function s(p){this.rand=p}if(n.exports=function(p){return o||(o=new s(null)),o.generate(p)},n.exports.Rand=s,s.prototype.generate=function(p){return this._rand(p)},s.prototype._rand=function(p){if(this.rand.getBytes)return this.rand.getBytes(p);for(var h=new Uint8Array(p),m=0;m<h.length;m++)h[m]=this.rand.getByte();return h},(typeof self>"u"?"undefined":a(self))==="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(p){var h=new Uint8Array(p);return self.crypto.getRandomValues(h),h}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(p){var h=new Uint8Array(p);return self.msCrypto.getRandomValues(h),h}:(typeof window>"u"?"undefined":a(window))==="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=r("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(p){return l.randomBytes(p)}}catch{}},{crypto:185}],185:[function(r,n,i){},{}],186:[function(r,n,i){var a=r("safe-buffer").Buffer;function o(v){a.isBuffer(v)||(v=a.from(v));for(var f=v.length/4|0,u=new Array(f),c=0;c<f;c++)u[c]=v.readUInt32BE(4*c);return u}function s(v){for(;0<v.length;v++)v[0]=0}function l(v,f,u,c,d){for(var _,g,y,b,C=u[0],w=u[1],x=u[2],A=u[3],D=v[0]^f[0],P=v[1]^f[1],k=v[2]^f[2],B=v[3]^f[3],E=4,O=1;O<d;O++)_=C[D>>>24]^w[P>>>16&255]^x[k>>>8&255]^A[255&B]^f[E++],g=C[P>>>24]^w[k>>>16&255]^x[B>>>8&255]^A[255&D]^f[E++],y=C[k>>>24]^w[B>>>16&255]^x[D>>>8&255]^A[255&P]^f[E++],b=C[B>>>24]^w[D>>>16&255]^x[P>>>8&255]^A[255&k]^f[E++],D=_,P=g,k=y,B=b;return _=(c[D>>>24]<<24|c[P>>>16&255]<<16|c[k>>>8&255]<<8|c[255&B])^f[E++],g=(c[P>>>24]<<24|c[k>>>16&255]<<16|c[B>>>8&255]<<8|c[255&D])^f[E++],y=(c[k>>>24]<<24|c[B>>>16&255]<<16|c[D>>>8&255]<<8|c[255&P])^f[E++],b=(c[B>>>24]<<24|c[D>>>16&255]<<16|c[P>>>8&255]<<8|c[255&k])^f[E++],[_>>>=0,g>>>=0,y>>>=0,b>>>=0]}var p=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var v=new Array(256),f=0;f<256;f++)v[f]=f<128?f<<1:f<<1^283;for(var u=[],c=[],d=[[],[],[],[]],_=[[],[],[],[]],g=0,y=0,b=0;b<256;++b){var C=y^y<<1^y<<2^y<<3^y<<4;C=C>>>8^255&C^99,u[g]=C,c[C]=g;var w=v[g],x=v[w],A=v[x],D=257*v[C]^16843008*C;d[0][g]=D<<24|D>>>8,d[1][g]=D<<16|D>>>16,d[2][g]=D<<8|D>>>24,d[3][g]=D,D=16843009*A^65537*x^257*w^16843008*g,_[0][C]=D<<24|D>>>8,_[1][C]=D<<16|D>>>16,_[2][C]=D<<8|D>>>24,_[3][C]=D,g===0?g=y=1:(g=w^v[v[v[A^w]]],y^=v[v[y]])}return{SBOX:u,INV_SBOX:c,SUB_MIX:d,INV_SUB_MIX:_}}();function m(v){this._key=o(v),this._reset()}m.blockSize=16,m.keySize=32,m.prototype.blockSize=m.blockSize,m.prototype.keySize=m.keySize,m.prototype._reset=function(){for(var v=this._key,f=v.length,u=f+6,c=4*(u+1),d=[],_=0;_<f;_++)d[_]=v[_];for(_=f;_<c;_++){var g=d[_-1];_%f==0?(g=g<<8|g>>>24,g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[255&g],g^=p[_/f|0]<<24):f>6&&_%f==4&&(g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[255&g]),d[_]=d[_-f]^g}for(var y=[],b=0;b<c;b++){var C=c-b,w=d[C-(b%4?0:4)];y[b]=b<4||C<=4?w:h.INV_SUB_MIX[0][h.SBOX[w>>>24]]^h.INV_SUB_MIX[1][h.SBOX[w>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[w>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[255&w]]}this._nRounds=u,this._keySchedule=d,this._invKeySchedule=y},m.prototype.encryptBlockRaw=function(v){return l(v=o(v),this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},m.prototype.encryptBlock=function(v){var f=this.encryptBlockRaw(v),u=a.allocUnsafe(16);return u.writeUInt32BE(f[0],0),u.writeUInt32BE(f[1],4),u.writeUInt32BE(f[2],8),u.writeUInt32BE(f[3],12),u},m.prototype.decryptBlock=function(v){var f=(v=o(v))[1];v[1]=v[3],v[3]=f;var u=l(v,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),c=a.allocUnsafe(16);return c.writeUInt32BE(u[0],0),c.writeUInt32BE(u[3],4),c.writeUInt32BE(u[2],8),c.writeUInt32BE(u[1],12),c},m.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},n.exports.AES=m},{"safe-buffer":494}],187:[function(r,n,i){var a=r("./aes"),o=r("safe-buffer").Buffer,s=r("cipher-base"),l=r("inherits"),p=r("./ghash"),h=r("buffer-xor"),m=r("./incr32");function v(f,u,c,d){s.call(this);var _=o.alloc(4,0);this._cipher=new a.AES(u);var g=this._cipher.encryptBlock(_);this._ghash=new p(g),c=function(y,b,C){if(b.length===12)return y._finID=o.concat([b,o.from([0,0,0,1])]),o.concat([b,o.from([0,0,0,2])]);var w=new p(C),x=b.length,A=x%16;w.update(b),A&&(A=16-A,w.update(o.alloc(A,0))),w.update(o.alloc(8,0));var D=8*x,P=o.alloc(8);P.writeUIntBE(D,0,8),w.update(P),y._finID=w.state;var k=o.from(y._finID);return m(k),k}(this,c,g),this._prev=o.from(c),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=d,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(v,s),v.prototype._update=function(f){if(!this._called&&this._alen){var u=16-this._alen%16;u<16&&(u=o.alloc(u,0),this._ghash.update(u))}this._called=!0;var c=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(c),this._len+=f.length,c},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(u,c){var d=0;u.length!==c.length&&d++;for(var _=Math.min(u.length,c.length),g=0;g<_;++g)d+=u[g]^c[g];return d}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},v.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=v},{"./aes":186,"./ghash":191,"./incr32":192,"buffer-xor":217,"cipher-base":218,inherits:387,"safe-buffer":494}],188:[function(r,n,i){var a=r("./encrypter"),o=r("./decrypter"),s=r("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(s)}},{"./decrypter":189,"./encrypter":190,"./modes/list.json":200}],189:[function(r,n,i){var a=r("./authCipher"),o=r("safe-buffer").Buffer,s=r("./modes"),l=r("./streamCipher"),p=r("cipher-base"),h=r("./aes"),m=r("evp_bytestokey");function v(c,d,_){p.call(this),this._cache=new f,this._last=void 0,this._cipher=new h.AES(d),this._prev=o.from(_),this._mode=c,this._autopadding=!0}function f(){this.cache=o.allocUnsafe(0)}function u(c,d,_){var g=s[c.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof _=="string"&&(_=o.from(_)),g.mode!=="GCM"&&_.length!==g.iv)throw new TypeError("invalid iv length "+_.length);if(typeof d=="string"&&(d=o.from(d)),d.length!==g.key/8)throw new TypeError("invalid key length "+d.length);return g.type==="stream"?new l(g.module,d,_,!0):g.type==="auth"?new a(g.module,d,_,!0):new v(g.module,d,_)}r("inherits")(v,p),v.prototype._update=function(c){var d,_;this._cache.add(c);for(var g=[];d=this._cache.get(this._autopadding);)_=this._mode.decrypt(this,d),g.push(_);return o.concat(g)},v.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return function(d){var _=d[15];if(_<1||_>16)throw new Error("unable to decrypt data");for(var g=-1;++g<_;)if(d[g+(16-_)]!==_)throw new Error("unable to decrypt data");if(_!==16)return d.slice(0,16-_)}(this._mode.decrypt(this,c));if(c)throw new Error("data not multiple of block length")},v.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},f.prototype.add=function(c){this.cache=o.concat([this.cache,c])},f.prototype.get=function(c){var d;if(c){if(this.cache.length>16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d}else if(this.cache.length>=16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(c,d){var _=s[c.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var g=m(d,!1,_.key,_.iv);return u(c,g.key,g.iv)},i.createDecipheriv=u},{"./aes":186,"./authCipher":187,"./modes":199,"./streamCipher":202,"cipher-base":218,evp_bytestokey:368,inherits:387,"safe-buffer":494}],190:[function(r,n,i){var a=r("./modes"),o=r("./authCipher"),s=r("safe-buffer").Buffer,l=r("./streamCipher"),p=r("cipher-base"),h=r("./aes"),m=r("evp_bytestokey");function v(d,_,g){p.call(this),this._cache=new u,this._cipher=new h.AES(_),this._prev=s.from(g),this._mode=d,this._autopadding=!0}r("inherits")(v,p),v.prototype._update=function(d){var _,g;this._cache.add(d);for(var y=[];_=this._cache.get();)g=this._mode.encrypt(this,_),y.push(g);return s.concat(y)};var f=s.alloc(16,16);function u(){this.cache=s.allocUnsafe(0)}function c(d,_,g){var y=a[d.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof _=="string"&&(_=s.from(_)),_.length!==y.key/8)throw new TypeError("invalid key length "+_.length);if(typeof g=="string"&&(g=s.from(g)),y.mode!=="GCM"&&g.length!==y.iv)throw new TypeError("invalid iv length "+g.length);return y.type==="stream"?new l(y.module,_,g):y.type==="auth"?new o(y.module,_,g):new v(y.module,_,g)}v.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return d=this._mode.encrypt(this,d),this._cipher.scrub(),d;if(!d.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},v.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this},u.prototype.add=function(d){this.cache=s.concat([this.cache,d])},u.prototype.get=function(){if(this.cache.length>15){var d=this.cache.slice(0,16);return this.cache=this.cache.slice(16),d}return null},u.prototype.flush=function(){for(var d=16-this.cache.length,_=s.allocUnsafe(d),g=-1;++g<d;)_.writeUInt8(d,g);return s.concat([this.cache,_])},i.createCipheriv=c,i.createCipher=function(d,_){var g=a[d.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var y=m(_,!1,g.key,g.iv);return c(d,y.key,y.iv)}},{"./aes":186,"./authCipher":187,"./modes":199,"./streamCipher":202,"cipher-base":218,evp_bytestokey:368,inherits:387,"safe-buffer":494}],191:[function(r,n,i){var a=r("safe-buffer").Buffer,o=a.alloc(16,0);function s(p){var h=a.allocUnsafe(16);return h.writeUInt32BE(p[0]>>>0,0),h.writeUInt32BE(p[1]>>>0,4),h.writeUInt32BE(p[2]>>>0,8),h.writeUInt32BE(p[3]>>>0,12),h}function l(p){this.h=p,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(p){for(var h=-1;++h<p.length;)this.state[h]^=p[h];this._multiply()},l.prototype._multiply=function(){for(var p,h,m,v=[(p=this.h).readUInt32BE(0),p.readUInt32BE(4),p.readUInt32BE(8),p.readUInt32BE(12)],f=[0,0,0,0],u=-1;++u<128;){for(this.state[~~(u/8)]&1<<7-u%8&&(f[0]^=v[0],f[1]^=v[1],f[2]^=v[2],f[3]^=v[3]),m=(1&v[3])!=0,h=3;h>0;h--)v[h]=v[h]>>>1|(1&v[h-1])<<31;v[0]=v[0]>>>1,m&&(v[0]=v[0]^225<<24)}this.state=s(f)},l.prototype.update=function(p){var h;for(this.cache=a.concat([this.cache,p]);this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},l.prototype.final=function(p,h){return this.cache.length&&this.ghash(a.concat([this.cache,o],16)),this.ghash(s([0,p,0,h])),this.state},n.exports=l},{"safe-buffer":494}],192:[function(r,n,i){n.exports=function(a){for(var o,s=a.length;s--;){if((o=a.readUInt8(s))!==255){o++,a.writeUInt8(o,s);break}a.writeUInt8(0,s)}}},{}],193:[function(r,n,i){var a=r("buffer-xor");i.encrypt=function(o,s){var l=a(s,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,s){var l=o._prev;o._prev=s;var p=o._cipher.decryptBlock(s);return a(p,l)}},{"buffer-xor":217}],194:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("buffer-xor");function s(l,p,h){var m=p.length,v=o(p,l._cache);return l._cache=l._cache.slice(m),l._prev=a.concat([l._prev,h?p:v]),v}i.encrypt=function(l,p,h){for(var m,v=a.allocUnsafe(0);p.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=p.length)){v=a.concat([v,s(l,p,h)]);break}m=l._cache.length,v=a.concat([v,s(l,p.slice(0,m),h)]),p=p.slice(m)}return v}},{"buffer-xor":217,"safe-buffer":494}],195:[function(r,n,i){var a=r("safe-buffer").Buffer;function o(l,p,h){for(var m,v,f=-1,u=0;++f<8;)m=p&1<<7-f?128:0,u+=(128&(v=l._cipher.encryptBlock(l._prev)[0]^m))>>f%8,l._prev=s(l._prev,h?m:v);return u}function s(l,p){var h=l.length,m=-1,v=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([p])]);++m<h;)v[m]=l[m]<<1|l[m+1]>>7;return v}i.encrypt=function(l,p,h){for(var m=p.length,v=a.allocUnsafe(m),f=-1;++f<m;)v[f]=o(l,p[f],h);return v}},{"safe-buffer":494}],196:[function(r,n,i){var a=r("safe-buffer").Buffer;function o(s,l,p){var h=s._cipher.encryptBlock(s._prev)[0]^l;return s._prev=a.concat([s._prev.slice(1),a.from([p?l:h])]),h}i.encrypt=function(s,l,p){for(var h=l.length,m=a.allocUnsafe(h),v=-1;++v<h;)m[v]=o(s,l[v],p);return m}},{"safe-buffer":494}],197:[function(r,n,i){var a=r("buffer-xor"),o=r("safe-buffer").Buffer,s=r("../incr32");function l(p){var h=p._cipher.encryptBlockRaw(p._prev);return s(p._prev),h}i.encrypt=function(p,h){var m=Math.ceil(h.length/16),v=p._cache.length;p._cache=o.concat([p._cache,o.allocUnsafe(16*m)]);for(var f=0;f<m;f++){var u=l(p),c=v+16*f;p._cache.writeUInt32BE(u[0],c+0),p._cache.writeUInt32BE(u[1],c+4),p._cache.writeUInt32BE(u[2],c+8),p._cache.writeUInt32BE(u[3],c+12)}var d=p._cache.slice(0,h.length);return p._cache=p._cache.slice(h.length),a(h,d)}},{"../incr32":192,"buffer-xor":217,"safe-buffer":494}],198:[function(r,n,i){i.encrypt=function(a,o){return a._cipher.encryptBlock(o)},i.decrypt=function(a,o){return a._cipher.decryptBlock(o)}},{}],199:[function(r,n,i){var a={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var s in o)o[s].module=a[o[s].mode];n.exports=o},{"./cbc":193,"./cfb":194,"./cfb1":195,"./cfb8":196,"./ctr":197,"./ecb":198,"./list.json":200,"./ofb":201}],200:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],201:[function(r,n,i){(function(a){var o=r("buffer-xor");function s(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,p){for(;l._cache.length<p.length;)l._cache=a.concat([l._cache,s(l)]);var h=l._cache.slice(0,p.length);return l._cache=l._cache.slice(p.length),o(p,h)}}).call(this,r("buffer").Buffer)},{buffer:216,"buffer-xor":217}],202:[function(r,n,i){var a=r("./aes"),o=r("safe-buffer").Buffer,s=r("cipher-base");function l(p,h,m,v){s.call(this),this._cipher=new a.AES(h),this._prev=o.from(m),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=v,this._mode=p}r("inherits")(l,s),l.prototype._update=function(p){return this._mode.encrypt(this,p,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":186,"cipher-base":218,inherits:387,"safe-buffer":494}],203:[function(r,n,i){var a=r("browserify-des"),o=r("browserify-aes/browser"),s=r("browserify-aes/modes"),l=r("browserify-des/modes"),p=r("evp_bytestokey");function h(v,f,u){if(v=v.toLowerCase(),s[v])return o.createCipheriv(v,f,u);if(l[v])return new a({key:f,iv:u,mode:v});throw new TypeError("invalid suite type")}function m(v,f,u){if(v=v.toLowerCase(),s[v])return o.createDecipheriv(v,f,u);if(l[v])return new a({key:f,iv:u,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(v,f){var u,c;if(v=v.toLowerCase(),s[v])u=s[v].key,c=s[v].iv;else{if(!l[v])throw new TypeError("invalid suite type");u=8*l[v].key,c=l[v].iv}var d=p(f,!1,u,c);return h(v,d.key,d.iv)},i.createCipheriv=i.Cipheriv=h,i.createDecipher=i.Decipher=function(v,f){var u,c;if(v=v.toLowerCase(),s[v])u=s[v].key,c=s[v].iv;else{if(!l[v])throw new TypeError("invalid suite type");u=8*l[v].key,c=l[v].iv}var d=p(f,!1,u,c);return m(v,d.key,d.iv)},i.createDecipheriv=i.Decipheriv=m,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":188,"browserify-aes/modes":199,"browserify-des":204,"browserify-des/modes":205,evp_bytestokey:368}],204:[function(r,n,i){var a=r("cipher-base"),o=r("des.js"),s=r("inherits"),l=r("safe-buffer").Buffer,p={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function h(m){a.call(this);var v,f=m.mode.toLowerCase(),u=p[f];v=m.decrypt?"decrypt":"encrypt";var c=m.key;l.isBuffer(c)||(c=l.from(c)),f!=="des-ede"&&f!=="des-ede-cbc"||(c=l.concat([c,c.slice(0,8)]));var d=m.iv;l.isBuffer(d)||(d=l.from(d)),this._des=u.create({key:c,iv:d,type:v})}p.des=p["des-cbc"],p.des3=p["des-ede3-cbc"],n.exports=h,s(h,a),h.prototype._update=function(m){return l.from(this._des.update(m))},h.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":218,"des.js":339,inherits:387,"safe-buffer":494}],205:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],206:[function(r,n,i){(function(a){var o=r("bn.js"),s=r("randombytes");function l(h,m){var v=function(x){var A=p(x);return{blinder:A.toRed(o.mont(x.modulus)).redPow(new o(x.publicExponent)).fromRed(),unblinder:A.invm(x.modulus)}}(m),f=m.modulus.byteLength(),u=(o.mont(m.modulus),new o(h).mul(v.blinder).umod(m.modulus)),c=u.toRed(o.mont(m.prime1)),d=u.toRed(o.mont(m.prime2)),_=m.coefficient,g=m.prime1,y=m.prime2,b=c.redPow(m.exponent1),C=d.redPow(m.exponent2);b=b.fromRed(),C=C.fromRed();var w=b.isub(C).imul(_).umod(g);return w.imul(y),C.iadd(w),new a(C.imul(v.unblinder).umod(m.modulus).toArray(!1,f))}function p(h){for(var m=h.modulus.byteLength(),v=new o(s(m));v.cmp(h.modulus)>=0||!v.umod(h.prime1)||!v.umod(h.prime2);)v=new o(s(m));return v}n.exports=l,l.getr=p}).call(this,r("buffer").Buffer)},{"bn.js":207,buffer:216,randombytes:475}],207:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],208:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":209}],209:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],210:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],211:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("create-hash"),s=r("readable-stream"),l=r("inherits"),p=r("./sign"),h=r("./verify"),m=r("./algorithms.json");function v(d){s.Writable.call(this);var _=m[d];if(!_)throw new Error("Unknown message digest");this._hashType=_.hash,this._hash=o(_.hash),this._tag=_.id,this._signType=_.sign}function f(d){s.Writable.call(this);var _=m[d];if(!_)throw new Error("Unknown message digest");this._hash=o(_.hash),this._tag=_.id,this._signType=_.sign}function u(d){return new v(d)}function c(d){return new f(d)}Object.keys(m).forEach(function(d){m[d].id=a.from(m[d].id,"hex"),m[d.toLowerCase()]=m[d]}),l(v,s.Writable),v.prototype._write=function(d,_,g){this._hash.update(d),g()},v.prototype.update=function(d,_){return typeof d=="string"&&(d=a.from(d,_)),this._hash.update(d),this},v.prototype.sign=function(d,_){this.end();var g=this._hash.digest(),y=p(g,d,this._hashType,this._signType,this._tag);return _?y.toString(_):y},l(f,s.Writable),f.prototype._write=function(d,_,g){this._hash.update(d),g()},f.prototype.update=function(d,_){return typeof d=="string"&&(d=a.from(d,_)),this._hash.update(d),this},f.prototype.verify=function(d,_,g){typeof _=="string"&&(_=a.from(_,g)),this.end();var y=this._hash.digest();return h(_,y,d,this._signType,this._tag)},n.exports={Sign:u,Verify:c,createSign:u,createVerify:c}},{"./algorithms.json":209,"./sign":212,"./verify":213,"create-hash":331,inherits:387,"readable-stream":491,"safe-buffer":214}],212:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("create-hmac"),s=r("browserify-rsa"),l=r("elliptic").ec,p=r("bn.js"),h=r("parse-asn1"),m=r("./curves.json");function v(d,_,g,y){if((d=a.from(d.toArray())).length<_.byteLength()){var b=a.alloc(_.byteLength()-d.length);d=a.concat([b,d])}var C=g.length,w=function(D,P){D=(D=f(D,P)).mod(P);var k=a.from(D.toArray());if(k.length<P.byteLength()){var B=a.alloc(P.byteLength()-k.length);k=a.concat([B,k])}return k}(g,_),x=a.alloc(C);x.fill(1);var A=a.alloc(C);return A=o(y,A).update(x).update(a.from([0])).update(d).update(w).digest(),x=o(y,A).update(x).digest(),{k:A=o(y,A).update(x).update(a.from([1])).update(d).update(w).digest(),v:x=o(y,A).update(x).digest()}}function f(d,_){var g=new p(d),y=(d.length<<3)-_.bitLength();return y>0&&g.ishrn(y),g}function u(d,_,g){var y,b;do{for(y=a.alloc(0);8*y.length<d.bitLength();)_.v=o(g,_.k).update(_.v).digest(),y=a.concat([y,_.v]);b=f(y,d),_.k=o(g,_.k).update(_.v).update(a.from([0])).digest(),_.v=o(g,_.k).update(_.v).digest()}while(b.cmp(d)!==-1);return b}function c(d,_,g,y){return d.toRed(p.mont(g)).redPow(_).fromRed().mod(y)}n.exports=function(d,_,g,y,b){var C=h(_);if(C.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return function(D,P){var k=m[P.curve.join(".")];if(!k)throw new Error("unknown curve "+P.curve.join("."));var B=new l(k).keyFromPrivate(P.privateKey).sign(D);return a.from(B.toDER())}(d,C)}if(C.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return function(D,P,k){for(var B,E=P.params.priv_key,O=P.params.p,S=P.params.q,R=P.params.g,T=new p(0),I=f(D,S).mod(S),M=!1,N=v(E,S,D,k);M===!1;)B=u(S,N,k),T=c(R,B,O,S),(M=B.invm(S).imul(I.add(E.mul(T))).mod(S)).cmpn(0)===0&&(M=!1,T=new p(0));return function(j,H){j=j.toArray(),H=H.toArray(),128&j[0]&&(j=[0].concat(j)),128&H[0]&&(H=[0].concat(H));var U=[48,j.length+H.length+4,2,j.length];return U=U.concat(j,[2,H.length],H),a.from(U)}(T,M)}(d,C,g)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");d=a.concat([b,d]);for(var w=C.modulus.byteLength(),x=[0,1];d.length+x.length+1<w;)x.push(255);x.push(0);for(var A=-1;++A<d.length;)x.push(d[A]);return s(x,C)},n.exports.getKey=v,n.exports.makeKey=u},{"./curves.json":210,"bn.js":183,"browserify-rsa":206,"create-hmac":333,elliptic:350,"parse-asn1":459,"safe-buffer":214}],213:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("bn.js"),s=r("elliptic").ec,l=r("parse-asn1"),p=r("./curves.json");function h(m,v){if(m.cmpn(0)<=0)throw new Error("invalid sig");if(m.cmp(v)>=v)throw new Error("invalid sig")}n.exports=function(m,v,f,u,c){var d=l(f);if(d.type==="ec"){if(u!=="ecdsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");return function(x,A,D){var P=p[D.data.algorithm.curve.join(".")];if(!P)throw new Error("unknown curve "+D.data.algorithm.curve.join("."));var k=new s(P),B=D.data.subjectPrivateKey.data;return k.verify(A,x,B)}(m,v,d)}if(d.type==="dsa"){if(u!=="dsa")throw new Error("wrong public key type");return function(x,A,D){var P=D.data.p,k=D.data.q,B=D.data.g,E=D.data.pub_key,O=l.signature.decode(x,"der"),S=O.s,R=O.r;h(S,k),h(R,k);var T=o.mont(P),I=S.invm(k);return B.toRed(T).redPow(new o(A).mul(I).mod(k)).fromRed().mul(E.toRed(T).redPow(R.mul(I).mod(k)).fromRed()).mod(P).mod(k).cmp(R)===0}(m,v,d)}if(u!=="rsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");v=a.concat([c,v]);for(var _=d.modulus.byteLength(),g=[1],y=0;v.length+g.length+2<_;)g.push(255),y++;g.push(0);for(var b=-1;++b<v.length;)g.push(v[b]);g=a.from(g);var C=o.mont(d.modulus);m=(m=new o(m).toRed(C)).redPow(new o(d.publicExponent)),m=a.from(m.fromRed().toArray());var w=y<8?1:0;for(_=Math.min(m.length,g.length),m.length!==g.length&&(w=1),b=-1;++b<_;)w|=m[b]^g[b];return w===0}},{"./curves.json":210,"bn.js":183,elliptic:350,"parse-asn1":459,"safe-buffer":214}],214:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=r("buffer"),o=a.Buffer;function s(p,h){for(var m in p)h[m]=p[m]}function l(p,h,m){return o(p,h,m)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(s(a,i),i.Buffer=l),l.prototype=Object.create(o.prototype),s(o,l),l.from=function(p,h,m){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,h,m)},l.alloc=function(p,h,m){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=o(p);return h!==void 0?typeof m=="string"?v.fill(h,m):v.fill(h):v.fill(0),v},l.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},l.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(p)}},{buffer:216}],215:[function(r,n,i){arguments[4][185][0].apply(i,arguments)},{dup:185}],216:[function(r,n,i){(function(h){function o(L){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(L)}var s=r("base64-js"),l=r("ieee754");i.Buffer=h,i.SlowBuffer=function(L){return+L!=L&&(L=0),h.alloc(+L)},i.INSPECT_MAX_BYTES=50;function p(L){if(L>2147483647)throw new RangeError('The value "'+L+'" is invalid for option "size"');var F=new Uint8Array(L);return F.__proto__=h.prototype,F}function h(L,F,z){if(typeof L=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(L)}return m(L,F,z)}function m(L,F,z){if(typeof L=="string")return function(ee,pe){if(typeof pe=="string"&&pe!==""||(pe="utf8"),!h.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var le=0|d(ee,pe),ye=p(le),ke=ye.write(ee,pe);return ke!==le&&(ye=ye.slice(0,ke)),ye}(L,F);if(ArrayBuffer.isView(L))return u(L);if(L==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(L));if(Q(L,ArrayBuffer)||L&&Q(L.buffer,ArrayBuffer))return function(ee,pe,le){if(pe<0||ee.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<pe+(le||0))throw new RangeError('"length" is outside of buffer bounds');var ye;return ye=pe===void 0&&le===void 0?new Uint8Array(ee):le===void 0?new Uint8Array(ee,pe):new Uint8Array(ee,pe,le),ye.__proto__=h.prototype,ye}(L,F,z);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=L.valueOf&&L.valueOf();if(Z!=null&&Z!==L)return h.from(Z,F,z);var J=function(ee){if(h.isBuffer(ee)){var pe=0|c(ee.length),le=p(pe);return le.length===0||ee.copy(le,0,0,pe),le}if(ee.length!==void 0)return typeof ee.length!="number"||$(ee.length)?p(0):u(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return u(ee.data)}(L);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return h.from(L[Symbol.toPrimitive]("string"),F,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(L))}function v(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function f(L){return v(L),p(L<0?0:0|c(L))}function u(L){for(var F=L.length<0?0:0|c(L.length),z=p(F),Z=0;Z<F;Z+=1)z[Z]=255&L[Z];return z}function c(L){if(L>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|L}function d(L,F){if(h.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Q(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(L));var z=L.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&z===0)return 0;for(var J=!1;;)switch(F){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return W(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return G(L).length;default:if(J)return Z?-1:W(L).length;F=(""+F).toLowerCase(),J=!0}}function _(L,F,z){var Z=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(F>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return S(this,F,z);case"utf8":case"utf-8":return B(this,F,z);case"ascii":return E(this,F,z);case"latin1":case"binary":return O(this,F,z);case"base64":return k(this,F,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,F,z);default:if(Z)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),Z=!0}}function g(L,F,z){var Z=L[F];L[F]=L[z],L[z]=Z}function y(L,F,z,Z,J){if(L.length===0)return-1;if(typeof z=="string"?(Z=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),$(z=+z)&&(z=J?0:L.length-1),z<0&&(z=L.length+z),z>=L.length){if(J)return-1;z=L.length-1}else if(z<0){if(!J)return-1;z=0}if(typeof F=="string"&&(F=h.from(F,Z)),h.isBuffer(F))return F.length===0?-1:b(L,F,z,Z,J);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(L,F,z):Uint8Array.prototype.lastIndexOf.call(L,F,z):b(L,[F],z,Z,J);throw new TypeError("val must be string, number or Buffer")}function b(L,F,z,Z,J){var ee,pe=1,le=L.length,ye=F.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(L.length<2||F.length<2)return-1;pe=2,le/=2,ye/=2,z/=2}function ke(Be,$e){return pe===1?Be[$e]:Be.readUInt16BE($e*pe)}if(J){var be=-1;for(ee=z;ee<le;ee++)if(ke(L,ee)===ke(F,be===-1?0:ee-be)){if(be===-1&&(be=ee),ee-be+1===ye)return be*pe}else be!==-1&&(ee-=ee-be),be=-1}else for(z+ye>le&&(z=le-ye),ee=z;ee>=0;ee--){for(var Je=!0,je=0;je<ye;je++)if(ke(L,ee+je)!==ke(F,je)){Je=!1;break}if(Je)return ee}return-1}function C(L,F,z,Z){z=Number(z)||0;var J=L.length-z;Z?(Z=Number(Z))>J&&(Z=J):Z=J;var ee=F.length;Z>ee/2&&(Z=ee/2);for(var pe=0;pe<Z;++pe){var le=parseInt(F.substr(2*pe,2),16);if($(le))return pe;L[z+pe]=le}return pe}function w(L,F,z,Z){return K(W(F,L.length-z),L,z,Z)}function x(L,F,z,Z){return K(function(J){for(var ee=[],pe=0;pe<J.length;++pe)ee.push(255&J.charCodeAt(pe));return ee}(F),L,z,Z)}function A(L,F,z,Z){return x(L,F,z,Z)}function D(L,F,z,Z){return K(G(F),L,z,Z)}function P(L,F,z,Z){return K(function(J,ee){for(var pe,le,ye,ke=[],be=0;be<J.length&&!((ee-=2)<0);++be)pe=J.charCodeAt(be),le=pe>>8,ye=pe%256,ke.push(ye),ke.push(le);return ke}(F,L.length-z),L,z,Z)}function k(L,F,z){return F===0&&z===L.length?s.fromByteArray(L):s.fromByteArray(L.slice(F,z))}function B(L,F,z){z=Math.min(L.length,z);for(var Z=[],J=F;J<z;){var ee,pe,le,ye,ke=L[J],be=null,Je=ke>239?4:ke>223?3:ke>191?2:1;if(J+Je<=z)switch(Je){case 1:ke<128&&(be=ke);break;case 2:(192&(ee=L[J+1]))==128&&(ye=(31&ke)<<6|63&ee)>127&&(be=ye);break;case 3:ee=L[J+1],pe=L[J+2],(192&ee)==128&&(192&pe)==128&&(ye=(15&ke)<<12|(63&ee)<<6|63&pe)>2047&&(ye<55296||ye>57343)&&(be=ye);break;case 4:ee=L[J+1],pe=L[J+2],le=L[J+3],(192&ee)==128&&(192&pe)==128&&(192&le)==128&&(ye=(15&ke)<<18|(63&ee)<<12|(63&pe)<<6|63&le)>65535&&ye<1114112&&(be=ye)}be===null?(be=65533,Je=1):be>65535&&(be-=65536,Z.push(be>>>10&1023|55296),be=56320|1023&be),Z.push(be),J+=Je}return function(je){var Be=je.length;if(Be<=4096)return String.fromCharCode.apply(String,je);for(var $e="",nt=0;nt<Be;)$e+=String.fromCharCode.apply(String,je.slice(nt,nt+=4096));return $e}(Z)}i.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1);return L.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},L.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(L,F,z){return m(L,F,z)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(L,F,z){return function(Z,J,ee){return v(Z),Z<=0?p(Z):J!==void 0?typeof ee=="string"?p(Z).fill(J,ee):p(Z).fill(J):p(Z)}(L,F,z)},h.allocUnsafe=function(L){return f(L)},h.allocUnsafeSlow=function(L){return f(L)},h.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==h.prototype},h.compare=function(L,F){if(Q(L,Uint8Array)&&(L=h.from(L,L.offset,L.byteLength)),Q(F,Uint8Array)&&(F=h.from(F,F.offset,F.byteLength)),!h.isBuffer(L)||!h.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===F)return 0;for(var z=L.length,Z=F.length,J=0,ee=Math.min(z,Z);J<ee;++J)if(L[J]!==F[J]){z=L[J],Z=F[J];break}return z<Z?-1:Z<z?1:0},h.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(L,F){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return h.alloc(0);var z;if(F===void 0)for(F=0,z=0;z<L.length;++z)F+=L[z].length;var Z=h.allocUnsafe(F),J=0;for(z=0;z<L.length;++z){var ee=L[z];if(Q(ee,Uint8Array)&&(ee=h.from(ee)),!h.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(Z,J),J+=ee.length}return Z},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<L;F+=2)g(this,F,F+1);return this},h.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<L;F+=4)g(this,F,F+3),g(this,F+1,F+2);return this},h.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<L;F+=8)g(this,F,F+7),g(this,F+1,F+6),g(this,F+2,F+5),g(this,F+3,F+4);return this},h.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?B(this,0,L):_.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(L){if(!h.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||h.compare(this,L)===0},h.prototype.inspect=function(){var L="",F=i.INSPECT_MAX_BYTES;return L=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(L+=" ... "),"<Buffer "+L+">"},h.prototype.compare=function(L,F,z,Z,J){if(Q(L,Uint8Array)&&(L=h.from(L,L.offset,L.byteLength)),!h.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(L));if(F===void 0&&(F=0),z===void 0&&(z=L?L.length:0),Z===void 0&&(Z=0),J===void 0&&(J=this.length),F<0||z>L.length||Z<0||J>this.length)throw new RangeError("out of range index");if(Z>=J&&F>=z)return 0;if(Z>=J)return-1;if(F>=z)return 1;if(this===L)return 0;for(var ee=(J>>>=0)-(Z>>>=0),pe=(z>>>=0)-(F>>>=0),le=Math.min(ee,pe),ye=this.slice(Z,J),ke=L.slice(F,z),be=0;be<le;++be)if(ye[be]!==ke[be]){ee=ye[be],pe=ke[be];break}return ee<pe?-1:pe<ee?1:0},h.prototype.includes=function(L,F,z){return this.indexOf(L,F,z)!==-1},h.prototype.indexOf=function(L,F,z){return y(this,L,F,z,!0)},h.prototype.lastIndexOf=function(L,F,z){return y(this,L,F,z,!1)},h.prototype.write=function(L,F,z,Z){if(F===void 0)Z="utf8",z=this.length,F=0;else if(z===void 0&&typeof F=="string")Z=F,z=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(z)?(z>>>=0,Z===void 0&&(Z="utf8")):(Z=z,z=void 0)}var J=this.length-F;if((z===void 0||z>J)&&(z=J),L.length>0&&(z<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ee=!1;;)switch(Z){case"hex":return C(this,L,F,z);case"utf8":case"utf-8":return w(this,L,F,z);case"ascii":return x(this,L,F,z);case"latin1":case"binary":return A(this,L,F,z);case"base64":return D(this,L,F,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,L,F,z);default:if(ee)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ee=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(L,F,z){var Z="";z=Math.min(L.length,z);for(var J=F;J<z;++J)Z+=String.fromCharCode(127&L[J]);return Z}function O(L,F,z){var Z="";z=Math.min(L.length,z);for(var J=F;J<z;++J)Z+=String.fromCharCode(L[J]);return Z}function S(L,F,z){var Z=L.length;(!F||F<0)&&(F=0),(!z||z<0||z>Z)&&(z=Z);for(var J="",ee=F;ee<z;++ee)J+=U(L[ee]);return J}function R(L,F,z){for(var Z=L.slice(F,z),J="",ee=0;ee<Z.length;ee+=2)J+=String.fromCharCode(Z[ee]+256*Z[ee+1]);return J}function T(L,F,z){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+F>z)throw new RangeError("Trying to access beyond buffer length")}function I(L,F,z,Z,J,ee){if(!h.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>J||F<ee)throw new RangeError('"value" argument is out of bounds');if(z+Z>L.length)throw new RangeError("Index out of range")}function M(L,F,z,Z,J,ee){if(z+Z>L.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function N(L,F,z,Z,J){return F=+F,z>>>=0,J||M(L,0,z,4),l.write(L,F,z,Z,23,4),z+4}function j(L,F,z,Z,J){return F=+F,z>>>=0,J||M(L,0,z,8),l.write(L,F,z,Z,52,8),z+8}h.prototype.slice=function(L,F){var z=this.length;(L=~~L)<0?(L+=z)<0&&(L=0):L>z&&(L=z),(F=F===void 0?z:~~F)<0?(F+=z)<0&&(F=0):F>z&&(F=z),F<L&&(F=L);var Z=this.subarray(L,F);return Z.__proto__=h.prototype,Z},h.prototype.readUIntLE=function(L,F,z){L>>>=0,F>>>=0,z||T(L,F,this.length);for(var Z=this[L],J=1,ee=0;++ee<F&&(J*=256);)Z+=this[L+ee]*J;return Z},h.prototype.readUIntBE=function(L,F,z){L>>>=0,F>>>=0,z||T(L,F,this.length);for(var Z=this[L+--F],J=1;F>0&&(J*=256);)Z+=this[L+--F]*J;return Z},h.prototype.readUInt8=function(L,F){return L>>>=0,F||T(L,1,this.length),this[L]},h.prototype.readUInt16LE=function(L,F){return L>>>=0,F||T(L,2,this.length),this[L]|this[L+1]<<8},h.prototype.readUInt16BE=function(L,F){return L>>>=0,F||T(L,2,this.length),this[L]<<8|this[L+1]},h.prototype.readUInt32LE=function(L,F){return L>>>=0,F||T(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},h.prototype.readUInt32BE=function(L,F){return L>>>=0,F||T(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},h.prototype.readIntLE=function(L,F,z){L>>>=0,F>>>=0,z||T(L,F,this.length);for(var Z=this[L],J=1,ee=0;++ee<F&&(J*=256);)Z+=this[L+ee]*J;return Z>=(J*=128)&&(Z-=Math.pow(2,8*F)),Z},h.prototype.readIntBE=function(L,F,z){L>>>=0,F>>>=0,z||T(L,F,this.length);for(var Z=F,J=1,ee=this[L+--Z];Z>0&&(J*=256);)ee+=this[L+--Z]*J;return ee>=(J*=128)&&(ee-=Math.pow(2,8*F)),ee},h.prototype.readInt8=function(L,F){return L>>>=0,F||T(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},h.prototype.readInt16LE=function(L,F){L>>>=0,F||T(L,2,this.length);var z=this[L]|this[L+1]<<8;return 32768&z?4294901760|z:z},h.prototype.readInt16BE=function(L,F){L>>>=0,F||T(L,2,this.length);var z=this[L+1]|this[L]<<8;return 32768&z?4294901760|z:z},h.prototype.readInt32LE=function(L,F){return L>>>=0,F||T(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},h.prototype.readInt32BE=function(L,F){return L>>>=0,F||T(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},h.prototype.readFloatLE=function(L,F){return L>>>=0,F||T(L,4,this.length),l.read(this,L,!0,23,4)},h.prototype.readFloatBE=function(L,F){return L>>>=0,F||T(L,4,this.length),l.read(this,L,!1,23,4)},h.prototype.readDoubleLE=function(L,F){return L>>>=0,F||T(L,8,this.length),l.read(this,L,!0,52,8)},h.prototype.readDoubleBE=function(L,F){return L>>>=0,F||T(L,8,this.length),l.read(this,L,!1,52,8)},h.prototype.writeUIntLE=function(L,F,z,Z){L=+L,F>>>=0,z>>>=0,Z||I(this,L,F,z,Math.pow(2,8*z)-1,0);var J=1,ee=0;for(this[F]=255&L;++ee<z&&(J*=256);)this[F+ee]=L/J&255;return F+z},h.prototype.writeUIntBE=function(L,F,z,Z){L=+L,F>>>=0,z>>>=0,Z||I(this,L,F,z,Math.pow(2,8*z)-1,0);var J=z-1,ee=1;for(this[F+J]=255&L;--J>=0&&(ee*=256);)this[F+J]=L/ee&255;return F+z},h.prototype.writeUInt8=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,1,255,0),this[F]=255&L,F+1},h.prototype.writeUInt16LE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,2,65535,0),this[F]=255&L,this[F+1]=L>>>8,F+2},h.prototype.writeUInt16BE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,2,65535,0),this[F]=L>>>8,this[F+1]=255&L,F+2},h.prototype.writeUInt32LE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,4,4294967295,0),this[F+3]=L>>>24,this[F+2]=L>>>16,this[F+1]=L>>>8,this[F]=255&L,F+4},h.prototype.writeUInt32BE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,4,4294967295,0),this[F]=L>>>24,this[F+1]=L>>>16,this[F+2]=L>>>8,this[F+3]=255&L,F+4},h.prototype.writeIntLE=function(L,F,z,Z){if(L=+L,F>>>=0,!Z){var J=Math.pow(2,8*z-1);I(this,L,F,z,J-1,-J)}var ee=0,pe=1,le=0;for(this[F]=255&L;++ee<z&&(pe*=256);)L<0&&le===0&&this[F+ee-1]!==0&&(le=1),this[F+ee]=(L/pe>>0)-le&255;return F+z},h.prototype.writeIntBE=function(L,F,z,Z){if(L=+L,F>>>=0,!Z){var J=Math.pow(2,8*z-1);I(this,L,F,z,J-1,-J)}var ee=z-1,pe=1,le=0;for(this[F+ee]=255&L;--ee>=0&&(pe*=256);)L<0&&le===0&&this[F+ee+1]!==0&&(le=1),this[F+ee]=(L/pe>>0)-le&255;return F+z},h.prototype.writeInt8=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,1,127,-128),L<0&&(L=255+L+1),this[F]=255&L,F+1},h.prototype.writeInt16LE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,2,32767,-32768),this[F]=255&L,this[F+1]=L>>>8,F+2},h.prototype.writeInt16BE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,2,32767,-32768),this[F]=L>>>8,this[F+1]=255&L,F+2},h.prototype.writeInt32LE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,4,2147483647,-2147483648),this[F]=255&L,this[F+1]=L>>>8,this[F+2]=L>>>16,this[F+3]=L>>>24,F+4},h.prototype.writeInt32BE=function(L,F,z){return L=+L,F>>>=0,z||I(this,L,F,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[F]=L>>>24,this[F+1]=L>>>16,this[F+2]=L>>>8,this[F+3]=255&L,F+4},h.prototype.writeFloatLE=function(L,F,z){return N(this,L,F,!0,z)},h.prototype.writeFloatBE=function(L,F,z){return N(this,L,F,!1,z)},h.prototype.writeDoubleLE=function(L,F,z){return j(this,L,F,!0,z)},h.prototype.writeDoubleBE=function(L,F,z){return j(this,L,F,!1,z)},h.prototype.copy=function(L,F,z,Z){if(!h.isBuffer(L))throw new TypeError("argument should be a Buffer");if(z||(z=0),Z||Z===0||(Z=this.length),F>=L.length&&(F=L.length),F||(F=0),Z>0&&Z<z&&(Z=z),Z===z||L.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),L.length-F<Z-z&&(Z=L.length-F+z);var J=Z-z;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,z,Z);else if(this===L&&z<F&&F<Z)for(var ee=J-1;ee>=0;--ee)L[ee+F]=this[ee+z];else Uint8Array.prototype.set.call(L,this.subarray(z,Z),F);return J},h.prototype.fill=function(L,F,z,Z){if(typeof L=="string"){if(typeof F=="string"?(Z=F,F=0,z=this.length):typeof z=="string"&&(Z=z,z=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!h.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(L.length===1){var J=L.charCodeAt(0);(Z==="utf8"&&J<128||Z==="latin1")&&(L=J)}}else typeof L=="number"&&(L&=255);if(F<0||this.length<F||this.length<z)throw new RangeError("Out of range index");if(z<=F)return this;var ee;if(F>>>=0,z=z===void 0?this.length:z>>>0,L||(L=0),typeof L=="number")for(ee=F;ee<z;++ee)this[ee]=L;else{var pe=h.isBuffer(L)?L:h.from(L,Z),le=pe.length;if(le===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(ee=0;ee<z-F;++ee)this[ee+F]=pe[ee%le]}return this};var H=/[^+/0-9A-Za-z-_]/g;function U(L){return L<16?"0"+L.toString(16):L.toString(16)}function W(L,F){var z;F=F||1/0;for(var Z=L.length,J=null,ee=[],pe=0;pe<Z;++pe){if((z=L.charCodeAt(pe))>55295&&z<57344){if(!J){if(z>56319){(F-=3)>-1&&ee.push(239,191,189);continue}if(pe+1===Z){(F-=3)>-1&&ee.push(239,191,189);continue}J=z;continue}if(z<56320){(F-=3)>-1&&ee.push(239,191,189),J=z;continue}z=65536+(J-55296<<10|z-56320)}else J&&(F-=3)>-1&&ee.push(239,191,189);if(J=null,z<128){if((F-=1)<0)break;ee.push(z)}else if(z<2048){if((F-=2)<0)break;ee.push(z>>6|192,63&z|128)}else if(z<65536){if((F-=3)<0)break;ee.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;ee.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return ee}function G(L){return s.toByteArray(function(F){if((F=(F=F.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(L))}function K(L,F,z,Z){for(var J=0;J<Z&&!(J+z>=F.length||J>=L.length);++J)F[J+z]=L[J];return J}function Q(L,F){return L instanceof F||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===F.name}function $(L){return L!=L}}).call(this,r("buffer").Buffer)},{"base64-js":182,buffer:216,ieee754:385}],217:[function(r,n,i){(function(a){n.exports=function(o,s){for(var l=Math.min(o.length,s.length),p=new a(l),h=0;h<l;++h)p[h]=o[h]^s[h];return p}}).call(this,r("buffer").Buffer)},{buffer:216}],218:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("stream").Transform,s=r("string_decoder").StringDecoder;function l(p){o.call(this),this.hashMode=typeof p=="string",this.hashMode?this[p]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,o),l.prototype.update=function(p,h,m){typeof p=="string"&&(p=a.from(p,h));var v=this._update(p);return this.hashMode?this:(m&&(v=this._toString(v,m)),v)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(p,h,m){var v;try{this.hashMode?this._update(p):this.push(this._update(p))}catch(f){v=f}finally{m(v)}},l.prototype._flush=function(p){var h;try{this.push(this.__final())}catch(m){h=m}p(h)},l.prototype._finalOrDigest=function(p){var h=this.__final()||a.alloc(0);return p&&(h=this._toString(h,p,!0)),h},l.prototype._toString=function(p,h,m){if(this._decoder||(this._decoder=new s(h),this._encoding=h),this._encoding!==h)throw new Error("can't switch encodings");var v=this._decoder.write(p);return m&&(v+=this._decoder.end()),v},n.exports=l},{inherits:387,"safe-buffer":494,stream:506,string_decoder:520}],219:[function(r,n,i){n.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],220:[function(r,n,i){var a=r("../internals/is-object");n.exports=function(o){if(!a(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},{"../internals/is-object":263}],221:[function(r,n,i){var a=r("../internals/well-known-symbol"),o=r("../internals/object-create"),s=r("../internals/object-define-property"),l=a("unscopables"),p=Array.prototype;p[l]==null&&s.f(p,l,{configurable:!0,value:o(null)}),n.exports=function(h){p[l][h]=!0}},{"../internals/object-create":276,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],222:[function(r,n,i){n.exports=function(a,o,s){if(!(a instanceof o))throw TypeError("Incorrect "+(s?s+" ":"")+"invocation");return a}},{}],223:[function(r,n,i){var a=r("../internals/is-object");n.exports=function(o){if(!a(o))throw TypeError(String(o)+" is not an object");return o}},{"../internals/is-object":263}],224:[function(r,n,i){var a=r("../internals/to-indexed-object"),o=r("../internals/to-length"),s=r("../internals/to-absolute-index"),l=function(p){return function(h,m,v){var f,u=a(h),c=o(u.length),d=s(v,c);if(p&&m!=m){for(;c>d;)if((f=u[d++])!=f)return!0}else for(;c>d;d++)if((p||d in u)&&u[d]===m)return p||d||0;return!p&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/to-absolute-index":304,"../internals/to-indexed-object":305,"../internals/to-length":307}],225:[function(r,n,i){var a=r("../internals/function-bind-context"),o=r("../internals/indexed-object"),s=r("../internals/to-object"),l=r("../internals/to-length"),p=r("../internals/array-species-create"),h=[].push,m=function(v){var f=v==1,u=v==2,c=v==3,d=v==4,_=v==6,g=v==5||_;return function(y,b,C,w){for(var x,A,D=s(y),P=o(D),k=a(b,C,3),B=l(P.length),E=0,O=w||p,S=f?O(y,B):u?O(y,0):void 0;B>E;E++)if((g||E in P)&&(A=k(x=P[E],E,D),v)){if(f)S[E]=A;else if(A)switch(v){case 3:return!0;case 5:return x;case 6:return E;case 2:h.call(S,x)}else if(d)return!1}return _?-1:c||d?d:S}};n.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},{"../internals/array-species-create":227,"../internals/function-bind-context":248,"../internals/indexed-object":257,"../internals/to-length":307,"../internals/to-object":308}],226:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/fails"),s=r("../internals/has"),l=Object.defineProperty,p={},h=function(m){throw m};n.exports=function(m,v){if(s(p,m))return p[m];v||(v={});var f=[][m],u=!!s(v,"ACCESSORS")&&v.ACCESSORS,c=s(v,0)?v[0]:h,d=s(v,1)?v[1]:void 0;return p[m]=!!f&&!o(function(){if(u&&!a)return!0;var _={length:-1};u?l(_,1,{enumerable:!0,get:h}):_[1]=1,f.call(_,c,d)})}},{"../internals/descriptors":240,"../internals/fails":247,"../internals/has":252}],227:[function(r,n,i){var a=r("../internals/is-object"),o=r("../internals/is-array"),s=r("../internals/well-known-symbol")("species");n.exports=function(l,p){var h;return o(l)&&(typeof(h=l.constructor)!="function"||h!==Array&&!o(h.prototype)?a(h)&&(h=h[s])===null&&(h=void 0):h=void 0),new(h===void 0?Array:h)(p===0?0:p)}},{"../internals/is-array":261,"../internals/is-object":263,"../internals/well-known-symbol":314}],228:[function(r,n,i){var a=r("../internals/an-object");n.exports=function(o,s,l,p){try{return p?s(a(l)[0],l[1]):s(l)}catch(m){var h=o.return;throw h!==void 0&&a(h.call(o)),m}}},{"../internals/an-object":223}],229:[function(r,n,i){var a=r("../internals/well-known-symbol")("iterator"),o=!1;try{var s=0,l={next:function(){return{done:!!s++}},return:function(){o=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(p,h){if(!h&&!o)return!1;var m=!1;try{var v={};v[a]=function(){return{next:function(){return{done:m=!0}}}},p(v)}catch{}return m}},{"../internals/well-known-symbol":314}],230:[function(r,n,i){var a={}.toString;n.exports=function(o){return a.call(o).slice(8,-1)}},{}],231:[function(r,n,i){var a=r("../internals/to-string-tag-support"),o=r("../internals/classof-raw"),s=r("../internals/well-known-symbol")("toStringTag"),l=o(function(){return arguments}())=="Arguments";n.exports=a?o:function(p){var h,m,v;return p===void 0?"Undefined":p===null?"Null":typeof(m=function(f,u){try{return f[u]}catch{}}(h=Object(p),s))=="string"?m:l?o(h):(v=o(h))=="Object"&&typeof h.callee=="function"?"Arguments":v}},{"../internals/classof-raw":230,"../internals/to-string-tag-support":310,"../internals/well-known-symbol":314}],232:[function(r,n,i){var a=r("../internals/has"),o=r("../internals/own-keys"),s=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(p,h){for(var m=o(h),v=l.f,f=s.f,u=0;u<m.length;u++){var c=m[u];a(p,c)||v(p,c,f(h,c))}}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/object-get-own-property-descriptor":279,"../internals/own-keys":289}],233:[function(r,n,i){var a=r("../internals/well-known-symbol")("match");n.exports=function(o){var s=/./;try{"/./"[o](s)}catch{try{return s[a]=!1,"/./"[o](s)}catch{}}return!1}},{"../internals/well-known-symbol":314}],234:[function(r,n,i){var a=r("../internals/fails");n.exports=!a(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":247}],235:[function(r,n,i){var a=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),s=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),p=r("../internals/iterators"),h=function(){return this};n.exports=function(m,v,f){var u=v+" Iterator";return m.prototype=o(a,{next:s(1,f)}),l(m,u,!1,!0),p[u]=h,m}},{"../internals/create-property-descriptor":237,"../internals/iterators":268,"../internals/iterators-core":267,"../internals/object-create":276,"../internals/set-to-string-tag":298}],236:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/object-define-property"),s=r("../internals/create-property-descriptor");n.exports=a?function(l,p,h){return o.f(l,p,s(1,h))}:function(l,p,h){return l[p]=h,l}},{"../internals/create-property-descriptor":237,"../internals/descriptors":240,"../internals/object-define-property":278}],237:[function(r,n,i){n.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},{}],238:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/create-iterator-constructor"),s=r("../internals/object-get-prototype-of"),l=r("../internals/object-set-prototype-of"),p=r("../internals/set-to-string-tag"),h=r("../internals/create-non-enumerable-property"),m=r("../internals/redefine"),v=r("../internals/well-known-symbol"),f=r("../internals/is-pure"),u=r("../internals/iterators"),c=r("../internals/iterators-core"),d=c.IteratorPrototype,_=c.BUGGY_SAFARI_ITERATORS,g=v("iterator"),y=function(){return this};n.exports=function(b,C,w,x,A,D,P){o(w,C,x);var k,B,E,O=function(j){if(j===A&&M)return M;if(!_&&j in T)return T[j];switch(j){case"keys":case"values":case"entries":return function(){return new w(this,j)}}return function(){return new w(this)}},S=C+" Iterator",R=!1,T=b.prototype,I=T[g]||T["@@iterator"]||A&&T[A],M=!_&&I||O(A),N=C=="Array"&&T.entries||I;if(N&&(k=s(N.call(new b)),d!==Object.prototype&&k.next&&(f||s(k)===d||(l?l(k,d):typeof k[g]!="function"&&h(k,g,y)),p(k,S,!0,!0),f&&(u[S]=y))),A=="values"&&I&&I.name!=="values"&&(R=!0,M=function(){return I.call(this)}),f&&!P||T[g]===M||h(T,g,M),u[C]=M,A)if(B={values:O("values"),keys:D?M:O("keys"),entries:O("entries")},P)for(E in B)(_||R||!(E in T))&&m(T,E,B[E]);else a({target:C,proto:!0,forced:_||R},B);return B}},{"../internals/create-iterator-constructor":235,"../internals/create-non-enumerable-property":236,"../internals/export":246,"../internals/is-pure":264,"../internals/iterators":268,"../internals/iterators-core":267,"../internals/object-get-prototype-of":283,"../internals/object-set-prototype-of":287,"../internals/redefine":294,"../internals/set-to-string-tag":298,"../internals/well-known-symbol":314}],239:[function(r,n,i){var a=r("../internals/path"),o=r("../internals/has"),s=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(p){var h=a.Symbol||(a.Symbol={});o(h,p)||l(h,p,{value:s.f(p)})}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/path":290,"../internals/well-known-symbol-wrapped":313}],240:[function(r,n,i){var a=r("../internals/fails");n.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":247}],241:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/is-object"),s=a.document,l=o(s)&&o(s.createElement);n.exports=function(p){return l?s.createElement(p):{}}},{"../internals/global":251,"../internals/is-object":263}],242:[function(r,n,i){var a=r("../internals/engine-user-agent");n.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},{"../internals/engine-user-agent":243}],243:[function(r,n,i){var a=r("../internals/get-built-in");n.exports=a("navigator","userAgent")||""},{"../internals/get-built-in":249}],244:[function(r,n,i){var a,o,s=r("../internals/global"),l=r("../internals/engine-user-agent"),p=s.process,h=p&&p.versions,m=h&&h.v8;m?o=(a=m.split("."))[0]+a[1]:l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(o=a[1]),n.exports=o&&+o},{"../internals/engine-user-agent":243,"../internals/global":251}],245:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],246:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,s=r("../internals/create-non-enumerable-property"),l=r("../internals/redefine"),p=r("../internals/set-global"),h=r("../internals/copy-constructor-properties"),m=r("../internals/is-forced");n.exports=function(v,f){var u,c,d,_,g,y=v.target,b=v.global,C=v.stat;if(u=b?a:C?a[y]||p(y,{}):(a[y]||{}).prototype)for(c in f){if(_=f[c],d=v.noTargetGet?(g=o(u,c))&&g.value:u[c],!m(b?c:y+(C?".":"#")+c,v.forced)&&d!==void 0){if(typeof _==typeof d)continue;h(_,d)}(v.sham||d&&d.sham)&&s(_,"sham",!0),l(u,c,_,v)}}},{"../internals/copy-constructor-properties":232,"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/is-forced":262,"../internals/object-get-own-property-descriptor":279,"../internals/redefine":294,"../internals/set-global":296}],247:[function(r,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],248:[function(r,n,i){var a=r("../internals/a-function");n.exports=function(o,s,l){if(a(o),s===void 0)return o;switch(l){case 0:return function(){return o.call(s)};case 1:return function(p){return o.call(s,p)};case 2:return function(p,h){return o.call(s,p,h)};case 3:return function(p,h,m){return o.call(s,p,h,m)}}return function(){return o.apply(s,arguments)}}},{"../internals/a-function":219}],249:[function(r,n,i){var a=r("../internals/path"),o=r("../internals/global"),s=function(l){return typeof l=="function"?l:void 0};n.exports=function(l,p){return arguments.length<2?s(a[l])||s(o[l]):a[l]&&a[l][p]||o[l]&&o[l][p]}},{"../internals/global":251,"../internals/path":290}],250:[function(r,n,i){var a=r("../internals/classof"),o=r("../internals/iterators"),s=r("../internals/well-known-symbol")("iterator");n.exports=function(l){if(l!=null)return l[s]||l["@@iterator"]||o[a(l)]}},{"../internals/classof":231,"../internals/iterators":268,"../internals/well-known-symbol":314}],251:[function(r,n,i){(function(a){var o=function(s){return s&&s.Math==Math&&s};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],252:[function(r,n,i){var a={}.hasOwnProperty;n.exports=function(o,s){return a.call(o,s)}},{}],253:[function(r,n,i){n.exports={}},{}],254:[function(r,n,i){var a=r("../internals/global");n.exports=function(o,s){var l=a.console;l&&l.error&&(arguments.length===1?l.error(o):l.error(o,s))}},{"../internals/global":251}],255:[function(r,n,i){var a=r("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":249}],256:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/fails"),s=r("../internals/document-create-element");n.exports=!a&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":240,"../internals/document-create-element":241,"../internals/fails":247}],257:[function(r,n,i){var a=r("../internals/fails"),o=r("../internals/classof-raw"),s="".split;n.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return o(l)=="String"?s.call(l,""):Object(l)}:Object},{"../internals/classof-raw":230,"../internals/fails":247}],258:[function(r,n,i){var a=r("../internals/shared-store"),o=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(s){return o.call(s)}),n.exports=a.inspectSource},{"../internals/shared-store":300}],259:[function(r,n,i){var a,o,s,l=r("../internals/native-weak-map"),p=r("../internals/global"),h=r("../internals/is-object"),m=r("../internals/create-non-enumerable-property"),v=r("../internals/has"),f=r("../internals/shared-key"),u=r("../internals/hidden-keys"),c=p.WeakMap;if(l){var d=new c,_=d.get,g=d.has,y=d.set;a=function(C,w){return y.call(d,C,w),w},o=function(C){return _.call(d,C)||{}},s=function(C){return g.call(d,C)}}else{var b=f("state");u[b]=!0,a=function(C,w){return m(C,b,w),w},o=function(C){return v(C,b)?C[b]:{}},s=function(C){return v(C,b)}}n.exports={set:a,get:o,has:s,enforce:function(C){return s(C)?o(C):a(C,{})},getterFor:function(C){return function(w){var x;if(!h(w)||(x=o(w)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return x}}}},{"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/has":252,"../internals/hidden-keys":253,"../internals/is-object":263,"../internals/native-weak-map":272,"../internals/shared-key":299}],260:[function(r,n,i){var a=r("../internals/well-known-symbol"),o=r("../internals/iterators"),s=a("iterator"),l=Array.prototype;n.exports=function(p){return p!==void 0&&(o.Array===p||l[s]===p)}},{"../internals/iterators":268,"../internals/well-known-symbol":314}],261:[function(r,n,i){var a=r("../internals/classof-raw");n.exports=Array.isArray||function(o){return a(o)=="Array"}},{"../internals/classof-raw":230}],262:[function(r,n,i){var a=r("../internals/fails"),o=/#|\.prototype\./,s=function(v,f){var u=p[l(v)];return u==m||u!=h&&(typeof f=="function"?a(f):!!f)},l=s.normalize=function(v){return String(v).replace(o,".").toLowerCase()},p=s.data={},h=s.NATIVE="N",m=s.POLYFILL="P";n.exports=s},{"../internals/fails":247}],263:[function(r,n,i){n.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],264:[function(r,n,i){n.exports=!1},{}],265:[function(r,n,i){var a=r("../internals/is-object"),o=r("../internals/classof-raw"),s=r("../internals/well-known-symbol")("match");n.exports=function(l){var p;return a(l)&&((p=l[s])!==void 0?!!p:o(l)=="RegExp")}},{"../internals/classof-raw":230,"../internals/is-object":263,"../internals/well-known-symbol":314}],266:[function(r,n,i){var a=r("../internals/an-object"),o=r("../internals/is-array-iterator-method"),s=r("../internals/to-length"),l=r("../internals/function-bind-context"),p=r("../internals/get-iterator-method"),h=r("../internals/call-with-safe-iteration-closing"),m=function(v,f){this.stopped=v,this.result=f};(n.exports=function(v,f,u,c,d){var _,g,y,b,C,w,x,A=l(f,u,c?2:1);if(d)_=v;else{if(typeof(g=p(v))!="function")throw TypeError("Target is not iterable");if(o(g)){for(y=0,b=s(v.length);b>y;y++)if((C=c?A(a(x=v[y])[0],x[1]):A(v[y]))&&C instanceof m)return C;return new m(!1)}_=g.call(v)}for(w=_.next;!(x=w.call(_)).done;)if(typeof(C=h(_,A,x.value,c))=="object"&&C&&C instanceof m)return C;return new m(!1)}).stop=function(v){return new m(!0,v)}},{"../internals/an-object":223,"../internals/call-with-safe-iteration-closing":228,"../internals/function-bind-context":248,"../internals/get-iterator-method":250,"../internals/is-array-iterator-method":260,"../internals/to-length":307}],267:[function(r,n,i){var a,o,s,l=r("../internals/object-get-prototype-of"),p=r("../internals/create-non-enumerable-property"),h=r("../internals/has"),m=r("../internals/well-known-symbol"),v=r("../internals/is-pure"),f=m("iterator"),u=!1;[].keys&&("next"in(s=[].keys())?(o=l(l(s)))!==Object.prototype&&(a=o):u=!0),a==null&&(a={}),v||h(a,f)||p(a,f,function(){return this}),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":236,"../internals/has":252,"../internals/is-pure":264,"../internals/object-get-prototype-of":283,"../internals/well-known-symbol":314}],268:[function(r,n,i){arguments[4][253][0].apply(i,arguments)},{dup:253}],269:[function(r,n,i){var a,o,s,l,p,h,m,v,f=r("../internals/global"),u=r("../internals/object-get-own-property-descriptor").f,c=r("../internals/classof-raw"),d=r("../internals/task").set,_=r("../internals/engine-is-ios"),g=f.MutationObserver||f.WebKitMutationObserver,y=f.process,b=f.Promise,C=c(y)=="process",w=u(f,"queueMicrotask"),x=w&&w.value;x||(a=function(){var A,D;for(C&&(A=y.domain)&&A.exit();o;){D=o.fn,o=o.next;try{D()}catch(P){throw o?l():s=void 0,P}}s=void 0,A&&A.enter()},C?l=function(){y.nextTick(a)}:g&&!_?(p=!0,h=document.createTextNode(""),new g(a).observe(h,{characterData:!0}),l=function(){h.data=p=!p}):b&&b.resolve?(m=b.resolve(void 0),v=m.then,l=function(){v.call(m,a)}):l=function(){d.call(f,a)}),n.exports=x||function(A){var D={fn:A,next:void 0};s&&(s.next=D),o||(o=D,l()),s=D}},{"../internals/classof-raw":230,"../internals/engine-is-ios":242,"../internals/global":251,"../internals/object-get-own-property-descriptor":279,"../internals/task":303}],270:[function(r,n,i){var a=r("../internals/global");n.exports=a.Promise},{"../internals/global":251}],271:[function(r,n,i){var a=r("../internals/fails");n.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},{"../internals/fails":247}],272:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/inspect-source"),s=a.WeakMap;n.exports=typeof s=="function"&&/native code/.test(o(s))},{"../internals/global":251,"../internals/inspect-source":258}],273:[function(r,n,i){var a=r("../internals/a-function"),o=function(s){var l,p;this.promise=new s(function(h,m){if(l!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");l=h,p=m}),this.resolve=a(l),this.reject=a(p)};n.exports.f=function(s){return new o(s)}},{"../internals/a-function":219}],274:[function(r,n,i){var a=r("../internals/is-regexp");n.exports=function(o){if(a(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":265}],275:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/fails"),s=r("../internals/object-keys"),l=r("../internals/object-get-own-property-symbols"),p=r("../internals/object-property-is-enumerable"),h=r("../internals/to-object"),m=r("../internals/indexed-object"),v=Object.assign,f=Object.defineProperty;n.exports=!v||o(function(){if(a&&v({b:1},v(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var u={},c={},d=Symbol();return u[d]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){c[_]=_}),v({},u)[d]!=7||s(v({},c)).join("")!="abcdefghijklmnopqrst"})?function(u,c){for(var d=h(u),_=arguments.length,g=1,y=l.f,b=p.f;_>g;)for(var C,w=m(arguments[g++]),x=y?s(w).concat(y(w)):s(w),A=x.length,D=0;A>D;)C=x[D++],a&&!b.call(w,C)||(d[C]=w[C]);return d}:v},{"../internals/descriptors":240,"../internals/fails":247,"../internals/indexed-object":257,"../internals/object-get-own-property-symbols":282,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/to-object":308}],276:[function(r,n,i){var a,o=r("../internals/an-object"),s=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),p=r("../internals/hidden-keys"),h=r("../internals/html"),m=r("../internals/document-create-element"),v=r("../internals/shared-key"),f=v("IE_PROTO"),u=function(){},c=function(_){return"<script>"+_+"<\/script>"},d=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch{}var _,g;d=a?function(b){b.write(c("")),b.close();var C=b.parentWindow.Object;return b=null,C}(a):((g=m("iframe")).style.display="none",h.appendChild(g),g.src="javascript:",(_=g.contentWindow.document).open(),_.write(c("document.F=Object")),_.close(),_.F);for(var y=l.length;y--;)delete d.prototype[l[y]];return d()};p[f]=!0,n.exports=Object.create||function(_,g){var y;return _!==null?(u.prototype=o(_),y=new u,u.prototype=null,y[f]=_):y=d(),g===void 0?y:s(y,g)}},{"../internals/an-object":223,"../internals/document-create-element":241,"../internals/enum-bug-keys":245,"../internals/hidden-keys":253,"../internals/html":255,"../internals/object-define-properties":277,"../internals/shared-key":299}],277:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/object-define-property"),s=r("../internals/an-object"),l=r("../internals/object-keys");n.exports=a?Object.defineProperties:function(p,h){s(p);for(var m,v=l(h),f=v.length,u=0;f>u;)o.f(p,m=v[u++],h[m]);return p}},{"../internals/an-object":223,"../internals/descriptors":240,"../internals/object-define-property":278,"../internals/object-keys":285}],278:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),s=r("../internals/an-object"),l=r("../internals/to-primitive"),p=Object.defineProperty;i.f=a?p:function(h,m,v){if(s(h),m=l(m,!0),s(v),o)try{return p(h,m,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(h[m]=v.value),h}},{"../internals/an-object":223,"../internals/descriptors":240,"../internals/ie8-dom-define":256,"../internals/to-primitive":309}],279:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/object-property-is-enumerable"),s=r("../internals/create-property-descriptor"),l=r("../internals/to-indexed-object"),p=r("../internals/to-primitive"),h=r("../internals/has"),m=r("../internals/ie8-dom-define"),v=Object.getOwnPropertyDescriptor;i.f=a?v:function(f,u){if(f=l(f),u=p(u,!0),m)try{return v(f,u)}catch{}if(h(f,u))return s(!o.f.call(f,u),f[u])}},{"../internals/create-property-descriptor":237,"../internals/descriptors":240,"../internals/has":252,"../internals/ie8-dom-define":256,"../internals/object-property-is-enumerable":286,"../internals/to-indexed-object":305,"../internals/to-primitive":309}],280:[function(r,n,i){var a=r("../internals/to-indexed-object"),o=r("../internals/object-get-own-property-names").f,s={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(p){return l&&s.call(p)=="[object Window]"?function(h){try{return o(h)}catch{return l.slice()}}(p):o(a(p))}},{"../internals/object-get-own-property-names":281,"../internals/to-indexed-object":305}],281:[function(r,n,i){var a=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(s){return a(s,o)}},{"../internals/enum-bug-keys":245,"../internals/object-keys-internal":284}],282:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],283:[function(r,n,i){var a=r("../internals/has"),o=r("../internals/to-object"),s=r("../internals/shared-key"),l=r("../internals/correct-prototype-getter"),p=s("IE_PROTO"),h=Object.prototype;n.exports=l?Object.getPrototypeOf:function(m){return m=o(m),a(m,p)?m[p]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?h:null}},{"../internals/correct-prototype-getter":234,"../internals/has":252,"../internals/shared-key":299,"../internals/to-object":308}],284:[function(r,n,i){var a=r("../internals/has"),o=r("../internals/to-indexed-object"),s=r("../internals/array-includes").indexOf,l=r("../internals/hidden-keys");n.exports=function(p,h){var m,v=o(p),f=0,u=[];for(m in v)!a(l,m)&&a(v,m)&&u.push(m);for(;h.length>f;)a(v,m=h[f++])&&(~s(u,m)||u.push(m));return u}},{"../internals/array-includes":224,"../internals/has":252,"../internals/hidden-keys":253,"../internals/to-indexed-object":305}],285:[function(r,n,i){var a=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");n.exports=Object.keys||function(s){return a(s,o)}},{"../internals/enum-bug-keys":245,"../internals/object-keys-internal":284}],286:[function(r,n,i){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!a.call({1:2},1);i.f=s?function(l){var p=o(this,l);return!!p&&p.enumerable}:a},{}],287:[function(r,n,i){var a=r("../internals/an-object"),o=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,l=!1,p={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),l=p instanceof Array}catch{}return function(h,m){return a(h),o(m),l?s.call(h,m):h.__proto__=m,h}}():void 0)},{"../internals/a-possible-prototype":220,"../internals/an-object":223}],288:[function(r,n,i){var a=r("../internals/descriptors"),o=r("../internals/object-keys"),s=r("../internals/to-indexed-object"),l=r("../internals/object-property-is-enumerable").f,p=function(h){return function(m){for(var v,f=s(m),u=o(f),c=u.length,d=0,_=[];c>d;)v=u[d++],a&&!l.call(f,v)||_.push(h?[v,f[v]]:f[v]);return _}};n.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":240,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/to-indexed-object":305}],289:[function(r,n,i){var a=r("../internals/get-built-in"),o=r("../internals/object-get-own-property-names"),s=r("../internals/object-get-own-property-symbols"),l=r("../internals/an-object");n.exports=a("Reflect","ownKeys")||function(p){var h=o.f(l(p)),m=s.f;return m?h.concat(m(p)):h}},{"../internals/an-object":223,"../internals/get-built-in":249,"../internals/object-get-own-property-names":281,"../internals/object-get-own-property-symbols":282}],290:[function(r,n,i){var a=r("../internals/global");n.exports=a},{"../internals/global":251}],291:[function(r,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},{}],292:[function(r,n,i){var a=r("../internals/an-object"),o=r("../internals/is-object"),s=r("../internals/new-promise-capability");n.exports=function(l,p){if(a(l),o(p)&&p.constructor===l)return p;var h=s.f(l);return(0,h.resolve)(p),h.promise}},{"../internals/an-object":223,"../internals/is-object":263,"../internals/new-promise-capability":273}],293:[function(r,n,i){var a=r("../internals/redefine");n.exports=function(o,s,l){for(var p in s)a(o,p,s[p],l);return o}},{"../internals/redefine":294}],294:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/create-non-enumerable-property"),s=r("../internals/has"),l=r("../internals/set-global"),p=r("../internals/inspect-source"),h=r("../internals/internal-state"),m=h.get,v=h.enforce,f=String(String).split("String");(n.exports=function(u,c,d,_){var g=!!_&&!!_.unsafe,y=!!_&&!!_.enumerable,b=!!_&&!!_.noTargetGet;typeof d=="function"&&(typeof c!="string"||s(d,"name")||o(d,"name",c),v(d).source=f.join(typeof c=="string"?c:"")),u!==a?(g?!b&&u[c]&&(y=!0):delete u[c],y?u[c]=d:o(u,c,d)):y?u[c]=d:l(c,d)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||p(this)})},{"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/has":252,"../internals/inspect-source":258,"../internals/internal-state":259,"../internals/set-global":296}],295:[function(r,n,i){n.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],296:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/create-non-enumerable-property");n.exports=function(s,l){try{o(a,s,l)}catch{a[s]=l}return l}},{"../internals/create-non-enumerable-property":236,"../internals/global":251}],297:[function(r,n,i){var a=r("../internals/get-built-in"),o=r("../internals/object-define-property"),s=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),p=s("species");n.exports=function(h){var m=a(h),v=o.f;l&&m&&!m[p]&&v(m,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":240,"../internals/get-built-in":249,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],298:[function(r,n,i){var a=r("../internals/object-define-property").f,o=r("../internals/has"),s=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,p,h){l&&!o(l=h?l:l.prototype,s)&&a(l,s,{configurable:!0,value:p})}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],299:[function(r,n,i){var a=r("../internals/shared"),o=r("../internals/uid"),s=a("keys");n.exports=function(l){return s[l]||(s[l]=o(l))}},{"../internals/shared":301,"../internals/uid":311}],300:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/set-global"),s=a["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=s},{"../internals/global":251,"../internals/set-global":296}],301:[function(r,n,i){var a=r("../internals/is-pure"),o=r("../internals/shared-store");(n.exports=function(s,l){return o[s]||(o[s]=l!==void 0?l:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":264,"../internals/shared-store":300}],302:[function(r,n,i){var a=r("../internals/an-object"),o=r("../internals/a-function"),s=r("../internals/well-known-symbol")("species");n.exports=function(l,p){var h,m=a(l).constructor;return m===void 0||(h=a(m)[s])==null?p:o(h)}},{"../internals/a-function":219,"../internals/an-object":223,"../internals/well-known-symbol":314}],303:[function(r,n,i){var a,o,s,l=r("../internals/global"),p=r("../internals/fails"),h=r("../internals/classof-raw"),m=r("../internals/function-bind-context"),v=r("../internals/html"),f=r("../internals/document-create-element"),u=r("../internals/engine-is-ios"),c=l.location,d=l.setImmediate,_=l.clearImmediate,g=l.process,y=l.MessageChannel,b=l.Dispatch,C=0,w={},x=function(k){if(w.hasOwnProperty(k)){var B=w[k];delete w[k],B()}},A=function(k){return function(){x(k)}},D=function(k){x(k.data)},P=function(k){l.postMessage(k+"",c.protocol+"//"+c.host)};d&&_||(d=function(k){for(var B=[],E=1;arguments.length>E;)B.push(arguments[E++]);return w[++C]=function(){(typeof k=="function"?k:Function(k)).apply(void 0,B)},a(C),C},_=function(k){delete w[k]},h(g)=="process"?a=function(k){g.nextTick(A(k))}:b&&b.now?a=function(k){b.now(A(k))}:y&&!u?(s=(o=new y).port2,o.port1.onmessage=D,a=m(s.postMessage,s,1)):!l.addEventListener||typeof postMessage!="function"||l.importScripts||p(P)||c.protocol==="file:"?a="onreadystatechange"in f("script")?function(k){v.appendChild(f("script")).onreadystatechange=function(){v.removeChild(this),x(k)}}:function(k){setTimeout(A(k),0)}:(a=P,l.addEventListener("message",D,!1))),n.exports={set:d,clear:_}},{"../internals/classof-raw":230,"../internals/document-create-element":241,"../internals/engine-is-ios":242,"../internals/fails":247,"../internals/function-bind-context":248,"../internals/global":251,"../internals/html":255}],304:[function(r,n,i){var a=r("../internals/to-integer"),o=Math.max,s=Math.min;n.exports=function(l,p){var h=a(l);return h<0?o(h+p,0):s(h,p)}},{"../internals/to-integer":306}],305:[function(r,n,i){var a=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");n.exports=function(s){return a(o(s))}},{"../internals/indexed-object":257,"../internals/require-object-coercible":295}],306:[function(r,n,i){var a=Math.ceil,o=Math.floor;n.exports=function(s){return isNaN(s=+s)?0:(s>0?o:a)(s)}},{}],307:[function(r,n,i){var a=r("../internals/to-integer"),o=Math.min;n.exports=function(s){return s>0?o(a(s),9007199254740991):0}},{"../internals/to-integer":306}],308:[function(r,n,i){var a=r("../internals/require-object-coercible");n.exports=function(o){return Object(a(o))}},{"../internals/require-object-coercible":295}],309:[function(r,n,i){var a=r("../internals/is-object");n.exports=function(o,s){if(!a(o))return o;var l,p;if(s&&typeof(l=o.toString)=="function"&&!a(p=l.call(o))||typeof(l=o.valueOf)=="function"&&!a(p=l.call(o))||!s&&typeof(l=o.toString)=="function"&&!a(p=l.call(o)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":263}],310:[function(r,n,i){var a={};a[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":314}],311:[function(r,n,i){var a=0,o=Math.random();n.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++a+o).toString(36)}},{}],312:[function(r,n,i){var a=r("../internals/native-symbol");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":271}],313:[function(r,n,i){var a=r("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":314}],314:[function(r,n,i){var a=r("../internals/global"),o=r("../internals/shared"),s=r("../internals/has"),l=r("../internals/uid"),p=r("../internals/native-symbol"),h=r("../internals/use-symbol-as-uid"),m=o("wks"),v=a.Symbol,f=h?v:v&&v.withoutSetter||l;n.exports=function(u){return s(m,u)||(p&&s(v,u)?m[u]=v[u]:m[u]=f("Symbol."+u)),m[u]}},{"../internals/global":251,"../internals/has":252,"../internals/native-symbol":271,"../internals/shared":301,"../internals/uid":311,"../internals/use-symbol-as-uid":312}],315:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/array-iteration").findIndex,s=r("../internals/add-to-unscopables"),l=r("../internals/array-method-uses-to-length"),p=!0,h=l("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){p=!1}),a({target:"Array",proto:!0,forced:p||!h},{findIndex:function(m){return o(this,m,arguments.length>1?arguments[1]:void 0)}}),s("findIndex")},{"../internals/add-to-unscopables":221,"../internals/array-iteration":225,"../internals/array-method-uses-to-length":226,"../internals/export":246}],316:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/array-iteration").find,s=r("../internals/add-to-unscopables"),l=r("../internals/array-method-uses-to-length"),p=!0,h=l("find");"find"in[]&&Array(1).find(function(){p=!1}),a({target:"Array",proto:!0,forced:p||!h},{find:function(m){return o(this,m,arguments.length>1?arguments[1]:void 0)}}),s("find")},{"../internals/add-to-unscopables":221,"../internals/array-iteration":225,"../internals/array-method-uses-to-length":226,"../internals/export":246}],317:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/array-includes").includes,s=r("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":221,"../internals/array-includes":224,"../internals/array-method-uses-to-length":226,"../internals/export":246}],318:[function(r,n,i){var a=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),s=r("../internals/iterators"),l=r("../internals/internal-state"),p=r("../internals/define-iterator"),h=l.set,m=l.getterFor("Array Iterator");n.exports=p(Array,"Array",function(v,f){h(this,{type:"Array Iterator",target:a(v),index:0,kind:f})},function(){var v=m(this),f=v.target,u=v.kind,c=v.index++;return!f||c>=f.length?(v.target=void 0,{value:void 0,done:!0}):u=="keys"?{value:c,done:!1}:u=="values"?{value:f[c],done:!1}:{value:[c,f[c]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":221,"../internals/define-iterator":238,"../internals/internal-state":259,"../internals/iterators":268,"../internals/to-indexed-object":305}],319:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":246}],320:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},{"../internals/export":246,"../internals/object-assign":275}],321:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/to-object"),s=r("../internals/object-keys");a({target:"Object",stat:!0,forced:r("../internals/fails")(function(){s(1)})},{keys:function(l){return s(o(l))}})},{"../internals/export":246,"../internals/fails":247,"../internals/object-keys":285,"../internals/to-object":308}],322:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(s){return o(s)}})},{"../internals/export":246,"../internals/object-to-array":288}],323:[function(r,n,i){var a,o,s,l,p=r("../internals/export"),h=r("../internals/is-pure"),m=r("../internals/global"),v=r("../internals/get-built-in"),f=r("../internals/native-promise-constructor"),u=r("../internals/redefine"),c=r("../internals/redefine-all"),d=r("../internals/set-to-string-tag"),_=r("../internals/set-species"),g=r("../internals/is-object"),y=r("../internals/a-function"),b=r("../internals/an-instance"),C=r("../internals/classof-raw"),w=r("../internals/inspect-source"),x=r("../internals/iterate"),A=r("../internals/check-correctness-of-iteration"),D=r("../internals/species-constructor"),P=r("../internals/task").set,k=r("../internals/microtask"),B=r("../internals/promise-resolve"),E=r("../internals/host-report-errors"),O=r("../internals/new-promise-capability"),S=r("../internals/perform"),R=r("../internals/internal-state"),T=r("../internals/is-forced"),I=r("../internals/well-known-symbol"),M=r("../internals/engine-v8-version"),N=I("species"),j="Promise",H=R.get,U=R.set,W=R.getterFor(j),G=f,K=m.TypeError,Q=m.document,$=m.process,L=v("fetch"),F=O.f,z=F,Z=C($)=="process",J=!!(Q&&Q.createEvent&&m.dispatchEvent),ee=T(j,function(){if(w(G)===String(G)&&(M===66||!Z&&typeof PromiseRejectionEvent!="function")||h&&!G.prototype.finally)return!0;if(M>=51&&/native code/.test(G))return!1;var Se=G.resolve(1),re=function(ue){ue(function(){},function(){})};return(Se.constructor={})[N]=re,!(Se.then(function(){})instanceof re)}),pe=ee||!A(function(Se){G.all(Se).catch(function(){})}),le=function(Se){var re;return!(!g(Se)||typeof(re=Se.then)!="function")&&re},ye=function(Se,re,ue){if(!re.notified){re.notified=!0;var se=re.reactions;k(function(){for(var me=re.value,fe=re.state==1,ge=0;se.length>ge;){var de,Oe,Ie,Ae=se[ge++],Ke=fe?Ae.ok:Ae.fail,Le=Ae.resolve,bt=Ae.reject,dt=Ae.domain;try{Ke?(fe||(re.rejection===2&&je(Se,re),re.rejection=1),Ke===!0?de=me:(dt&&dt.enter(),de=Ke(me),dt&&(dt.exit(),Ie=!0)),de===Ae.promise?bt(K("Promise-chain cycle")):(Oe=le(de))?Oe.call(de,Le,bt):Le(de)):bt(me)}catch(Ct){dt&&!Ie&&dt.exit(),bt(Ct)}}re.reactions=[],re.notified=!1,ue&&!re.rejection&&be(Se,re)})}},ke=function(Se,re,ue){var se,me;J?((se=Q.createEvent("Event")).promise=re,se.reason=ue,se.initEvent(Se,!1,!0),m.dispatchEvent(se)):se={promise:re,reason:ue},(me=m["on"+Se])?me(se):Se==="unhandledrejection"&&E("Unhandled promise rejection",ue)},be=function(Se,re){P.call(m,function(){var ue,se=re.value;if(Je(re)&&(ue=S(function(){Z?$.emit("unhandledRejection",se,Se):ke("unhandledrejection",Se,se)}),re.rejection=Z||Je(re)?2:1,ue.error))throw ue.value})},Je=function(Se){return Se.rejection!==1&&!Se.parent},je=function(Se,re){P.call(m,function(){Z?$.emit("rejectionHandled",Se):ke("rejectionhandled",Se,re.value)})},Be=function(Se,re,ue,se){return function(me){Se(re,ue,me,se)}},$e=function(Se,re,ue,se){re.done||(re.done=!0,se&&(re=se),re.value=ue,re.state=2,ye(Se,re,!0))},nt=function(Se,re,ue,se){if(!re.done){re.done=!0,se&&(re=se);try{if(Se===ue)throw K("Promise can't be resolved itself");var me=le(ue);me?k(function(){var fe={done:!1};try{me.call(ue,Be(nt,Se,fe,re),Be($e,Se,fe,re))}catch(ge){$e(Se,fe,ge,re)}}):(re.value=ue,re.state=1,ye(Se,re,!1))}catch(fe){$e(Se,{done:!1},fe,re)}}};ee&&(G=function(Se){b(this,G,j),y(Se),a.call(this);var re=H(this);try{Se(Be(nt,this,re),Be($e,this,re))}catch(ue){$e(this,re,ue)}},(a=function(Se){U(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(G.prototype,{then:function(Se,re){var ue=W(this),se=F(D(this,G));return se.ok=typeof Se!="function"||Se,se.fail=typeof re=="function"&&re,se.domain=Z?$.domain:void 0,ue.parent=!0,ue.reactions.push(se),ue.state!=0&&ye(this,ue,!1),se.promise},catch:function(Se){return this.then(void 0,Se)}}),o=function(){var Se=new a,re=H(Se);this.promise=Se,this.resolve=Be(nt,Se,re),this.reject=Be($e,Se,re)},O.f=F=function(Se){return Se===G||Se===s?new o(Se):z(Se)},h||typeof f!="function"||(l=f.prototype.then,u(f.prototype,"then",function(Se,re){var ue=this;return new G(function(se,me){l.call(ue,se,me)}).then(Se,re)},{unsafe:!0}),typeof L=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Se){return B(G,L.apply(m,arguments))}}))),p({global:!0,wrap:!0,forced:ee},{Promise:G}),d(G,j,!1,!0),_(j),s=v(j),p({target:j,stat:!0,forced:ee},{reject:function(Se){var re=F(this);return re.reject.call(void 0,Se),re.promise}}),p({target:j,stat:!0,forced:h||ee},{resolve:function(Se){return B(h&&this===s?G:this,Se)}}),p({target:j,stat:!0,forced:pe},{all:function(Se){var re=this,ue=F(re),se=ue.resolve,me=ue.reject,fe=S(function(){var ge=y(re.resolve),de=[],Oe=0,Ie=1;x(Se,function(Ae){var Ke=Oe++,Le=!1;de.push(void 0),Ie++,ge.call(re,Ae).then(function(bt){Le||(Le=!0,de[Ke]=bt,--Ie||se(de))},me)}),--Ie||se(de)});return fe.error&&me(fe.value),ue.promise},race:function(Se){var re=this,ue=F(re),se=ue.reject,me=S(function(){var fe=y(re.resolve);x(Se,function(ge){fe.call(re,ge).then(ue.resolve,se)})});return me.error&&se(me.value),ue.promise}})},{"../internals/a-function":219,"../internals/an-instance":222,"../internals/check-correctness-of-iteration":229,"../internals/classof-raw":230,"../internals/engine-v8-version":244,"../internals/export":246,"../internals/get-built-in":249,"../internals/global":251,"../internals/host-report-errors":254,"../internals/inspect-source":258,"../internals/internal-state":259,"../internals/is-forced":262,"../internals/is-object":263,"../internals/is-pure":264,"../internals/iterate":266,"../internals/microtask":269,"../internals/native-promise-constructor":270,"../internals/new-promise-capability":273,"../internals/perform":291,"../internals/promise-resolve":292,"../internals/redefine":294,"../internals/redefine-all":293,"../internals/set-species":297,"../internals/set-to-string-tag":298,"../internals/species-constructor":302,"../internals/task":303,"../internals/well-known-symbol":314}],324:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/to-absolute-index"),s=String.fromCharCode,l=String.fromCodePoint;a({target:"String",stat:!0,forced:!!l&&l.length!=1},{fromCodePoint:function(p){for(var h,m=[],v=arguments.length,f=0;v>f;){if(h=+arguments[f++],o(h,1114111)!==h)throw RangeError(h+" is not a valid code point");m.push(h<65536?s(h):s(55296+((h-=65536)>>10),h%1024+56320))}return m.join("")}})},{"../internals/export":246,"../internals/to-absolute-index":304}],325:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/not-a-regexp"),s=r("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(l){return!!~String(s(this)).indexOf(o(l),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":233,"../internals/export":246,"../internals/not-a-regexp":274,"../internals/require-object-coercible":295}],326:[function(r,n,i){r("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":239}],327:[function(r,n,i){var a=r("../internals/export"),o=r("../internals/global"),s=r("../internals/get-built-in"),l=r("../internals/is-pure"),p=r("../internals/descriptors"),h=r("../internals/native-symbol"),m=r("../internals/use-symbol-as-uid"),v=r("../internals/fails"),f=r("../internals/has"),u=r("../internals/is-array"),c=r("../internals/is-object"),d=r("../internals/an-object"),_=r("../internals/to-object"),g=r("../internals/to-indexed-object"),y=r("../internals/to-primitive"),b=r("../internals/create-property-descriptor"),C=r("../internals/object-create"),w=r("../internals/object-keys"),x=r("../internals/object-get-own-property-names"),A=r("../internals/object-get-own-property-names-external"),D=r("../internals/object-get-own-property-symbols"),P=r("../internals/object-get-own-property-descriptor"),k=r("../internals/object-define-property"),B=r("../internals/object-property-is-enumerable"),E=r("../internals/create-non-enumerable-property"),O=r("../internals/redefine"),S=r("../internals/shared"),R=r("../internals/shared-key"),T=r("../internals/hidden-keys"),I=r("../internals/uid"),M=r("../internals/well-known-symbol"),N=r("../internals/well-known-symbol-wrapped"),j=r("../internals/define-well-known-symbol"),H=r("../internals/set-to-string-tag"),U=r("../internals/internal-state"),W=r("../internals/array-iteration").forEach,G=R("hidden"),K=M("toPrimitive"),Q=U.set,$=U.getterFor("Symbol"),L=Object.prototype,F=o.Symbol,z=s("JSON","stringify"),Z=P.f,J=k.f,ee=A.f,pe=B.f,le=S("symbols"),ye=S("op-symbols"),ke=S("string-to-symbol-registry"),be=S("symbol-to-string-registry"),Je=S("wks"),je=o.QObject,Be=!je||!je.prototype||!je.prototype.findChild,$e=p&&v(function(){return C(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a!=7})?function(de,Oe,Ie){var Ae=Z(L,Oe);Ae&&delete L[Oe],J(de,Oe,Ie),Ae&&de!==L&&J(L,Oe,Ae)}:J,nt=function(de,Oe){var Ie=le[de]=C(F.prototype);return Q(Ie,{type:"Symbol",tag:de,description:Oe}),p||(Ie.description=Oe),Ie},Se=m?function(de){return typeof de=="symbol"}:function(de){return Object(de)instanceof F},re=function(de,Oe,Ie){de===L&&re(ye,Oe,Ie),d(de);var Ae=y(Oe,!0);return d(Ie),f(le,Ae)?(Ie.enumerable?(f(de,G)&&de[G][Ae]&&(de[G][Ae]=!1),Ie=C(Ie,{enumerable:b(0,!1)})):(f(de,G)||J(de,G,b(1,{})),de[G][Ae]=!0),$e(de,Ae,Ie)):J(de,Ae,Ie)},ue=function(de,Oe){d(de);var Ie=g(Oe),Ae=w(Ie).concat(ge(Ie));return W(Ae,function(Ke){p&&!se.call(Ie,Ke)||re(de,Ke,Ie[Ke])}),de},se=function(de){var Oe=y(de,!0),Ie=pe.call(this,Oe);return!(this===L&&f(le,Oe)&&!f(ye,Oe))&&(!(Ie||!f(this,Oe)||!f(le,Oe)||f(this,G)&&this[G][Oe])||Ie)},me=function(de,Oe){var Ie=g(de),Ae=y(Oe,!0);if(Ie!==L||!f(le,Ae)||f(ye,Ae)){var Ke=Z(Ie,Ae);return!Ke||!f(le,Ae)||f(Ie,G)&&Ie[G][Ae]||(Ke.enumerable=!0),Ke}},fe=function(de){var Oe=ee(g(de)),Ie=[];return W(Oe,function(Ae){f(le,Ae)||f(T,Ae)||Ie.push(Ae)}),Ie},ge=function(de){var Oe=de===L,Ie=ee(Oe?ye:g(de)),Ae=[];return W(Ie,function(Ke){!f(le,Ke)||Oe&&!f(L,Ke)||Ae.push(le[Ke])}),Ae};h||(O((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var de=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Oe=I(de),Ie=function(Ae){this===L&&Ie.call(ye,Ae),f(this,G)&&f(this[G],Oe)&&(this[G][Oe]=!1),$e(this,Oe,b(1,Ae))};return p&&Be&&$e(L,Oe,{configurable:!0,set:Ie}),nt(Oe,de)}).prototype,"toString",function(){return $(this).tag}),O(F,"withoutSetter",function(de){return nt(I(de),de)}),B.f=se,k.f=re,P.f=me,x.f=A.f=fe,D.f=ge,N.f=function(de){return nt(M(de),de)},p&&(J(F.prototype,"description",{configurable:!0,get:function(){return $(this).description}}),l||O(L,"propertyIsEnumerable",se,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:F}),W(w(Je),function(de){j(de)}),a({target:"Symbol",stat:!0,forced:!h},{for:function(de){var Oe=String(de);if(f(ke,Oe))return ke[Oe];var Ie=F(Oe);return ke[Oe]=Ie,be[Ie]=Oe,Ie},keyFor:function(de){if(!Se(de))throw TypeError(de+" is not a symbol");if(f(be,de))return be[de]},useSetter:function(){Be=!0},useSimple:function(){Be=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!p},{create:function(de,Oe){return Oe===void 0?C(de):ue(C(de),Oe)},defineProperty:re,defineProperties:ue,getOwnPropertyDescriptor:me}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:fe,getOwnPropertySymbols:ge}),a({target:"Object",stat:!0,forced:v(function(){D.f(1)})},{getOwnPropertySymbols:function(de){return D.f(_(de))}}),z&&a({target:"JSON",stat:!0,forced:!h||v(function(){var de=F();return z([de])!="[null]"||z({a:de})!="{}"||z(Object(de))!="{}"})},{stringify:function(de,Oe,Ie){for(var Ae,Ke=[de],Le=1;arguments.length>Le;)Ke.push(arguments[Le++]);if(Ae=Oe,(c(Oe)||de!==void 0)&&!Se(de))return u(Oe)||(Oe=function(bt,dt){if(typeof Ae=="function"&&(dt=Ae.call(this,bt,dt)),!Se(dt))return dt}),Ke[1]=Oe,z.apply(null,Ke)}}),F.prototype[K]||E(F.prototype,K,F.prototype.valueOf),H(F,"Symbol"),T[G]=!0},{"../internals/an-object":223,"../internals/array-iteration":225,"../internals/create-non-enumerable-property":236,"../internals/create-property-descriptor":237,"../internals/define-well-known-symbol":239,"../internals/descriptors":240,"../internals/export":246,"../internals/fails":247,"../internals/get-built-in":249,"../internals/global":251,"../internals/has":252,"../internals/hidden-keys":253,"../internals/internal-state":259,"../internals/is-array":261,"../internals/is-object":263,"../internals/is-pure":264,"../internals/native-symbol":271,"../internals/object-create":276,"../internals/object-define-property":278,"../internals/object-get-own-property-descriptor":279,"../internals/object-get-own-property-names":281,"../internals/object-get-own-property-names-external":280,"../internals/object-get-own-property-symbols":282,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/redefine":294,"../internals/set-to-string-tag":298,"../internals/shared":301,"../internals/shared-key":299,"../internals/to-indexed-object":305,"../internals/to-object":308,"../internals/to-primitive":309,"../internals/uid":311,"../internals/use-symbol-as-uid":312,"../internals/well-known-symbol":314,"../internals/well-known-symbol-wrapped":313}],328:[function(r,n,i){(function(a){function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(l)}function s(l){return Object.prototype.toString.call(l)}i.isArray=function(l){return Array.isArray?Array.isArray(l):s(l)==="[object Array]"},i.isBoolean=function(l){return typeof l=="boolean"},i.isNull=function(l){return l===null},i.isNullOrUndefined=function(l){return l==null},i.isNumber=function(l){return typeof l=="number"},i.isString=function(l){return typeof l=="string"},i.isSymbol=function(l){return o(l)==="symbol"},i.isUndefined=function(l){return l===void 0},i.isRegExp=function(l){return s(l)==="[object RegExp]"},i.isObject=function(l){return o(l)==="object"&&l!==null},i.isDate=function(l){return s(l)==="[object Date]"},i.isError=function(l){return s(l)==="[object Error]"||l instanceof Error},i.isFunction=function(l){return typeof l=="function"},i.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||o(l)==="symbol"||l===void 0},i.isBuffer=a.isBuffer}).call(this,{isBuffer:r("../../is-buffer/index.js")})},{"../../is-buffer/index.js":388}],329:[function(r,n,i){(function(a){var o=r("elliptic"),s=r("bn.js");n.exports=function(m){return new p(m)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function p(m){this.curveType=l[m],this.curveType||(this.curveType={name:m}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function h(m,v,f){Array.isArray(m)||(m=m.toArray());var u=new a(m);if(f&&u.length<f){var c=new a(f-u.length);c.fill(0),u=a.concat([c,u])}return v?u.toString(v):u}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,p.prototype.generateKeys=function(m,v){return this.keys=this.curve.genKeyPair(),this.getPublicKey(m,v)},p.prototype.computeSecret=function(m,v,f){return v=v||"utf8",a.isBuffer(m)||(m=new a(m,v)),h(this.curve.keyFromPublic(m).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},p.prototype.getPublicKey=function(m,v){var f=this.keys.getPublic(v==="compressed",!0);return v==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),h(f,m)},p.prototype.getPrivateKey=function(m){return h(this.keys.getPrivate(),m)},p.prototype.setPublicKey=function(m,v){return v=v||"utf8",a.isBuffer(m)||(m=new a(m,v)),this.keys._importPublic(m),this},p.prototype.setPrivateKey=function(m,v){v=v||"utf8",a.isBuffer(m)||(m=new a(m,v));var f=new s(m);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this,r("buffer").Buffer)},{"bn.js":330,buffer:216,elliptic:350}],330:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],331:[function(r,n,i){var a=r("inherits"),o=r("md5.js"),s=r("ripemd160"),l=r("sha.js"),p=r("cipher-base");function h(m){p.call(this,"digest"),this._hash=m}a(h,p),h.prototype._update=function(m){this._hash.update(m)},h.prototype._final=function(){return this._hash.digest()},n.exports=function(m){return(m=m.toLowerCase())==="md5"?new o:m==="rmd160"||m==="ripemd160"?new s:new h(l(m))}},{"cipher-base":218,inherits:387,"md5.js":434,ripemd160:493,"sha.js":499}],332:[function(r,n,i){var a=r("md5.js");n.exports=function(o){return new a().update(o).digest()}},{"md5.js":434}],333:[function(r,n,i){var a=r("inherits"),o=r("./legacy"),s=r("cipher-base"),l=r("safe-buffer").Buffer,p=r("create-hash/md5"),h=r("ripemd160"),m=r("sha.js"),v=l.alloc(128);function f(u,c){s.call(this,"digest"),typeof c=="string"&&(c=l.from(c));var d=u==="sha512"||u==="sha384"?128:64;this._alg=u,this._key=c,c.length>d?c=(u==="rmd160"?new h:m(u)).update(c).digest():c.length<d&&(c=l.concat([c,v],d));for(var _=this._ipad=l.allocUnsafe(d),g=this._opad=l.allocUnsafe(d),y=0;y<d;y++)_[y]=54^c[y],g[y]=92^c[y];this._hash=u==="rmd160"?new h:m(u),this._hash.update(_)}a(f,s),f.prototype._update=function(u){this._hash.update(u)},f.prototype._final=function(){var u=this._hash.digest();return(this._alg==="rmd160"?new h:m(this._alg)).update(this._opad).update(u).digest()},n.exports=function(u,c){return(u=u.toLowerCase())==="rmd160"||u==="ripemd160"?new f("rmd160",c):u==="md5"?new o(p,c):new f(u,c)}},{"./legacy":334,"cipher-base":218,"create-hash/md5":332,inherits:387,ripemd160:493,"safe-buffer":494,"sha.js":499}],334:[function(r,n,i){var a=r("inherits"),o=r("safe-buffer").Buffer,s=r("cipher-base"),l=o.alloc(128);function p(h,m){s.call(this,"digest"),typeof m=="string"&&(m=o.from(m)),this._alg=h,this._key=m,m.length>64?m=h(m):m.length<64&&(m=o.concat([m,l],64));for(var v=this._ipad=o.allocUnsafe(64),f=this._opad=o.allocUnsafe(64),u=0;u<64;u++)v[u]=54^m[u],f[u]=92^m[u];this._hash=[v]}a(p,s),p.prototype._update=function(h){this._hash.push(h)},p.prototype._final=function(){var h=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,h]))},n.exports=p},{"cipher-base":218,inherits:387,"safe-buffer":494}],335:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var a=r("browserify-sign/algos"),o=Object.keys(a),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return s};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var p=r("browserify-cipher");i.Cipher=p.Cipher,i.createCipher=p.createCipher,i.Cipheriv=p.Cipheriv,i.createCipheriv=p.createCipheriv,i.Decipher=p.Decipher,i.createDecipher=p.createDecipher,i.Decipheriv=p.Decipheriv,i.createDecipheriv=p.createDecipheriv,i.getCiphers=p.getCiphers,i.listCiphers=p.listCiphers;var h=r("diffie-hellman");i.DiffieHellmanGroup=h.DiffieHellmanGroup,i.createDiffieHellmanGroup=h.createDiffieHellmanGroup,i.getDiffieHellman=h.getDiffieHellman,i.createDiffieHellman=h.createDiffieHellman,i.DiffieHellman=h.DiffieHellman;var m=r("browserify-sign");i.createSign=m.createSign,i.Sign=m.Sign,i.createVerify=m.createVerify,i.Verify=m.Verify,i.createECDH=r("create-ecdh");var v=r("public-encrypt");i.publicEncrypt=v.publicEncrypt,i.privateEncrypt=v.privateEncrypt,i.publicDecrypt=v.publicDecrypt,i.privateDecrypt=v.privateDecrypt;var f=r("randomfill");i.randomFill=f.randomFill,i.randomFillSync=f.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":203,"browserify-sign":211,"browserify-sign/algos":208,"create-ecdh":329,"create-hash":331,"create-hmac":333,"diffie-hellman":345,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],336:[function(r,n,i){function a(o){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}(function(o,s){(i===void 0?"undefined":a(i))=="object"&&n!==void 0?n.exports=s():(void 0).dayjs=s()})(0,function(){var o="millisecond",s="second",l="minute",p="hour",h="day",m="week",v="month",f="quarter",u="year",c="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,_=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g=function(E,O,S){var R=String(E);return!R||R.length>=O?E:""+Array(O+1-R.length).join(S)+E},y={s:g,z:function(E){var O=-E.utcOffset(),S=Math.abs(O),R=Math.floor(S/60),T=S%60;return(O<=0?"+":"-")+g(R,2,"0")+":"+g(T,2,"0")},m:function E(O,S){if(O.date()<S.date())return-E(S,O);var R=12*(S.year()-O.year())+(S.month()-O.month()),T=O.add(R,v),I=S-T<0,M=O.add(R+(I?-1:1),v);return+(-(R+(S-T)/(I?T-M:M-T))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:v,y:u,w:m,d:h,D:c,h:p,m:l,s,ms:o,Q:f}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},C="en",w={};w[C]=b;var x=function(E){return E instanceof k},A=function(E,O,S){var R;if(!E)return C;if(typeof E=="string")w[E]&&(R=E),O&&(w[E]=O,R=E);else{var T=E.name;w[T]=E,R=T}return!S&&R&&(C=R),R||!S&&C},D=function(E,O){if(x(E))return E.clone();var S=a(O)=="object"?O:{};return S.date=E,S.args=arguments,new k(S)},P=y;P.l=A,P.i=x,P.w=function(E,O){return D(E,{locale:O.$L,utc:O.$u,$offset:O.$offset})};var k=function(){function E(S){this.$L=this.$L||A(S.locale,null,!0),this.parse(S)}var O=E.prototype;return O.parse=function(S){this.$d=function(R){var T=R.date,I=R.utc;if(T===null)return new Date(NaN);if(P.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var M=T.match(d);if(M){var N=M[2]-1||0,j=(M[7]||"0").substring(0,3);return I?new Date(Date.UTC(M[1],N,M[3]||1,M[4]||0,M[5]||0,M[6]||0,j)):new Date(M[1],N,M[3]||1,M[4]||0,M[5]||0,M[6]||0,j)}}return new Date(T)}(S),this.init()},O.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},O.$utils=function(){return P},O.isValid=function(){return this.$d.toString()!=="Invalid Date"},O.isSame=function(S,R){var T=D(S);return this.startOf(R)<=T&&T<=this.endOf(R)},O.isAfter=function(S,R){return D(S)<this.startOf(R)},O.isBefore=function(S,R){return this.endOf(R)<D(S)},O.$g=function(S,R,T){return P.u(S)?this[R]:this.set(T,S)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(S,R){var T=this,I=!!P.u(R)||R,M=P.p(S),N=function($,L){var F=P.w(T.$u?Date.UTC(T.$y,L,$):new Date(T.$y,L,$),T);return I?F:F.endOf(h)},j=function($,L){return P.w(T.toDate()[$].apply(T.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(L)),T)},H=this.$W,U=this.$M,W=this.$D,G="set"+(this.$u?"UTC":"");switch(M){case u:return I?N(1,0):N(31,11);case v:return I?N(1,U):N(0,U+1);case m:var K=this.$locale().weekStart||0,Q=(H<K?H+7:H)-K;return N(I?W-Q:W+(6-Q),U);case h:case c:return j(G+"Hours",0);case p:return j(G+"Minutes",1);case l:return j(G+"Seconds",2);case s:return j(G+"Milliseconds",3);default:return this.clone()}},O.endOf=function(S){return this.startOf(S,!1)},O.$set=function(S,R){var T,I=P.p(S),M="set"+(this.$u?"UTC":""),N=(T={},T[h]=M+"Date",T[c]=M+"Date",T[v]=M+"Month",T[u]=M+"FullYear",T[p]=M+"Hours",T[l]=M+"Minutes",T[s]=M+"Seconds",T[o]=M+"Milliseconds",T)[I],j=I===h?this.$D+(R-this.$W):R;if(I===v||I===u){var H=this.clone().set(c,1);H.$d[N](j),H.init(),this.$d=H.set(c,Math.min(this.$D,H.daysInMonth())).$d}else N&&this.$d[N](j);return this.init(),this},O.set=function(S,R){return this.clone().$set(S,R)},O.get=function(S){return this[P.p(S)]()},O.add=function(S,R){var T,I=this;S=Number(S);var M=P.p(R),N=function(U){var W=D(I);return P.w(W.date(W.date()+Math.round(U*S)),I)};if(M===v)return this.set(v,this.$M+S);if(M===u)return this.set(u,this.$y+S);if(M===h)return N(1);if(M===m)return N(7);var j=(T={},T[l]=6e4,T[p]=36e5,T[s]=1e3,T)[M]||1,H=this.$d.getTime()+S*j;return P.w(H,this)},O.subtract=function(S,R){return this.add(-1*S,R)},O.format=function(S){var R=this;if(!this.isValid())return"Invalid Date";var T=S||"YYYY-MM-DDTHH:mm:ssZ",I=P.z(this),M=this.$locale(),N=this.$H,j=this.$m,H=this.$M,U=M.weekdays,W=M.months,G=function(L,F,z,Z){return L&&(L[F]||L(R,T))||z[F].substr(0,Z)},K=function(L){return P.s(N%12||12,L,"0")},Q=M.meridiem||function(L,F,z){var Z=L<12?"AM":"PM";return z?Z.toLowerCase():Z},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:H+1,MM:P.s(H+1,2,"0"),MMM:G(M.monthsShort,H,W,3),MMMM:G(W,H),D:this.$D,DD:P.s(this.$D,2,"0"),d:String(this.$W),dd:G(M.weekdaysMin,this.$W,U,2),ddd:G(M.weekdaysShort,this.$W,U,3),dddd:U[this.$W],H:String(N),HH:P.s(N,2,"0"),h:K(1),hh:K(2),a:Q(N,j,!0),A:Q(N,j,!1),m:String(j),mm:P.s(j,2,"0"),s:String(this.$s),ss:P.s(this.$s,2,"0"),SSS:P.s(this.$ms,3,"0"),Z:I};return T.replace(_,function(L,F){return F||$[L]||I.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(S,R,T){var I,M=P.p(R),N=D(S),j=6e4*(N.utcOffset()-this.utcOffset()),H=this-N,U=P.m(this,N);return U=(I={},I[u]=U/12,I[v]=U,I[f]=U/3,I[m]=(H-j)/6048e5,I[h]=(H-j)/864e5,I[p]=H/36e5,I[l]=H/6e4,I[s]=H/1e3,I)[M]||H,T?U:P.a(U)},O.daysInMonth=function(){return this.endOf(v).$D},O.$locale=function(){return w[this.$L]},O.locale=function(S,R){if(!S)return this.$L;var T=this.clone(),I=A(S,R,!0);return I&&(T.$L=I),T},O.clone=function(){return P.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},E}(),B=k.prototype;return D.prototype=B,[["$ms",o],["$s",s],["$m",l],["$H",p],["$W",h],["$M",v],["$y",u],["$D",c]].forEach(function(E){B[E[1]]=function(O){return this.$g(O,E[0],E[1])}}),D.extend=function(E,O){return E(O,k,D),D},D.locale=A,D.isDayjs=x,D.unix=function(E){return D(1e3*E)},D.en=w[C],D.Ls=w,D})},{}],337:[function(r,n,i){function a(o){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}(function(o,s){(i===void 0?"undefined":a(i))=="object"&&n!==void 0?n.exports=s():(void 0).dayjs_plugin_customParseFormat=s()})(0,function(){var o,s=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,p=/\d\d?/,h=/\d*[^\s\d-:/()]+/,m=function(d){return function(_){this[d]=+_}},v=[/[+-]\d\d:?\d\d/,function(d){var _,g;(this.zone||(this.zone={})).offset=(g=60*(_=d.match(/([+-]|\d\d)/g))[1]+ +_[2])==0?0:_[0]==="+"?-g:g}],f=function(d){var _=o[d];return _&&(_.indexOf?_:_.s.concat(_.f))},u={A:[/[AP]M/,function(d){this.afternoon=d==="PM"}],a:[/[ap]m/,function(d){this.afternoon=d==="pm"}],S:[/\d/,function(d){this.milliseconds=100*+d}],SS:[l,function(d){this.milliseconds=10*+d}],SSS:[/\d{3}/,function(d){this.milliseconds=+d}],s:[p,m("seconds")],ss:[p,m("seconds")],m:[p,m("minutes")],mm:[p,m("minutes")],H:[p,m("hours")],h:[p,m("hours")],HH:[p,m("hours")],hh:[p,m("hours")],D:[p,m("day")],DD:[l,m("day")],Do:[h,function(d){var _=o.ordinal,g=d.match(/\d+/);if(this.day=g[0],_)for(var y=1;y<=31;y+=1)_(y).replace(/\[|\]/g,"")===d&&(this.day=y)}],M:[p,m("month")],MM:[l,m("month")],MMM:[h,function(d){var _=f("months"),g=(f("monthsShort")||_.map(function(y){return y.substr(0,3)})).indexOf(d)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[h,function(d){var _=f("months").indexOf(d)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,m("year")],YY:[l,function(d){d=+d,this.year=d+(d>68?1900:2e3)}],YYYY:[/\d{4}/,m("year")],Z:v,ZZ:v},c=function(d,_,g){try{var y=function(N){for(var j=N.match(s),H=j.length,U=0;U<H;U+=1){var W=j[U],G=u[W],K=G&&G[0],Q=G&&G[1];j[U]=Q?{regex:K,parser:Q}:W.replace(/^\[|\]$/g,"")}return function($){for(var L={},F=0,z=0;F<H;F+=1){var Z=j[F];if(typeof Z=="string")z+=Z.length;else{var J=Z.regex,ee=Z.parser,pe=$.substr(z),le=J.exec(pe)[0];ee.call(L,le),$=$.replace(le,"")}}return function(ye){var ke=ye.afternoon;if(ke!==void 0){var be=ye.hours;ke?be<12&&(ye.hours+=12):be===12&&(ye.hours=0),delete ye.afternoon}}(L),L}}(_)(d),b=y.year,C=y.month,w=y.day,x=y.hours,A=y.minutes,D=y.seconds,P=y.milliseconds,k=y.zone,B=new Date,E=w||(b||C?1:B.getDate()),O=b||B.getFullYear(),S=0;b&&!C||(S=C>0?C-1:B.getMonth());var R=x||0,T=A||0,I=D||0,M=P||0;return k?new Date(Date.UTC(O,S,E,R,T,I,M+60*k.offset*1e3)):g?new Date(Date.UTC(O,S,E,R,T,I,M)):new Date(O,S,E,R,T,I,M)}catch{return new Date("")}};return function(d,_,g){var y=_.prototype,b=y.parse;y.parse=function(C){var w=C.date,x=C.utc,A=C.args;this.$u=x;var D=A[1];if(typeof D=="string"){var P=A[2]===!0,k=A[3]===!0,B=P||k,E=A[2];k&&(E=A[2]),P||(o=E?g.Ls[E]:this.$locale()),this.$d=c(w,D,x),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),B&&w!==this.format(D)&&(this.$d=new Date(""))}else if(D instanceof Array)for(var O=D.length,S=1;S<=O;S+=1){A[1]=D[S-1];var R=g.apply(this,A);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}S===O&&(this.$d=new Date(""))}else b.call(this,C)}}})},{}],338:[function(r,n,i){function a(s){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}var o;o=function(){return function(s,l,p){var h=new Date().getTimezoneOffset(),m=l.prototype;p.utc=function(g){return new l({date:g,utc:!0,args:arguments})},m.utc=function(){return p(this.toDate(),{locale:this.$L,utc:!0})},m.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var v=m.parse;m.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),v.call(this,g)};var f=m.init;m.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else f.call(this)};var u=m.utcOffset;m.utcOffset=function(g,y){var b=this.$utils().u;if(b(g))return this.$u?0:b(this.$offset)?u.call(this):this.$offset;var C=Math.abs(g)<=16?60*g:g,w=this;return y?(w.$offset=C,w.$u=g===0,w):(g!==0?(w=this.local().add(C+h,"minute")).$offset=C:w=this.utc(),w)};var c=m.format;m.format=function(g){var y=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,y)},m.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+h;return this.$d.valueOf()-6e4*g},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var d=m.toDate;m.toDate=function(g){return g==="s"&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var _=m.diff;m.diff=function(g,y,b){var C=this.local(),w=p(g).local();return _.call(C,w,y,b)}}},(i===void 0?"undefined":a(i))=="object"&&n!==void 0?n.exports=o():(void 0).dayjs_plugin_utc=o()},{}],339:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":340,"./des/cipher":341,"./des/des":342,"./des/ede":343,"./des/utils":344}],340:[function(r,n,i){var a=r("minimalistic-assert"),o=r("inherits"),s={};function l(p){a.equal(p.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=p[h]}i.instantiate=function(p){function h(u){p.call(this,u),this._cbcInit()}o(h,p);for(var m=Object.keys(s),v=0;v<m.length;v++){var f=m[v];h.prototype[f]=s[f]}return h.create=function(u){return new h(u)},h},s._cbcInit=function(){var p=new l(this.options.iv);this._cbcState=p},s._update=function(p,h,m,v){var f=this._cbcState,u=this.constructor.super_.prototype,c=f.iv;if(this.type==="encrypt"){for(var d=0;d<this.blockSize;d++)c[d]^=p[h+d];for(u._update.call(this,c,0,m,v),d=0;d<this.blockSize;d++)c[d]=m[v+d]}else{for(u._update.call(this,p,h,m,v),d=0;d<this.blockSize;d++)m[v+d]^=c[d];for(d=0;d<this.blockSize;d++)c[d]=p[h+d]}}},{inherits:387,"minimalistic-assert":437}],341:[function(r,n,i){var a=r("minimalistic-assert");function o(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},o.prototype._buffer=function(s,l){for(var p=Math.min(this.buffer.length-this.bufferOff,s.length-l),h=0;h<p;h++)this.buffer[this.bufferOff+h]=s[l+h];return this.bufferOff+=p,p},o.prototype._flushBuffer=function(s,l){return this._update(this.buffer,0,s,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(s){var l=0,p=0,h=(this.bufferOff+s.length)/this.blockSize|0,m=new Array(h*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(s,l),this.bufferOff===this.buffer.length&&(p+=this._flushBuffer(m,p)));for(var v=s.length-(s.length-l)%this.blockSize;l<v;l+=this.blockSize)this._update(s,l,m,p),p+=this.blockSize;for(;l<s.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=s[l];return m},o.prototype._updateDecrypt=function(s){for(var l=0,p=0,h=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,m=new Array(h*this.blockSize);h>0;h--)l+=this._buffer(s,l),p+=this._flushBuffer(m,p);return l+=this._buffer(s,l),m},o.prototype.final=function(s){var l,p;return s&&(l=this.update(s)),p=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(p):p},o.prototype._pad=function(s,l){if(l===0)return!1;for(;l<s.length;)s[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},o.prototype._unpad=function(s){return s},o.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":437}],342:[function(r,n,i){var a=r("minimalistic-assert"),o=r("inherits"),s=r("./utils"),l=r("./cipher");function p(){this.tmp=new Array(2),this.keys=null}function h(v){l.call(this,v);var f=new p;this._desState=f,this.deriveKeys(f,v.key)}o(h,l),n.exports=h,h.create=function(v){return new h(v)};var m=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(v,f){v.keys=new Array(32),a.equal(f.length,this.blockSize,"Invalid key length");var u=s.readUInt32BE(f,0),c=s.readUInt32BE(f,4);s.pc1(u,c,v.tmp,0),u=v.tmp[0],c=v.tmp[1];for(var d=0;d<v.keys.length;d+=2){var _=m[d>>>1];u=s.r28shl(u,_),c=s.r28shl(c,_),s.pc2(u,c,v.keys,d)}},h.prototype._update=function(v,f,u,c){var d=this._desState,_=s.readUInt32BE(v,f),g=s.readUInt32BE(v,f+4);s.ip(_,g,d.tmp,0),_=d.tmp[0],g=d.tmp[1],this.type==="encrypt"?this._encrypt(d,_,g,d.tmp,0):this._decrypt(d,_,g,d.tmp,0),_=d.tmp[0],g=d.tmp[1],s.writeUInt32BE(u,_,c),s.writeUInt32BE(u,g,c+4)},h.prototype._pad=function(v,f){for(var u=v.length-f,c=f;c<v.length;c++)v[c]=u;return!0},h.prototype._unpad=function(v){for(var f=v[v.length-1],u=v.length-f;u<v.length;u++)a.equal(v[u],f);return v.slice(0,v.length-f)},h.prototype._encrypt=function(v,f,u,c,d){for(var _=f,g=u,y=0;y<v.keys.length;y+=2){var b=v.keys[y],C=v.keys[y+1];s.expand(g,v.tmp,0),b^=v.tmp[0],C^=v.tmp[1];var w=s.substitute(b,C),x=g;g=(_^s.permute(w))>>>0,_=x}s.rip(g,_,c,d)},h.prototype._decrypt=function(v,f,u,c,d){for(var _=u,g=f,y=v.keys.length-2;y>=0;y-=2){var b=v.keys[y],C=v.keys[y+1];s.expand(_,v.tmp,0),b^=v.tmp[0],C^=v.tmp[1];var w=s.substitute(b,C),x=_;_=(g^s.permute(w))>>>0,g=x}s.rip(_,g,c,d)}},{"./cipher":341,"./utils":344,inherits:387,"minimalistic-assert":437}],343:[function(r,n,i){var a=r("minimalistic-assert"),o=r("inherits"),s=r("./cipher"),l=r("./des");function p(m,v){a.equal(v.length,24,"Invalid key length");var f=v.slice(0,8),u=v.slice(8,16),c=v.slice(16,24);this.ciphers=m==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:u}),l.create({type:"encrypt",key:c})]:[l.create({type:"decrypt",key:c}),l.create({type:"encrypt",key:u}),l.create({type:"decrypt",key:f})]}function h(m){s.call(this,m);var v=new p(this.type,this.options.key);this._edeState=v}o(h,s),n.exports=h,h.create=function(m){return new h(m)},h.prototype._update=function(m,v,f,u){var c=this._edeState;c.ciphers[0]._update(m,v,f,u),c.ciphers[1]._update(f,u,f,u),c.ciphers[2]._update(f,u,f,u)},h.prototype._pad=l.prototype._pad,h.prototype._unpad=l.prototype._unpad},{"./cipher":341,"./des":342,inherits:387,"minimalistic-assert":437}],344:[function(r,n,i){i.readUInt32BE=function(l,p){return(l[0+p]<<24|l[1+p]<<16|l[2+p]<<8|l[3+p])>>>0},i.writeUInt32BE=function(l,p,h){l[0+h]=p>>>24,l[1+h]=p>>>16&255,l[2+h]=p>>>8&255,l[3+h]=255&p},i.ip=function(l,p,h,m){for(var v=0,f=0,u=6;u>=0;u-=2){for(var c=0;c<=24;c+=8)v<<=1,v|=p>>>c+u&1;for(c=0;c<=24;c+=8)v<<=1,v|=l>>>c+u&1}for(u=6;u>=0;u-=2){for(c=1;c<=25;c+=8)f<<=1,f|=p>>>c+u&1;for(c=1;c<=25;c+=8)f<<=1,f|=l>>>c+u&1}h[m+0]=v>>>0,h[m+1]=f>>>0},i.rip=function(l,p,h,m){for(var v=0,f=0,u=0;u<4;u++)for(var c=24;c>=0;c-=8)v<<=1,v|=p>>>c+u&1,v<<=1,v|=l>>>c+u&1;for(u=4;u<8;u++)for(c=24;c>=0;c-=8)f<<=1,f|=p>>>c+u&1,f<<=1,f|=l>>>c+u&1;h[m+0]=v>>>0,h[m+1]=f>>>0},i.pc1=function(l,p,h,m){for(var v=0,f=0,u=7;u>=5;u--){for(var c=0;c<=24;c+=8)v<<=1,v|=p>>c+u&1;for(c=0;c<=24;c+=8)v<<=1,v|=l>>c+u&1}for(c=0;c<=24;c+=8)v<<=1,v|=p>>c+u&1;for(u=1;u<=3;u++){for(c=0;c<=24;c+=8)f<<=1,f|=p>>c+u&1;for(c=0;c<=24;c+=8)f<<=1,f|=l>>c+u&1}for(c=0;c<=24;c+=8)f<<=1,f|=l>>c+u&1;h[m+0]=v>>>0,h[m+1]=f>>>0},i.r28shl=function(l,p){return l<<p&268435455|l>>>28-p};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,p,h,m){for(var v=0,f=0,u=a.length>>>1,c=0;c<u;c++)v<<=1,v|=l>>>a[c]&1;for(c=u;c<a.length;c++)f<<=1,f|=p>>>a[c]&1;h[m+0]=v>>>0,h[m+1]=f>>>0},i.expand=function(l,p,h){var m=0,v=0;m=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)m<<=6,m|=l>>>f&63;for(f=11;f>=3;f-=4)v|=l>>>f&63,v<<=6;v|=(31&l)<<1|l>>>31,p[h+0]=m>>>0,p[h+1]=v>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,p){for(var h=0,m=0;m<4;m++)h<<=4,h|=o[64*m+(l>>>18-6*m&63)];for(m=0;m<4;m++)h<<=4,h|=o[256+64*m+(p>>>18-6*m&63)];return h>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var p=0,h=0;h<s.length;h++)p<<=1,p|=l>>>s[h]&1;return p>>>0},i.padSplit=function(l,p,h){for(var m=l.toString(2);m.length<p;)m="0"+m;for(var v=[],f=0;f<p;f+=h)v.push(m.slice(f,f+h));return v.join(" ")}},{}],345:[function(r,n,i){(function(a){var o=r("./lib/generatePrime"),s=r("./lib/primes.json"),l=r("./lib/dh"),p={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(h){var m=new a(s[h].prime,"hex"),v=new a(s[h].gen,"hex");return new l(m,v)},i.createDiffieHellman=i.DiffieHellman=function h(m,v,f,u){return a.isBuffer(v)||p[v]===void 0?h(m,"binary",v,f):(v=v||"binary",u=u||"binary",f=f||new a([2]),a.isBuffer(f)||(f=new a(f,u)),typeof m=="number"?new l(o(m,f),f,!0):(a.isBuffer(m)||(m=new a(m,v)),new l(m,f,!0)))}}).call(this,r("buffer").Buffer)},{"./lib/dh":346,"./lib/generatePrime":347,"./lib/primes.json":348,buffer:216}],346:[function(r,n,i){(function(a){var o=r("bn.js"),s=new(r("miller-rabin")),l=new o(24),p=new o(11),h=new o(10),m=new o(3),v=new o(7),f=r("./generatePrime"),u=r("randombytes");function c(b,C){return C=C||"utf8",a.isBuffer(b)||(b=new a(b,C)),this._pub=new o(b),this}function d(b,C){return C=C||"utf8",a.isBuffer(b)||(b=new a(b,C)),this._priv=new o(b),this}n.exports=g;var _={};function g(b,C,w){this.setGenerator(C),this.__prime=new o(b),this._prime=o.mont(this.__prime),this._primeLen=b.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,w?(this.setPublicKey=c,this.setPrivateKey=d):this._primeCode=8}function y(b,C){var w=new a(b.toArray());return C?w.toString(C):w}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(b,C){var w=C.toString("hex"),x=[w,b.toString(16)].join("_");if(x in _)return _[x];var A,D=0;if(b.isEven()||!f.simpleSieve||!f.fermatTest(b)||!s.test(b))return D+=1,D+=w==="02"||w==="05"?8:4,_[x]=D,D;switch(s.test(b.shrn(1))||(D+=2),w){case"02":b.mod(l).cmp(p)&&(D+=8);break;case"05":(A=b.mod(h)).cmp(m)&&A.cmp(v)&&(D+=8);break;default:D+=4}return _[x]=D,D}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new o(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(b){var C=(b=(b=new o(b)).toRed(this._prime)).redPow(this._priv).fromRed(),w=new a(C.toArray()),x=this.getPrime();if(w.length<x.length){var A=new a(x.length-w.length);A.fill(0),w=a.concat([A,w])}return w},g.prototype.getPublicKey=function(b){return y(this._pub,b)},g.prototype.getPrivateKey=function(b){return y(this._priv,b)},g.prototype.getPrime=function(b){return y(this.__prime,b)},g.prototype.getGenerator=function(b){return y(this._gen,b)},g.prototype.setGenerator=function(b,C){return C=C||"utf8",a.isBuffer(b)||(b=new a(b,C)),this.__gen=b,this._gen=new o(b),this}}).call(this,r("buffer").Buffer)},{"./generatePrime":347,"bn.js":349,buffer:216,"miller-rabin":435,randombytes:475}],347:[function(r,n,i){var a=r("randombytes");n.exports=b,b.simpleSieve=g,b.fermatTest=y;var o=r("bn.js"),s=new o(24),l=new(r("miller-rabin")),p=new o(1),h=new o(2),m=new o(5),v=(new o(16),new o(8),new o(10)),f=new o(3),u=(new o(7),new o(11)),c=new o(4),d=(new o(12),null);function _(){if(d!==null)return d;var C=[];C[0]=2;for(var w=1,x=3;x<1048576;x+=2){for(var A=Math.ceil(Math.sqrt(x)),D=0;D<w&&C[D]<=A&&x%C[D]!=0;D++);w!==D&&C[D]<=A||(C[w++]=x)}return d=C,C}function g(C){for(var w=_(),x=0;x<w.length;x++)if(C.modn(w[x])===0)return C.cmpn(w[x])===0;return!0}function y(C){var w=o.mont(C);return h.toRed(w).redPow(C.subn(1)).fromRed().cmpn(1)===0}function b(C,w){if(C<16)return new o(w===2||w===5?[140,123]:[140,39]);var x,A;for(w=new o(w);;){for(x=new o(a(Math.ceil(C/8)));x.bitLength()>C;)x.ishrn(1);if(x.isEven()&&x.iadd(p),x.testn(1)||x.iadd(h),w.cmp(h)){if(!w.cmp(m))for(;x.mod(v).cmp(f);)x.iadd(c)}else for(;x.mod(s).cmp(u);)x.iadd(c);if(g(A=x.shrn(1))&&g(x)&&y(A)&&y(x)&&l.test(A)&&l.test(x))return x}}},{"bn.js":349,"miller-rabin":435,randombytes:475}],348:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],349:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],350:[function(r,n,i){var a=i;a.version=r("../package.json").version,a.utils=r("./elliptic/utils"),a.rand=r("brorand"),a.curve=r("./elliptic/curve"),a.curves=r("./elliptic/curves"),a.ec=r("./elliptic/ec"),a.eddsa=r("./elliptic/eddsa")},{"../package.json":366,"./elliptic/curve":353,"./elliptic/curves":356,"./elliptic/ec":357,"./elliptic/eddsa":360,"./elliptic/utils":364,brorand:184}],351:[function(r,n,i){var a=r("bn.js"),o=r("../utils"),s=o.getNAF,l=o.getJSF,p=o.assert;function h(v,f){this.type=v,this.p=new a(f.p,16),this.red=f.prime?a.red(f.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=f.n&&new a(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var u=this.n&&this.p.div(this.n);!u||u.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function m(v,f){this.curve=v,this.type=f,this.precomputed=null}n.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(v,f){p(v.precomputed);var u=v._getDoubles(),c=s(f,1,this._bitLength),d=(1<<u.step+1)-(u.step%2==0?2:1);d/=3;for(var _=[],g=0;g<c.length;g+=u.step){var y=0;for(f=g+u.step-1;f>=g;f--)y=(y<<1)+c[f];_.push(y)}for(var b=this.jpoint(null,null,null),C=this.jpoint(null,null,null),w=d;w>0;w--){for(g=0;g<_.length;g++)(y=_[g])===w?C=C.mixedAdd(u.points[g]):y===-w&&(C=C.mixedAdd(u.points[g].neg()));b=b.add(C)}return b.toP()},h.prototype._wnafMul=function(v,f){var u=4,c=v._getNAFPoints(u);u=c.wnd;for(var d=c.points,_=s(f,u,this._bitLength),g=this.jpoint(null,null,null),y=_.length-1;y>=0;y--){for(f=0;y>=0&&_[y]===0;y--)f++;if(y>=0&&f++,g=g.dblp(f),y<0)break;var b=_[y];p(b!==0),g=v.type==="affine"?b>0?g.mixedAdd(d[b-1>>1]):g.mixedAdd(d[-b-1>>1].neg()):b>0?g.add(d[b-1>>1]):g.add(d[-b-1>>1].neg())}return v.type==="affine"?g.toP():g},h.prototype._wnafMulAdd=function(v,f,u,c,d){for(var _=this._wnafT1,g=this._wnafT2,y=this._wnafT3,b=0,C=0;C<c;C++){var w=(M=f[C])._getNAFPoints(v);_[C]=w.wnd,g[C]=w.points}for(C=c-1;C>=1;C-=2){var x=C-1,A=C;if(_[x]===1&&_[A]===1){var D=[f[x],null,null,f[A]];f[x].y.cmp(f[A].y)===0?(D[1]=f[x].add(f[A]),D[2]=f[x].toJ().mixedAdd(f[A].neg())):f[x].y.cmp(f[A].y.redNeg())===0?(D[1]=f[x].toJ().mixedAdd(f[A]),D[2]=f[x].add(f[A].neg())):(D[1]=f[x].toJ().mixedAdd(f[A]),D[2]=f[x].toJ().mixedAdd(f[A].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],k=l(u[x],u[A]);b=Math.max(k[0].length,b),y[x]=new Array(b),y[A]=new Array(b);for(var B=0;B<b;B++){var E=0|k[0][B],O=0|k[1][B];y[x][B]=P[3*(E+1)+(O+1)],y[A][B]=0,g[x]=D}}else y[x]=s(u[x],_[x],this._bitLength),y[A]=s(u[A],_[A],this._bitLength),b=Math.max(y[x].length,b),b=Math.max(y[A].length,b)}var S=this.jpoint(null,null,null),R=this._wnafT4;for(C=b;C>=0;C--){for(var T=0;C>=0;){var I=!0;for(B=0;B<c;B++)R[B]=0|y[B][C],R[B]!==0&&(I=!1);if(!I)break;T++,C--}if(C>=0&&T++,S=S.dblp(T),C<0)break;for(B=0;B<c;B++){var M,N=R[B];N!==0&&(N>0?M=g[B][N-1>>1]:N<0&&(M=g[B][-N-1>>1].neg()),S=M.type==="affine"?S.mixedAdd(M):S.add(M))}}for(C=0;C<c;C++)g[C]=null;return d?S:S.toP()},h.BasePoint=m,m.prototype.eq=function(){throw new Error("Not implemented")},m.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(v,f){v=o.toArray(v,f);var u=this.p.byteLength();if((v[0]===4||v[0]===6||v[0]===7)&&v.length-1==2*u)return v[0]===6?p(v[v.length-1]%2==0):v[0]===7&&p(v[v.length-1]%2==1),this.point(v.slice(1,1+u),v.slice(1+u,1+2*u));if((v[0]===2||v[0]===3)&&v.length-1===u)return this.pointFromX(v.slice(1,1+u),v[0]===3);throw new Error("Unknown point format")},m.prototype.encodeCompressed=function(v){return this.encode(v,!0)},m.prototype._encode=function(v){var f=this.curve.p.byteLength(),u=this.getX().toArray("be",f);return v?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",f))},m.prototype.encode=function(v,f){return o.encode(this._encode(f),v)},m.prototype.precompute=function(v){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,v),f.beta=this._getBeta(),this.precomputed=f,this},m.prototype._hasDoubles=function(v){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((v.bitLength()+1)/f.step)},m.prototype._getDoubles=function(v,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],c=this,d=0;d<f;d+=v){for(var _=0;_<v;_++)c=c.dbl();u.push(c)}return{step:v,points:u}},m.prototype._getNAFPoints=function(v){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],u=(1<<v)-1,c=u===1?null:this.dbl(),d=1;d<u;d++)f[d]=f[d-1].add(c);return{wnd:v,points:f}},m.prototype._getBeta=function(){return null},m.prototype.dblp=function(v){for(var f=this,u=0;u<v;u++)f=f.dbl();return f}},{"../utils":364,"bn.js":365}],352:[function(r,n,i){var a=r("../utils"),o=r("bn.js"),s=r("inherits"),l=r("./base"),p=a.assert;function h(v){this.twisted=(0|v.a)!=1,this.mOneA=this.twisted&&(0|v.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",v),this.a=new o(v.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(v.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(v.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),p(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|v.c)==1}function m(v,f,u,c,d){l.BasePoint.call(this,v,"projective"),f===null&&u===null&&c===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(f,16),this.y=new o(u,16),this.z=c?new o(c,16):this.curve.one,this.t=d&&new o(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(h,l),n.exports=h,h.prototype._mulA=function(v){return this.mOneA?v.redNeg():this.a.redMul(v)},h.prototype._mulC=function(v){return this.oneC?v:this.c.redMul(v)},h.prototype.jpoint=function(v,f,u,c){return this.point(v,f,u,c)},h.prototype.pointFromX=function(v,f){(v=new o(v,16)).red||(v=v.toRed(this.red));var u=v.redSqr(),c=this.c2.redSub(this.a.redMul(u)),d=this.one.redSub(this.c2.redMul(this.d).redMul(u)),_=c.redMul(d.redInvm()),g=_.redSqrt();if(g.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var y=g.fromRed().isOdd();return(f&&!y||!f&&y)&&(g=g.redNeg()),this.point(v,g)},h.prototype.pointFromY=function(v,f){(v=new o(v,16)).red||(v=v.toRed(this.red));var u=v.redSqr(),c=u.redSub(this.c2),d=u.redMul(this.d).redMul(this.c2).redSub(this.a),_=c.redMul(d.redInvm());if(_.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,v)}var g=_.redSqrt();if(g.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==f&&(g=g.redNeg()),this.point(g,v)},h.prototype.validate=function(v){if(v.isInfinity())return!0;v.normalize();var f=v.x.redSqr(),u=v.y.redSqr(),c=f.redMul(this.a).redAdd(u),d=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(u)));return c.cmp(d)===0},s(m,l.BasePoint),h.prototype.pointFromJSON=function(v){return m.fromJSON(this,v)},h.prototype.point=function(v,f,u,c){return new m(this,v,f,u,c)},m.fromJSON=function(v,f){return new m(v,f[0],f[1],f[2])},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},m.prototype._extDbl=function(){var v=this.x.redSqr(),f=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var c=this.curve._mulA(v),d=this.x.redAdd(this.y).redSqr().redISub(v).redISub(f),_=c.redAdd(f),g=_.redSub(u),y=c.redSub(f),b=d.redMul(g),C=_.redMul(y),w=d.redMul(y),x=g.redMul(_);return this.curve.point(b,C,x,w)},m.prototype._projDbl=function(){var v,f,u,c=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),_=this.y.redSqr();if(this.curve.twisted){var g=(C=this.curve._mulA(d)).redAdd(_);if(this.zOne)v=c.redSub(d).redSub(_).redMul(g.redSub(this.curve.two)),f=g.redMul(C.redSub(_)),u=g.redSqr().redSub(g).redSub(g);else{var y=this.z.redSqr(),b=g.redSub(y).redISub(y);v=c.redSub(d).redISub(_).redMul(b),f=g.redMul(C.redSub(_)),u=g.redMul(b)}}else{var C=d.redAdd(_);y=this.curve._mulC(this.z).redSqr(),b=C.redSub(y).redSub(y),v=this.curve._mulC(c.redISub(C)).redMul(b),f=this.curve._mulC(C).redMul(d.redISub(_)),u=C.redMul(b)}return this.curve.point(v,f,u)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},m.prototype._extAdd=function(v){var f=this.y.redSub(this.x).redMul(v.y.redSub(v.x)),u=this.y.redAdd(this.x).redMul(v.y.redAdd(v.x)),c=this.t.redMul(this.curve.dd).redMul(v.t),d=this.z.redMul(v.z.redAdd(v.z)),_=u.redSub(f),g=d.redSub(c),y=d.redAdd(c),b=u.redAdd(f),C=_.redMul(g),w=y.redMul(b),x=_.redMul(b),A=g.redMul(y);return this.curve.point(C,w,A,x)},m.prototype._projAdd=function(v){var f,u,c=this.z.redMul(v.z),d=c.redSqr(),_=this.x.redMul(v.x),g=this.y.redMul(v.y),y=this.curve.d.redMul(_).redMul(g),b=d.redSub(y),C=d.redAdd(y),w=this.x.redAdd(this.y).redMul(v.x.redAdd(v.y)).redISub(_).redISub(g),x=c.redMul(b).redMul(w);return this.curve.twisted?(f=c.redMul(C).redMul(g.redSub(this.curve._mulA(_))),u=b.redMul(C)):(f=c.redMul(C).redMul(g.redSub(_)),u=this.curve._mulC(b).redMul(C)),this.curve.point(x,f,u)},m.prototype.add=function(v){return this.isInfinity()?v:v.isInfinity()?this:this.curve.extended?this._extAdd(v):this._projAdd(v)},m.prototype.mul=function(v){return this._hasDoubles(v)?this.curve._fixedNafMul(this,v):this.curve._wnafMul(this,v)},m.prototype.mulAdd=function(v,f,u){return this.curve._wnafMulAdd(1,[this,f],[v,u],2,!1)},m.prototype.jmulAdd=function(v,f,u){return this.curve._wnafMulAdd(1,[this,f],[v,u],2,!0)},m.prototype.normalize=function(){if(this.zOne)return this;var v=this.z.redInvm();return this.x=this.x.redMul(v),this.y=this.y.redMul(v),this.t&&(this.t=this.t.redMul(v)),this.z=this.curve.one,this.zOne=!0,this},m.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},m.prototype.getX=function(){return this.normalize(),this.x.fromRed()},m.prototype.getY=function(){return this.normalize(),this.y.fromRed()},m.prototype.eq=function(v){return this===v||this.getX().cmp(v.getX())===0&&this.getY().cmp(v.getY())===0},m.prototype.eqXToP=function(v){var f=v.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var u=v.clone(),c=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(c),this.x.cmp(f)===0)return!0}},m.prototype.toP=m.prototype.normalize,m.prototype.mixedAdd=m.prototype.add},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],353:[function(r,n,i){var a=i;a.base=r("./base"),a.short=r("./short"),a.mont=r("./mont"),a.edwards=r("./edwards")},{"./base":351,"./edwards":352,"./mont":354,"./short":355}],354:[function(r,n,i){var a=r("bn.js"),o=r("inherits"),s=r("./base"),l=r("../utils");function p(m){s.call(this,"mont",m),this.a=new a(m.a,16).toRed(this.red),this.b=new a(m.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(m,v,f){s.BasePoint.call(this,m,"projective"),v===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(v,16),this.z=new a(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(p,s),n.exports=p,p.prototype.validate=function(m){var v=m.normalize().x,f=v.redSqr(),u=f.redMul(v).redAdd(f.redMul(this.a)).redAdd(v);return u.redSqrt().redSqr().cmp(u)===0},o(h,s.BasePoint),p.prototype.decodePoint=function(m,v){return this.point(l.toArray(m,v),1)},p.prototype.point=function(m,v){return new h(this,m,v)},p.prototype.pointFromJSON=function(m){return h.fromJSON(this,m)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(m,v){return new h(m,v[0],v[1]||m.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var m=this.x.redAdd(this.z).redSqr(),v=this.x.redSub(this.z).redSqr(),f=m.redSub(v),u=m.redMul(v),c=f.redMul(v.redAdd(this.curve.a24.redMul(f)));return this.curve.point(u,c)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(m,v){var f=this.x.redAdd(this.z),u=this.x.redSub(this.z),c=m.x.redAdd(m.z),d=m.x.redSub(m.z).redMul(f),_=c.redMul(u),g=v.z.redMul(d.redAdd(_).redSqr()),y=v.x.redMul(d.redISub(_).redSqr());return this.curve.point(g,y)},h.prototype.mul=function(m){for(var v=m.clone(),f=this,u=this.curve.point(null,null),c=[];v.cmpn(0)!==0;v.iushrn(1))c.push(v.andln(1));for(var d=c.length-1;d>=0;d--)c[d]===0?(f=f.diffAdd(u,this),u=u.dbl()):(u=f.diffAdd(u,this),f=f.dbl());return u},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],355:[function(r,n,i){var a=r("../utils"),o=r("bn.js"),s=r("inherits"),l=r("./base"),p=a.assert;function h(f){l.call(this,"short",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function m(f,u,c,d){l.BasePoint.call(this,f,"affine"),u===null&&c===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(u,16),this.y=new o(c,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function v(f,u,c,d){l.BasePoint.call(this,f,"jacobian"),u===null&&c===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(u,16),this.y=new o(c,16),this.z=new o(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(h,l),n.exports=h,h.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var u,c;if(f.beta)u=new o(f.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);u=(u=d[0].cmp(d[1])<0?d[0]:d[1]).toRed(this.red)}if(f.lambda)c=new o(f.lambda,16);else{var _=this._getEndoRoots(this.n);this.g.mul(_[0]).x.cmp(this.g.x.redMul(u))===0?c=_[0]:(c=_[1],p(this.g.mul(c).x.cmp(this.g.x.redMul(u))===0))}return{beta:u,lambda:c,basis:f.basis?f.basis.map(function(g){return{a:new o(g.a,16),b:new o(g.b,16)}}):this._getEndoBasis(c)}}},h.prototype._getEndoRoots=function(f){var u=f===this.p?this.red:o.mont(f),c=new o(2).toRed(u).redInvm(),d=c.redNeg(),_=new o(3).toRed(u).redNeg().redSqrt().redMul(c);return[d.redAdd(_).fromRed(),d.redSub(_).fromRed()]},h.prototype._getEndoBasis=function(f){for(var u,c,d,_,g,y,b,C,w,x=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=f,D=this.n.clone(),P=new o(1),k=new o(0),B=new o(0),E=new o(1),O=0;A.cmpn(0)!==0;){var S=D.div(A);C=D.sub(S.mul(A)),w=B.sub(S.mul(P));var R=E.sub(S.mul(k));if(!d&&C.cmp(x)<0)u=b.neg(),c=P,d=C.neg(),_=w;else if(d&&++O==2)break;b=C,D=A,A=C,B=P,P=w,E=k,k=R}g=C.neg(),y=w;var T=d.sqr().add(_.sqr());return g.sqr().add(y.sqr()).cmp(T)>=0&&(g=u,y=c),d.negative&&(d=d.neg(),_=_.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:d,b:_},{a:g,b:y}]},h.prototype._endoSplit=function(f){var u=this.endo.basis,c=u[0],d=u[1],_=d.b.mul(f).divRound(this.n),g=c.b.neg().mul(f).divRound(this.n),y=_.mul(c.a),b=g.mul(d.a),C=_.mul(c.b),w=g.mul(d.b);return{k1:f.sub(y).sub(b),k2:C.add(w).neg()}},h.prototype.pointFromX=function(f,u){(f=new o(f,16)).red||(f=f.toRed(this.red));var c=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),d=c.redSqrt();if(d.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var _=d.fromRed().isOdd();return(u&&!_||!u&&_)&&(d=d.redNeg()),this.point(f,d)},h.prototype.validate=function(f){if(f.inf)return!0;var u=f.x,c=f.y,d=this.a.redMul(u),_=u.redSqr().redMul(u).redIAdd(d).redIAdd(this.b);return c.redSqr().redISub(_).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(f,u,c){for(var d=this._endoWnafT1,_=this._endoWnafT2,g=0;g<f.length;g++){var y=this._endoSplit(u[g]),b=f[g],C=b._getBeta();y.k1.negative&&(y.k1.ineg(),b=b.neg(!0)),y.k2.negative&&(y.k2.ineg(),C=C.neg(!0)),d[2*g]=b,d[2*g+1]=C,_[2*g]=y.k1,_[2*g+1]=y.k2}for(var w=this._wnafMulAdd(1,d,_,2*g,c),x=0;x<2*g;x++)d[x]=null,_[x]=null;return w},s(m,l.BasePoint),h.prototype.point=function(f,u,c){return new m(this,f,u,c)},h.prototype.pointFromJSON=function(f,u){return m.fromJSON(this,f,u)},m.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var c=this.curve,d=function(_){return c.point(_.x.redMul(c.endo.beta),_.y)};f.beta=u,u.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return u}},m.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},m.fromJSON=function(f,u,c){typeof u=="string"&&(u=JSON.parse(u));var d=f.point(u[0],u[1],c);if(!u[2])return d;function _(y){return f.point(y[0],y[1],c)}var g=u[2];return d.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[d].concat(g.doubles.points.map(_))},naf:g.naf&&{wnd:g.naf.wnd,points:[d].concat(g.naf.points.map(_))}},d},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.inf},m.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var u=this.y.redSub(f.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(f.x).redInvm()));var c=u.redSqr().redISub(this.x).redISub(f.x),d=u.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)},m.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,c=this.x.redSqr(),d=f.redInvm(),_=c.redAdd(c).redIAdd(c).redIAdd(u).redMul(d),g=_.redSqr().redISub(this.x.redAdd(this.x)),y=_.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,y)},m.prototype.getX=function(){return this.x.fromRed()},m.prototype.getY=function(){return this.y.fromRed()},m.prototype.mul=function(f){return f=new o(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},m.prototype.mulAdd=function(f,u,c){var d=[this,u],_=[f,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,_):this.curve._wnafMulAdd(1,d,_,2)},m.prototype.jmulAdd=function(f,u,c){var d=[this,u],_=[f,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,_,!0):this.curve._wnafMulAdd(1,d,_,2,!0)},m.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},m.prototype.neg=function(f){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var c=this.precomputed,d=function(_){return _.neg()};u.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return u},m.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(v,l.BasePoint),h.prototype.jpoint=function(f,u,c){return new v(this,f,u,c)},v.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),u=f.redSqr(),c=this.x.redMul(u),d=this.y.redMul(u).redMul(f);return this.curve.point(c,d)},v.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},v.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var u=f.z.redSqr(),c=this.z.redSqr(),d=this.x.redMul(u),_=f.x.redMul(c),g=this.y.redMul(u.redMul(f.z)),y=f.y.redMul(c.redMul(this.z)),b=d.redSub(_),C=g.redSub(y);if(b.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=b.redSqr(),x=w.redMul(b),A=d.redMul(w),D=C.redSqr().redIAdd(x).redISub(A).redISub(A),P=C.redMul(A.redISub(D)).redISub(g.redMul(x)),k=this.z.redMul(f.z).redMul(b);return this.curve.jpoint(D,P,k)},v.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var u=this.z.redSqr(),c=this.x,d=f.x.redMul(u),_=this.y,g=f.y.redMul(u).redMul(this.z),y=c.redSub(d),b=_.redSub(g);if(y.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=y.redSqr(),w=C.redMul(y),x=c.redMul(C),A=b.redSqr().redIAdd(w).redISub(x).redISub(x),D=b.redMul(x.redISub(A)).redISub(_.redMul(w)),P=this.z.redMul(y);return this.curve.jpoint(A,D,P)},v.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var u=this,c=0;c<f;c++)u=u.dbl();return u}var d=this.curve.a,_=this.curve.tinv,g=this.x,y=this.y,b=this.z,C=b.redSqr().redSqr(),w=y.redAdd(y);for(c=0;c<f;c++){var x=g.redSqr(),A=w.redSqr(),D=A.redSqr(),P=x.redAdd(x).redIAdd(x).redIAdd(d.redMul(C)),k=g.redMul(A),B=P.redSqr().redISub(k.redAdd(k)),E=k.redISub(B),O=P.redMul(E);O=O.redIAdd(O).redISub(D);var S=w.redMul(b);c+1<f&&(C=C.redMul(D)),g=B,b=S,w=O}return this.curve.jpoint(g,w.redMul(_),b)},v.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},v.prototype._zeroDbl=function(){var f,u,c;if(this.zOne){var d=this.x.redSqr(),_=this.y.redSqr(),g=_.redSqr(),y=this.x.redAdd(_).redSqr().redISub(d).redISub(g);y=y.redIAdd(y);var b=d.redAdd(d).redIAdd(d),C=b.redSqr().redISub(y).redISub(y),w=g.redIAdd(g);w=(w=w.redIAdd(w)).redIAdd(w),f=C,u=b.redMul(y.redISub(C)).redISub(w),c=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),A=this.y.redSqr(),D=A.redSqr(),P=this.x.redAdd(A).redSqr().redISub(x).redISub(D);P=P.redIAdd(P);var k=x.redAdd(x).redIAdd(x),B=k.redSqr(),E=D.redIAdd(D);E=(E=E.redIAdd(E)).redIAdd(E),f=B.redISub(P).redISub(P),u=k.redMul(P.redISub(f)).redISub(E),c=(c=this.y.redMul(this.z)).redIAdd(c)}return this.curve.jpoint(f,u,c)},v.prototype._threeDbl=function(){var f,u,c;if(this.zOne){var d=this.x.redSqr(),_=this.y.redSqr(),g=_.redSqr(),y=this.x.redAdd(_).redSqr().redISub(d).redISub(g);y=y.redIAdd(y);var b=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),C=b.redSqr().redISub(y).redISub(y);f=C;var w=g.redIAdd(g);w=(w=w.redIAdd(w)).redIAdd(w),u=b.redMul(y.redISub(C)).redISub(w),c=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),A=this.y.redSqr(),D=this.x.redMul(A),P=this.x.redSub(x).redMul(this.x.redAdd(x));P=P.redAdd(P).redIAdd(P);var k=D.redIAdd(D),B=(k=k.redIAdd(k)).redAdd(k);f=P.redSqr().redISub(B),c=this.y.redAdd(this.z).redSqr().redISub(A).redISub(x);var E=A.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),u=P.redMul(k.redISub(f)).redISub(E)}return this.curve.jpoint(f,u,c)},v.prototype._dbl=function(){var f=this.curve.a,u=this.x,c=this.y,d=this.z,_=d.redSqr().redSqr(),g=u.redSqr(),y=c.redSqr(),b=g.redAdd(g).redIAdd(g).redIAdd(f.redMul(_)),C=u.redAdd(u),w=(C=C.redIAdd(C)).redMul(y),x=b.redSqr().redISub(w.redAdd(w)),A=w.redISub(x),D=y.redSqr();D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var P=b.redMul(A).redISub(D),k=c.redAdd(c).redMul(d);return this.curve.jpoint(x,P,k)},v.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),u=this.y.redSqr(),c=this.z.redSqr(),d=u.redSqr(),_=f.redAdd(f).redIAdd(f),g=_.redSqr(),y=this.x.redAdd(u).redSqr().redISub(f).redISub(d),b=(y=(y=(y=y.redIAdd(y)).redAdd(y).redIAdd(y)).redISub(g)).redSqr(),C=d.redIAdd(d);C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C);var w=_.redIAdd(y).redSqr().redISub(g).redISub(b).redISub(C),x=u.redMul(w);x=(x=x.redIAdd(x)).redIAdd(x);var A=this.x.redMul(b).redISub(x);A=(A=A.redIAdd(A)).redIAdd(A);var D=this.y.redMul(w.redMul(C.redISub(w)).redISub(y.redMul(b)));D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var P=this.z.redAdd(y).redSqr().redISub(c).redISub(b);return this.curve.jpoint(A,D,P)},v.prototype.mul=function(f,u){return f=new o(f,u),this.curve._wnafMul(this,f)},v.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var u=this.z.redSqr(),c=f.z.redSqr();if(this.x.redMul(c).redISub(f.x.redMul(u)).cmpn(0)!==0)return!1;var d=u.redMul(this.z),_=c.redMul(f.z);return this.y.redMul(_).redISub(f.y.redMul(d)).cmpn(0)===0},v.prototype.eqXToP=function(f){var u=this.z.redSqr(),c=f.toRed(this.curve.red).redMul(u);if(this.x.cmp(c)===0)return!0;for(var d=f.clone(),_=this.curve.redN.redMul(u);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(_),this.x.cmp(c)===0)return!0}},v.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],356:[function(r,n,i){var a,o=i,s=r("hash.js"),l=r("./curve"),p=r("./utils").assert;function h(v){v.type==="short"?this.curve=new l.short(v):v.type==="edwards"?this.curve=new l.edwards(v):this.curve=new l.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,p(this.g.validate(),"Invalid curve"),p(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function m(v,f){Object.defineProperty(o,v,{configurable:!0,enumerable:!0,get:function(){var u=new h(f);return Object.defineProperty(o,v,{configurable:!0,enumerable:!0,value:u}),u}})}o.PresetCurve=h,m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=r("./precomputed/secp256k1")}catch{a=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":353,"./precomputed/secp256k1":363,"./utils":364,"hash.js":372}],357:[function(r,n,i){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}var o=r("bn.js"),s=r("hmac-drbg"),l=r("../utils"),p=r("../curves"),h=r("brorand"),m=l.assert,v=r("./key"),f=r("./signature");function u(c){if(!(this instanceof u))return new u(c);typeof c=="string"&&(m(p.hasOwnProperty(c),"Unknown curve "+c),c=p[c]),c instanceof p.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}n.exports=u,u.prototype.keyPair=function(c){return new v(this,c)},u.prototype.keyFromPrivate=function(c,d){return v.fromPrivate(this,c,d)},u.prototype.keyFromPublic=function(c,d){return v.fromPublic(this,c,d)},u.prototype.genKeyPair=function(c){c||(c={});for(var d=new s({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||h(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),_=this.n.byteLength(),g=this.n.sub(new o(2));;){var y=new o(d.generate(_));if(!(y.cmp(g)>0))return y.iaddn(1),this.keyFromPrivate(y)}},u.prototype._truncateToN=function(c,d){var _=8*c.byteLength()-this.n.bitLength();return _>0&&(c=c.ushrn(_)),!d&&c.cmp(this.n)>=0?c.sub(this.n):c},u.prototype.sign=function(c,d,_,g){a(_)==="object"&&(g=_,_=null),g||(g={}),d=this.keyFromPrivate(d,_),c=this._truncateToN(new o(c,16));for(var y=this.n.byteLength(),b=d.getPrivate().toArray("be",y),C=c.toArray("be",y),w=new s({hash:this.hash,entropy:b,nonce:C,pers:g.pers,persEnc:g.persEnc||"utf8"}),x=this.n.sub(new o(1)),A=0;;A++){var D=g.k?g.k(A):new o(w.generate(this.n.byteLength()));if(!((D=this._truncateToN(D,!0)).cmpn(1)<=0||D.cmp(x)>=0)){var P=this.g.mul(D);if(!P.isInfinity()){var k=P.getX(),B=k.umod(this.n);if(B.cmpn(0)!==0){var E=D.invm(this.n).mul(B.mul(d.getPrivate()).iadd(c));if((E=E.umod(this.n)).cmpn(0)!==0){var O=(P.getY().isOdd()?1:0)|(k.cmp(B)!==0?2:0);return g.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),O^=1),new f({r:B,s:E,recoveryParam:O})}}}}}},u.prototype.verify=function(c,d,_,g){c=this._truncateToN(new o(c,16)),_=this.keyFromPublic(_,g);var y=(d=new f(d,"hex")).r,b=d.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var C,w=b.invm(this.n),x=w.mul(c).umod(this.n),A=w.mul(y).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(x,_.getPublic(),A)).isInfinity()&&C.eqXToP(y):!(C=this.g.mulAdd(x,_.getPublic(),A)).isInfinity()&&C.getX().umod(this.n).cmp(y)===0},u.prototype.recoverPubKey=function(c,d,_,g){m((3&_)===_,"The recovery param is more than two bits"),d=new f(d,g);var y=this.n,b=new o(c),C=d.r,w=d.s,x=1&_,A=_>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");C=A?this.curve.pointFromX(C.add(this.curve.n),x):this.curve.pointFromX(C,x);var D=d.r.invm(y),P=y.sub(b).mul(D).umod(y),k=w.mul(D).umod(y);return this.g.mulAdd(P,C,k)},u.prototype.getKeyRecoveryParam=function(c,d,_,g){if((d=new f(d,g)).recoveryParam!==null)return d.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(c,d,y)}catch{continue}if(b.eq(_))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":356,"../utils":364,"./key":358,"./signature":359,"bn.js":365,brorand:184,"hmac-drbg":384}],358:[function(r,n,i){var a=r("bn.js"),o=r("../utils").assert;function s(l,p){this.ec=l,this.priv=null,this.pub=null,p.priv&&this._importPrivate(p.priv,p.privEnc),p.pub&&this._importPublic(p.pub,p.pubEnc)}n.exports=s,s.fromPublic=function(l,p,h){return p instanceof s?p:new s(l,{pub:p,pubEnc:h})},s.fromPrivate=function(l,p,h){return p instanceof s?p:new s(l,{priv:p,privEnc:h})},s.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(l,p){return typeof l=="string"&&(p=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,l):this.pub},s.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(l,p){this.priv=new a(l,p||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(l,p){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,p)},s.prototype.derive=function(l){return l.mul(this.priv).getX()},s.prototype.sign=function(l,p,h){return this.ec.sign(l,this,p,h)},s.prototype.verify=function(l,p){return this.ec.verify(l,p,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":364,"bn.js":365}],359:[function(r,n,i){var a=r("bn.js"),o=r("../utils"),s=o.assert;function l(f,u){if(f instanceof l)return f;this._importDER(f,u)||(s(f.r&&f.s,"Signature without r or s"),this.r=new a(f.r,16),this.s=new a(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function p(){this.place=0}function h(f,u){var c=f[u.place++];if(!(128&c))return c;var d=15&c;if(d===0||d>4)return!1;for(var _=0,g=0,y=u.place;g<d;g++,y++)_<<=8,_|=f[y],_>>>=0;return!(_<=127)&&(u.place=y,_)}function m(f){for(var u=0,c=f.length-1;!f[u]&&!(128&f[u+1])&&u<c;)u++;return u===0?f:f.slice(u)}function v(f,u){if(u<128)f.push(u);else{var c=1+(Math.log(u)/Math.LN2>>>3);for(f.push(128|c);--c;)f.push(u>>>(c<<3)&255);f.push(u)}}n.exports=l,l.prototype._importDER=function(f,u){f=o.toArray(f,u);var c=new p;if(f[c.place++]!==48)return!1;var d=h(f,c);if(d===!1||d+c.place!==f.length||f[c.place++]!==2)return!1;var _=h(f,c);if(_===!1)return!1;var g=f.slice(c.place,_+c.place);if(c.place+=_,f[c.place++]!==2)return!1;var y=h(f,c);if(y===!1||f.length!==y+c.place)return!1;var b=f.slice(c.place,y+c.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}return this.r=new a(g),this.s=new a(b),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var u=this.r.toArray(),c=this.s.toArray();for(128&u[0]&&(u=[0].concat(u)),128&c[0]&&(c=[0].concat(c)),u=m(u),c=m(c);!(c[0]||128&c[1]);)c=c.slice(1);var d=[2];v(d,u.length),(d=d.concat(u)).push(2),v(d,c.length);var _=d.concat(c),g=[48];return v(g,_.length),g=g.concat(_),o.encode(g,f)}},{"../utils":364,"bn.js":365}],360:[function(r,n,i){var a=r("hash.js"),o=r("../curves"),s=r("../utils"),l=s.assert,p=s.parseBytes,h=r("./key"),m=r("./signature");function v(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof v))return new v(f);f=o[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=a.sha512}n.exports=v,v.prototype.sign=function(f,u){f=p(f);var c=this.keyFromSecret(u),d=this.hashInt(c.messagePrefix(),f),_=this.g.mul(d),g=this.encodePoint(_),y=this.hashInt(g,c.pubBytes(),f).mul(c.priv()),b=d.add(y).umod(this.curve.n);return this.makeSignature({R:_,S:b,Rencoded:g})},v.prototype.verify=function(f,u,c){f=p(f),u=this.makeSignature(u);var d=this.keyFromPublic(c),_=this.hashInt(u.Rencoded(),d.pubBytes(),f),g=this.g.mul(u.S());return u.R().add(d.pub().mul(_)).eq(g)},v.prototype.hashInt=function(){for(var f=this.hash(),u=0;u<arguments.length;u++)f.update(arguments[u]);return s.intFromLE(f.digest()).umod(this.curve.n)},v.prototype.keyFromPublic=function(f){return h.fromPublic(this,f)},v.prototype.keyFromSecret=function(f){return h.fromSecret(this,f)},v.prototype.makeSignature=function(f){return f instanceof m?f:new m(this,f)},v.prototype.encodePoint=function(f){var u=f.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=f.getX().isOdd()?128:0,u},v.prototype.decodePoint=function(f){var u=(f=s.parseBytes(f)).length-1,c=f.slice(0,u).concat(-129&f[u]),d=(128&f[u])!=0,_=s.intFromLE(c);return this.curve.pointFromY(_,d)},v.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},v.prototype.decodeInt=function(f){return s.intFromLE(f)},v.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":356,"../utils":364,"./key":361,"./signature":362,"hash.js":372}],361:[function(r,n,i){var a=r("../utils"),o=a.assert,s=a.parseBytes,l=a.cachedProperty;function p(h,m){this.eddsa=h,this._secret=s(m.secret),h.isPoint(m.pub)?this._pub=m.pub:this._pubBytes=s(m.pub)}p.fromPublic=function(h,m){return m instanceof p?m:new p(h,{pub:m})},p.fromSecret=function(h,m){return m instanceof p?m:new p(h,{secret:m})},p.prototype.secret=function(){return this._secret},l(p,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(p,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(p,"privBytes",function(){var h=this.eddsa,m=this.hash(),v=h.encodingLength-1,f=m.slice(0,h.encodingLength);return f[0]&=248,f[v]&=127,f[v]|=64,f}),l(p,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(p,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(p,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),p.prototype.sign=function(h){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},p.prototype.verify=function(h,m){return this.eddsa.verify(h,m,this)},p.prototype.getSecret=function(h){return o(this._secret,"KeyPair is public only"),a.encode(this.secret(),h)},p.prototype.getPublic=function(h){return a.encode(this.pubBytes(),h)},n.exports=p},{"../utils":364}],362:[function(r,n,i){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}var o=r("bn.js"),s=r("../utils"),l=s.assert,p=s.cachedProperty,h=s.parseBytes;function m(v,f){this.eddsa=v,a(f)!=="object"&&(f=h(f)),Array.isArray(f)&&(f={R:f.slice(0,v.encodingLength),S:f.slice(v.encodingLength)}),l(f.R&&f.S,"Signature without R or S"),v.isPoint(f.R)&&(this._R=f.R),f.S instanceof o&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}p(m,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),p(m,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),p(m,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),p(m,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),m.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},m.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=m},{"../utils":364,"bn.js":365}],363:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],364:[function(r,n,i){var a=i,o=r("bn.js"),s=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");a.assert=s,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(p,h,m){var v=new Array(Math.max(p.bitLength(),m)+1);v.fill(0);for(var f=1<<h+1,u=p.clone(),c=0;c<v.length;c++){var d,_=u.andln(f-1);u.isOdd()?(d=_>(f>>1)-1?(f>>1)-_:_,u.isubn(d)):d=0,v[c]=d,u.iushrn(1)}return v},a.getJSF=function(p,h){var m=[[],[]];p=p.clone(),h=h.clone();for(var v=0,f=0;p.cmpn(-v)>0||h.cmpn(-f)>0;){var u,c,d,_=p.andln(3)+v&3,g=h.andln(3)+f&3;_===3&&(_=-1),g===3&&(g=-1),(1&_)==0?u=0:u=(d=p.andln(7)+v&7)!==3&&d!==5||g!==2?_:-_,m[0].push(u),(1&g)==0?c=0:c=(d=h.andln(7)+f&7)!==3&&d!==5||_!==2?g:-g,m[1].push(c),2*v===u+1&&(v=1-v),2*f===c+1&&(f=1-f),p.iushrn(1),h.iushrn(1)}return m},a.cachedProperty=function(p,h,m){var v="_"+h;p.prototype[h]=function(){return this[v]!==void 0?this[v]:this[v]=m.call(this)}},a.parseBytes=function(p){return typeof p=="string"?a.toArray(p,"hex"):p},a.intFromLE=function(p){return new o(p,"hex","le")}},{"bn.js":365,"minimalistic-assert":437,"minimalistic-crypto-utils":438}],365:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],366:[function(r,n,i){n.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",_shasum:"cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6",_spec:"elliptic@^6.5.3",_where:"/mnt/d/dev/git/exceljs/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},{}],367:[function(r,n,i){function a(D){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(D)}var o=Object.create||function(D){var P=function(){};return P.prototype=D,new P},s=Object.keys||function(D){var P=[];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&P.push(k);return k},l=Function.prototype.bind||function(D){var P=this;return function(){return P.apply(D,arguments)}};function p(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=p,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._maxListeners=void 0;var h,m=10;try{var v={};Object.defineProperty&&Object.defineProperty(v,"x",{value:0}),h=v.x===0}catch{h=!1}function f(D){return D._maxListeners===void 0?p.defaultMaxListeners:D._maxListeners}function u(D,P,k){if(P)D.call(k);else for(var B=D.length,E=A(D,B),O=0;O<B;++O)E[O].call(k)}function c(D,P,k,B){if(P)D.call(k,B);else for(var E=D.length,O=A(D,E),S=0;S<E;++S)O[S].call(k,B)}function d(D,P,k,B,E){if(P)D.call(k,B,E);else for(var O=D.length,S=A(D,O),R=0;R<O;++R)S[R].call(k,B,E)}function _(D,P,k,B,E,O){if(P)D.call(k,B,E,O);else for(var S=D.length,R=A(D,S),T=0;T<S;++T)R[T].call(k,B,E,O)}function g(D,P,k,B){if(P)D.apply(k,B);else for(var E=D.length,O=A(D,E),S=0;S<E;++S)O[S].apply(k,B)}function y(D,P,k,B){var E,O,S;if(typeof k!="function")throw new TypeError('"listener" argument must be a function');if((O=D._events)?(O.newListener&&(D.emit("newListener",P,k.listener?k.listener:k),O=D._events),S=O[P]):(O=D._events=o(null),D._eventsCount=0),S){if(typeof S=="function"?S=O[P]=B?[k,S]:[S,k]:B?S.unshift(k):S.push(k),!S.warned&&(E=f(D))&&E>0&&S.length>E){S.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(P)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=D,R.type=P,R.count=S.length,(typeof console>"u"?"undefined":a(console))==="object"&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else S=O[P]=k,++D._eventsCount;return D}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),P=0;P<D.length;++P)D[P]=arguments[P];this.listener.apply(this.target,D)}}function C(D,P,k){var B={fired:!1,wrapFn:void 0,target:D,type:P,listener:k},E=l.call(b,B);return E.listener=k,B.wrapFn=E,E}function w(D,P,k){var B=D._events;if(!B)return[];var E=B[P];return E?typeof E=="function"?k?[E.listener||E]:[E]:k?function(O){for(var S=new Array(O.length),R=0;R<S.length;++R)S[R]=O[R].listener||O[R];return S}(E):A(E,E.length):[]}function x(D){var P=this._events;if(P){var k=P[D];if(typeof k=="function")return 1;if(k)return k.length}return 0}function A(D,P){for(var k=new Array(P),B=0;B<P;++B)k[B]=D[B];return k}h?Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(D){if(typeof D!="number"||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');m=D}}):p.defaultMaxListeners=m,p.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},p.prototype.getMaxListeners=function(){return f(this)},p.prototype.emit=function(D){var P,k,B,E,O,S,R=D==="error";if(S=this._events)R=R&&S.error==null;else if(!R)return!1;if(R){if(arguments.length>1&&(P=arguments[1]),P instanceof Error)throw P;var T=new Error('Unhandled "error" event. ('+P+")");throw T.context=P,T}if(!(k=S[D]))return!1;var I=typeof k=="function";switch(B=arguments.length){case 1:u(k,I,this);break;case 2:c(k,I,this,arguments[1]);break;case 3:d(k,I,this,arguments[1],arguments[2]);break;case 4:_(k,I,this,arguments[1],arguments[2],arguments[3]);break;default:for(E=new Array(B-1),O=1;O<B;O++)E[O-1]=arguments[O];g(k,I,this,E)}return!0},p.prototype.addListener=function(D,P){return y(this,D,P,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(D,P){return y(this,D,P,!0)},p.prototype.once=function(D,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,C(this,D,P)),this},p.prototype.prependOnceListener=function(D,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,C(this,D,P)),this},p.prototype.removeListener=function(D,P){var k,B,E,O,S;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if(!(B=this._events))return this;if(!(k=B[D]))return this;if(k===P||k.listener===P)--this._eventsCount==0?this._events=o(null):(delete B[D],B.removeListener&&this.emit("removeListener",D,k.listener||P));else if(typeof k!="function"){for(E=-1,O=k.length-1;O>=0;O--)if(k[O]===P||k[O].listener===P){S=k[O].listener,E=O;break}if(E<0)return this;E===0?k.shift():function(R,T){for(var I=T,M=I+1,N=R.length;M<N;I+=1,M+=1)R[I]=R[M];R.pop()}(k,E),k.length===1&&(B[D]=k[0]),B.removeListener&&this.emit("removeListener",D,S||P)}return this},p.prototype.removeAllListeners=function(D){var P,k,B;if(!(k=this._events))return this;if(!k.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):k[D]&&(--this._eventsCount==0?this._events=o(null):delete k[D]),this;if(arguments.length===0){var E,O=s(k);for(B=0;B<O.length;++B)(E=O[B])!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(P=k[D])=="function")this.removeListener(D,P);else if(P)for(B=P.length-1;B>=0;B--)this.removeListener(D,P[B]);return this},p.prototype.listeners=function(D){return w(this,D,!0)},p.prototype.rawListeners=function(D){return w(this,D,!1)},p.listenerCount=function(D,P){return typeof D.listenerCount=="function"?D.listenerCount(P):x.call(D,P)},p.prototype.listenerCount=x,p.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],368:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("md5.js");n.exports=function(s,l,p,h){if(a.isBuffer(s)||(s=a.from(s,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=p/8,v=a.alloc(m),f=a.alloc(h||0),u=a.alloc(0);m>0||h>0;){var c=new o;c.update(u),c.update(s),l&&c.update(l),u=c.digest();var d=0;if(m>0){var _=v.length-m;d=Math.min(m,u.length),u.copy(v,_,0,d),m-=d}if(d<u.length&&h>0){var g=f.length-h,y=Math.min(h,u.length-d);u.copy(f,g,d,d+y),h-=y}}return u.fill(0),{key:v,iv:f}}},{"md5.js":434,"safe-buffer":494}],369:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":148,"@fast-csv/parse":152}],370:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function s(l){o.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(s,o),s.prototype._transform=function(l,p,h){var m=null;try{this.update(l,p)}catch(v){m=v}h(m)},s.prototype._flush=function(l){var p=null;try{this.push(this.digest())}catch(h){p=h}l(p)},s.prototype.update=function(l,p){if(function(c,d){if(!a.isBuffer(c)&&typeof c!="string")throw new TypeError(d+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,p));for(var h=this._block,m=0;this._blockOffset+l.length-m>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)h[v++]=l[m++];this._update(),this._blockOffset=0}for(;m<l.length;)h[this._blockOffset++]=l[m++];for(var f=0,u=8*l.length;u>0;++f)this._length[f]+=u,(u=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*u);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var p=this._digest();l!==void 0&&(p=p.toString(l)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return p},s.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=s},{inherits:387,"readable-stream":491,"safe-buffer":371}],371:[function(r,n,i){arguments[4][214][0].apply(i,arguments)},{buffer:216,dup:214}],372:[function(r,n,i){var a=i;a.utils=r("./hash/utils"),a.common=r("./hash/common"),a.sha=r("./hash/sha"),a.ripemd=r("./hash/ripemd"),a.hmac=r("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":373,"./hash/hmac":374,"./hash/ripemd":375,"./hash/sha":376,"./hash/utils":383}],373:[function(r,n,i){var a=r("./utils"),o=r("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=s,s.prototype.update=function(l,p){if(l=a.toArray(l,p),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var h=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-h,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-h,this.endian);for(var m=0;m<l.length;m+=this._delta32)this._update(l,m,m+this._delta32)}return this},s.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},s.prototype._pad=function(){var l=this.pendingTotal,p=this._delta8,h=p-(l+this.padLength)%p,m=new Array(h+this.padLength);m[0]=128;for(var v=1;v<h;v++)m[v]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)m[v++]=0;m[v++]=0,m[v++]=0,m[v++]=0,m[v++]=0,m[v++]=l>>>24&255,m[v++]=l>>>16&255,m[v++]=l>>>8&255,m[v++]=255&l}else for(m[v++]=255&l,m[v++]=l>>>8&255,m[v++]=l>>>16&255,m[v++]=l>>>24&255,m[v++]=0,m[v++]=0,m[v++]=0,m[v++]=0,f=8;f<this.padLength;f++)m[v++]=0;return m}},{"./utils":383,"minimalistic-assert":437}],374:[function(r,n,i){var a=r("./utils"),o=r("minimalistic-assert");function s(l,p,h){if(!(this instanceof s))return new s(l,p,h);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(p,h))}n.exports=s,s.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var p=l.length;p<this.blockSize;p++)l.push(0);for(p=0;p<l.length;p++)l[p]^=54;for(this.inner=new this.Hash().update(l),p=0;p<l.length;p++)l[p]^=106;this.outer=new this.Hash().update(l)},s.prototype.update=function(l,p){return this.inner.update(l,p),this},s.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":383,"minimalistic-assert":437}],375:[function(r,n,i){var a=r("./utils"),o=r("./common"),s=a.rotl32,l=a.sum32,p=a.sum32_3,h=a.sum32_4,m=o.BlockHash;function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(b,C,w,x){return b<=15?C^w^x:b<=31?C&w|~C&x:b<=47?(C|~w)^x:b<=63?C&x|w&~x:C^(w|~x)}function u(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function c(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}a.inherits(v,m),i.ripemd160=v,v.blockSize=512,v.outSize=160,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(b,C){for(var w=this.h[0],x=this.h[1],A=this.h[2],D=this.h[3],P=this.h[4],k=w,B=x,E=A,O=D,S=P,R=0;R<80;R++){var T=l(s(h(w,f(R,x,A,D),b[d[R]+C],u(R)),g[R]),P);w=P,P=D,D=s(A,10),A=x,x=T,T=l(s(h(k,f(79-R,B,E,O),b[_[R]+C],c(R)),y[R]),S),k=S,S=O,O=s(E,10),E=B,B=T}T=p(this.h[1],A,O),this.h[1]=p(this.h[2],D,S),this.h[2]=p(this.h[3],P,k),this.h[3]=p(this.h[4],w,B),this.h[4]=p(this.h[0],x,E),this.h[0]=T},v.prototype._digest=function(b){return b==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":373,"./utils":383}],376:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":377,"./sha/224":378,"./sha/256":379,"./sha/384":380,"./sha/512":381}],377:[function(r,n,i){var a=r("../utils"),o=r("../common"),s=r("./common"),l=a.rotl32,p=a.sum32,h=a.sum32_5,m=s.ft_1,v=o.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(u,v),n.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(c,d){for(var _=this.W,g=0;g<16;g++)_[g]=c[d+g];for(;g<_.length;g++)_[g]=l(_[g-3]^_[g-8]^_[g-14]^_[g-16],1);var y=this.h[0],b=this.h[1],C=this.h[2],w=this.h[3],x=this.h[4];for(g=0;g<_.length;g++){var A=~~(g/20),D=h(l(y,5),m(A,b,C,w),x,_[g],f[A]);x=w,w=C,C=l(b,30),b=y,y=D}this.h[0]=p(this.h[0],y),this.h[1]=p(this.h[1],b),this.h[2]=p(this.h[2],C),this.h[3]=p(this.h[3],w),this.h[4]=p(this.h[4],x)},u.prototype._digest=function(c){return c==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":373,"../utils":383,"./common":382}],378:[function(r,n,i){var a=r("../utils"),o=r("./256");function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(s,o),n.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":383,"./256":379}],379:[function(r,n,i){var a=r("../utils"),o=r("../common"),s=r("./common"),l=r("minimalistic-assert"),p=a.sum32,h=a.sum32_4,m=a.sum32_5,v=s.ch32,f=s.maj32,u=s.s0_256,c=s.s1_256,d=s.g0_256,_=s.g1_256,g=o.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}a.inherits(b,g),n.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(C,w){for(var x=this.W,A=0;A<16;A++)x[A]=C[w+A];for(;A<x.length;A++)x[A]=h(_(x[A-2]),x[A-7],d(x[A-15]),x[A-16]);var D=this.h[0],P=this.h[1],k=this.h[2],B=this.h[3],E=this.h[4],O=this.h[5],S=this.h[6],R=this.h[7];for(l(this.k.length===x.length),A=0;A<x.length;A++){var T=m(R,c(E),v(E,O,S),this.k[A],x[A]),I=p(u(D),f(D,P,k));R=S,S=O,O=E,E=p(B,T),B=k,k=P,P=D,D=p(T,I)}this.h[0]=p(this.h[0],D),this.h[1]=p(this.h[1],P),this.h[2]=p(this.h[2],k),this.h[3]=p(this.h[3],B),this.h[4]=p(this.h[4],E),this.h[5]=p(this.h[5],O),this.h[6]=p(this.h[6],S),this.h[7]=p(this.h[7],R)},b.prototype._digest=function(C){return C==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":373,"../utils":383,"./common":382,"minimalistic-assert":437}],380:[function(r,n,i){var a=r("../utils"),o=r("./512");function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(s,o),n.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":383,"./512":381}],381:[function(r,n,i){var a=r("../utils"),o=r("../common"),s=r("minimalistic-assert"),l=a.rotr64_hi,p=a.rotr64_lo,h=a.shr64_hi,m=a.shr64_lo,v=a.sum64,f=a.sum64_hi,u=a.sum64_lo,c=a.sum64_4_hi,d=a.sum64_4_lo,_=a.sum64_5_hi,g=a.sum64_5_lo,y=o.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(I,M,N,j,H){var U=I&N^~I&H;return U<0&&(U+=4294967296),U}function x(I,M,N,j,H,U){var W=M&j^~M&U;return W<0&&(W+=4294967296),W}function A(I,M,N,j,H){var U=I&N^I&H^N&H;return U<0&&(U+=4294967296),U}function D(I,M,N,j,H,U){var W=M&j^M&U^j&U;return W<0&&(W+=4294967296),W}function P(I,M){var N=l(I,M,28)^l(M,I,2)^l(M,I,7);return N<0&&(N+=4294967296),N}function k(I,M){var N=p(I,M,28)^p(M,I,2)^p(M,I,7);return N<0&&(N+=4294967296),N}function B(I,M){var N=l(I,M,14)^l(I,M,18)^l(M,I,9);return N<0&&(N+=4294967296),N}function E(I,M){var N=p(I,M,14)^p(I,M,18)^p(M,I,9);return N<0&&(N+=4294967296),N}function O(I,M){var N=l(I,M,1)^l(I,M,8)^h(I,M,7);return N<0&&(N+=4294967296),N}function S(I,M){var N=p(I,M,1)^p(I,M,8)^m(I,M,7);return N<0&&(N+=4294967296),N}function R(I,M){var N=l(I,M,19)^l(M,I,29)^h(I,M,6);return N<0&&(N+=4294967296),N}function T(I,M){var N=p(I,M,19)^p(M,I,29)^m(I,M,6);return N<0&&(N+=4294967296),N}a.inherits(C,y),n.exports=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(I,M){for(var N=this.W,j=0;j<32;j++)N[j]=I[M+j];for(;j<N.length;j+=2){var H=R(N[j-4],N[j-3]),U=T(N[j-4],N[j-3]),W=N[j-14],G=N[j-13],K=O(N[j-30],N[j-29]),Q=S(N[j-30],N[j-29]),$=N[j-32],L=N[j-31];N[j]=c(H,U,W,G,K,Q,$,L),N[j+1]=d(H,U,W,G,K,Q,$,L)}},C.prototype._update=function(I,M){this._prepareBlock(I,M);var N=this.W,j=this.h[0],H=this.h[1],U=this.h[2],W=this.h[3],G=this.h[4],K=this.h[5],Q=this.h[6],$=this.h[7],L=this.h[8],F=this.h[9],z=this.h[10],Z=this.h[11],J=this.h[12],ee=this.h[13],pe=this.h[14],le=this.h[15];s(this.k.length===N.length);for(var ye=0;ye<N.length;ye+=2){var ke=pe,be=le,Je=B(L,F),je=E(L,F),Be=w(L,F,z,Z,J),$e=x(L,F,z,Z,J,ee),nt=this.k[ye],Se=this.k[ye+1],re=N[ye],ue=N[ye+1],se=_(ke,be,Je,je,Be,$e,nt,Se,re,ue),me=g(ke,be,Je,je,Be,$e,nt,Se,re,ue);ke=P(j,H),be=k(j,H),Je=A(j,H,U,W,G),je=D(j,H,U,W,G,K);var fe=f(ke,be,Je,je),ge=u(ke,be,Je,je);pe=J,le=ee,J=z,ee=Z,z=L,Z=F,L=f(Q,$,se,me),F=u($,$,se,me),Q=G,$=K,G=U,K=W,U=j,W=H,j=f(se,me,fe,ge),H=u(se,me,fe,ge)}v(this.h,0,j,H),v(this.h,2,U,W),v(this.h,4,G,K),v(this.h,6,Q,$),v(this.h,8,L,F),v(this.h,10,z,Z),v(this.h,12,J,ee),v(this.h,14,pe,le)},C.prototype._digest=function(I){return I==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":373,"../utils":383,"minimalistic-assert":437}],382:[function(r,n,i){var a=r("../utils").rotr32;function o(p,h,m){return p&h^~p&m}function s(p,h,m){return p&h^p&m^h&m}function l(p,h,m){return p^h^m}i.ft_1=function(p,h,m,v){return p===0?o(h,m,v):p===1||p===3?l(h,m,v):p===2?s(h,m,v):void 0},i.ch32=o,i.maj32=s,i.p32=l,i.s0_256=function(p){return a(p,2)^a(p,13)^a(p,22)},i.s1_256=function(p){return a(p,6)^a(p,11)^a(p,25)},i.g0_256=function(p){return a(p,7)^a(p,18)^p>>>3},i.g1_256=function(p){return a(p,17)^a(p,19)^p>>>10}},{"../utils":383}],383:[function(r,n,i){var a=r("minimalistic-assert"),o=r("inherits");function s(m,v){return(64512&m.charCodeAt(v))==55296&&!(v<0||v+1>=m.length)&&(64512&m.charCodeAt(v+1))==56320}function l(m){return(m>>>24|m>>>8&65280|m<<8&16711680|(255&m)<<24)>>>0}function p(m){return m.length===1?"0"+m:m}function h(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}i.inherits=o,i.toArray=function(m,v){if(Array.isArray(m))return m.slice();if(!m)return[];var f=[];if(typeof m=="string")if(v){if(v==="hex")for((m=m.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(m="0"+m),c=0;c<m.length;c+=2)f.push(parseInt(m[c]+m[c+1],16))}else for(var u=0,c=0;c<m.length;c++){var d=m.charCodeAt(c);d<128?f[u++]=d:d<2048?(f[u++]=d>>6|192,f[u++]=63&d|128):s(m,c)?(d=65536+((1023&d)<<10)+(1023&m.charCodeAt(++c)),f[u++]=d>>18|240,f[u++]=d>>12&63|128,f[u++]=d>>6&63|128,f[u++]=63&d|128):(f[u++]=d>>12|224,f[u++]=d>>6&63|128,f[u++]=63&d|128)}else for(c=0;c<m.length;c++)f[c]=0|m[c];return f},i.toHex=function(m){for(var v="",f=0;f<m.length;f++)v+=p(m[f].toString(16));return v},i.htonl=l,i.toHex32=function(m,v){for(var f="",u=0;u<m.length;u++){var c=m[u];v==="little"&&(c=l(c)),f+=h(c.toString(16))}return f},i.zero2=p,i.zero8=h,i.join32=function(m,v,f,u){var c=f-v;a(c%4==0);for(var d=new Array(c/4),_=0,g=v;_<d.length;_++,g+=4){var y;y=u==="big"?m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3]:m[g+3]<<24|m[g+2]<<16|m[g+1]<<8|m[g],d[_]=y>>>0}return d},i.split32=function(m,v){for(var f=new Array(4*m.length),u=0,c=0;u<m.length;u++,c+=4){var d=m[u];v==="big"?(f[c]=d>>>24,f[c+1]=d>>>16&255,f[c+2]=d>>>8&255,f[c+3]=255&d):(f[c+3]=d>>>24,f[c+2]=d>>>16&255,f[c+1]=d>>>8&255,f[c]=255&d)}return f},i.rotr32=function(m,v){return m>>>v|m<<32-v},i.rotl32=function(m,v){return m<<v|m>>>32-v},i.sum32=function(m,v){return m+v>>>0},i.sum32_3=function(m,v,f){return m+v+f>>>0},i.sum32_4=function(m,v,f,u){return m+v+f+u>>>0},i.sum32_5=function(m,v,f,u,c){return m+v+f+u+c>>>0},i.sum64=function(m,v,f,u){var c=m[v],d=u+m[v+1]>>>0,_=(d<u?1:0)+f+c;m[v]=_>>>0,m[v+1]=d},i.sum64_hi=function(m,v,f,u){return(v+u>>>0<v?1:0)+m+f>>>0},i.sum64_lo=function(m,v,f,u){return v+u>>>0},i.sum64_4_hi=function(m,v,f,u,c,d,_,g){var y=0,b=v;return y+=(b=b+u>>>0)<v?1:0,y+=(b=b+d>>>0)<d?1:0,m+f+c+_+(y+=(b=b+g>>>0)<g?1:0)>>>0},i.sum64_4_lo=function(m,v,f,u,c,d,_,g){return v+u+d+g>>>0},i.sum64_5_hi=function(m,v,f,u,c,d,_,g,y,b){var C=0,w=v;return C+=(w=w+u>>>0)<v?1:0,C+=(w=w+d>>>0)<d?1:0,C+=(w=w+g>>>0)<g?1:0,m+f+c+_+y+(C+=(w=w+b>>>0)<b?1:0)>>>0},i.sum64_5_lo=function(m,v,f,u,c,d,_,g,y,b){return v+u+d+g+b>>>0},i.rotr64_hi=function(m,v,f){return(v<<32-f|m>>>f)>>>0},i.rotr64_lo=function(m,v,f){return(m<<32-f|v>>>f)>>>0},i.shr64_hi=function(m,v,f){return m>>>f},i.shr64_lo=function(m,v,f){return(m<<32-f|v>>>f)>>>0}},{inherits:387,"minimalistic-assert":437}],384:[function(r,n,i){var a=r("hash.js"),o=r("minimalistic-crypto-utils"),s=r("minimalistic-assert");function l(p){if(!(this instanceof l))return new l(p);this.hash=p.hash,this.predResist=!!p.predResist,this.outLen=this.hash.outSize,this.minEntropy=p.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=o.toArray(p.entropy,p.entropyEnc||"hex"),m=o.toArray(p.nonce,p.nonceEnc||"hex"),v=o.toArray(p.pers,p.persEnc||"hex");s(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,m,v)}n.exports=l,l.prototype._init=function(p,h,m){var v=p.concat(h).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(v),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(p){var h=this._hmac().update(this.V).update([0]);p&&(h=h.update(p)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),p&&(this.K=this._hmac().update(this.V).update([1]).update(p).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(p,h,m,v){typeof h!="string"&&(v=m,m=h,h=null),p=o.toArray(p,h),m=o.toArray(m,v),s(p.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(p.concat(m||[])),this._reseed=1},l.prototype.generate=function(p,h,m,v){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(v=m,m=h,h=null),m&&(m=o.toArray(m,v||"hex"),this._update(m));for(var f=[];f.length<p;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var u=f.slice(0,p);return this._update(m),this._reseed++,o.encode(u,h)}},{"hash.js":372,"minimalistic-assert":437,"minimalistic-crypto-utils":438}],385:[function(r,n,i){i.read=function(a,o,s,l,p){var h,m,v=8*p-l-1,f=(1<<v)-1,u=f>>1,c=-7,d=s?p-1:0,_=s?-1:1,g=a[o+d];for(d+=_,h=g&(1<<-c)-1,g>>=-c,c+=v;c>0;h=256*h+a[o+d],d+=_,c-=8);for(m=h&(1<<-c)-1,h>>=-c,c+=l;c>0;m=256*m+a[o+d],d+=_,c-=8);if(h===0)h=1-u;else{if(h===f)return m?NaN:1/0*(g?-1:1);m+=Math.pow(2,l),h-=u}return(g?-1:1)*m*Math.pow(2,h-l)},i.write=function(a,o,s,l,p,h){var m,v,f,u=8*h-p-1,c=(1<<u)-1,d=c>>1,_=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:h-1,y=l?1:-1,b=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(v=isNaN(o)?1:0,m=c):(m=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-m))<1&&(m--,f*=2),(o+=m+d>=1?_/f:_*Math.pow(2,1-d))*f>=2&&(m++,f/=2),m+d>=c?(v=0,m=c):m+d>=1?(v=(o*f-1)*Math.pow(2,p),m+=d):(v=o*Math.pow(2,d-1)*Math.pow(2,p),m=0));p>=8;a[s+g]=255&v,g+=y,v/=256,p-=8);for(m=m<<p|v,u+=p;u>0;a[s+g]=255&m,g+=y,m/=256,u-=8);a[s+g-y]|=128*b}},{}],386:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var p=0,h=new l(u),m=a.document.createTextNode("");h.observe(m,{characterData:!0}),o=function(){m.data=p=++p%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var c=a.document.createElement("script");c.onreadystatechange=function(){u(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c)}:function(){setTimeout(u,0)};else{var v=new a.MessageChannel;v.port1.onmessage=u,o=function(){v.port2.postMessage(0)}}var f=[];function u(){var c,d;s=!0;for(var _=f.length;_;){for(d=f,f=[],c=-1;++c<_;)d[c]();_=f.length}s=!1}n.exports=function(c){f.push(c)!==1||s||o()}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],387:[function(r,n,i){typeof Object.create=="function"?n.exports=function(a,o){o&&(a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,o){if(o){a.super_=o;var s=function(){};s.prototype=o.prototype,a.prototype=new s,a.prototype.constructor=a}}},{}],388:[function(r,n,i){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function a(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}n.exports=function(o){return o!=null&&(a(o)||function(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&a(s.slice(0,0))}(o)||!!o._isBuffer)}},{}],389:[function(r,n,i){var a={}.toString;n.exports=Array.isArray||function(o){return a.call(o)=="[object Array]"}},{}],390:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var p,h,m,v,f,u,c,d=[],_=0,g=l.length,y=g,b=a.getTypeOf(l)!=="string";_<l.length;)y=g-_,b?(p=l[_++],h=_<g?l[_++]:0,m=_<g?l[_++]:0):(p=l.charCodeAt(_++),h=_<g?l.charCodeAt(_++):0,m=_<g?l.charCodeAt(_++):0),v=p>>2,f=(3&p)<<4|h>>4,u=y>1?(15&h)<<2|m>>6:64,c=y>2?63&m:64,d.push(s.charAt(v)+s.charAt(f)+s.charAt(u)+s.charAt(c));return d.join("")},i.decode=function(l){var p,h,m,v,f,u,c=0,d=0;if(l.substr(0,5)==="data:")throw new Error("Invalid base64 input, it looks like a data url.");var _,g=3*(l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&g--,l.charAt(l.length-2)===s.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=o.uint8array?new Uint8Array(0|g):new Array(0|g);c<l.length;)p=s.indexOf(l.charAt(c++))<<2|(v=s.indexOf(l.charAt(c++)))>>4,h=(15&v)<<4|(f=s.indexOf(l.charAt(c++)))>>2,m=(3&f)<<6|(u=s.indexOf(l.charAt(c++))),_[d++]=p,f!==64&&(_[d++]=h),u!==64&&(_[d++]=m);return _}},{"./support":419,"./utils":421}],391:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/DataLengthProbe"),l=r("./stream/Crc32Probe");s=r("./stream/DataLengthProbe");function p(h,m,v,f,u){this.compressedSize=h,this.uncompressedSize=m,this.crc32=v,this.compression=f,this.compressedContent=u}p.prototype={getContentWorker:function(){var h=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(h,m,v){return h.pipe(new l).pipe(new s("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new s("compressedSize")).withStreamInfo("compression",m)},n.exports=p},{"./external":395,"./stream/Crc32Probe":414,"./stream/DataLengthProbe":415,"./stream/DataWorker":416}],392:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(o){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":396,"./stream/GenericWorker":417}],393:[function(r,n,i){var a=r("./utils"),o=function(){for(var s,l=[],p=0;p<256;p++){s=p;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;l[p]=s}return l}();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(p,h,m,v){var f=o,u=v+m;p^=-1;for(var c=v;c<u;c++)p=p>>>8^f[255&(p^h[c])];return-1^p}(0|l,s,s.length,0):function(p,h,m,v){var f=o,u=v+m;p^=-1;for(var c=v;c<u;c++)p=p>>>8^f[255&(p^h.charCodeAt(c))];return-1^p}(0|l,s,s.length,0):0}},{"./utils":421}],394:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],395:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:425}],396:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),p=a?"uint8array":"array";function h(m,v){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}i.magic="\b\0",s.inherits(h,l),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(p,m.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},i.compressWorker=function(m){return new h("Deflate",m)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":417,"./utils":421,pako:439}],397:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker"),s=r("../utf8"),l=r("../crc32"),p=r("../signature"),h=function(u,c){var d,_="";for(d=0;d<c;d++)_+=String.fromCharCode(255&u),u>>>=8;return _},m=function(u,c,d,_,g,y){var b,C,w=u.file,x=u.compression,A=y!==s.utf8encode,D=a.transformTo("string",y(w.name)),P=a.transformTo("string",s.utf8encode(w.name)),k=w.comment,B=a.transformTo("string",y(k)),E=a.transformTo("string",s.utf8encode(k)),O=P.length!==w.name.length,S=E.length!==k.length,R="",T="",I="",M=w.dir,N=w.date,j={crc32:0,compressedSize:0,uncompressedSize:0};c&&!d||(j.crc32=u.crc32,j.compressedSize=u.compressedSize,j.uncompressedSize=u.uncompressedSize);var H=0;c&&(H|=8),A||!O&&!S||(H|=2048);var U,W,G,K=0,Q=0;M&&(K|=16),g==="UNIX"?(Q=798,K|=(U=w.unixPermissions,W=M,G=U,U||(G=W?16893:33204),(65535&G)<<16)):(Q=20,K|=63&(w.dosPermissions||0)),b=N.getUTCHours(),b<<=6,b|=N.getUTCMinutes(),b<<=5,b|=N.getUTCSeconds()/2,C=N.getUTCFullYear()-1980,C<<=4,C|=N.getUTCMonth()+1,C<<=5,C|=N.getUTCDate(),O&&(T=h(1,1)+h(l(D),4)+P,R+="up"+h(T.length,2)+T),S&&(I=h(1,1)+h(l(B),4)+E,R+="uc"+h(I.length,2)+I);var $="";return $+=`
\0`,$+=h(H,2),$+=x.magic,$+=h(b,2),$+=h(C,2),$+=h(j.crc32,4),$+=h(j.compressedSize,4),$+=h(j.uncompressedSize,4),$+=h(D.length,2),$+=h(R.length,2),{fileRecord:p.LOCAL_FILE_HEADER+$+D+R,dirRecord:p.CENTRAL_FILE_HEADER+h(Q,2)+$+h(B.length,2)+"\0\0\0\0"+h(K,4)+h(_,4)+D+R+B}},v=function(u){return p.DATA_DESCRIPTOR+h(u.crc32,4)+h(u.compressedSize,4)+h(u.uncompressedSize,4)};function f(u,c,d,_){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=d,this.encodeFileName=_,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,o),f.prototype.push=function(u){var c=u.meta.percent||0,d=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,o.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:d?(c+100*(d-_-1))/d:100}}))},f.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var c=this.streamFiles&&!u.file.dir;if(c){var d=m(u,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(u){this.accumulate=!1;var c=this.streamFiles&&!u.file.dir,d=m(u,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),c)this.push({data:v(u),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var u=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var d=this.bytesWritten-u,_=function(g,y,b,C,w){var x=a.transformTo("string",w(C));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(g,2)+h(g,2)+h(y,4)+h(b,4)+h(x.length,2)+x}(this.dirRecords.length,d,u,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(u){this._sources.push(u);var c=this;return u.on("data",function(d){c.processChunk(d)}),u.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),u.on("error",function(d){c.error(d)}),this},f.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(u){var c=this._sources;if(!o.prototype.error.call(this,u))return!1;for(var d=0;d<c.length;d++)try{c[d].error(u)}catch{}return!0},f.prototype.lock=function(){o.prototype.lock.call(this);for(var u=this._sources,c=0;c<u.length;c++)u[c].lock()},n.exports=f},{"../crc32":393,"../signature":412,"../stream/GenericWorker":417,"../utf8":420,"../utils":421}],398:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,p){var h=new o(l.streamFiles,p,l.platform,l.encodeFileName),m=0;try{s.forEach(function(v,f){m++;var u=function(g,y){var b=g||y,C=a[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(f.options.compression,l.compression),c=f.options.compressionOptions||l.compressionOptions||{},d=f.dir,_=f.date;f._compressWorker(u,c).withStreamInfo("file",{name:v,dir:d,date:_,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(v){h.error(v)}return h}},{"../compressions":392,"./ZipFileWorker":397}],399:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}a.prototype=r("./object"),a.prototype.loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.5.0",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":394,"./external":395,"./load":400,"./object":404,"./support":419}],400:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=(a=r("./utils"),r("./zipEntries")),p=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function m(v){return new o.Promise(function(f,u){var c=v.decompressed.getContentWorker().pipe(new p);c.on("error",function(d){u(d)}).on("end",function(){c.streamInfo.crc32!==v.decompressed.crc32?u(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(v,f){var u=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),h.isNode&&h.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,f.optimizedBinaryString,f.base64).then(function(c){var d=new l(f);return d.load(c),d}).then(function(c){var d=[o.Promise.resolve(c)],_=c.files;if(f.checkCRC32)for(var g=0;g<_.length;g++)d.push(m(_[g]));return o.Promise.all(d)}).then(function(c){for(var d=c.shift(),_=d.files,g=0;g<_.length;g++){var y=_[g];u.file(y.fileNameStr,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders})}return d.zipComment.length&&(u.comment=d.zipComment),u})}},{"./external":395,"./nodejsUtils":403,"./stream/Crc32Probe":414,"./utf8":420,"./utils":421,"./zipEntries":422}],401:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,p){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(p)}a.inherits(s,o),s.prototype._bindStream=function(l){var p=this;this._stream=l,l.pause(),l.on("data",function(h){p.push({data:h,meta:{percent:0}})}).on("error",function(h){p.isPaused?this.generatedError=h:p.error(h)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":417,"../utils":421}],402:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,p){a.call(this,l),this._helper=s;var h=this;s.on("data",function(m,v){h.push(m)||h._helper.pause(),p&&p(v)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":421,"readable-stream":405}],403:[function(r,n,i){(function(a){n.exports={isNode:a!==void 0,newBufferFrom:function(o,s){if(a.from&&a.from!==Uint8Array.from)return a.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new a(o,s)},allocBuffer:function(o){if(a.alloc)return a.alloc(o);var s=new a(o);return s.fill(0),s},isBuffer:function(o){return a.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}}).call(this,r("buffer").Buffer)},{buffer:216}],404:[function(r,n,i){var a=r("./utf8"),o=r("./utils"),s=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),p=r("./defaults"),h=r("./compressedObject"),m=r("./zipObject"),v=r("./generate"),f=r("./nodejsUtils"),u=r("./nodejs/NodejsStreamInputAdapter"),c=function(C,w,x){var A,D=o.getTypeOf(w),P=o.extend(x||{},p);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(C=_(C)),P.createFolders&&(A=d(C))&&g.call(this,A,!0);var k=D==="string"&&P.binary===!1&&P.base64===!1;x&&x.binary!==void 0||(P.binary=!k),(w instanceof h&&w.uncompressedSize===0||P.dir||!w||w.length===0)&&(P.base64=!1,P.binary=!0,w="",P.compression="STORE",D="string");var B=null;B=w instanceof h||w instanceof s?w:f.isNode&&f.isStream(w)?new u(C,w):o.prepareContent(C,w,P.binary,P.optimizedBinaryString,P.base64);var E=new m(C,B,P);this.files[C]=E},d=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var w=C.lastIndexOf("/");return w>0?C.substring(0,w):""},_=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},g=function(C,w){return w=w!==void 0?w:p.createFolders,C=_(C),this.files[C]||c.call(this,C,null,{dir:!0,createFolders:w}),this.files[C]};function y(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var w,x,A;for(w in this.files)this.files.hasOwnProperty(w)&&(A=this.files[w],(x=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&C(x,A))},filter:function(C){var w=[];return this.forEach(function(x,A){C(x,A)&&w.push(A)}),w},file:function(C,w,x){if(arguments.length===1){if(y(C)){var A=C;return this.filter(function(P,k){return!k.dir&&A.test(P)})}var D=this.files[this.root+C];return D&&!D.dir?D:null}return C=this.root+C,c.call(this,C,w,x),this},folder:function(C){if(!C)return this;if(y(C))return this.filter(function(D,P){return P.dir&&C.test(D)});var w=this.root+C,x=g.call(this,w),A=this.clone();return A.root=x.name,A},remove:function(C){C=this.root+C;var w=this.files[C];if(w||(C.slice(-1)!=="/"&&(C+="/"),w=this.files[C]),w&&!w.dir)delete this.files[C];else for(var x=this.filter(function(D,P){return P.name.slice(0,C.length)===C}),A=0;A<x.length;A++)delete this.files[x[A].name];return this},generate:function(C){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var w,x={};try{if((x=o.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");o.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var A=x.comment||this.comment||"";w=v.generateWorker(this,x,A)}catch(D){(w=new s("error")).error(D)}return new l(w,x.type||"string",x.mimeType)},generateAsync:function(C,w){return this.generateInternalStream(C).accumulate(w)},generateNodeStream:function(C,w){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(w)}};n.exports=b},{"./compressedObject":391,"./defaults":394,"./generate":398,"./nodejs/NodejsStreamInputAdapter":401,"./nodejsUtils":403,"./stream/GenericWorker":417,"./stream/StreamHelper":418,"./utf8":420,"./utils":421,"./zipObject":424}],405:[function(r,n,i){n.exports=r("stream")},{stream:506}],406:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),p=s.charCodeAt(1),h=s.charCodeAt(2),m=s.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===l&&this.data[v+1]===p&&this.data[v+2]===h&&this.data[v+3]===m)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),p=s.charCodeAt(1),h=s.charCodeAt(2),m=s.charCodeAt(3),v=this.readData(4);return l===v[0]&&p===v[1]&&h===v[2]&&m===v[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":421,"./DataReader":407}],407:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(s){},readInt:function(s){var l,p=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)p=(p<<8)+this.byteAt(l);return this.index+=s,p},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(s){},lastIndexOfSignature:function(s){},readAndCheckSignature:function(s){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":421}],408:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":421,"./Uint8ArrayReader":410}],409:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":421,"./DataReader":407}],410:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":421,"./ArrayReader":406}],411:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),p=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(m){var v=a.getTypeOf(m);return a.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new p(m):o.uint8array?new h(a.transformTo("uint8array",m)):new s(a.transformTo("array",m)):new l(m)}},{"../support":419,"../utils":421,"./ArrayReader":406,"./NodeBufferReader":408,"./StringReader":409,"./Uint8ArrayReader":410}],412:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],413:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":421,"./GenericWorker":417}],414:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":393,"../utils":421,"./GenericWorker":417}],415:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":421,"./GenericWorker":417}],416:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){p.dataIsReady=!0,p.data=h,p.max=h&&h.length||0,p.type=a.getTypeOf(h),p.isPaused||p._tickAndRepeat()},function(h){p.error(h)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,p);break;case"uint8array":l=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":l=this.data.slice(this.index,p)}return this.index=p,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":421,"./GenericWorker":417}],417:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],418:[function(r,n,i){(function(a){var o=r("../utils"),s=r("./ConvertWorker"),l=r("./GenericWorker"),p=r("../base64"),h=r("../support"),m=r("../external"),v=null;if(h.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(c,d){return new m.Promise(function(_,g){var y=[],b=c._internalType,C=c._outputType,w=c._mimeType;c.on("data",function(x,A){y.push(x),d&&d(A)}).on("error",function(x){y=[],g(x)}).on("end",function(){try{var x=function(A,D,P){switch(A){case"blob":return o.newBlob(o.transformTo("arraybuffer",D),P);case"base64":return p.encode(D);default:return o.transformTo(A,D)}}(C,function(A,D){var P,k=0,B=null,E=0;for(P=0;P<D.length;P++)E+=D[P].length;switch(A){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(B=new Uint8Array(E),P=0;P<D.length;P++)B.set(D[P],k),k+=D[P].length;return B;case"nodebuffer":return a.concat(D);default:throw new Error("concat : unsupported type '"+A+"'")}}(b,y),w);_(x)}catch(A){g(A)}y=[]}).resume()})}function u(c,d,_){var g=d;switch(d){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=d,this._mimeType=_,o.checkSupport(g),this._worker=c.pipe(new s(g)),c.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}u.prototype={accumulate:function(c){return f(this,c)},on:function(c,d){var _=this;return c==="data"?this._worker.on(c,function(g){d.call(_,g.data,g.meta)}):this._worker.on(c,function(){o.delay(d,arguments,_)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},c)}},n.exports=u}).call(this,r("buffer").Buffer)},{"../base64":390,"../external":395,"../nodejs/NodejsStreamOutputAdapter":402,"../support":419,"../utils":421,"./ConvertWorker":413,"./GenericWorker":417,buffer:216}],419:[function(r,n,i){(function(a){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=a!==void 0,i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}}).call(this,r("buffer").Buffer)},{buffer:216,"readable-stream":405}],420:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),p=new Array(256),h=0;h<256;h++)p[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;p[254]=p[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return o.nodebuffer?s.newBufferFrom(f,"utf-8"):function(u){var c,d,_,g,y,b=u.length,C=0;for(g=0;g<b;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<b&&(64512&(_=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(_-56320),g++),C+=d<128?1:d<2048?2:d<65536?3:4;for(c=o.uint8array?new Uint8Array(C):new Array(C),y=0,g=0;y<C;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<b&&(64512&(_=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(_-56320),g++),d<128?c[y++]=d:d<2048?(c[y++]=192|d>>>6,c[y++]=128|63&d):d<65536?(c[y++]=224|d>>>12,c[y++]=128|d>>>6&63,c[y++]=128|63&d):(c[y++]=240|d>>>18,c[y++]=128|d>>>12&63,c[y++]=128|d>>>6&63,c[y++]=128|63&d);return c}(f)},i.utf8decode=function(f){return o.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(u){var c,d,_,g,y=u.length,b=new Array(2*y);for(d=0,c=0;c<y;)if((_=u[c++])<128)b[d++]=_;else if((g=p[_])>4)b[d++]=65533,c+=g-1;else{for(_&=g===2?31:g===3?15:7;g>1&&c<y;)_=_<<6|63&u[c++],g--;g>1?b[d++]=65533:_<65536?b[d++]=_:(_-=65536,b[d++]=55296|_>>10&1023,b[d++]=56320|1023&_)}return b.length!==d&&(b.subarray?b=b.subarray(0,d):b.length=d),a.applyFromCharCode(b)}(f=a.transformTo(o.uint8array?"uint8array":"array",f))},a.inherits(m,l),m.prototype.processChunk=function(f){var u=a.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var c=u;(u=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),u.set(c,this.leftOver.length)}else u=this.leftOver.concat(u);this.leftOver=null}var d=function(g,y){var b;for((y=y||g.length)>g.length&&(y=g.length),b=y-1;b>=0&&(192&g[b])==128;)b--;return b<0||b===0?y:b+p[g[b]]>y?b:y}(u),_=u;d!==u.length&&(o.uint8array?(_=u.subarray(0,d),this.leftOver=u.subarray(d,u.length)):(_=u.slice(0,d),this.leftOver=u.slice(d,u.length))),this.push({data:i.utf8decode(_),meta:f.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(v,l),v.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":403,"./stream/GenericWorker":417,"./support":419,"./utils":421}],421:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("set-immediate-shim"),p=r("./external");function h(d){return d}function m(d,_){for(var g=0;g<d.length;++g)_[g]=255&d.charCodeAt(g);return _}i.newBlob=function(d,_){i.checkSupport("blob");try{return new Blob([d],{type:_})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(d),g.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(d,_,g){var y=[],b=0,C=d.length;if(C<=g)return String.fromCharCode.apply(null,d);for(;b<C;)_==="array"||_==="nodebuffer"?y.push(String.fromCharCode.apply(null,d.slice(b,Math.min(b+g,C)))):y.push(String.fromCharCode.apply(null,d.subarray(b,Math.min(b+g,C)))),b+=g;return y.join("")},stringifyByChar:function(d){for(var _="",g=0;g<d.length;g++)_+=String.fromCharCode(d[g]);return _},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function f(d){var _=65536,g=i.getTypeOf(d),y=!0;if(g==="uint8array"?y=v.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=v.applyCanBeUsed.nodebuffer),y)for(;_>1;)try{return v.stringifyByChunk(d,g,_)}catch{_=Math.floor(_/2)}return v.stringifyByChar(d)}function u(d,_){for(var g=0;g<d.length;g++)_[g]=d[g];return _}i.applyFromCharCode=f;var c={};c.string={string:h,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return c.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,s.allocBuffer(d.length))}},c.array={string:f,array:h,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(d)}},c.arraybuffer={string:function(d){return f(new Uint8Array(d))},array:function(d){return u(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:h,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(new Uint8Array(d))}},c.uint8array={string:f,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:h,nodebuffer:function(d){return s.newBufferFrom(d)}},c.nodebuffer={string:f,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return c.nodebuffer.uint8array(d).buffer},uint8array:function(d){return u(d,new Uint8Array(d.length))},nodebuffer:h},i.transformTo=function(d,_){if(_||(_=""),!d)return _;i.checkSupport(d);var g=i.getTypeOf(_);return c[g][d](_)},i.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(d)?"nodebuffer":a.uint8array&&d instanceof Uint8Array?"uint8array":a.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(d){if(!a[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(d){var _,g,y="";for(g=0;g<(d||"").length;g++)y+="\\x"+((_=d.charCodeAt(g))<16?"0":"")+_.toString(16).toUpperCase();return y},i.delay=function(d,_,g){l(function(){d.apply(g||null,_||[])})},i.inherits=function(d,_){var g=function(){};g.prototype=_.prototype,d.prototype=new g},i.extend=function(){var d,_,g={};for(d=0;d<arguments.length;d++)for(_ in arguments[d])arguments[d].hasOwnProperty(_)&&g[_]===void 0&&(g[_]=arguments[d][_]);return g},i.prepareContent=function(d,_,g,y,b){return p.Promise.resolve(_).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new p.Promise(function(w,x){var A=new FileReader;A.onload=function(D){w(D.target.result)},A.onerror=function(D){x(D.target.error)},A.readAsArrayBuffer(C)}):C}).then(function(C){var w,x=i.getTypeOf(C);return x?(x==="arraybuffer"?C=i.transformTo("uint8array",C):x==="string"&&(b?C=o.decode(C):g&&y!==!0&&(C=m(w=C,a.uint8array?new Uint8Array(w.length):new Array(w.length)))),C):p.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":390,"./external":395,"./nodejsUtils":403,"./support":419,"set-immediate-shim":497}],422:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),p=(r("./utf8"),r("./support"));function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(m)+")")}},isSignature:function(m,v){var f=this.reader.index;this.reader.setIndex(m);var u=this.reader.readString(4)===v;return this.reader.setIndex(f),u},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=p.uint8array?"uint8array":"array",f=o.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,f,u=this.zip64EndOfCentralSize-44;0<u;)m=this.reader.readInt(2),v=this.reader.readInt(4),f=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var u=v-f;if(u>0)this.isSignature(v,s.CENTRAL_FILE_HEADER)||(this.reader.zero=u);else if(u<0)throw new Error("Corrupted zip: missing "+Math.abs(u)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":411,"./signature":412,"./support":419,"./utf8":420,"./utils":421,"./zipEntry":423}],423:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),p=r("./utf8"),h=r("./compressions"),m=r("./support");function v(f,u){this.options=f,this.loadOptions=u}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var u,c;if(f.skip(22),this.fileNameLength=f.readInt(2),c=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((u=function(d){for(var _ in h)if(h.hasOwnProperty(_)&&h[_].magic===d)return h[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,u,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var u=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(u),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f===0&&(this.dosPermissions=63&this.externalFileAttributes),f===3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(f){if(this.extraFields[1]){var u=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(f){var u,c,d,_=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<_;)u=f.readInt(2),c=f.readInt(2),d=f.readData(c),this.extraFields[u]={id:u,length:c,value:d};f.setIndex(_)},handleUTF8:function(){var f=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var u=this.findExtraFieldUnicodePath();if(u!==null)this.fileNameStr=u;else{var c=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(d!==null)this.fileCommentStr=d;else{var _=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var u=a(f.value);return u.readInt(1)!==1||l(this.fileName)!==u.readInt(4)?null:p.utf8decode(u.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var u=a(f.value);return u.readInt(1)!==1||l(this.fileComment)!==u.readInt(4)?null:p.utf8decode(u.readData(f.length-5))}return null}},n.exports=v},{"./compressedObject":391,"./compressions":392,"./crc32":393,"./reader/readerFor":411,"./support":419,"./utf8":420,"./utils":421}],424:[function(r,n,i){var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),s=r("./utf8"),l=r("./compressedObject"),p=r("./stream/GenericWorker"),h=function(u,c,d){this.name=u,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=c,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}};h.prototype={internalStream:function(u){var c=null,d="string";try{if(!u)throw new Error("No output type specified.");var _=(d=u.toLowerCase())==="string"||d==="text";d!=="binarystring"&&d!=="text"||(d="string"),c=this._decompressWorker();var g=!this._dataBinary;g&&!_&&(c=c.pipe(new s.Utf8EncodeWorker)),!g&&_&&(c=c.pipe(new s.Utf8DecodeWorker))}catch(y){(c=new p("error")).error(y)}return new a(c,d,"")},async:function(u,c){return this.internalStream(u).accumulate(c)},nodeStream:function(u,c){return this.internalStream(u||"nodebuffer").toNodejsStream(c)},_compressWorker:function(u,c){if(this._data instanceof l&&this._data.compression.magic===u.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new s.Utf8EncodeWorker)),l.createWorkerFrom(d,u,c)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<m.length;f++)h.prototype[m[f]]=v;n.exports=h},{"./compressedObject":391,"./stream/DataWorker":416,"./stream/GenericWorker":417,"./stream/StreamHelper":418,"./utf8":420}],425:[function(r,n,i){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}var o=r("immediate");function s(){}var l={},p=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function v(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,g!==s&&d(this,g)}function f(g,y,b){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function u(g,y,b){o(function(){var C;try{C=y(b)}catch(w){return l.reject(g,w)}C===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,C)})}function c(g){var y=g&&g.then;if(g&&(a(g)==="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function d(g,y){var b=!1;function C(A){b||(b=!0,l.reject(g,A))}function w(A){b||(b=!0,l.resolve(g,A))}var x=_(function(){y(w,C)});x.status==="error"&&C(x.value)}function _(g,y){var b={};try{b.value=g(y),b.status="success"}catch(C){b.status="error",b.value=C}return b}n.exports=v,v.prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(g()).then(function(){return b})},function(b){return y.resolve(g()).then(function(){throw b})})},v.prototype.catch=function(g){return this.then(null,g)},v.prototype.then=function(g,y){if(typeof g!="function"&&this.state===h||typeof y!="function"&&this.state===p)return this;var b=new this.constructor(s);return this.state!==m?u(b,this.state===h?g:y,this.outcome):this.queue.push(new f(b,g,y)),b},f.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){u(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){l.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){u(this.promise,this.onRejected,g)},l.resolve=function(g,y){var b=_(c,y);if(b.status==="error")return l.reject(g,b.value);var C=b.value;if(C)d(g,C);else{g.state=h,g.outcome=y;for(var w=-1,x=g.queue.length;++w<x;)g.queue[w].callFulfilled(y)}return g},l.reject=function(g,y){g.state=p,g.outcome=y;for(var b=-1,C=g.queue.length;++b<C;)g.queue[b].callRejected(y);return g},v.resolve=function(g){return g instanceof this?g:l.resolve(new this(s),g)},v.reject=function(g){var y=new this(s);return l.reject(y,g)},v.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,C=!1;if(!b)return this.resolve([]);for(var w=new Array(b),x=0,A=-1,D=new this(s);++A<b;)P(g[A],A);return D;function P(k,B){y.resolve(k).then(function(E){w[B]=E,++x!==b||C||(C=!0,l.resolve(D,w))},function(E){C||(C=!0,l.reject(D,E))})}},v.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,C=!1;if(!b)return this.resolve([]);for(var w=-1,x=new this(s);++w<b;)A=g[w],y.resolve(A).then(function(D){C||(C=!0,l.resolve(x,D))},function(D){C||(C=!0,l.reject(x,D))});var A;return x}},{immediate:386}],426:[function(r,n,i){(function(a){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}var s=/[\\^$.*+?()[\]{}|]/g,l=RegExp(s.source),p=(a===void 0?"undefined":o(a))=="object"&&a&&a.Object===Object&&a,h=(typeof self>"u"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,m=p||h||Function("return this")(),v=Object.prototype.toString,f=m.Symbol,u=f?f.prototype:void 0,c=u?u.toString:void 0;function d(_){if(typeof _=="string")return _;if(function(y){return o(y)=="symbol"||function(b){return!!b&&o(b)=="object"}(y)&&v.call(y)=="[object Symbol]"}(_))return c?c.call(_):"";var g=_+"";return g=="0"&&1/_==-1/0?"-0":g}n.exports=function(_){var g;return(_=(g=_)==null?"":d(g))&&l.test(_)?_.replace(s,"\\$&"):_}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],427:[function(r,n,i){(function(a){function o(ne){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(ne)}var s="[object Arguments]",l="[object Map]",p="[object Object]",h="[object Set]",m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/,f=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[l]=g["[object Number]"]=g[p]=g["[object RegExp]"]=g[h]=g["[object String]"]=g["[object WeakMap]"]=!1;var y=(a===void 0?"undefined":o(a))=="object"&&a&&a.Object===Object&&a,b=(typeof self>"u"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,C=y||b||Function("return this")(),w=(i===void 0?"undefined":o(i))=="object"&&i&&!i.nodeType&&i,x=w&&(n===void 0?"undefined":o(n))=="object"&&n&&!n.nodeType&&n,A=x&&x.exports===w&&y.process,D=function(){try{return A&&A.binding("util")}catch{}}(),P=D&&D.isTypedArray;function k(ne,_e,Re,Fe){for(var ct=-1,ze=ne?ne.length:0;++ct<ze;){var Xe=ne[ct];_e(Fe,Xe,Re(Xe),ne)}return Fe}function B(ne,_e){for(var Re=-1,Fe=ne?ne.length:0;++Re<Fe;)if(_e(ne[Re],Re,ne))return!0;return!1}function E(ne){var _e=!1;if(ne!=null&&typeof ne.toString!="function")try{_e=!!(ne+"")}catch{}return _e}function O(ne){var _e=-1,Re=Array(ne.size);return ne.forEach(function(Fe,ct){Re[++_e]=[ct,Fe]}),Re}function S(ne){var _e=-1,Re=Array(ne.size);return ne.forEach(function(Fe){Re[++_e]=Fe}),Re}var R,T,I,M=Array.prototype,N=Function.prototype,j=Object.prototype,H=C["__core-js_shared__"],U=(R=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",W=N.toString,G=j.hasOwnProperty,K=j.toString,Q=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=C.Symbol,L=C.Uint8Array,F=j.propertyIsEnumerable,z=M.splice,Z=(T=Object.keys,I=Object,function(ne){return T(I(ne))}),J=tr(C,"DataView"),ee=tr(C,"Map"),pe=tr(C,"Promise"),le=tr(C,"Set"),ye=tr(C,"WeakMap"),ke=tr(Object,"create"),be=ce(J),Je=ce(ee),je=ce(pe),Be=ce(le),$e=ce(ye),nt=$?$.prototype:void 0,Se=nt?nt.valueOf:void 0,re=nt?nt.toString:void 0;function ue(ne){var _e=-1,Re=ne?ne.length:0;for(this.clear();++_e<Re;){var Fe=ne[_e];this.set(Fe[0],Fe[1])}}function se(ne){var _e=-1,Re=ne?ne.length:0;for(this.clear();++_e<Re;){var Fe=ne[_e];this.set(Fe[0],Fe[1])}}function me(ne){var _e=-1,Re=ne?ne.length:0;for(this.clear();++_e<Re;){var Fe=ne[_e];this.set(Fe[0],Fe[1])}}function fe(ne){var _e=-1,Re=ne?ne.length:0;for(this.__data__=new me;++_e<Re;)this.add(ne[_e])}function ge(ne){this.__data__=new se(ne)}function de(ne,_e){var Re=at(ne)||St(ne)?function(Xe,Vt){for(var Nt=-1,Lt=Array(Xe);++Nt<Xe;)Lt[Nt]=Vt(Nt);return Lt}(ne.length,String):[],Fe=Re.length,ct=!!Fe;for(var ze in ne)!_e&&!G.call(ne,ze)||ct&&(ze=="length"||Ot(ze,Fe))||Re.push(ze);return Re}function Oe(ne,_e){for(var Re=ne.length;Re--;)if(ut(ne[Re][0],_e))return Re;return-1}function Ie(ne,_e,Re,Fe){return Ke(ne,function(ct,ze,Xe){_e(Fe,ct,Re(ct),Xe)}),Fe}ue.prototype.clear=function(){this.__data__=ke?ke(null):{}},ue.prototype.delete=function(ne){return this.has(ne)&&delete this.__data__[ne]},ue.prototype.get=function(ne){var _e=this.__data__;if(ke){var Re=_e[ne];return Re==="__lodash_hash_undefined__"?void 0:Re}return G.call(_e,ne)?_e[ne]:void 0},ue.prototype.has=function(ne){var _e=this.__data__;return ke?_e[ne]!==void 0:G.call(_e,ne)},ue.prototype.set=function(ne,_e){return this.__data__[ne]=ke&&_e===void 0?"__lodash_hash_undefined__":_e,this},se.prototype.clear=function(){this.__data__=[]},se.prototype.delete=function(ne){var _e=this.__data__,Re=Oe(_e,ne);return!(Re<0)&&(Re==_e.length-1?_e.pop():z.call(_e,Re,1),!0)},se.prototype.get=function(ne){var _e=this.__data__,Re=Oe(_e,ne);return Re<0?void 0:_e[Re][1]},se.prototype.has=function(ne){return Oe(this.__data__,ne)>-1},se.prototype.set=function(ne,_e){var Re=this.__data__,Fe=Oe(Re,ne);return Fe<0?Re.push([ne,_e]):Re[Fe][1]=_e,this},me.prototype.clear=function(){this.__data__={hash:new ue,map:new(ee||se),string:new ue}},me.prototype.delete=function(ne){return wt(this,ne).delete(ne)},me.prototype.get=function(ne){return wt(this,ne).get(ne)},me.prototype.has=function(ne){return wt(this,ne).has(ne)},me.prototype.set=function(ne,_e){return wt(this,ne).set(ne,_e),this},fe.prototype.add=fe.prototype.push=function(ne){return this.__data__.set(ne,"__lodash_hash_undefined__"),this},fe.prototype.has=function(ne){return this.__data__.has(ne)},ge.prototype.clear=function(){this.__data__=new se},ge.prototype.delete=function(ne){return this.__data__.delete(ne)},ge.prototype.get=function(ne){return this.__data__.get(ne)},ge.prototype.has=function(ne){return this.__data__.has(ne)},ge.prototype.set=function(ne,_e){var Re=this.__data__;if(Re instanceof se){var Fe=Re.__data__;if(!ee||Fe.length<199)return Fe.push([ne,_e]),this;Re=this.__data__=new me(Fe)}return Re.set(ne,_e),this};var Ae,Ke=(Ae=function(ne,_e){return ne&&Le(ne,_e,an)},function(ne,_e){if(ne==null)return ne;if(!$t(ne))return Ae(ne,_e);for(var Re=ne.length,Fe=-1,ct=Object(ne);++Fe<Re&&_e(ct[Fe],Fe,ct)!==!1;);return ne}),Le=function(ne){return function(_e,Re,Fe){for(var ct=-1,ze=Object(_e),Xe=Fe(_e),Vt=Xe.length;Vt--;){var Nt=Xe[ne?Vt:++ct];if(Re(ze[Nt],Nt,ze)===!1)break}return _e}}();function bt(ne,_e){for(var Re=0,Fe=(_e=lr(_e,ne)?[_e]:It(_e)).length;ne!=null&&Re<Fe;)ne=ne[ie(_e[Re++])];return Re&&Re==Fe?ne:void 0}function dt(ne,_e){return ne!=null&&_e in Object(ne)}function Ct(ne,_e,Re,Fe,ct){return ne===_e||(ne==null||_e==null||!Fr(ne)&&!zr(_e)?ne!=ne&&_e!=_e:function(ze,Xe,Vt,Nt,Lt,gt){var Sr=at(ze),Or=at(Xe),dr="[object Array]",Rr="[object Array]";Sr||(dr=(dr=Qt(ze))==s?p:dr),Or||(Rr=(Rr=Qt(Xe))==s?p:Rr);var Qr=dr==p&&!E(ze),kn=Rr==p&&!E(Xe),Xi=dr==Rr;if(Xi&&!Qr)return gt||(gt=new ge),Sr||nn(ze)?De(ze,Xe,Vt,Nt,Lt,gt):function(hr,rr,Ro,Ps,Rf,fi,Ua){switch(Ro){case"[object DataView]":if(hr.byteLength!=rr.byteLength||hr.byteOffset!=rr.byteOffset)return!1;hr=hr.buffer,rr=rr.buffer;case"[object ArrayBuffer]":return!(hr.byteLength!=rr.byteLength||!Ps(new L(hr),new L(rr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ut(+hr,+rr);case"[object Error]":return hr.name==rr.name&&hr.message==rr.message;case"[object RegExp]":case"[object String]":return hr==rr+"";case l:var Po=O;case h:var Dc=2&fi;if(Po||(Po=S),hr.size!=rr.size&&!Dc)return!1;var Pf=Ua.get(hr);if(Pf)return Pf==rr;fi|=1,Ua.set(hr,rr);var tu=De(Po(hr),Po(rr),Ps,Rf,fi,Ua);return Ua.delete(hr),tu;case"[object Symbol]":if(Se)return Se.call(hr)==Se.call(rr)}return!1}(ze,Xe,dr,Vt,Nt,Lt,gt);if(!(2&Lt)){var ga=Qr&&G.call(ze,"__wrapped__"),Ql=kn&&G.call(Xe,"__wrapped__");if(ga||Ql){var Jl=ga?ze.value():ze,eu=Ql?Xe.value():Xe;return gt||(gt=new ge),Vt(Jl,eu,Nt,Lt,gt)}}return Xi?(gt||(gt=new ge),function(hr,rr,Ro,Ps,Rf,fi){var Ua=2&Rf,Po=an(hr),Dc=Po.length,Pf=an(rr).length;if(Dc!=Pf&&!Ua)return!1;for(var tu=Dc;tu--;){var Mo=Po[tu];if(!(Ua?Mo in rr:G.call(rr,Mo)))return!1}var QS=fi.get(hr);if(QS&&fi.get(rr))return QS==rr;var Mf=!0;fi.set(hr,rr),fi.set(rr,hr);for(var v_=Ua;++tu<Dc;){Mo=Po[tu];var Bf=hr[Mo],Lf=rr[Mo];if(Ps)var JS=Ua?Ps(Lf,Bf,Mo,rr,hr,fi):Ps(Bf,Lf,Mo,hr,rr,fi);if(!(JS===void 0?Bf===Lf||Ro(Bf,Lf,Ps,Rf,fi):JS)){Mf=!1;break}v_||(v_=Mo=="constructor")}if(Mf&&!v_){var Ff=hr.constructor,Nf=rr.constructor;Ff==Nf||!("constructor"in hr)||!("constructor"in rr)||typeof Ff=="function"&&Ff instanceof Ff&&typeof Nf=="function"&&Nf instanceof Nf||(Mf=!1)}return fi.delete(hr),fi.delete(rr),Mf}(ze,Xe,Vt,Nt,Lt,gt)):!1}(ne,_e,Ct,Re,Fe,ct))}function zt(ne){return!(!Fr(ne)||function(_e){return!!U&&U in _e}(ne))&&(At(ne)||E(ne)?Q:d).test(ce(ne))}function cr(ne){return typeof ne=="function"?ne:ne==null?Zn:o(ne)=="object"?at(ne)?function(Fe,ct){return lr(Fe)&&or(ct)?kt(ie(Fe),ct):function(ze){var Xe=function(Vt,Nt,Lt){var gt=Vt==null?void 0:bt(Vt,Nt);return gt===void 0?Lt:gt}(ze,Fe);return Xe===void 0&&Xe===ct?function(Vt,Nt){return Vt!=null&&function(Lt,gt,Sr){gt=lr(gt,Lt)?[gt]:It(gt);for(var Or,dr=-1,Rr=gt.length;++dr<Rr;){var Qr=ie(gt[dr]);if(!(Or=Lt!=null&&Sr(Lt,Qr)))break;Lt=Lt[Qr]}return Or||!!(Rr=Lt?Lt.length:0)&&Tt(Rr)&&Ot(Qr,Rr)&&(at(Lt)||St(Lt))}(Vt,Nt,dt)}(ze,Fe):Ct(ct,Xe,void 0,3)}}(ne[0],ne[1]):function(Fe){var ct=function(ze){for(var Xe=an(ze),Vt=Xe.length;Vt--;){var Nt=Xe[Vt],Lt=ze[Nt];Xe[Vt]=[Nt,Lt,or(Lt)]}return Xe}(Fe);return ct.length==1&&ct[0][2]?kt(ct[0][0],ct[0][1]):function(ze){return ze===Fe||function(Xe,Vt,Nt,Lt){var gt=Nt.length,Sr=gt,Or=!Lt;if(Xe==null)return!Sr;for(Xe=Object(Xe);gt--;){var dr=Nt[gt];if(Or&&dr[2]?dr[1]!==Xe[dr[0]]:!(dr[0]in Xe))return!1}for(;++gt<Sr;){var Rr=(dr=Nt[gt])[0],Qr=Xe[Rr],kn=dr[1];if(Or&&dr[2]){if(Qr===void 0&&!(Rr in Xe))return!1}else{var Xi=new ge;if(Lt)var ga=Lt(Qr,kn,Rr,Xe,Vt,Xi);if(!(ga===void 0?Ct(kn,Qr,Lt,3,Xi):ga))return!1}}return!0}(ze,Fe,ct)}}(ne):lr(_e=ne)?(Re=ie(_e),function(Fe){return Fe==null?void 0:Fe[Re]}):function(Fe){return function(ct){return bt(ct,Fe)}}(_e);var _e,Re}function mt(ne){if(Re=(_e=ne)&&_e.constructor,Fe=typeof Re=="function"&&Re.prototype||j,_e!==Fe)return Z(ne);var _e,Re,Fe,ct=[];for(var ze in Object(ne))G.call(ne,ze)&&ze!="constructor"&&ct.push(ze);return ct}function It(ne){return at(ne)?ne:wr(ne)}function De(ne,_e,Re,Fe,ct,ze){var Xe=2&ct,Vt=ne.length,Nt=_e.length;if(Vt!=Nt&&!(Xe&&Nt>Vt))return!1;var Lt=ze.get(ne);if(Lt&&ze.get(_e))return Lt==_e;var gt=-1,Sr=!0,Or=1&ct?new fe:void 0;for(ze.set(ne,_e),ze.set(_e,ne);++gt<Vt;){var dr=ne[gt],Rr=_e[gt];if(Fe)var Qr=Xe?Fe(Rr,dr,gt,_e,ne,ze):Fe(dr,Rr,gt,ne,_e,ze);if(Qr!==void 0){if(Qr)continue;Sr=!1;break}if(Or){if(!B(_e,function(kn,Xi){if(!Or.has(Xi)&&(dr===kn||Re(dr,kn,Fe,ct,ze)))return Or.add(Xi)})){Sr=!1;break}}else if(dr!==Rr&&!Re(dr,Rr,Fe,ct,ze)){Sr=!1;break}}return ze.delete(ne),ze.delete(_e),Sr}function wt(ne,_e){var Re,Fe,ct=ne.__data__;return((Fe=o(Re=_e))=="string"||Fe=="number"||Fe=="symbol"||Fe=="boolean"?Re!=="__proto__":Re===null)?ct[typeof _e=="string"?"string":"hash"]:ct.map}function tr(ne,_e){var Re=function(Fe,ct){return Fe==null?void 0:Fe[ct]}(ne,_e);return zt(Re)?Re:void 0}var Qt=function(ne){return K.call(ne)};function Ot(ne,_e){return!!(_e=_e??9007199254740991)&&(typeof ne=="number"||_.test(ne))&&ne>-1&&ne%1==0&&ne<_e}function lr(ne,_e){if(at(ne))return!1;var Re=o(ne);return!(Re!="number"&&Re!="symbol"&&Re!="boolean"&&ne!=null&&!xr(ne))||v.test(ne)||!m.test(ne)||_e!=null&&ne in Object(_e)}function or(ne){return ne==ne&&!Fr(ne)}function kt(ne,_e){return function(Re){return Re!=null&&Re[ne]===_e&&(_e!==void 0||ne in Object(Re))}}(J&&Qt(new J(new ArrayBuffer(1)))!="[object DataView]"||ee&&Qt(new ee)!=l||pe&&Qt(pe.resolve())!="[object Promise]"||le&&Qt(new le)!=h||ye&&Qt(new ye)!="[object WeakMap]")&&(Qt=function(ne){var _e=K.call(ne),Re=_e==p?ne.constructor:void 0,Fe=Re?ce(Re):void 0;if(Fe)switch(Fe){case be:return"[object DataView]";case Je:return l;case je:return"[object Promise]";case Be:return h;case $e:return"[object WeakMap]"}return _e});var wr=it(function(ne){var _e;ne=(_e=ne)==null?"":function(Fe){if(typeof Fe=="string")return Fe;if(xr(Fe))return re?re.call(Fe):"";var ct=Fe+"";return ct=="0"&&1/Fe==-1/0?"-0":ct}(_e);var Re=[];return f.test(ne)&&Re.push(""),ne.replace(u,function(Fe,ct,ze,Xe){Re.push(ze?Xe.replace(c,"$1"):ct||Fe)}),Re});function ie(ne){if(typeof ne=="string"||xr(ne))return ne;var _e=ne+"";return _e=="0"&&1/ne==-1/0?"-0":_e}function ce(ne){if(ne!=null){try{return W.call(ne)}catch{}try{return ne+""}catch{}}return""}var Pe,Ye=(Pe=function(ne,_e,Re){G.call(ne,Re)?ne[Re].push(_e):ne[Re]=[_e]},function(ne,_e){var Re=at(ne)?k:Ie,Fe={};return Re(ne,Pe,cr(_e),Fe)});function it(ne,_e){if(typeof ne!="function"||_e&&typeof _e!="function")throw new TypeError("Expected a function");var Re=function Fe(){var ct=arguments,ze=_e?_e.apply(this,ct):ct[0],Xe=Fe.cache;if(Xe.has(ze))return Xe.get(ze);var Vt=ne.apply(this,ct);return Fe.cache=Xe.set(ze,Vt),Vt};return Re.cache=new(it.Cache||me),Re}function ut(ne,_e){return ne===_e||ne!=ne&&_e!=_e}function St(ne){return function(_e){return zr(_e)&&$t(_e)}(ne)&&G.call(ne,"callee")&&(!F.call(ne,"callee")||K.call(ne)==s)}it.Cache=me;var at=Array.isArray;function $t(ne){return ne!=null&&Tt(ne.length)&&!At(ne)}function At(ne){var _e=Fr(ne)?K.call(ne):"";return _e=="[object Function]"||_e=="[object GeneratorFunction]"}function Tt(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=9007199254740991}function Fr(ne){var _e=o(ne);return!!ne&&(_e=="object"||_e=="function")}function zr(ne){return!!ne&&o(ne)=="object"}function xr(ne){return o(ne)=="symbol"||zr(ne)&&K.call(ne)=="[object Symbol]"}var nn=P?function(ne){return function(_e){return ne(_e)}}(P):function(ne){return zr(ne)&&Tt(ne.length)&&!!g[K.call(ne)]};function an(ne){return $t(ne)?de(ne):mt(ne)}function Zn(ne){return ne}n.exports=Ye}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],428:[function(r,n,i){function a(s){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}var o=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(l){return!!l&&a(l)=="object"}(s)&&o.call(s)=="[object Boolean]"}},{}],429:[function(r,n,i){(function(a){function o(ie){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(ie)}var s="[object Arguments]",l="[object Map]",p="[object Object]",h="[object Set]",m=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[s]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[l]=f["[object Number]"]=f[p]=f["[object RegExp]"]=f[h]=f["[object String]"]=f["[object WeakMap]"]=!1;var u=(a===void 0?"undefined":o(a))=="object"&&a&&a.Object===Object&&a,c=(typeof self>"u"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),_=(i===void 0?"undefined":o(i))=="object"&&i&&!i.nodeType&&i,g=_&&(n===void 0?"undefined":o(n))=="object"&&n&&!n.nodeType&&n,y=g&&g.exports===_,b=y&&u.process,C=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),w=C&&C.isTypedArray;function x(ie,ce){for(var Pe=-1,Ye=ie==null?0:ie.length;++Pe<Ye;)if(ce(ie[Pe],Pe,ie))return!0;return!1}function A(ie){var ce=-1,Pe=Array(ie.size);return ie.forEach(function(Ye,it){Pe[++ce]=[it,Ye]}),Pe}function D(ie){var ce=-1,Pe=Array(ie.size);return ie.forEach(function(Ye){Pe[++ce]=Ye}),Pe}var P,k,B,E=Array.prototype,O=Function.prototype,S=Object.prototype,R=d["__core-js_shared__"],T=O.toString,I=S.hasOwnProperty,M=(P=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",N=S.toString,j=RegExp("^"+T.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=y?d.Buffer:void 0,U=d.Symbol,W=d.Uint8Array,G=S.propertyIsEnumerable,K=E.splice,Q=U?U.toStringTag:void 0,$=Object.getOwnPropertySymbols,L=H?H.isBuffer:void 0,F=(k=Object.keys,B=Object,function(ie){return k(B(ie))}),z=dt(d,"DataView"),Z=dt(d,"Map"),J=dt(d,"Promise"),ee=dt(d,"Set"),pe=dt(d,"WeakMap"),le=dt(Object,"create"),ye=mt(z),ke=mt(Z),be=mt(J),Je=mt(ee),je=mt(pe),Be=U?U.prototype:void 0,$e=Be?Be.valueOf:void 0;function nt(ie){var ce=-1,Pe=ie==null?0:ie.length;for(this.clear();++ce<Pe;){var Ye=ie[ce];this.set(Ye[0],Ye[1])}}function Se(ie){var ce=-1,Pe=ie==null?0:ie.length;for(this.clear();++ce<Pe;){var Ye=ie[ce];this.set(Ye[0],Ye[1])}}function re(ie){var ce=-1,Pe=ie==null?0:ie.length;for(this.clear();++ce<Pe;){var Ye=ie[ce];this.set(Ye[0],Ye[1])}}function ue(ie){var ce=-1,Pe=ie==null?0:ie.length;for(this.__data__=new re;++ce<Pe;)this.add(ie[ce])}function se(ie){var ce=this.__data__=new Se(ie);this.size=ce.size}function me(ie,ce){var Pe=wt(ie),Ye=!Pe&&De(ie),it=!Pe&&!Ye&&tr(ie),ut=!Pe&&!Ye&&!it&&kt(ie),St=Pe||Ye||it||ut,at=St?function(Tt,Fr){for(var zr=-1,xr=Array(Tt);++zr<Tt;)xr[zr]=Fr(zr);return xr}(ie.length,String):[],$t=at.length;for(var At in ie)!ce&&!I.call(ie,At)||St&&(At=="length"||it&&(At=="offset"||At=="parent")||ut&&(At=="buffer"||At=="byteLength"||At=="byteOffset")||cr(At,$t))||at.push(At);return at}function fe(ie,ce){for(var Pe=ie.length;Pe--;)if(It(ie[Pe][0],ce))return Pe;return-1}function ge(ie){return ie==null?ie===void 0?"[object Undefined]":"[object Null]":Q&&Q in Object(ie)?function(ce){var Pe=I.call(ce,Q),Ye=ce[Q];try{ce[Q]=void 0;var it=!0}catch{}var ut=N.call(ce);return it&&(Pe?ce[Q]=Ye:delete ce[Q]),ut}(ie):function(ce){return N.call(ce)}(ie)}function de(ie){return or(ie)&&ge(ie)==s}function Oe(ie,ce,Pe,Ye,it){return ie===ce||(ie==null||ce==null||!or(ie)&&!or(ce)?ie!=ie&&ce!=ce:function(ut,St,at,$t,At,Tt){var Fr=wt(ut),zr=wt(St),xr=Fr?"[object Array]":zt(ut),nn=zr?"[object Array]":zt(St),an=(xr=xr==s?p:xr)==p,Zn=(nn=nn==s?p:nn)==p,ne=xr==nn;if(ne&&tr(ut)){if(!tr(St))return!1;Fr=!0,an=!1}if(ne&&!an)return Tt||(Tt=new se),Fr||kt(ut)?Ke(ut,St,at,$t,At,Tt):function(ze,Xe,Vt,Nt,Lt,gt,Sr){switch(Vt){case"[object DataView]":if(ze.byteLength!=Xe.byteLength||ze.byteOffset!=Xe.byteOffset)return!1;ze=ze.buffer,Xe=Xe.buffer;case"[object ArrayBuffer]":return!(ze.byteLength!=Xe.byteLength||!gt(new W(ze),new W(Xe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+ze,+Xe);case"[object Error]":return ze.name==Xe.name&&ze.message==Xe.message;case"[object RegExp]":case"[object String]":return ze==Xe+"";case l:var Or=A;case h:var dr=1&Nt;if(Or||(Or=D),ze.size!=Xe.size&&!dr)return!1;var Rr=Sr.get(ze);if(Rr)return Rr==Xe;Nt|=2,Sr.set(ze,Xe);var Qr=Ke(Or(ze),Or(Xe),Nt,Lt,gt,Sr);return Sr.delete(ze),Qr;case"[object Symbol]":if($e)return $e.call(ze)==$e.call(Xe)}return!1}(ut,St,xr,at,$t,At,Tt);if(!(1&at)){var _e=an&&I.call(ut,"__wrapped__"),Re=Zn&&I.call(St,"__wrapped__");if(_e||Re){var Fe=_e?ut.value():ut,ct=Re?St.value():St;return Tt||(Tt=new se),At(Fe,ct,at,$t,Tt)}}return ne?(Tt||(Tt=new se),function(ze,Xe,Vt,Nt,Lt,gt){var Sr=1&Vt,Or=Le(ze),dr=Or.length,Rr=Le(Xe).length;if(dr!=Rr&&!Sr)return!1;for(var Qr=dr;Qr--;){var kn=Or[Qr];if(!(Sr?kn in Xe:I.call(Xe,kn)))return!1}var Xi=gt.get(ze);if(Xi&&gt.get(Xe))return Xi==Xe;var ga=!0;gt.set(ze,Xe),gt.set(Xe,ze);for(var Ql=Sr;++Qr<dr;){kn=Or[Qr];var Jl=ze[kn],eu=Xe[kn];if(Nt)var hr=Sr?Nt(eu,Jl,kn,Xe,ze,gt):Nt(Jl,eu,kn,ze,Xe,gt);if(!(hr===void 0?Jl===eu||Lt(Jl,eu,Vt,Nt,gt):hr)){ga=!1;break}Ql||(Ql=kn=="constructor")}if(ga&&!Ql){var rr=ze.constructor,Ro=Xe.constructor;rr==Ro||!("constructor"in ze)||!("constructor"in Xe)||typeof rr=="function"&&rr instanceof rr&&typeof Ro=="function"&&Ro instanceof Ro||(ga=!1)}return gt.delete(ze),gt.delete(Xe),ga}(ut,St,at,$t,At,Tt)):!1}(ie,ce,Pe,Ye,Oe,it))}function Ie(ie){return!(!lr(ie)||function(ce){return!!M&&M in ce}(ie))&&(Qt(ie)?j:m).test(mt(ie))}function Ae(ie){if(Pe=(ce=ie)&&ce.constructor,Ye=typeof Pe=="function"&&Pe.prototype||S,ce!==Ye)return F(ie);var ce,Pe,Ye,it=[];for(var ut in Object(ie))I.call(ie,ut)&&ut!="constructor"&&it.push(ut);return it}function Ke(ie,ce,Pe,Ye,it,ut){var St=1&Pe,at=ie.length,$t=ce.length;if(at!=$t&&!(St&&$t>at))return!1;var At=ut.get(ie);if(At&&ut.get(ce))return At==ce;var Tt=-1,Fr=!0,zr=2&Pe?new ue:void 0;for(ut.set(ie,ce),ut.set(ce,ie);++Tt<at;){var xr=ie[Tt],nn=ce[Tt];if(Ye)var an=St?Ye(nn,xr,Tt,ce,ie,ut):Ye(xr,nn,Tt,ie,ce,ut);if(an!==void 0){if(an)continue;Fr=!1;break}if(zr){if(!x(ce,function(Zn,ne){if(_e=ne,!zr.has(_e)&&(xr===Zn||it(xr,Zn,Pe,Ye,ut)))return zr.push(ne);var _e})){Fr=!1;break}}else if(xr!==nn&&!it(xr,nn,Pe,Ye,ut)){Fr=!1;break}}return ut.delete(ie),ut.delete(ce),Fr}function Le(ie){return function(ce,Pe,Ye){var it=Pe(ce);return wt(ce)?it:function(ut,St){for(var at=-1,$t=St.length,At=ut.length;++at<$t;)ut[At+at]=St[at];return ut}(it,Ye(ce))}(ie,wr,Ct)}function bt(ie,ce){var Pe,Ye,it=ie.__data__;return((Ye=o(Pe=ce))=="string"||Ye=="number"||Ye=="symbol"||Ye=="boolean"?Pe!=="__proto__":Pe===null)?it[typeof ce=="string"?"string":"hash"]:it.map}function dt(ie,ce){var Pe=function(Ye,it){return Ye==null?void 0:Ye[it]}(ie,ce);return Ie(Pe)?Pe:void 0}nt.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},nt.prototype.delete=function(ie){var ce=this.has(ie)&&delete this.__data__[ie];return this.size-=ce?1:0,ce},nt.prototype.get=function(ie){var ce=this.__data__;if(le){var Pe=ce[ie];return Pe==="__lodash_hash_undefined__"?void 0:Pe}return I.call(ce,ie)?ce[ie]:void 0},nt.prototype.has=function(ie){var ce=this.__data__;return le?ce[ie]!==void 0:I.call(ce,ie)},nt.prototype.set=function(ie,ce){var Pe=this.__data__;return this.size+=this.has(ie)?0:1,Pe[ie]=le&&ce===void 0?"__lodash_hash_undefined__":ce,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(ie){var ce=this.__data__,Pe=fe(ce,ie);return!(Pe<0)&&(Pe==ce.length-1?ce.pop():K.call(ce,Pe,1),--this.size,!0)},Se.prototype.get=function(ie){var ce=this.__data__,Pe=fe(ce,ie);return Pe<0?void 0:ce[Pe][1]},Se.prototype.has=function(ie){return fe(this.__data__,ie)>-1},Se.prototype.set=function(ie,ce){var Pe=this.__data__,Ye=fe(Pe,ie);return Ye<0?(++this.size,Pe.push([ie,ce])):Pe[Ye][1]=ce,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(Z||Se),string:new nt}},re.prototype.delete=function(ie){var ce=bt(this,ie).delete(ie);return this.size-=ce?1:0,ce},re.prototype.get=function(ie){return bt(this,ie).get(ie)},re.prototype.has=function(ie){return bt(this,ie).has(ie)},re.prototype.set=function(ie,ce){var Pe=bt(this,ie),Ye=Pe.size;return Pe.set(ie,ce),this.size+=Pe.size==Ye?0:1,this},ue.prototype.add=ue.prototype.push=function(ie){return this.__data__.set(ie,"__lodash_hash_undefined__"),this},ue.prototype.has=function(ie){return this.__data__.has(ie)},se.prototype.clear=function(){this.__data__=new Se,this.size=0},se.prototype.delete=function(ie){var ce=this.__data__,Pe=ce.delete(ie);return this.size=ce.size,Pe},se.prototype.get=function(ie){return this.__data__.get(ie)},se.prototype.has=function(ie){return this.__data__.has(ie)},se.prototype.set=function(ie,ce){var Pe=this.__data__;if(Pe instanceof Se){var Ye=Pe.__data__;if(!Z||Ye.length<199)return Ye.push([ie,ce]),this.size=++Pe.size,this;Pe=this.__data__=new re(Ye)}return Pe.set(ie,ce),this.size=Pe.size,this};var Ct=$?function(ie){return ie==null?[]:(ie=Object(ie),function(ce,Pe){for(var Ye=-1,it=ce==null?0:ce.length,ut=0,St=[];++Ye<it;){var at=ce[Ye];Pe(at,Ye,ce)&&(St[ut++]=at)}return St}($(ie),function(ce){return G.call(ie,ce)}))}:function(){return[]},zt=ge;function cr(ie,ce){return!!(ce=ce??9007199254740991)&&(typeof ie=="number"||v.test(ie))&&ie>-1&&ie%1==0&&ie<ce}function mt(ie){if(ie!=null){try{return T.call(ie)}catch{}try{return ie+""}catch{}}return""}function It(ie,ce){return ie===ce||ie!=ie&&ce!=ce}(z&&zt(new z(new ArrayBuffer(1)))!="[object DataView]"||Z&&zt(new Z)!=l||J&&zt(J.resolve())!="[object Promise]"||ee&&zt(new ee)!=h||pe&&zt(new pe)!="[object WeakMap]")&&(zt=function(ie){var ce=ge(ie),Pe=ce==p?ie.constructor:void 0,Ye=Pe?mt(Pe):"";if(Ye)switch(Ye){case ye:return"[object DataView]";case ke:return l;case be:return"[object Promise]";case Je:return h;case je:return"[object WeakMap]"}return ce});var De=de(function(){return arguments}())?de:function(ie){return or(ie)&&I.call(ie,"callee")&&!G.call(ie,"callee")},wt=Array.isArray,tr=L||function(){return!1};function Qt(ie){if(!lr(ie))return!1;var ce=ge(ie);return ce=="[object Function]"||ce=="[object GeneratorFunction]"||ce=="[object AsyncFunction]"||ce=="[object Proxy]"}function Ot(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=9007199254740991}function lr(ie){var ce=o(ie);return ie!=null&&(ce=="object"||ce=="function")}function or(ie){return ie!=null&&o(ie)=="object"}var kt=w?function(ie){return function(ce){return ie(ce)}}(w):function(ie){return or(ie)&&Ot(ie.length)&&!!f[ge(ie)]};function wr(ie){return(ce=ie)!=null&&Ot(ce.length)&&!Qt(ce)?me(ie):Ae(ie);var ce}n.exports=function(ie,ce){return Oe(ie,ce)}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],430:[function(r,n,i){(function(a){function o(d){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}var s=(a===void 0?"undefined":o(a))=="object"&&a&&a.Object===Object&&a,l=(typeof self>"u"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,p=s||l||Function("return this")(),h=Object.prototype,m=h.hasOwnProperty,v=h.toString,f=p.Symbol,u=f?f.toStringTag:void 0;function c(d){return d==null?d===void 0?"[object Undefined]":"[object Null]":u&&u in Object(d)?function(_){var g=m.call(_,u),y=_[u];try{_[u]=void 0;var b=!0}catch{}var C=v.call(_);return b&&(g?_[u]=y:delete _[u]),C}(d):function(_){return v.call(_)}(d)}n.exports=function(d){if(!function(g){var y=o(g);return g!=null&&(y=="object"||y=="function")}(d))return!1;var _=c(d);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],431:[function(r,n,i){n.exports=function(a){return a==null}},{}],432:[function(r,n,i){n.exports=function(a){return a===void 0}},{}],433:[function(r,n,i){(function(a){function o(W){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(W)}var s=/^\[object .+?Constructor\]$/,l=(a===void 0?"undefined":o(a))=="object"&&a&&a.Object===Object&&a,p=(typeof self>"u"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,h=l||p||Function("return this")();function m(W,G){return!!(W&&W.length)&&function(K,Q,$){if(Q!=Q)return function(z,Z,J,ee){for(var pe=z.length,le=J+(ee?1:-1);ee?le--:++le<pe;)if(Z(z[le],le,z))return le;return-1}(K,f,$);for(var L=$-1,F=K.length;++L<F;)if(K[L]===Q)return L;return-1}(W,G,0)>-1}function v(W,G,K){for(var Q=-1,$=W?W.length:0;++Q<$;)if(K(G,W[Q]))return!0;return!1}function f(W){return W!=W}function u(W,G){return W.has(G)}function c(W){var G=-1,K=Array(W.size);return W.forEach(function(Q){K[++G]=Q}),K}var d,_=Array.prototype,g=Function.prototype,y=Object.prototype,b=h["__core-js_shared__"],C=(d=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",w=g.toString,x=y.hasOwnProperty,A=y.toString,D=RegExp("^"+w.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=_.splice,k=H(h,"Map"),B=H(h,"Set"),E=H(Object,"create");function O(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var Q=W[G];this.set(Q[0],Q[1])}}function S(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var Q=W[G];this.set(Q[0],Q[1])}}function R(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var Q=W[G];this.set(Q[0],Q[1])}}function T(W){var G=-1,K=W?W.length:0;for(this.__data__=new R;++G<K;)this.add(W[G])}function I(W,G){for(var K,Q,$=W.length;$--;)if((K=W[$][0])===(Q=G)||K!=K&&Q!=Q)return $;return-1}function M(W){return!(!U(W)||(G=W,C&&C in G))&&(function(K){var Q=U(K)?A.call(K):"";return Q=="[object Function]"||Q=="[object GeneratorFunction]"}(W)||function(K){var Q=!1;if(K!=null&&typeof K.toString!="function")try{Q=!!(K+"")}catch{}return Q}(W)?D:s).test(function(K){if(K!=null){try{return w.call(K)}catch{}try{return K+""}catch{}}return""}(W));var G}O.prototype.clear=function(){this.__data__=E?E(null):{}},O.prototype.delete=function(W){return this.has(W)&&delete this.__data__[W]},O.prototype.get=function(W){var G=this.__data__;if(E){var K=G[W];return K==="__lodash_hash_undefined__"?void 0:K}return x.call(G,W)?G[W]:void 0},O.prototype.has=function(W){var G=this.__data__;return E?G[W]!==void 0:x.call(G,W)},O.prototype.set=function(W,G){return this.__data__[W]=E&&G===void 0?"__lodash_hash_undefined__":G,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(W){var G=this.__data__,K=I(G,W);return!(K<0)&&(K==G.length-1?G.pop():P.call(G,K,1),!0)},S.prototype.get=function(W){var G=this.__data__,K=I(G,W);return K<0?void 0:G[K][1]},S.prototype.has=function(W){return I(this.__data__,W)>-1},S.prototype.set=function(W,G){var K=this.__data__,Q=I(K,W);return Q<0?K.push([W,G]):K[Q][1]=G,this},R.prototype.clear=function(){this.__data__={hash:new O,map:new(k||S),string:new O}},R.prototype.delete=function(W){return j(this,W).delete(W)},R.prototype.get=function(W){return j(this,W).get(W)},R.prototype.has=function(W){return j(this,W).has(W)},R.prototype.set=function(W,G){return j(this,W).set(W,G),this},T.prototype.add=T.prototype.push=function(W){return this.__data__.set(W,"__lodash_hash_undefined__"),this},T.prototype.has=function(W){return this.__data__.has(W)};var N=B&&1/c(new B([,-0]))[1]==1/0?function(W){return new B(W)}:function(){};function j(W,G){var K,Q,$=W.__data__;return((Q=o(K=G))=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?K!=="__proto__":K===null)?$[typeof G=="string"?"string":"hash"]:$.map}function H(W,G){var K=function(Q,$){return Q==null?void 0:Q[$]}(W,G);return M(K)?K:void 0}function U(W){var G=o(W);return!!W&&(G=="object"||G=="function")}n.exports=function(W){return W&&W.length?function(G,K,Q){var $=-1,L=m,F=G.length,z=!0,Z=[],J=Z;if(Q)z=!1,L=v;else if(F>=200){var ee=K?null:N(G);if(ee)return c(ee);z=!1,L=u,J=new T}else J=K?[]:Z;e:for(;++$<F;){var pe=G[$],le=K?K(pe):pe;if(pe=Q||pe!==0?pe:0,z&&le==le){for(var ye=J.length;ye--;)if(J[ye]===le)continue e;K&&J.push(le),Z.push(pe)}else L(J,le,Q)||(J!==Z&&J.push(le),Z.push(pe))}return Z}(W):[]}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],434:[function(r,n,i){var a=r("inherits"),o=r("hash-base"),s=r("safe-buffer").Buffer,l=new Array(16);function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(c,d){return c<<d|c>>>32-d}function m(c,d,_,g,y,b,C){return h(c+(d&_|~d&g)+y+b|0,C)+d|0}function v(c,d,_,g,y,b,C){return h(c+(d&g|_&~g)+y+b|0,C)+d|0}function f(c,d,_,g,y,b,C){return h(c+(d^_^g)+y+b|0,C)+d|0}function u(c,d,_,g,y,b,C){return h(c+(_^(d|~g))+y+b|0,C)+d|0}a(p,o),p.prototype._update=function(){for(var c=l,d=0;d<16;++d)c[d]=this._block.readInt32LE(4*d);var _=this._a,g=this._b,y=this._c,b=this._d;_=m(_,g,y,b,c[0],3614090360,7),b=m(b,_,g,y,c[1],3905402710,12),y=m(y,b,_,g,c[2],606105819,17),g=m(g,y,b,_,c[3],3250441966,22),_=m(_,g,y,b,c[4],4118548399,7),b=m(b,_,g,y,c[5],1200080426,12),y=m(y,b,_,g,c[6],2821735955,17),g=m(g,y,b,_,c[7],4249261313,22),_=m(_,g,y,b,c[8],1770035416,7),b=m(b,_,g,y,c[9],2336552879,12),y=m(y,b,_,g,c[10],4294925233,17),g=m(g,y,b,_,c[11],2304563134,22),_=m(_,g,y,b,c[12],1804603682,7),b=m(b,_,g,y,c[13],4254626195,12),y=m(y,b,_,g,c[14],2792965006,17),_=v(_,g=m(g,y,b,_,c[15],1236535329,22),y,b,c[1],4129170786,5),b=v(b,_,g,y,c[6],3225465664,9),y=v(y,b,_,g,c[11],643717713,14),g=v(g,y,b,_,c[0],3921069994,20),_=v(_,g,y,b,c[5],3593408605,5),b=v(b,_,g,y,c[10],38016083,9),y=v(y,b,_,g,c[15],3634488961,14),g=v(g,y,b,_,c[4],3889429448,20),_=v(_,g,y,b,c[9],568446438,5),b=v(b,_,g,y,c[14],3275163606,9),y=v(y,b,_,g,c[3],4107603335,14),g=v(g,y,b,_,c[8],1163531501,20),_=v(_,g,y,b,c[13],2850285829,5),b=v(b,_,g,y,c[2],4243563512,9),y=v(y,b,_,g,c[7],1735328473,14),_=f(_,g=v(g,y,b,_,c[12],2368359562,20),y,b,c[5],4294588738,4),b=f(b,_,g,y,c[8],2272392833,11),y=f(y,b,_,g,c[11],1839030562,16),g=f(g,y,b,_,c[14],4259657740,23),_=f(_,g,y,b,c[1],2763975236,4),b=f(b,_,g,y,c[4],1272893353,11),y=f(y,b,_,g,c[7],4139469664,16),g=f(g,y,b,_,c[10],3200236656,23),_=f(_,g,y,b,c[13],681279174,4),b=f(b,_,g,y,c[0],3936430074,11),y=f(y,b,_,g,c[3],3572445317,16),g=f(g,y,b,_,c[6],76029189,23),_=f(_,g,y,b,c[9],3654602809,4),b=f(b,_,g,y,c[12],3873151461,11),y=f(y,b,_,g,c[15],530742520,16),_=u(_,g=f(g,y,b,_,c[2],3299628645,23),y,b,c[0],4096336452,6),b=u(b,_,g,y,c[7],1126891415,10),y=u(y,b,_,g,c[14],2878612391,15),g=u(g,y,b,_,c[5],4237533241,21),_=u(_,g,y,b,c[12],1700485571,6),b=u(b,_,g,y,c[3],2399980690,10),y=u(y,b,_,g,c[10],4293915773,15),g=u(g,y,b,_,c[1],2240044497,21),_=u(_,g,y,b,c[8],1873313359,6),b=u(b,_,g,y,c[15],4264355552,10),y=u(y,b,_,g,c[6],2734768916,15),g=u(g,y,b,_,c[13],1309151649,21),_=u(_,g,y,b,c[4],4149444226,6),b=u(b,_,g,y,c[11],3174756917,10),y=u(y,b,_,g,c[2],718787259,15),g=u(g,y,b,_,c[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+g|0,this._c=this._c+y|0,this._d=this._d+b|0},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var c=s.allocUnsafe(16);return c.writeInt32LE(this._a,0),c.writeInt32LE(this._b,4),c.writeInt32LE(this._c,8),c.writeInt32LE(this._d,12),c},n.exports=p},{"hash-base":370,inherits:387,"safe-buffer":494}],435:[function(r,n,i){var a=r("bn.js"),o=r("brorand");function s(l){this.rand=l||new o.Rand}n.exports=s,s.create=function(l){return new s(l)},s.prototype._randbelow=function(l){var p=l.bitLength(),h=Math.ceil(p/8);do var m=new a(this.rand.generate(h));while(m.cmp(l)>=0);return m},s.prototype._randrange=function(l,p){var h=p.sub(l);return l.add(this._randbelow(h))},s.prototype.test=function(l,p,h){var m=l.bitLength(),v=a.mont(l),f=new a(1).toRed(v);p||(p=Math.max(1,m/48|0));for(var u=l.subn(1),c=0;!u.testn(c);c++);for(var d=l.shrn(c),_=u.toRed(v);p>0;p--){var g=this._randrange(new a(2),u);h&&h(g);var y=g.toRed(v).redPow(d);if(y.cmp(f)!==0&&y.cmp(_)!==0){for(var b=1;b<c;b++){if((y=y.redSqr()).cmp(f)===0)return!1;if(y.cmp(_)===0)break}if(b===c)return!1}}return!0},s.prototype.getDivisor=function(l,p){var h=l.bitLength(),m=a.mont(l),v=new a(1).toRed(m);p||(p=Math.max(1,h/48|0));for(var f=l.subn(1),u=0;!f.testn(u);u++);for(var c=l.shrn(u),d=f.toRed(m);p>0;p--){var _=this._randrange(new a(2),f),g=l.gcd(_);if(g.cmpn(1)!==0)return g;var y=_.toRed(m).redPow(c);if(y.cmp(v)!==0&&y.cmp(d)!==0){for(var b=1;b<u;b++){if((y=y.redSqr()).cmp(v)===0)return y.fromRed().subn(1).gcd(l);if(y.cmp(d)===0)break}if(b===u)return(y=y.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":436,brorand:184}],436:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],437:[function(r,n,i){function a(o,s){if(!o)throw new Error(s||"Assertion failed")}n.exports=a,a.equal=function(o,s,l){if(o!=s)throw new Error(l||"Assertion failed: "+o+" != "+s)}},{}],438:[function(r,n,i){var a=i;function o(l){return l.length===1?"0"+l:l}function s(l){for(var p="",h=0;h<l.length;h++)p+=o(l[h].toString(16));return p}a.toArray=function(l,p){if(Array.isArray(l))return l.slice();if(!l)return[];var h=[];if(typeof l!="string"){for(var m=0;m<l.length;m++)h[m]=0|l[m];return h}if(p==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),m=0;m<l.length;m+=2)h.push(parseInt(l[m]+l[m+1],16));else for(m=0;m<l.length;m++){var v=l.charCodeAt(m),f=v>>8,u=255&v;f?h.push(f,u):h.push(u)}return h},a.zero2=o,a.toHex=s,a.encode=function(l,p){return p==="hex"?s(l):l}},{}],439:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":440,"./lib/inflate":441,"./lib/utils/common":442,"./lib/zlib/constants":445}],440:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),p=r("./zlib/zstream"),h=Object.prototype.toString;function m(f){if(!(this instanceof m))return new m(f);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},f||{});var u=this.options;u.raw&&u.windowBits>0?u.windowBits=-u.windowBits:u.gzip&&u.windowBits>0&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var c=a.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(c!==0)throw new Error(l[c]);if(u.header&&a.deflateSetHeader(this.strm,u.header),u.dictionary){var d;if(d=typeof u.dictionary=="string"?s.string2buf(u.dictionary):h.call(u.dictionary)==="[object ArrayBuffer]"?new Uint8Array(u.dictionary):u.dictionary,(c=a.deflateSetDictionary(this.strm,d))!==0)throw new Error(l[c]);this._dict_set=!0}}function v(f,u){var c=new m(u);if(c.push(f,!0),c.err)throw c.msg||l[c.err];return c.result}m.prototype.push=function(f,u){var c,d,_=this.strm,g=this.options.chunkSize;if(this.ended)return!1;d=u===~~u?u:u===!0?4:0,typeof f=="string"?_.input=s.string2buf(f):h.call(f)==="[object ArrayBuffer]"?_.input=new Uint8Array(f):_.input=f,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(g),_.next_out=0,_.avail_out=g),(c=a.deflate(_,d))!==1&&c!==0)return this.onEnd(c),this.ended=!0,!1;_.avail_out!==0&&(_.avail_in!==0||d!==4&&d!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((_.avail_in>0||_.avail_out===0)&&c!==1);return d===4?(c=a.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===0):d!==2||(this.onEnd(0),_.avail_out=0,!0)},m.prototype.onData=function(f){this.chunks.push(f)},m.prototype.onEnd=function(f){f===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Deflate=m,i.deflate=v,i.deflateRaw=function(f,u){return(u=u||{}).raw=!0,v(f,u)},i.gzip=function(f,u){return(u=u||{}).gzip=!0,v(f,u)}},{"./utils/common":442,"./utils/strings":443,"./zlib/deflate":447,"./zlib/messages":452,"./zlib/zstream":454}],441:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),p=r("./zlib/messages"),h=r("./zlib/zstream"),m=r("./zlib/gzheader"),v=Object.prototype.toString;function f(c){if(!(this instanceof f))return new f(c);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},c||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(d.windowBits>=0&&d.windowBits<16)||c&&c.windowBits||(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&!(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var _=a.inflateInit2(this.strm,d.windowBits);if(_!==l.Z_OK)throw new Error(p[_]);if(this.header=new m,a.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=s.string2buf(d.dictionary):v.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(_=a.inflateSetDictionary(this.strm,d.dictionary))!==l.Z_OK))throw new Error(p[_])}function u(c,d){var _=new f(d);if(_.push(c,!0),_.err)throw _.msg||p[_.err];return _.result}f.prototype.push=function(c,d){var _,g,y,b,C,w=this.strm,x=this.options.chunkSize,A=this.options.dictionary,D=!1;if(this.ended)return!1;g=d===~~d?d:d===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof c=="string"?w.input=s.binstring2buf(c):v.call(c)==="[object ArrayBuffer]"?w.input=new Uint8Array(c):w.input=c,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(x),w.next_out=0,w.avail_out=x),(_=a.inflate(w,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&A&&(_=a.inflateSetDictionary(this.strm,A)),_===l.Z_BUF_ERROR&&D===!0&&(_=l.Z_OK,D=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),this.ended=!0,!1;w.next_out&&(w.avail_out!==0&&_!==l.Z_STREAM_END&&(w.avail_in!==0||g!==l.Z_FINISH&&g!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=s.utf8border(w.output,w.next_out),b=w.next_out-y,C=s.buf2string(w.output,y),w.next_out=b,w.avail_out=x-b,b&&o.arraySet(w.output,w.output,y,b,0),this.onData(C)):this.onData(o.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(D=!0)}while((w.avail_in>0||w.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&(g=l.Z_FINISH),g===l.Z_FINISH?(_=a.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):g!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),w.avail_out=0,!0)},f.prototype.onData=function(c){this.chunks.push(c)},f.prototype.onEnd=function(c){c===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Inflate=f,i.inflate=u,i.inflateRaw=function(c,d){return(d=d||{}).raw=!0,u(c,d)},i.ungzip=u},{"./utils/common":442,"./utils/strings":443,"./zlib/constants":445,"./zlib/gzheader":448,"./zlib/inflate":450,"./zlib/messages":452,"./zlib/zstream":454}],442:[function(r,n,i){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function s(h,m){return Object.prototype.hasOwnProperty.call(h,m)}i.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(a(v)!=="object")throw new TypeError(v+"must be non-object");for(var f in v)s(v,f)&&(h[f]=v[f])}}return h},i.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var l={arraySet:function(h,m,v,f,u){if(m.subarray&&h.subarray)h.set(m.subarray(v,v+f),u);else for(var c=0;c<f;c++)h[u+c]=m[v+c]},flattenChunks:function(h){var m,v,f,u,c,d;for(f=0,m=0,v=h.length;m<v;m++)f+=h[m].length;for(d=new Uint8Array(f),u=0,m=0,v=h.length;m<v;m++)c=h[m],d.set(c,u),u+=c.length;return d}},p={arraySet:function(h,m,v,f,u){for(var c=0;c<f;c++)h[u+c]=m[v+c]},flattenChunks:function(h){return[].concat.apply([],h)}};i.setTyped=function(h){h?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,p))},i.setTyped(o)},{}],443:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),p=0;p<256;p++)l[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;function h(m,v){if(v<65534&&(m.subarray&&s||!m.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(m,v));for(var f="",u=0;u<v;u++)f+=String.fromCharCode(m[u]);return f}l[254]=l[254]=1,i.string2buf=function(m){var v,f,u,c,d,_=m.length,g=0;for(c=0;c<_;c++)(64512&(f=m.charCodeAt(c)))==55296&&c+1<_&&(64512&(u=m.charCodeAt(c+1)))==56320&&(f=65536+(f-55296<<10)+(u-56320),c++),g+=f<128?1:f<2048?2:f<65536?3:4;for(v=new a.Buf8(g),d=0,c=0;d<g;c++)(64512&(f=m.charCodeAt(c)))==55296&&c+1<_&&(64512&(u=m.charCodeAt(c+1)))==56320&&(f=65536+(f-55296<<10)+(u-56320),c++),f<128?v[d++]=f:f<2048?(v[d++]=192|f>>>6,v[d++]=128|63&f):f<65536?(v[d++]=224|f>>>12,v[d++]=128|f>>>6&63,v[d++]=128|63&f):(v[d++]=240|f>>>18,v[d++]=128|f>>>12&63,v[d++]=128|f>>>6&63,v[d++]=128|63&f);return v},i.buf2binstring=function(m){return h(m,m.length)},i.binstring2buf=function(m){for(var v=new a.Buf8(m.length),f=0,u=v.length;f<u;f++)v[f]=m.charCodeAt(f);return v},i.buf2string=function(m,v){var f,u,c,d,_=v||m.length,g=new Array(2*_);for(u=0,f=0;f<_;)if((c=m[f++])<128)g[u++]=c;else if((d=l[c])>4)g[u++]=65533,f+=d-1;else{for(c&=d===2?31:d===3?15:7;d>1&&f<_;)c=c<<6|63&m[f++],d--;d>1?g[u++]=65533:c<65536?g[u++]=c:(c-=65536,g[u++]=55296|c>>10&1023,g[u++]=56320|1023&c)}return h(g,u)},i.utf8border=function(m,v){var f;for((v=v||m.length)>m.length&&(v=m.length),f=v-1;f>=0&&(192&m[f])==128;)f--;return f<0||f===0?v:f+l[m[f]]>v?f:v}},{"./common":442}],444:[function(r,n,i){n.exports=function(a,o,s,l){for(var p=65535&a|0,h=a>>>16&65535|0,m=0;s!==0;){s-=m=s>2e3?2e3:s;do h=h+(p=p+o[l++]|0)|0;while(--m);p%=65521,h%=65521}return p|h<<16|0}},{}],445:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],446:[function(r,n,i){var a=function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s}();n.exports=function(o,s,l,p){var h=a,m=p+l;o^=-1;for(var v=p;v<m;v++)o=o>>>8^h[255&(o^s[v])];return-1^o}},{}],447:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),p=r("./crc32"),h=r("./messages");function m(k,B){return k.msg=h[B],B}function v(k){return(k<<1)-(k>4?9:0)}function f(k){for(var B=k.length;--B>=0;)k[B]=0}function u(k){var B=k.state,E=B.pending;E>k.avail_out&&(E=k.avail_out),E!==0&&(o.arraySet(k.output,B.pending_buf,B.pending_out,E,k.next_out),k.next_out+=E,B.pending_out+=E,k.total_out+=E,k.avail_out-=E,B.pending-=E,B.pending===0&&(B.pending_out=0))}function c(k,B){s._tr_flush_block(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,B),k.block_start=k.strstart,u(k.strm)}function d(k,B){k.pending_buf[k.pending++]=B}function _(k,B){k.pending_buf[k.pending++]=B>>>8&255,k.pending_buf[k.pending++]=255&B}function g(k,B){var E,O,S=k.max_chain_length,R=k.strstart,T=k.prev_length,I=k.nice_match,M=k.strstart>k.w_size-262?k.strstart-(k.w_size-262):0,N=k.window,j=k.w_mask,H=k.prev,U=k.strstart+258,W=N[R+T-1],G=N[R+T];k.prev_length>=k.good_match&&(S>>=2),I>k.lookahead&&(I=k.lookahead);do if(N[(E=B)+T]===G&&N[E+T-1]===W&&N[E]===N[R]&&N[++E]===N[R+1]){R+=2,E++;do;while(N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&N[++R]===N[++E]&&R<U);if(O=258-(U-R),R=U-258,O>T){if(k.match_start=B,T=O,O>=I)break;W=N[R+T-1],G=N[R+T]}}while((B=H[B&j])>M&&--S!=0);return T<=k.lookahead?T:k.lookahead}function y(k){var B,E,O,S,R,T,I,M,N,j,H=k.w_size;do{if(S=k.window_size-k.lookahead-k.strstart,k.strstart>=H+(H-262)){o.arraySet(k.window,k.window,H,H,0),k.match_start-=H,k.strstart-=H,k.block_start-=H,B=E=k.hash_size;do O=k.head[--B],k.head[B]=O>=H?O-H:0;while(--E);B=E=H;do O=k.prev[--B],k.prev[B]=O>=H?O-H:0;while(--E);S+=H}if(k.strm.avail_in===0)break;if(T=k.strm,I=k.window,M=k.strstart+k.lookahead,N=S,j=void 0,(j=T.avail_in)>N&&(j=N),E=j===0?0:(T.avail_in-=j,o.arraySet(I,T.input,T.next_in,j,M),T.state.wrap===1?T.adler=l(T.adler,I,j,M):T.state.wrap===2&&(T.adler=p(T.adler,I,j,M)),T.next_in+=j,T.total_in+=j,j),k.lookahead+=E,k.lookahead+k.insert>=3)for(R=k.strstart-k.insert,k.ins_h=k.window[R],k.ins_h=(k.ins_h<<k.hash_shift^k.window[R+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[R+3-1])&k.hash_mask,k.prev[R&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=R,R++,k.insert--,!(k.lookahead+k.insert<3)););}while(k.lookahead<262&&k.strm.avail_in!==0)}function b(k,B){for(var E,O;;){if(k.lookahead<262){if(y(k),k.lookahead<262&&B===0)return 1;if(k.lookahead===0)break}if(E=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,E=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),E!==0&&k.strstart-E<=k.w_size-262&&(k.match_length=g(k,E)),k.match_length>=3)if(O=s._tr_tally(k,k.strstart-k.match_start,k.match_length-3),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=3){k.match_length--;do k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,E=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!=0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else O=s._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(O&&(c(k,!1),k.strm.avail_out===0))return 1}return k.insert=k.strstart<2?k.strstart:2,B===4?(c(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(c(k,!1),k.strm.avail_out===0)?1:2}function C(k,B){for(var E,O,S;;){if(k.lookahead<262){if(y(k),k.lookahead<262&&B===0)return 1;if(k.lookahead===0)break}if(E=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,E=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=2,E!==0&&k.prev_length<k.max_lazy_match&&k.strstart-E<=k.w_size-262&&(k.match_length=g(k,E),k.match_length<=5&&(k.strategy===1||k.match_length===3&&k.strstart-k.match_start>4096)&&(k.match_length=2)),k.prev_length>=3&&k.match_length<=k.prev_length){S=k.strstart+k.lookahead-3,O=s._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-3),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=S&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,E=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!=0);if(k.match_available=0,k.match_length=2,k.strstart++,O&&(c(k,!1),k.strm.avail_out===0))return 1}else if(k.match_available){if((O=s._tr_tally(k,0,k.window[k.strstart-1]))&&c(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return 1}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(O=s._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<2?k.strstart:2,B===4?(c(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(c(k,!1),k.strm.avail_out===0)?1:2}function w(k,B,E,O,S){this.good_length=k,this.max_lazy=B,this.nice_length=E,this.max_chain=O,this.func=S}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(k){var B;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=2,(B=k.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?42:113,k.adler=B.wrap===2?0:1,B.last_flush=0,s._tr_init(B),0):m(k,-2)}function D(k){var B,E=A(k);return E===0&&((B=k.state).window_size=2*B.w_size,f(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=2,B.match_available=0,B.ins_h=0),E}function P(k,B,E,O,S,R){if(!k)return-2;var T=1;if(B===-1&&(B=6),O<0?(T=0,O=-O):O>15&&(T=2,O-=16),S<1||S>9||E!==8||O<8||O>15||B<0||B>9||R<0||R>4)return m(k,-2);O===8&&(O=9);var I=new x;return k.state=I,I.strm=k,I.wrap=T,I.gzhead=null,I.w_bits=O,I.w_size=1<<I.w_bits,I.w_mask=I.w_size-1,I.hash_bits=S+7,I.hash_size=1<<I.hash_bits,I.hash_mask=I.hash_size-1,I.hash_shift=~~((I.hash_bits+3-1)/3),I.window=new o.Buf8(2*I.w_size),I.head=new o.Buf16(I.hash_size),I.prev=new o.Buf16(I.w_size),I.lit_bufsize=1<<S+6,I.pending_buf_size=4*I.lit_bufsize,I.pending_buf=new o.Buf8(I.pending_buf_size),I.d_buf=1*I.lit_bufsize,I.l_buf=3*I.lit_bufsize,I.level=B,I.strategy=R,I.method=E,D(k)}a=[new w(0,0,0,0,function(k,B){var E=65535;for(E>k.pending_buf_size-5&&(E=k.pending_buf_size-5);;){if(k.lookahead<=1){if(y(k),k.lookahead===0&&B===0)return 1;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var O=k.block_start+E;if((k.strstart===0||k.strstart>=O)&&(k.lookahead=k.strstart-O,k.strstart=O,c(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-262&&(c(k,!1),k.strm.avail_out===0))return 1}return k.insert=0,B===4?(c(k,!0),k.strm.avail_out===0?3:4):(k.strstart>k.block_start&&(c(k,!1),k.strm.avail_out),1)}),new w(4,4,8,4,b),new w(4,5,16,8,b),new w(4,6,32,32,b),new w(4,4,16,16,C),new w(8,16,32,32,C),new w(8,16,128,128,C),new w(8,32,128,256,C),new w(32,128,258,1024,C),new w(32,258,258,4096,C)],i.deflateInit=function(k,B){return P(k,B,8,15,8,0)},i.deflateInit2=P,i.deflateReset=D,i.deflateResetKeep=A,i.deflateSetHeader=function(k,B){return k&&k.state?k.state.wrap!==2?-2:(k.state.gzhead=B,0):-2},i.deflate=function(k,B){var E,O,S,R;if(!k||!k.state||B>5||B<0)return k?m(k,-2):-2;if(O=k.state,!k.output||!k.input&&k.avail_in!==0||O.status===666&&B!==4)return m(k,k.avail_out===0?-5:-2);if(O.strm=k,E=O.last_flush,O.last_flush=B,O.status===42)if(O.wrap===2)k.adler=0,d(O,31),d(O,139),d(O,8),O.gzhead?(d(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),d(O,255&O.gzhead.time),d(O,O.gzhead.time>>8&255),d(O,O.gzhead.time>>16&255),d(O,O.gzhead.time>>24&255),d(O,O.level===9?2:O.strategy>=2||O.level<2?4:0),d(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(d(O,255&O.gzhead.extra.length),d(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(k.adler=p(k.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(d(O,0),d(O,0),d(O,0),d(O,0),d(O,0),d(O,O.level===9?2:O.strategy>=2||O.level<2?4:0),d(O,3),O.status=113);else{var T=8+(O.w_bits-8<<4)<<8;T|=(O.strategy>=2||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(T|=32),T+=31-T%31,O.status=113,_(O,T),O.strstart!==0&&(_(O,k.adler>>>16),_(O,65535&k.adler)),k.adler=1}if(O.status===69)if(O.gzhead.extra){for(S=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),u(k),S=O.pending,O.pending!==O.pending_buf_size));)d(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){S=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),u(k),S=O.pending,O.pending===O.pending_buf_size)){R=1;break}R=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,d(O,R)}while(R!==0);O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),R===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){S=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),u(k),S=O.pending,O.pending===O.pending_buf_size)){R=1;break}R=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,d(O,R)}while(R!==0);O.gzhead.hcrc&&O.pending>S&&(k.adler=p(k.adler,O.pending_buf,O.pending-S,S)),R===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&u(k),O.pending+2<=O.pending_buf_size&&(d(O,255&k.adler),d(O,k.adler>>8&255),k.adler=0,O.status=113)):O.status=113),O.pending!==0){if(u(k),k.avail_out===0)return O.last_flush=-1,0}else if(k.avail_in===0&&v(B)<=v(E)&&B!==4)return m(k,-5);if(O.status===666&&k.avail_in!==0)return m(k,-5);if(k.avail_in!==0||O.lookahead!==0||B!==0&&O.status!==666){var I=O.strategy===2?function(M,N){for(var j;;){if(M.lookahead===0&&(y(M),M.lookahead===0)){if(N===0)return 1;break}if(M.match_length=0,j=s._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,j&&(c(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,N===4?(c(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(c(M,!1),M.strm.avail_out===0)?1:2}(O,B):O.strategy===3?function(M,N){for(var j,H,U,W,G=M.window;;){if(M.lookahead<=258){if(y(M),M.lookahead<=258&&N===0)return 1;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=3&&M.strstart>0&&(H=G[U=M.strstart-1])===G[++U]&&H===G[++U]&&H===G[++U]){W=M.strstart+258;do;while(H===G[++U]&&H===G[++U]&&H===G[++U]&&H===G[++U]&&H===G[++U]&&H===G[++U]&&H===G[++U]&&H===G[++U]&&U<W);M.match_length=258-(W-U),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=3?(j=s._tr_tally(M,1,M.match_length-3),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(j=s._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),j&&(c(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,N===4?(c(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(c(M,!1),M.strm.avail_out===0)?1:2}(O,B):a[O.level].func(O,B);if(I!==3&&I!==4||(O.status=666),I===1||I===3)return k.avail_out===0&&(O.last_flush=-1),0;if(I===2&&(B===1?s._tr_align(O):B!==5&&(s._tr_stored_block(O,0,0,!1),B===3&&(f(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),u(k),k.avail_out===0))return O.last_flush=-1,0}return B!==4?0:O.wrap<=0?1:(O.wrap===2?(d(O,255&k.adler),d(O,k.adler>>8&255),d(O,k.adler>>16&255),d(O,k.adler>>24&255),d(O,255&k.total_in),d(O,k.total_in>>8&255),d(O,k.total_in>>16&255),d(O,k.total_in>>24&255)):(_(O,k.adler>>>16),_(O,65535&k.adler)),u(k),O.wrap>0&&(O.wrap=-O.wrap),O.pending!==0?0:1)},i.deflateEnd=function(k){var B;return k&&k.state?(B=k.state.status)!==42&&B!==69&&B!==73&&B!==91&&B!==103&&B!==113&&B!==666?m(k,-2):(k.state=null,B===113?m(k,-3):0):-2},i.deflateSetDictionary=function(k,B){var E,O,S,R,T,I,M,N,j=B.length;if(!k||!k.state||(R=(E=k.state).wrap)===2||R===1&&E.status!==42||E.lookahead)return-2;for(R===1&&(k.adler=l(k.adler,B,j,0)),E.wrap=0,j>=E.w_size&&(R===0&&(f(E.head),E.strstart=0,E.block_start=0,E.insert=0),N=new o.Buf8(E.w_size),o.arraySet(N,B,j-E.w_size,E.w_size,0),B=N,j=E.w_size),T=k.avail_in,I=k.next_in,M=k.input,k.avail_in=j,k.next_in=0,k.input=B,y(E);E.lookahead>=3;){O=E.strstart,S=E.lookahead-2;do E.ins_h=(E.ins_h<<E.hash_shift^E.window[O+3-1])&E.hash_mask,E.prev[O&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=O,O++;while(--S);E.strstart=O,E.lookahead=2,y(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=2,E.match_available=0,k.next_in=I,k.input=M,k.avail_in=T,E.wrap=R,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":442,"./adler32":444,"./crc32":446,"./messages":452,"./trees":453}],448:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],449:[function(r,n,i){n.exports=function(a,o){var s,l,p,h,m,v,f,u,c,d,_,g,y,b,C,w,x,A,D,P,k,B,E,O,S;s=a.state,l=a.next_in,O=a.input,p=l+(a.avail_in-5),h=a.next_out,S=a.output,m=h-(o-a.avail_out),v=h+(a.avail_out-257),f=s.dmax,u=s.wsize,c=s.whave,d=s.wnext,_=s.window,g=s.hold,y=s.bits,b=s.lencode,C=s.distcode,w=(1<<s.lenbits)-1,x=(1<<s.distbits)-1;e:do{y<15&&(g+=O[l++]<<y,y+=8,g+=O[l++]<<y,y+=8),A=b[g&w];t:for(;;){if(g>>>=D=A>>>24,y-=D,(D=A>>>16&255)===0)S[h++]=65535&A;else{if(!(16&D)){if(!(64&D)){A=b[(65535&A)+(g&(1<<D)-1)];continue t}if(32&D){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}P=65535&A,(D&=15)&&(y<D&&(g+=O[l++]<<y,y+=8),P+=g&(1<<D)-1,g>>>=D,y-=D),y<15&&(g+=O[l++]<<y,y+=8,g+=O[l++]<<y,y+=8),A=C[g&x];r:for(;;){if(g>>>=D=A>>>24,y-=D,!(16&(D=A>>>16&255))){if(!(64&D)){A=C[(65535&A)+(g&(1<<D)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(k=65535&A,y<(D&=15)&&(g+=O[l++]<<y,(y+=8)<D&&(g+=O[l++]<<y,y+=8)),(k+=g&(1<<D)-1)>f){a.msg="invalid distance too far back",s.mode=30;break e}if(g>>>=D,y-=D,k>(D=h-m)){if((D=k-D)>c&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(B=0,E=_,d===0){if(B+=u-D,D<P){P-=D;do S[h++]=_[B++];while(--D);B=h-k,E=S}}else if(d<D){if(B+=u+d-D,(D-=d)<P){P-=D;do S[h++]=_[B++];while(--D);if(B=0,d<P){P-=D=d;do S[h++]=_[B++];while(--D);B=h-k,E=S}}}else if(B+=d-D,D<P){P-=D;do S[h++]=_[B++];while(--D);B=h-k,E=S}for(;P>2;)S[h++]=E[B++],S[h++]=E[B++],S[h++]=E[B++],P-=3;P&&(S[h++]=E[B++],P>1&&(S[h++]=E[B++]))}else{B=h-k;do S[h++]=S[B++],S[h++]=S[B++],S[h++]=S[B++],P-=3;while(P>2);P&&(S[h++]=S[B++],P>1&&(S[h++]=S[B++]))}break}}break}}while(l<p&&h<v);l-=P=y>>3,g&=(1<<(y-=P<<3))-1,a.next_in=l,a.next_out=h,a.avail_in=l<p?p-l+5:5-(l-p),a.avail_out=h<v?v-h+257:257-(h-v),s.hold=g,s.bits=y}},{}],450:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),p=r("./inftrees");function h(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(C){var w;return C&&C.state?(w=C.state,C.total_in=C.total_out=w.total=0,C.msg="",w.wrap&&(C.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new a.Buf32(852),w.distcode=w.distdyn=new a.Buf32(592),w.sane=1,w.back=-1,0):-2}function f(C){var w;return C&&C.state?((w=C.state).wsize=0,w.whave=0,w.wnext=0,v(C)):-2}function u(C,w){var x,A;return C&&C.state?(A=C.state,w<0?(x=0,w=-w):(x=1+(w>>4),w<48&&(w&=15)),w&&(w<8||w>15)?-2:(A.window!==null&&A.wbits!==w&&(A.window=null),A.wrap=x,A.wbits=w,f(C))):-2}function c(C,w){var x,A;return C?(A=new m,C.state=A,A.window=null,(x=u(C,w))!==0&&(C.state=null),x):-2}var d,_,g=!0;function y(C){if(g){var w;for(d=new a.Buf32(512),_=new a.Buf32(32),w=0;w<144;)C.lens[w++]=8;for(;w<256;)C.lens[w++]=9;for(;w<280;)C.lens[w++]=7;for(;w<288;)C.lens[w++]=8;for(p(1,C.lens,0,288,d,0,C.work,{bits:9}),w=0;w<32;)C.lens[w++]=5;p(2,C.lens,0,32,_,0,C.work,{bits:5}),g=!1}C.lencode=d,C.lenbits=9,C.distcode=_,C.distbits=5}function b(C,w,x,A){var D,P=C.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new a.Buf8(P.wsize)),A>=P.wsize?(a.arraySet(P.window,w,x-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):((D=P.wsize-P.wnext)>A&&(D=A),a.arraySet(P.window,w,x-A,D,P.wnext),(A-=D)?(a.arraySet(P.window,w,x-A,A,0),P.wnext=A,P.whave=P.wsize):(P.wnext+=D,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=D))),0}i.inflateReset=f,i.inflateReset2=u,i.inflateResetKeep=v,i.inflateInit=function(C){return c(C,15)},i.inflateInit2=c,i.inflate=function(C,w){var x,A,D,P,k,B,E,O,S,R,T,I,M,N,j,H,U,W,G,K,Q,$,L,F,z=0,Z=new a.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return-2;(x=C.state).mode===12&&(x.mode=13),k=C.next_out,D=C.output,E=C.avail_out,P=C.next_in,A=C.input,B=C.avail_in,O=x.hold,S=x.bits,R=B,T=E,$=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;S<16;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(2&x.wrap&&O===35615){x.check=0,Z[0]=255&O,Z[1]=O>>>8&255,x.check=s(x.check,Z,2,0),O=0,S=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&O)<<8)+(O>>8))%31){C.msg="incorrect header check",x.mode=30;break}if((15&O)!=8){C.msg="unknown compression method",x.mode=30;break}if(S-=4,Q=8+(15&(O>>>=4)),x.wbits===0)x.wbits=Q;else if(Q>x.wbits){C.msg="invalid window size",x.mode=30;break}x.dmax=1<<Q,C.adler=x.check=1,x.mode=512&O?10:12,O=0,S=0;break;case 2:for(;S<16;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(x.flags=O,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=O>>8&1),512&x.flags&&(Z[0]=255&O,Z[1]=O>>>8&255,x.check=s(x.check,Z,2,0)),O=0,S=0,x.mode=3;case 3:for(;S<32;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.head&&(x.head.time=O),512&x.flags&&(Z[0]=255&O,Z[1]=O>>>8&255,Z[2]=O>>>16&255,Z[3]=O>>>24&255,x.check=s(x.check,Z,4,0)),O=0,S=0,x.mode=4;case 4:for(;S<16;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.head&&(x.head.xflags=255&O,x.head.os=O>>8),512&x.flags&&(Z[0]=255&O,Z[1]=O>>>8&255,x.check=s(x.check,Z,2,0)),O=0,S=0,x.mode=5;case 5:if(1024&x.flags){for(;S<16;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.length=O,x.head&&(x.head.extra_len=O),512&x.flags&&(Z[0]=255&O,Z[1]=O>>>8&255,x.check=s(x.check,Z,2,0)),O=0,S=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&((I=x.length)>B&&(I=B),I&&(x.head&&(Q=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),a.arraySet(x.head.extra,A,P,I,Q)),512&x.flags&&(x.check=s(x.check,A,I,P)),B-=I,P+=I,x.length-=I),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(B===0)break e;I=0;do Q=A[P+I++],x.head&&Q&&x.length<65536&&(x.head.name+=String.fromCharCode(Q));while(Q&&I<B);if(512&x.flags&&(x.check=s(x.check,A,I,P)),B-=I,P+=I,Q)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(B===0)break e;I=0;do Q=A[P+I++],x.head&&Q&&x.length<65536&&(x.head.comment+=String.fromCharCode(Q));while(Q&&I<B);if(512&x.flags&&(x.check=s(x.check,A,I,P)),B-=I,P+=I,Q)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;S<16;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(O!==(65535&x.check)){C.msg="header crc mismatch",x.mode=30;break}O=0,S=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=12;break;case 10:for(;S<32;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}C.adler=x.check=h(O),O=0,S=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=k,C.avail_out=E,C.next_in=P,C.avail_in=B,x.hold=O,x.bits=S,2;C.adler=x.check=1,x.mode=12;case 12:if(w===5||w===6)break e;case 13:if(x.last){O>>>=7&S,S-=7&S,x.mode=27;break}for(;S<3;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}switch(x.last=1&O,S-=1,3&(O>>>=1)){case 0:x.mode=14;break;case 1:if(y(x),x.mode=20,w===6){O>>>=2,S-=2;break e}break;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=30}O>>>=2,S-=2;break;case 14:for(O>>>=7&S,S-=7&S;S<32;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if((65535&O)!=(O>>>16^65535)){C.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&O,O=0,S=0,x.mode=15,w===6)break e;case 15:x.mode=16;case 16:if(I=x.length){if(I>B&&(I=B),I>E&&(I=E),I===0)break e;a.arraySet(D,A,P,I,k),B-=I,P+=I,E-=I,k+=I,x.length-=I;break}x.mode=12;break;case 17:for(;S<14;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(x.nlen=257+(31&O),O>>>=5,S-=5,x.ndist=1+(31&O),O>>>=5,S-=5,x.ncode=4+(15&O),O>>>=4,S-=4,x.nlen>286||x.ndist>30){C.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;S<3;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.lens[J[x.have++]]=7&O,O>>>=3,S-=3}for(;x.have<19;)x.lens[J[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,L={bits:x.lenbits},$=p(0,x.lens,0,19,x.lencode,0,x.work,L),x.lenbits=L.bits,$){C.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;H=(z=x.lencode[O&(1<<x.lenbits)-1])>>>16&255,U=65535&z,!((j=z>>>24)<=S);){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(U<16)O>>>=j,S-=j,x.lens[x.have++]=U;else{if(U===16){for(F=j+2;S<F;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(O>>>=j,S-=j,x.have===0){C.msg="invalid bit length repeat",x.mode=30;break}Q=x.lens[x.have-1],I=3+(3&O),O>>>=2,S-=2}else if(U===17){for(F=j+3;S<F;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}S-=j,Q=0,I=3+(7&(O>>>=j)),O>>>=3,S-=3}else{for(F=j+7;S<F;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}S-=j,Q=0,I=11+(127&(O>>>=j)),O>>>=7,S-=7}if(x.have+I>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=30;break}for(;I--;)x.lens[x.have++]=Q}}if(x.mode===30)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,L={bits:x.lenbits},$=p(1,x.lens,0,x.nlen,x.lencode,0,x.work,L),x.lenbits=L.bits,$){C.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,L={bits:x.distbits},$=p(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,L),x.distbits=L.bits,$){C.msg="invalid distances set",x.mode=30;break}if(x.mode=20,w===6)break e;case 20:x.mode=21;case 21:if(B>=6&&E>=258){C.next_out=k,C.avail_out=E,C.next_in=P,C.avail_in=B,x.hold=O,x.bits=S,l(C,T),k=C.next_out,D=C.output,E=C.avail_out,P=C.next_in,A=C.input,B=C.avail_in,O=x.hold,S=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;H=(z=x.lencode[O&(1<<x.lenbits)-1])>>>16&255,U=65535&z,!((j=z>>>24)<=S);){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(H&&!(240&H)){for(W=j,G=H,K=U;H=(z=x.lencode[K+((O&(1<<W+G)-1)>>W)])>>>16&255,U=65535&z,!(W+(j=z>>>24)<=S);){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}O>>>=W,S-=W,x.back+=W}if(O>>>=j,S-=j,x.back+=j,x.length=U,H===0){x.mode=26;break}if(32&H){x.back=-1,x.mode=12;break}if(64&H){C.msg="invalid literal/length code",x.mode=30;break}x.extra=15&H,x.mode=22;case 22:if(x.extra){for(F=x.extra;S<F;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.length+=O&(1<<x.extra)-1,O>>>=x.extra,S-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;H=(z=x.distcode[O&(1<<x.distbits)-1])>>>16&255,U=65535&z,!((j=z>>>24)<=S);){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(!(240&H)){for(W=j,G=H,K=U;H=(z=x.distcode[K+((O&(1<<W+G)-1)>>W)])>>>16&255,U=65535&z,!(W+(j=z>>>24)<=S);){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}O>>>=W,S-=W,x.back+=W}if(O>>>=j,S-=j,x.back+=j,64&H){C.msg="invalid distance code",x.mode=30;break}x.offset=U,x.extra=15&H,x.mode=24;case 24:if(x.extra){for(F=x.extra;S<F;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}x.offset+=O&(1<<x.extra)-1,O>>>=x.extra,S-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(E===0)break e;if(I=T-E,x.offset>I){if((I=x.offset-I)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=30;break}I>x.wnext?(I-=x.wnext,M=x.wsize-I):M=x.wnext-I,I>x.length&&(I=x.length),N=x.window}else N=D,M=k-x.offset,I=x.length;I>E&&(I=E),E-=I,x.length-=I;do D[k++]=N[M++];while(--I);x.length===0&&(x.mode=21);break;case 26:if(E===0)break e;D[k++]=x.length,E--,x.mode=21;break;case 27:if(x.wrap){for(;S<32;){if(B===0)break e;B--,O|=A[P++]<<S,S+=8}if(T-=E,C.total_out+=T,x.total+=T,T&&(C.adler=x.check=x.flags?s(x.check,D,T,k-T):o(x.check,D,T,k-T)),T=E,(x.flags?O:h(O))!==x.check){C.msg="incorrect data check",x.mode=30;break}O=0,S=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;S<32;){if(B===0)break e;B--,O+=A[P++]<<S,S+=8}if(O!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=30;break}O=0,S=0}x.mode=29;case 29:$=1;break e;case 30:$=-3;break e;case 31:return-4;case 32:default:return-2}return C.next_out=k,C.avail_out=E,C.next_in=P,C.avail_in=B,x.hold=O,x.bits=S,(x.wsize||T!==C.avail_out&&x.mode<30&&(x.mode<27||w!==4))&&b(C,C.output,C.next_out,T-C.avail_out)?(x.mode=31,-4):(R-=C.avail_in,T-=C.avail_out,C.total_in+=R,C.total_out+=T,x.total+=T,x.wrap&&T&&(C.adler=x.check=x.flags?s(x.check,D,T,C.next_out-T):o(x.check,D,T,C.next_out-T)),C.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(R===0&&T===0||w===4)&&$===0&&($=-5),$)},i.inflateEnd=function(C){if(!C||!C.state)return-2;var w=C.state;return w.window&&(w.window=null),C.state=null,0},i.inflateGetHeader=function(C,w){var x;return C&&C.state&&2&(x=C.state).wrap?(x.head=w,w.done=!1,0):-2},i.inflateSetDictionary=function(C,w){var x,A=w.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?-2:x.mode===11&&o(1,w,A,0)!==x.check?-3:b(C,w,A,A)?(x.mode=31,-4):(x.havedict=1,0):-2},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":442,"./adler32":444,"./crc32":446,"./inffast":449,"./inftrees":451}],451:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,m,v,f,u,c,d,_){var g,y,b,C,w,x,A,D,P,k=_.bits,B=0,E=0,O=0,S=0,R=0,T=0,I=0,M=0,N=0,j=0,H=null,U=0,W=new a.Buf16(16),G=new a.Buf16(16),K=null,Q=0;for(B=0;B<=15;B++)W[B]=0;for(E=0;E<f;E++)W[m[v+E]]++;for(R=k,S=15;S>=1&&W[S]===0;S--);if(R>S&&(R=S),S===0)return u[c++]=20971520,u[c++]=20971520,_.bits=1,0;for(O=1;O<S&&W[O]===0;O++);for(R<O&&(R=O),M=1,B=1;B<=15;B++)if(M<<=1,(M-=W[B])<0)return-1;if(M>0&&(h===0||S!==1))return-1;for(G[1]=0,B=1;B<15;B++)G[B+1]=G[B]+W[B];for(E=0;E<f;E++)m[v+E]!==0&&(d[G[m[v+E]]++]=E);if(h===0?(H=K=d,x=19):h===1?(H=o,U-=257,K=s,Q-=257,x=256):(H=l,K=p,x=-1),j=0,E=0,B=O,w=c,T=R,I=0,b=-1,C=(N=1<<R)-1,h===1&&N>852||h===2&&N>592)return 1;for(;;){A=B-I,d[E]<x?(D=0,P=d[E]):d[E]>x?(D=K[Q+d[E]],P=H[U+d[E]]):(D=96,P=0),g=1<<B-I,O=y=1<<T;do u[w+(j>>I)+(y-=g)]=A<<24|D<<16|P|0;while(y!==0);for(g=1<<B-1;j&g;)g>>=1;if(g!==0?(j&=g-1,j+=g):j=0,E++,--W[B]==0){if(B===S)break;B=m[v+d[E]]}if(B>R&&(j&C)!==b){for(I===0&&(I=R),w+=O,M=1<<(T=B-I);T+I<S&&!((M-=W[T+I])<=0);)T++,M<<=1;if(N+=1<<T,h===1&&N>852||h===2&&N>592)return 1;u[b=j&C]=R<<24|T<<16|w-c|0}}return j!==0&&(u[w+j]=B-I<<24|64<<16|0),_.bits=R,0}},{"../utils/common":442}],452:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],453:[function(r,n,i){var a=r("../utils/common");function o(H){for(var U=H.length;--U>=0;)H[U]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],m=new Array(576);o(m);var v=new Array(60);o(v);var f=new Array(512);o(f);var u=new Array(256);o(u);var c=new Array(29);o(c);var d,_,g,y=new Array(30);function b(H,U,W,G,K){this.static_tree=H,this.extra_bits=U,this.extra_base=W,this.elems=G,this.max_length=K,this.has_stree=H&&H.length}function C(H,U){this.dyn_tree=H,this.max_code=0,this.stat_desc=U}function w(H){return H<256?f[H]:f[256+(H>>>7)]}function x(H,U){H.pending_buf[H.pending++]=255&U,H.pending_buf[H.pending++]=U>>>8&255}function A(H,U,W){H.bi_valid>16-W?(H.bi_buf|=U<<H.bi_valid&65535,x(H,H.bi_buf),H.bi_buf=U>>16-H.bi_valid,H.bi_valid+=W-16):(H.bi_buf|=U<<H.bi_valid&65535,H.bi_valid+=W)}function D(H,U,W){A(H,W[2*U],W[2*U+1])}function P(H,U){var W=0;do W|=1&H,H>>>=1,W<<=1;while(--U>0);return W>>>1}function k(H,U,W){var G,K,Q=new Array(16),$=0;for(G=1;G<=15;G++)Q[G]=$=$+W[G-1]<<1;for(K=0;K<=U;K++){var L=H[2*K+1];L!==0&&(H[2*K]=P(Q[L]++,L))}}function B(H){var U;for(U=0;U<286;U++)H.dyn_ltree[2*U]=0;for(U=0;U<30;U++)H.dyn_dtree[2*U]=0;for(U=0;U<19;U++)H.bl_tree[2*U]=0;H.dyn_ltree[512]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function E(H){H.bi_valid>8?x(H,H.bi_buf):H.bi_valid>0&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function O(H,U,W,G){var K=2*U,Q=2*W;return H[K]<H[Q]||H[K]===H[Q]&&G[U]<=G[W]}function S(H,U,W){for(var G=H.heap[W],K=W<<1;K<=H.heap_len&&(K<H.heap_len&&O(U,H.heap[K+1],H.heap[K],H.depth)&&K++,!O(U,G,H.heap[K],H.depth));)H.heap[W]=H.heap[K],W=K,K<<=1;H.heap[W]=G}function R(H,U,W){var G,K,Q,$,L=0;if(H.last_lit!==0)do G=H.pending_buf[H.d_buf+2*L]<<8|H.pending_buf[H.d_buf+2*L+1],K=H.pending_buf[H.l_buf+L],L++,G===0?D(H,K,U):(D(H,(Q=u[K])+256+1,U),($=s[Q])!==0&&A(H,K-=c[Q],$),D(H,Q=w(--G),W),($=l[Q])!==0&&A(H,G-=y[Q],$));while(L<H.last_lit);D(H,256,U)}function T(H,U){var W,G,K,Q=U.dyn_tree,$=U.stat_desc.static_tree,L=U.stat_desc.has_stree,F=U.stat_desc.elems,z=-1;for(H.heap_len=0,H.heap_max=573,W=0;W<F;W++)Q[2*W]!==0?(H.heap[++H.heap_len]=z=W,H.depth[W]=0):Q[2*W+1]=0;for(;H.heap_len<2;)Q[2*(K=H.heap[++H.heap_len]=z<2?++z:0)]=1,H.depth[K]=0,H.opt_len--,L&&(H.static_len-=$[2*K+1]);for(U.max_code=z,W=H.heap_len>>1;W>=1;W--)S(H,Q,W);K=F;do W=H.heap[1],H.heap[1]=H.heap[H.heap_len--],S(H,Q,1),G=H.heap[1],H.heap[--H.heap_max]=W,H.heap[--H.heap_max]=G,Q[2*K]=Q[2*W]+Q[2*G],H.depth[K]=(H.depth[W]>=H.depth[G]?H.depth[W]:H.depth[G])+1,Q[2*W+1]=Q[2*G+1]=K,H.heap[1]=K++,S(H,Q,1);while(H.heap_len>=2);H.heap[--H.heap_max]=H.heap[1],function(Z,J){var ee,pe,le,ye,ke,be,Je=J.dyn_tree,je=J.max_code,Be=J.stat_desc.static_tree,$e=J.stat_desc.has_stree,nt=J.stat_desc.extra_bits,Se=J.stat_desc.extra_base,re=J.stat_desc.max_length,ue=0;for(ye=0;ye<=15;ye++)Z.bl_count[ye]=0;for(Je[2*Z.heap[Z.heap_max]+1]=0,ee=Z.heap_max+1;ee<573;ee++)(ye=Je[2*Je[2*(pe=Z.heap[ee])+1]+1]+1)>re&&(ye=re,ue++),Je[2*pe+1]=ye,pe>je||(Z.bl_count[ye]++,ke=0,pe>=Se&&(ke=nt[pe-Se]),be=Je[2*pe],Z.opt_len+=be*(ye+ke),$e&&(Z.static_len+=be*(Be[2*pe+1]+ke)));if(ue!==0){do{for(ye=re-1;Z.bl_count[ye]===0;)ye--;Z.bl_count[ye]--,Z.bl_count[ye+1]+=2,Z.bl_count[re]--,ue-=2}while(ue>0);for(ye=re;ye!==0;ye--)for(pe=Z.bl_count[ye];pe!==0;)(le=Z.heap[--ee])>je||(Je[2*le+1]!==ye&&(Z.opt_len+=(ye-Je[2*le+1])*Je[2*le],Je[2*le+1]=ye),pe--)}}(H,U),k(Q,z,H.bl_count)}function I(H,U,W){var G,K,Q=-1,$=U[1],L=0,F=7,z=4;for($===0&&(F=138,z=3),U[2*(W+1)+1]=65535,G=0;G<=W;G++)K=$,$=U[2*(G+1)+1],++L<F&&K===$||(L<z?H.bl_tree[2*K]+=L:K!==0?(K!==Q&&H.bl_tree[2*K]++,H.bl_tree[32]++):L<=10?H.bl_tree[34]++:H.bl_tree[36]++,L=0,Q=K,$===0?(F=138,z=3):K===$?(F=6,z=3):(F=7,z=4))}function M(H,U,W){var G,K,Q=-1,$=U[1],L=0,F=7,z=4;for($===0&&(F=138,z=3),G=0;G<=W;G++)if(K=$,$=U[2*(G+1)+1],!(++L<F&&K===$)){if(L<z)do D(H,K,H.bl_tree);while(--L!=0);else K!==0?(K!==Q&&(D(H,K,H.bl_tree),L--),D(H,16,H.bl_tree),A(H,L-3,2)):L<=10?(D(H,17,H.bl_tree),A(H,L-3,3)):(D(H,18,H.bl_tree),A(H,L-11,7));L=0,Q=K,$===0?(F=138,z=3):K===$?(F=6,z=3):(F=7,z=4)}}o(y);var N=!1;function j(H,U,W,G){A(H,0+(G?1:0),3),function(K,Q,$,L){E(K),L&&(x(K,$),x(K,~$)),a.arraySet(K.pending_buf,K.window,Q,$,K.pending),K.pending+=$}(H,U,W,!0)}i._tr_init=function(H){N||(function(){var U,W,G,K,Q,$=new Array(16);for(G=0,K=0;K<28;K++)for(c[K]=G,U=0;U<1<<s[K];U++)u[G++]=K;for(u[G-1]=K,Q=0,K=0;K<16;K++)for(y[K]=Q,U=0;U<1<<l[K];U++)f[Q++]=K;for(Q>>=7;K<30;K++)for(y[K]=Q<<7,U=0;U<1<<l[K]-7;U++)f[256+Q++]=K;for(W=0;W<=15;W++)$[W]=0;for(U=0;U<=143;)m[2*U+1]=8,U++,$[8]++;for(;U<=255;)m[2*U+1]=9,U++,$[9]++;for(;U<=279;)m[2*U+1]=7,U++,$[7]++;for(;U<=287;)m[2*U+1]=8,U++,$[8]++;for(k(m,287,$),U=0;U<30;U++)v[2*U+1]=5,v[2*U]=P(U,5);d=new b(m,s,257,286,15),_=new b(v,l,0,30,15),g=new b(new Array(0),p,0,19,7)}(),N=!0),H.l_desc=new C(H.dyn_ltree,d),H.d_desc=new C(H.dyn_dtree,_),H.bl_desc=new C(H.bl_tree,g),H.bi_buf=0,H.bi_valid=0,B(H)},i._tr_stored_block=j,i._tr_flush_block=function(H,U,W,G){var K,Q,$=0;H.level>0?(H.strm.data_type===2&&(H.strm.data_type=function(L){var F,z=4093624447;for(F=0;F<=31;F++,z>>>=1)if(1&z&&L.dyn_ltree[2*F]!==0)return 0;if(L.dyn_ltree[18]!==0||L.dyn_ltree[20]!==0||L.dyn_ltree[26]!==0)return 1;for(F=32;F<256;F++)if(L.dyn_ltree[2*F]!==0)return 1;return 0}(H)),T(H,H.l_desc),T(H,H.d_desc),$=function(L){var F;for(I(L,L.dyn_ltree,L.l_desc.max_code),I(L,L.dyn_dtree,L.d_desc.max_code),T(L,L.bl_desc),F=18;F>=3&&L.bl_tree[2*h[F]+1]===0;F--);return L.opt_len+=3*(F+1)+5+5+4,F}(H),K=H.opt_len+3+7>>>3,(Q=H.static_len+3+7>>>3)<=K&&(K=Q)):K=Q=W+5,W+4<=K&&U!==-1?j(H,U,W,G):H.strategy===4||Q===K?(A(H,2+(G?1:0),3),R(H,m,v)):(A(H,4+(G?1:0),3),function(L,F,z,Z){var J;for(A(L,F-257,5),A(L,z-1,5),A(L,Z-4,4),J=0;J<Z;J++)A(L,L.bl_tree[2*h[J]+1],3);M(L,L.dyn_ltree,F-1),M(L,L.dyn_dtree,z-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,$+1),R(H,H.dyn_ltree,H.dyn_dtree)),B(H),G&&E(H)},i._tr_tally=function(H,U,W){return H.pending_buf[H.d_buf+2*H.last_lit]=U>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&U,H.pending_buf[H.l_buf+H.last_lit]=255&W,H.last_lit++,U===0?H.dyn_ltree[2*W]++:(H.matches++,U--,H.dyn_ltree[2*(u[W]+256+1)]++,H.dyn_dtree[2*w(U)]++),H.last_lit===H.lit_bufsize-1},i._tr_align=function(H){A(H,2,3),D(H,256,m),function(U){U.bi_valid===16?(x(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):U.bi_valid>=8&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(H)}},{"../utils/common":442}],454:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var a=r("asn1.js");i.certificate=r("./certificate");var o=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var s=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=s;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(p),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var p=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),h=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(p),this.key("subjectPrivateKey").octstr())});i.PrivateKey=h;var m=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=m;var v=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=v,i.DSAparam=a.define("DSAparam",function(){this.int()});var f=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=f;var u=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":167}],457:[function(r,n,i){var a=r("asn1.js"),o=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),p=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),h=a.define("RelativeDistinguishedName",function(){this.setof(s)}),m=a.define("RDNSequence",function(){this.seqof(h)}),v=a.define("Name",function(){this.choice({rdnSequence:this.use(m)})}),f=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),u=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),c=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(v),this.key("validity").use(f),this.key("subject").use(v),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())}),d=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(c),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=d},{"asn1.js":167}],458:[function(r,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),p=r("browserify-aes"),h=r("safe-buffer").Buffer;n.exports=function(m,v){var f,u=m.toString(),c=u.match(a);if(c){var d="aes"+c[1],_=h.from(c[2],"hex"),g=h.from(c[3].replace(/[\r\n]/g,""),"base64"),y=l(v,_.slice(0,8),parseInt(c[1],10)).key,b=[],C=p.createDecipheriv(d,y,_);b.push(C.update(g)),b.push(C.final()),f=h.concat(b)}else{var w=u.match(s);f=h.from(w[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(o)[1],data:f}}},{"browserify-aes":188,evp_bytestokey:368,"safe-buffer":494}],459:[function(r,n,i){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}var o=r("./asn1"),s=r("./aesid.json"),l=r("./fixProc"),p=r("browserify-aes"),h=r("pbkdf2"),m=r("safe-buffer").Buffer;function v(f){var u;a(f)!=="object"||m.isBuffer(f)||(u=f.passphrase,f=f.key),typeof f=="string"&&(f=m.from(f));var c,d,_=l(f,u),g=_.tag,y=_.data;switch(g){case"CERTIFICATE":d=o.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=o.PublicKey.decode(y,"der")),c=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=o.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+c)}case"ENCRYPTED PRIVATE KEY":y=function(b,C){var w=b.algorithm.decrypt.kde.kdeparams.salt,x=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),A=s[b.algorithm.decrypt.cipher.algo.join(".")],D=b.algorithm.decrypt.cipher.iv,P=b.subjectPrivateKey,k=parseInt(A.split("-")[1],10)/8,B=h.pbkdf2Sync(C,w,x,k,"sha1"),E=p.createDecipheriv(A,B,D),O=[];return O.push(E.update(P)),O.push(E.final()),m.concat(O)}(y=o.EncryptedPrivateKey.decode(y,"der"),u);case"PRIVATE KEY":switch(c=(d=o.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:o.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=o.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+c)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=o.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+g)}}n.exports=v,v.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":188,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(a,o){var s,l=r("safe-buffer").Buffer,p=r("./precondition"),h=r("./default-encoding"),m=r("./sync"),v=r("./to-buffer"),f=o.crypto&&o.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function d(_,g,y,b,C){return f.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then(function(w){return f.deriveBits({name:"PBKDF2",salt:g,iterations:y,hash:{name:C}},w,b<<3)}).then(function(w){return l.from(w)})}n.exports=function(_,g,y,b,C,w){typeof C=="function"&&(w=C,C=void 0);var x=u[(C=C||"sha1").toLowerCase()];if(!x||typeof o.Promise!="function")return a.nextTick(function(){var A;try{A=m(_,g,y,b,C)}catch(D){return w(D)}w(null,A)});if(p(y,b),_=v(_,h,"Password"),g=v(g,h,"Salt"),typeof w!="function")throw new Error("No callback provided to pbkdf2");(function(A,D){A.then(function(P){a.nextTick(function(){D(null,P)})},function(P){a.nextTick(function(){D(P)})})})(function(A){if(o.process&&!o.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(c[A]!==void 0)return c[A];var D=d(s=s||l.alloc(8),s,10,128,A).then(function(){return!0}).catch(function(){return!1});return c[A]=D,D}(x).then(function(A){return A?d(_,g,y,b,x):m(_,g,y,b,C)}),w)}}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,_process:467,"safe-buffer":494}],462:[function(r,n,i){(function(a){var o;a.browser?o="utf-8":a.version?o=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this,r("_process"))},{_process:467}],463:[function(r,n,i){var a=Math.pow(2,30)-1;n.exports=function(o,s){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>a||s!=s)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var a=r("create-hash/md5"),o=r("ripemd160"),s=r("sha.js"),l=r("safe-buffer").Buffer,p=r("./precondition"),h=r("./default-encoding"),m=r("./to-buffer"),v=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(c,d,_){var g=function(A){function D(P){return s(A).update(P).digest()}return A==="rmd160"||A==="ripemd160"?function(P){return new o().update(P).digest()}:A==="md5"?a:D}(c),y=c==="sha512"||c==="sha384"?128:64;d.length>y?d=g(d):d.length<y&&(d=l.concat([d,v],y));for(var b=l.allocUnsafe(y+f[c]),C=l.allocUnsafe(y+f[c]),w=0;w<y;w++)b[w]=54^d[w],C[w]=92^d[w];var x=l.allocUnsafe(y+_+4);b.copy(x,0,0,y),this.ipad1=x,this.ipad2=b,this.opad=C,this.alg=c,this.blocksize=y,this.hash=g,this.size=f[c]}u.prototype.run=function(c,d){return c.copy(d,this.blocksize),this.hash(d).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(c,d,_,g,y){p(_,g);var b=new u(y=y||"sha1",c=m(c,h,"Password"),(d=m(d,h,"Salt")).length),C=l.allocUnsafe(g),w=l.allocUnsafe(d.length+4);d.copy(w,0,0,d.length);for(var x=0,A=f[y],D=Math.ceil(g/A),P=1;P<=D;P++){w.writeUInt32BE(P,d.length);for(var k=b.run(w,b.ipad1),B=k,E=1;E<_;E++){B=b.run(B,b.ipad2);for(var O=0;O<A;O++)k[O]^=B[O]}k.copy(C,x),x+=A}return C}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":332,ripemd160:493,"safe-buffer":494,"sha.js":499}],465:[function(r,n,i){var a=r("safe-buffer").Buffer;n.exports=function(o,s,l){if(a.isBuffer(o))return o;if(typeof o=="string")return a.from(o,s);if(ArrayBuffer.isView(o))return a.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(a){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,s,l,p){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var h,m,v=arguments.length;switch(v){case 0:case 1:return a.nextTick(o);case 2:return a.nextTick(function(){o.call(null,s)});case 3:return a.nextTick(function(){o.call(null,s,l)});case 4:return a.nextTick(function(){o.call(null,s,l,p)});default:for(h=new Array(v-1),m=0;m<h.length;)h[m++]=arguments[m];return a.nextTick(function(){o.apply(null,h)})}}}:n.exports=a}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var a,o,s=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}function h(y){if(a===setTimeout)return setTimeout(y,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(y,0);try{return a(y,0)}catch{try{return a.call(null,y,0)}catch{return a.call(this,y,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{o=typeof clearTimeout=="function"?clearTimeout:p}catch{o=p}})();var m,v=[],f=!1,u=-1;function c(){f&&m&&(f=!1,m.length?v=m.concat(v):u=-1,v.length&&d())}function d(){if(!f){var y=h(c);f=!0;for(var b=v.length;b;){for(m=v,v=[];++u<b;)m&&m[u].run();u=-1,b=v.length}m=null,f=!1,function(C){if(o===clearTimeout)return clearTimeout(C);if((o===p||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(C);try{o(C)}catch{try{return o.call(null,C)}catch{return o.call(this,C)}}}(y)}}function _(y,b){this.fun=y,this.array=b}function g(){}s.nextTick=function(y){var b=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)b[C-1]=arguments[C];v.push(new _(y,b)),v.length!==1||f||h(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(y){return[]},s.binding=function(y){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(y){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(a,o){return i.publicEncrypt(a,o,!0)},i.publicDecrypt=function(a,o){return i.privateDecrypt(a,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var a=r("create-hash"),o=r("safe-buffer").Buffer;function s(l){var p=o.allocUnsafe(4);return p.writeUInt32BE(l,0),p}n.exports=function(l,p){for(var h,m=o.alloc(0),v=0;m.length<p;)h=s(v++),m=o.concat([m,a("sha1").update(l).update(h).digest()]);return m.slice(0,p)}},{"create-hash":331,"safe-buffer":494}],470:[function(r,n,i){arguments[4][181][0].apply(i,arguments)},{buffer:185,dup:181}],471:[function(r,n,i){var a=r("parse-asn1"),o=r("./mgf"),s=r("./xor"),l=r("bn.js"),p=r("browserify-rsa"),h=r("create-hash"),m=r("./withPublic"),v=r("safe-buffer").Buffer;n.exports=function(f,u,c){var d;d=f.padding?f.padding:c?1:4;var _,g=a(f),y=g.modulus.byteLength();if(u.length>y||new l(u).cmp(g.modulus)>=0)throw new Error("decryption error");_=c?m(new l(u),g):p(u,g);var b=v.alloc(y-_.length);if(_=v.concat([b,_],y),d===4)return function(C,w){var x=C.modulus.byteLength(),A=h("sha1").update(v.alloc(0)).digest(),D=A.length;if(w[0]!==0)throw new Error("decryption error");var P=w.slice(1,D+1),k=w.slice(D+1),B=s(P,o(k,D)),E=s(k,o(B,x-D-1));if(function(S,R){S=v.from(S),R=v.from(R);var T=0,I=S.length;S.length!==R.length&&(T++,I=Math.min(S.length,R.length));for(var M=-1;++M<I;)T+=S[M]^R[M];return T}(A,E.slice(0,D)))throw new Error("decryption error");for(var O=D;E[O]===0;)O++;if(E[O++]!==1)throw new Error("decryption error");return E.slice(O)}(g,_);if(d===1)return function(C,w,x){for(var A=w.slice(0,2),D=2,P=0;w[D++]!==0;)if(D>=w.length){P++;break}var k=w.slice(2,D-1);if((A.toString("hex")!=="0002"&&!x||A.toString("hex")!=="0001"&&x)&&P++,k.length<8&&P++,P)throw new Error("decryption error");return w.slice(D)}(0,_,c);if(d===3)return _;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":206,"create-hash":331,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var a=r("parse-asn1"),o=r("randombytes"),s=r("create-hash"),l=r("./mgf"),p=r("./xor"),h=r("bn.js"),m=r("./withPublic"),v=r("browserify-rsa"),f=r("safe-buffer").Buffer;n.exports=function(u,c,d){var _;_=u.padding?u.padding:d?1:4;var g,y=a(u);if(_===4)g=function(b,C){var w=b.modulus.byteLength(),x=C.length,A=s("sha1").update(f.alloc(0)).digest(),D=A.length,P=2*D;if(x>w-P-2)throw new Error("message too long");var k=f.alloc(w-x-P-2),B=w-D-1,E=o(D),O=p(f.concat([A,k,f.alloc(1,1),C],B),l(E,B)),S=p(E,l(O,D));return new h(f.concat([f.alloc(1),S,O],w))}(y,c);else if(_===1)g=function(b,C,w){var x,A=C.length,D=b.modulus.byteLength();if(A>D-11)throw new Error("message too long");return x=w?f.alloc(D-A-3,255):function(P){for(var k,B=f.allocUnsafe(P),E=0,O=o(2*P),S=0;E<P;)S===O.length&&(O=o(2*P),S=0),(k=O[S++])&&(B[E++]=k);return B}(D-A-3),new h(f.concat([f.from([0,w?1:2]),x,f.alloc(1),C],D))}(y,c,d);else{if(_!==3)throw new Error("unknown padding");if((g=new h(c)).cmp(y.modulus)>=0)throw new Error("data too long for modulus")}return d?v(g,y):m(g,y)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":206,"create-hash":331,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var a=r("bn.js"),o=r("safe-buffer").Buffer;n.exports=function(s,l){return o.from(s.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(a,o){for(var s=a.length,l=-1;++l<s;)a[l]^=o[l];return a}},{}],475:[function(r,n,i){(function(a,o){var s=r("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(p,h){if(p>4294967295)throw new RangeError("requested too many random bytes");var m=s.allocUnsafe(p);if(p>0)if(p>65536)for(var v=0;v<p;v+=65536)l.getRandomValues(m.slice(v,v+65536));else l.getRandomValues(m);return typeof h=="function"?a.nextTick(function(){h(null,m)}):m}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(a,o){function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),p=r("randombytes"),h=l.Buffer,m=l.kMaxLength,v=o.crypto||o.msCrypto,f=Math.pow(2,32)-1;function u(_,g){if(typeof _!="number"||_!=_)throw new TypeError("offset must be a number");if(_>f||_<0)throw new TypeError("offset must be a uint32");if(_>m||_>g)throw new RangeError("offset out of range")}function c(_,g,y){if(typeof _!="number"||_!=_)throw new TypeError("size must be a number");if(_>f||_<0)throw new TypeError("size must be a uint32");if(_+g>y||_>m)throw new RangeError("buffer too small")}function d(_,g,y,b){if(a.browser){var C=_.buffer,w=new Uint8Array(C,g,y);return v.getRandomValues(w),b?void a.nextTick(function(){b(null,_)}):_}if(!b)return p(y).copy(_,g),_;p(y,function(x,A){if(x)return b(x);A.copy(_,g),b(null,_)})}v&&v.getRandomValues||!a.browser?(i.randomFill=function(_,g,y,b){if(!(h.isBuffer(_)||_ instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")b=g,g=0,y=_.length;else if(typeof y=="function")b=y,y=_.length-g;else if(typeof b!="function")throw new TypeError('"cb" argument must be a function');return u(g,_.length),c(y,g,_.length),d(_,g,y,b)},i.randomFillSync=function(_,g,y){if(g===void 0&&(g=0),!(h.isBuffer(_)||_ instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return u(g,_.length),y===void 0&&(y=_.length-g),c(y,g,_.length),d(_,g,y)}):(i.randomFill=s,i.randomFillSync=s)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}var o={};function s(p,h,m){m||(m=Error);var v=function(f){var u,c;function d(_,g,y){return f.call(this,function(b,C,w){return typeof h=="string"?h:h(b,C,w)}(_,g,y))||this}return c=f,(u=d).prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c,d}(m);v.prototype.name=m.name,v.prototype.code=p,o[p]=v}function l(p,h){if(Array.isArray(p)){var m=p.length;return p=p.map(function(v){return String(v)}),m>2?"one of ".concat(h," ").concat(p.slice(0,m-1).join(", "),", or ")+p[m-1]:m===2?"one of ".concat(h," ").concat(p[0]," or ").concat(p[1]):"of ".concat(h," ").concat(p[0])}return"of ".concat(h," ").concat(String(p))}s("ERR_INVALID_OPT_VALUE",function(p,h){return'The value "'+h+'" is invalid for option "'+p+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(p,h,m){var v,f,u;if(typeof h=="string"&&(f="not ",h.substr(0,f.length)===f)?(v="must not be",h=h.replace(/^not /,"")):v="must be",function(d,_,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-_.length,g)===_}(p," argument"))u="The ".concat(p," ").concat(v," ").concat(l(h,"type"));else{var c=function(d,_,g){return typeof g!="number"&&(g=0),!(g+_.length>d.length)&&d.indexOf(_,g)!==-1}(p,".")?"property":"argument";u='The "'.concat(p,'" ').concat(c," ").concat(v," ").concat(l(h,"type"))}return u+=". Received type ".concat(a(m))},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=o},{}],478:[function(r,n,i){(function(a){var o=Object.keys||function(c){var d=[];for(var _ in c)d.push(_);return d};n.exports=v;var s=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(v,s);for(var p=o(l.prototype),h=0;h<p.length;h++){var m=p[h];v.prototype[m]||(v.prototype[m]=l.prototype[m])}function v(c){if(!(this instanceof v))return new v(c);s.call(this,c),l.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||a.nextTick(u,this)}function u(c){c.end()}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}})}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:387}],479:[function(r,n,i){n.exports=o;var a=r("./_stream_transform");function o(s){if(!(this instanceof o))return new o(s);a.call(this,s)}r("inherits")(o,a),o.prototype._transform=function(s,l,p){p(null,s)}},{"./_stream_transform":481,inherits:387}],480:[function(r,n,i){(function(a,o){var s;n.exports=B,B.ReadableState=k,r("events").EventEmitter;var l=function($,L){return $.listeners(L).length},p=r("./internal/streams/stream"),h=r("buffer").Buffer,m=o.Uint8Array||function(){},v,f=r("util");v=f&&f.debuglog?f.debuglog("stream"):function(){};var u,c,d,_=r("./internal/streams/buffer_list"),g=r("./internal/streams/destroy"),y=r("./internal/streams/state").getHighWaterMark,b=r("../errors").codes,C=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,x=b.ERR_METHOD_NOT_IMPLEMENTED,A=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(B,p);var D=g.errorOrDestroy,P=["error","close","destroy","pause","resume"];function k($,L,F){s=s||r("./_stream_duplex"),$=$||{},typeof F!="boolean"&&(F=L instanceof s),this.objectMode=!!$.objectMode,F&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=y(this,$,"readableHighWaterMark",F),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(u||(u=r("string_decoder/").StringDecoder),this.decoder=new u($.encoding),this.encoding=$.encoding)}function B($){if(s=s||r("./_stream_duplex"),!(this instanceof B))return new B($);var L=this instanceof s;this._readableState=new k($,this,L),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),p.call(this)}function E($,L,F,z,Z){v("readableAddChunk",L);var J,ee=$._readableState;if(L===null)ee.reading=!1,function(pe,le){if(v("onEofChunk"),!le.ended){if(le.decoder){var ye=le.decoder.end();ye&&ye.length&&(le.buffer.push(ye),le.length+=le.objectMode?1:ye.length)}le.ended=!0,le.sync?R(pe):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,T(pe)))}}($,ee);else if(Z||(J=function(pe,le){var ye;ke=le,h.isBuffer(ke)||ke instanceof m||typeof le=="string"||le===void 0||pe.objectMode||(ye=new C("chunk",["string","Buffer","Uint8Array"],le));var ke;return ye}(ee,L)),J)D($,J);else if(ee.objectMode||L&&L.length>0)if(typeof L=="string"||ee.objectMode||Object.getPrototypeOf(L)===h.prototype||(L=function(pe){return h.from(pe)}(L)),z)ee.endEmitted?D($,new A):O($,ee,L,!0);else if(ee.ended)D($,new w);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!F?(L=ee.decoder.write(L),ee.objectMode||L.length!==0?O($,ee,L,!1):I($,ee)):O($,ee,L,!1)}else z||(ee.reading=!1,I($,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function O($,L,F,z){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,$.emit("data",F)):(L.length+=L.objectMode?1:F.length,z?L.buffer.unshift(F):L.buffer.push(F),L.needReadable&&R($)),I($,L)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),B.prototype.destroy=g.destroy,B.prototype._undestroy=g.undestroy,B.prototype._destroy=function($,L){L($)},B.prototype.push=function($,L){var F,z=this._readableState;return z.objectMode?F=!0:typeof $=="string"&&((L=L||z.defaultEncoding)!==z.encoding&&($=h.from($,L),L=""),F=!0),E(this,$,L,!1,F)},B.prototype.unshift=function($){return E(this,$,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function($){u||(u=r("string_decoder/").StringDecoder);var L=new u($);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var F=this._readableState.buffer.head,z="";F!==null;)z+=L.write(F.data),F=F.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};function S($,L){return $<=0||L.length===0&&L.ended?0:L.objectMode?1:$!=$?L.flowing&&L.length?L.buffer.head.data.length:L.length:($>L.highWaterMark&&(L.highWaterMark=function(F){return F>=1073741824?F=1073741824:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}($)),$<=L.length?$:L.ended?L.length:(L.needReadable=!0,0))}function R($){var L=$._readableState;v("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(v("emitReadable",L.flowing),L.emittedReadable=!0,a.nextTick(T,$))}function T($){var L=$._readableState;v("emitReadable_",L.destroyed,L.length,L.ended),L.destroyed||!L.length&&!L.ended||($.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,U($)}function I($,L){L.readingMore||(L.readingMore=!0,a.nextTick(M,$,L))}function M($,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var F=L.length;if(v("maybeReadMore read 0"),$.read(0),F===L.length)break}L.readingMore=!1}function N($){var L=$._readableState;L.readableListening=$.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:$.listenerCount("data")>0&&$.resume()}function j($){v("readable nexttick read 0"),$.read(0)}function H($,L){v("resume",L.reading),L.reading||$.read(0),L.resumeScheduled=!1,$.emit("resume"),U($),L.flowing&&!L.reading&&$.read(0)}function U($){var L=$._readableState;for(v("flow",L.flowing);L.flowing&&$.read()!==null;);}function W($,L){return L.length===0?null:(L.objectMode?F=L.buffer.shift():!$||$>=L.length?(F=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):F=L.buffer.consume($,L.decoder),F);var F}function G($){var L=$._readableState;v("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,a.nextTick(K,L,$))}function K($,L){if(v("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,L.readable=!1,L.emit("end"),$.autoDestroy)){var F=L._writableState;(!F||F.autoDestroy&&F.finished)&&L.destroy()}}function Q($,L){for(var F=0,z=$.length;F<z;F++)if($[F]===L)return F;return-1}B.prototype.read=function($){v("read",$),$=parseInt($,10);var L=this._readableState,F=$;if($!==0&&(L.emittedReadable=!1),$===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return v("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?G(this):R(this),null;if(($=S($,L))===0&&L.ended)return L.length===0&&G(this),null;var z,Z=L.needReadable;return v("need readable",Z),(L.length===0||L.length-$<L.highWaterMark)&&v("length less than watermark",Z=!0),L.ended||L.reading?v("reading or ended",Z=!1):Z&&(v("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||($=S(F,L))),(z=$>0?W($,L):null)===null?(L.needReadable=L.length<=L.highWaterMark,$=0):(L.length-=$,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),F!==$&&L.ended&&G(this)),z!==null&&this.emit("data",z),z},B.prototype._read=function($){D(this,new x("_read()"))},B.prototype.pipe=function($,L){var F=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=$;break;case 1:z.pipes=[z.pipes,$];break;default:z.pipes.push($)}z.pipesCount+=1,v("pipe count=%d opts=%j",z.pipesCount,L);var Z=(!L||L.end!==!1)&&$!==a.stdout&&$!==a.stderr?ee:je;function J(Be,$e){v("onunpipe"),Be===F&&$e&&$e.hasUnpiped===!1&&($e.hasUnpiped=!0,v("cleanup"),$.removeListener("close",be),$.removeListener("finish",Je),$.removeListener("drain",pe),$.removeListener("error",ke),$.removeListener("unpipe",J),F.removeListener("end",ee),F.removeListener("end",je),F.removeListener("data",ye),le=!0,!z.awaitDrain||$._writableState&&!$._writableState.needDrain||pe())}function ee(){v("onend"),$.end()}z.endEmitted?a.nextTick(Z):F.once("end",Z),$.on("unpipe",J);var pe=function(Be){return function(){var $e=Be._readableState;v("pipeOnDrain",$e.awaitDrain),$e.awaitDrain&&$e.awaitDrain--,$e.awaitDrain===0&&l(Be,"data")&&($e.flowing=!0,U(Be))}}(F);$.on("drain",pe);var le=!1;function ye(Be){v("ondata");var $e=$.write(Be);v("dest.write",$e),$e===!1&&((z.pipesCount===1&&z.pipes===$||z.pipesCount>1&&Q(z.pipes,$)!==-1)&&!le&&(v("false write response, pause",z.awaitDrain),z.awaitDrain++),F.pause())}function ke(Be){v("onerror",Be),je(),$.removeListener("error",ke),l($,"error")===0&&D($,Be)}function be(){$.removeListener("finish",Je),je()}function Je(){v("onfinish"),$.removeListener("close",be),je()}function je(){v("unpipe"),F.unpipe($)}return F.on("data",ye),function(Be,$e,nt){if(typeof Be.prependListener=="function")return Be.prependListener($e,nt);Be._events&&Be._events[$e]?Array.isArray(Be._events[$e])?Be._events[$e].unshift(nt):Be._events[$e]=[nt,Be._events[$e]]:Be.on($e,nt)}($,"error",ke),$.once("close",be),$.once("finish",Je),$.emit("pipe",F),z.flowing||(v("pipe resume"),F.resume()),$},B.prototype.unpipe=function($){var L=this._readableState,F={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return $&&$!==L.pipes||($||($=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,$&&$.emit("unpipe",this,F)),this;if(!$){var z=L.pipes,Z=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var J=0;J<Z;J++)z[J].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=Q(L.pipes,$);return ee===-1||(L.pipes.splice(ee,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),$.emit("unpipe",this,F)),this},B.prototype.on=function($,L){var F=p.prototype.on.call(this,$,L),z=this._readableState;return $==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):$==="readable"&&(z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,v("on readable",z.length,z.reading),z.length?R(this):z.reading||a.nextTick(j,this))),F},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function($,L){var F=p.prototype.removeListener.call(this,$,L);return $==="readable"&&a.nextTick(N,this),F},B.prototype.removeAllListeners=function($){var L=p.prototype.removeAllListeners.apply(this,arguments);return $!=="readable"&&$!==void 0||a.nextTick(N,this),L},B.prototype.resume=function(){var $=this._readableState;return $.flowing||(v("resume"),$.flowing=!$.readableListening,function(L,F){F.resumeScheduled||(F.resumeScheduled=!0,a.nextTick(H,L,F))}(this,$)),$.paused=!1,this},B.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function($){var L=this,F=this._readableState,z=!1;for(var Z in $.on("end",function(){if(v("wrapped end"),F.decoder&&!F.ended){var ee=F.decoder.end();ee&&ee.length&&L.push(ee)}L.push(null)}),$.on("data",function(ee){v("wrapped data"),F.decoder&&(ee=F.decoder.write(ee)),F.objectMode&&ee==null||(F.objectMode||ee&&ee.length)&&(L.push(ee)||(z=!0,$.pause()))}),$)this[Z]===void 0&&typeof $[Z]=="function"&&(this[Z]=function(ee){return function(){return $[ee].apply($,arguments)}}(Z));for(var J=0;J<P.length;J++)$.on(P[J],this.emit.bind(this,P[J]));return this._read=function(ee){v("wrapped _read",ee),z&&(z=!1,$.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=r("./internal/streams/async_iterator")),c(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),B._fromList=W,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(B.from=function($,L){return d===void 0&&(d=r("./internal/streams/from")),d(B,$,L)})}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:216,events:367,inherits:387,"string_decoder/":520,util:185}],481:[function(r,n,i){n.exports=v;var a=r("../errors").codes,o=a.ERR_METHOD_NOT_IMPLEMENTED,s=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=a.ERR_TRANSFORM_WITH_LENGTH_0,h=r("./_stream_duplex");function m(c,d){var _=this._transformState;_.transforming=!1;var g=_.writecb;if(g===null)return this.emit("error",new s);_.writechunk=null,_.writecb=null,d!=null&&this.push(d),g(c);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function v(c){if(!(this instanceof v))return new v(c);h.call(this,c),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",f)}function f(){var c=this;typeof this._flush!="function"||this._readableState.destroyed?u(this,null,null):this._flush(function(d,_){u(c,d,_)})}function u(c,d,_){if(d)return c.emit("error",d);if(_!=null&&c.push(_),c._writableState.length)throw new p;if(c._transformState.transforming)throw new l;return c.push(null)}r("inherits")(v,h),v.prototype.push=function(c,d){return this._transformState.needTransform=!1,h.prototype.push.call(this,c,d)},v.prototype._transform=function(c,d,_){_(new o("_transform()"))},v.prototype._write=function(c,d,_){var g=this._transformState;if(g.writecb=_,g.writechunk=c,g.writeencoding=d,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},v.prototype._read=function(c){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},v.prototype._destroy=function(c,d){h.prototype._destroy.call(this,c,function(_){d(_)})}},{"../errors":477,"./_stream_duplex":478,inherits:387}],482:[function(r,n,i){(function(a,o){function s(M){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(j,H,U){var W=j.entry;for(j.entry=null;W;){var G=W.callback;H.pendingcb--,G(U),W=W.next}H.corkedRequestsFree.next=j})(N,M)}}var l;n.exports=B,B.WritableState=k;var p={deprecate:r("util-deprecate")},h=r("./internal/streams/stream"),m=r("buffer").Buffer,v=o.Uint8Array||function(){},f,u=r("./internal/streams/destroy"),c=r("./internal/streams/state").getHighWaterMark,d=r("../errors").codes,_=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,b=d.ERR_STREAM_CANNOT_PIPE,C=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,x=d.ERR_STREAM_WRITE_AFTER_END,A=d.ERR_UNKNOWN_ENCODING,D=u.errorOrDestroy;function P(){}function k(M,N,j){l=l||r("./_stream_duplex"),M=M||{},typeof j!="boolean"&&(j=N instanceof l),this.objectMode=!!M.objectMode,j&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=c(this,M,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=M.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(W,G){var K=W._writableState,Q=K.sync,$=K.writecb;if(typeof $!="function")throw new y;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(K),G)(function(F,z,Z,J,ee){--z.pendingcb,Z?(a.nextTick(ee,J),a.nextTick(I,F,z),F._writableState.errorEmitted=!0,D(F,J)):(ee(J),F._writableState.errorEmitted=!0,D(F,J),I(F,z))})(W,K,Q,G,$);else{var L=R(K)||W.destroyed;L||K.corked||K.bufferProcessing||!K.bufferedRequest||S(W,K),Q?a.nextTick(O,W,K,L,$):O(W,K,L,$)}})(N,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function B(M){var N=this instanceof(l=l||r("./_stream_duplex"));if(!N&&!f.call(B,this))return new B(M);this._writableState=new k(M,this,N),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),h.call(this)}function E(M,N,j,H,U,W,G){N.writelen=H,N.writecb=G,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new C("write")):j?M._writev(U,N.onwrite):M._write(U,W,N.onwrite),N.sync=!1}function O(M,N,j,H){j||function(U,W){W.length===0&&W.needDrain&&(W.needDrain=!1,U.emit("drain"))}(M,N),N.pendingcb--,H(),I(M,N)}function S(M,N){N.bufferProcessing=!0;var j=N.bufferedRequest;if(M._writev&&j&&j.next){var H=N.bufferedRequestCount,U=new Array(H),W=N.corkedRequestsFree;W.entry=j;for(var G=0,K=!0;j;)U[G]=j,j.isBuf||(K=!1),j=j.next,G+=1;U.allBuffers=K,E(M,N,!0,N.length,U,"",W.finish),N.pendingcb++,N.lastBufferedRequest=null,W.next?(N.corkedRequestsFree=W.next,W.next=null):N.corkedRequestsFree=new s(N),N.bufferedRequestCount=0}else{for(;j;){var Q=j.chunk,$=j.encoding,L=j.callback;if(E(M,N,!1,N.objectMode?1:Q.length,Q,$,L),j=j.next,N.bufferedRequestCount--,N.writing)break}j===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=j,N.bufferProcessing=!1}function R(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function T(M,N){M._final(function(j){N.pendingcb--,j&&D(M,j),N.prefinished=!0,M.emit("prefinish"),I(M,N)})}function I(M,N){var j=R(N);if(j&&(function(U,W){W.prefinished||W.finalCalled||(typeof U._final!="function"||W.destroyed?(W.prefinished=!0,U.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,a.nextTick(T,U,W)))}(M,N),N.pendingcb===0&&(N.finished=!0,M.emit("finish"),N.autoDestroy))){var H=M._readableState;(!H||H.autoDestroy&&H.endEmitted)&&M.destroy()}return j}r("inherits")(B,h),k.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},function(){try{Object.defineProperty(k.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(M){return!!f.call(this,M)||this===B&&M&&M._writableState instanceof k}})):f=function(M){return M instanceof this},B.prototype.pipe=function(){D(this,new b)},B.prototype.write=function(M,N,j){var H,U=this._writableState,W=!1,G=!U.objectMode&&(H=M,m.isBuffer(H)||H instanceof v);return G&&!m.isBuffer(M)&&(M=function(K){return m.from(K)}(M)),typeof N=="function"&&(j=N,N=null),G?N="buffer":N||(N=U.defaultEncoding),typeof j!="function"&&(j=P),U.ending?function(K,Q){var $=new x;D(K,$),a.nextTick(Q,$)}(this,j):(G||function(K,Q,$,L){var F;return $===null?F=new w:typeof $=="string"||Q.objectMode||(F=new _("chunk",["string","Buffer"],$)),!F||(D(K,F),a.nextTick(L,F),!1)}(this,U,M,j))&&(U.pendingcb++,W=function(K,Q,$,L,F,z){if(!$){var Z=function(le,ye,ke){return le.objectMode||le.decodeStrings===!1||typeof ye!="string"||(ye=m.from(ye,ke)),ye}(Q,L,F);L!==Z&&($=!0,F="buffer",L=Z)}var J=Q.objectMode?1:L.length;Q.length+=J;var ee=Q.length<Q.highWaterMark;if(ee||(Q.needDrain=!0),Q.writing||Q.corked){var pe=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:L,encoding:F,isBuf:$,callback:z,next:null},pe?pe.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else E(K,Q,!1,J,L,F,z);return ee}(this,U,G,M,N,j)),W},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,M.writing||M.corked||M.bufferProcessing||!M.bufferedRequest||S(this,M))},B.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new A(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(M,N,j){j(new g("_write()"))},B.prototype._writev=null,B.prototype.end=function(M,N,j){var H=this._writableState;return typeof M=="function"?(j=M,M=null,N=null):typeof N=="function"&&(j=N,N=null),M!=null&&this.write(M,N),H.corked&&(H.corked=1,this.uncork()),H.ending||function(U,W,G){W.ending=!0,I(U,W),G&&(W.finished?a.nextTick(G):U.once("finish",G)),W.ended=!0,U.writable=!1}(this,H,j),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(M,N){N(M)}}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:216,inherits:387,"util-deprecate":522}],483:[function(r,n,i){(function(a){var o;function s(C,w,x){return w in C?Object.defineProperty(C,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[w]=x,C}var l=r("./end-of-stream"),p=Symbol("lastResolve"),h=Symbol("lastReject"),m=Symbol("error"),v=Symbol("ended"),f=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function d(C,w){return{value:C,done:w}}function _(C){var w=C[p];if(w!==null){var x=C[c].read();x!==null&&(C[f]=null,C[p]=null,C[h]=null,w(d(x,!1)))}}function g(C){a.nextTick(_,C)}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((s(o={get stream(){return this[c]},next:function(){var C=this,w=this[m];if(w!==null)return Promise.reject(w);if(this[v])return Promise.resolve(d(void 0,!0));if(this[c].destroyed)return new Promise(function(P,k){a.nextTick(function(){C[m]?k(C[m]):P(d(void 0,!0))})});var x,A=this[f];if(A)x=new Promise(function(P,k){return function(B,E){P.then(function(){k[v]?B(d(void 0,!0)):k[u](B,E)},E)}}(A,this));else{var D=this[c].read();if(D!==null)return Promise.resolve(d(D,!1));x=new Promise(this[u])}return this[f]=x,x}},Symbol.asyncIterator,function(){return this}),s(o,"return",function(){var C=this;return new Promise(function(w,x){C[c].destroy(null,function(A){A?x(A):w(d(void 0,!0))})})}),o),y);n.exports=function(C){var w,x=Object.create(b,(s(w={},c,{value:C,writable:!0}),s(w,p,{value:null,writable:!0}),s(w,h,{value:null,writable:!0}),s(w,m,{value:null,writable:!0}),s(w,v,{value:C._readableState.endEmitted,writable:!0}),s(w,u,{value:function(A,D){var P=x[c].read();P?(x[f]=null,x[p]=null,x[h]=null,A(d(P,!1))):(x[p]=A,x[h]=D)},writable:!0}),w));return x[f]=null,l(C,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=x[h];return D!==null&&(x[f]=null,x[p]=null,x[h]=null,D(A)),void(x[m]=A)}var P=x[p];P!==null&&(x[f]=null,x[p]=null,x[h]=null,P(d(void 0,!0))),x[v]=!0}),C.on("readable",g.bind(null,x)),x}}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function a(m,v){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);v&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(m,c).enumerable})),f.push.apply(f,u)}return f}function o(m,v,f){return v in m?Object.defineProperty(m,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[v]=f,m}function s(m,v){for(var f=0;f<v.length;f++){var u=v[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}var l=r("buffer").Buffer,p=r("util").inspect,h=p&&p.custom||"inspect";n.exports=function(){function m(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var v,f;return v=m,(f=[{key:"push",value:function(u){var c={data:u,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(u){var c={data:u,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(u){if(this.length===0)return"";for(var c=this.head,d=""+c.data;c=c.next;)d+=u+c.data;return d}},{key:"concat",value:function(u){if(this.length===0)return l.alloc(0);for(var c,d,_,g=l.allocUnsafe(u>>>0),y=this.head,b=0;y;)c=y.data,d=g,_=b,l.prototype.copy.call(c,d,_),b+=y.data.length,y=y.next;return g}},{key:"consume",value:function(u,c){var d;return u<this.head.data.length?(d=this.head.data.slice(0,u),this.head.data=this.head.data.slice(u)):d=u===this.head.data.length?this.shift():c?this._getString(u):this._getBuffer(u),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(u){var c=this.head,d=1,_=c.data;for(u-=_.length;c=c.next;){var g=c.data,y=u>g.length?g.length:u;if(y===g.length?_+=g:_+=g.slice(0,u),(u-=y)==0){y===g.length?(++d,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=g.slice(y));break}++d}return this.length-=d,_}},{key:"_getBuffer",value:function(u){var c=l.allocUnsafe(u),d=this.head,_=1;for(d.data.copy(c),u-=d.data.length;d=d.next;){var g=d.data,y=u>g.length?g.length:u;if(g.copy(c,c.length-u,0,y),(u-=y)==0){y===g.length?(++_,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=g.slice(y));break}++_}return this.length-=_,c}},{key:h,value:function(u,c){return p(this,function(d){for(var _=1;_<arguments.length;_++){var g=arguments[_]!=null?arguments[_]:{};_%2?a(Object(g),!0).forEach(function(y){o(d,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(y){Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(g,y))})}return d}({},c,{depth:0,customInspect:!1}))}}])&&s(v.prototype,f),m}()},{buffer:216,util:185}],485:[function(r,n,i){(function(a){function o(p,h){l(p,h),s(p)}function s(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function l(p,h){p.emit("error",h)}n.exports={destroy:function(p,h){var m=this,v=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return v||f?(h?h(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,p)):a.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(u){!h&&u?m._writableState?m._writableState.errorEmitted?a.nextTick(s,m):(m._writableState.errorEmitted=!0,a.nextTick(o,m,u)):a.nextTick(o,m,u):h?(a.nextTick(s,m),h(u)):a.nextTick(s,m)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(p,h){var m=p._readableState,v=p._writableState;m&&m.autoDestroy||v&&v.autoDestroy?p.destroy(h):p.emit("error",h)}}}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var a=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function s(l,p,h){if(typeof p=="function")return s(l,null,p);p||(p={}),h=function(C){var w=!1;return function(){if(!w){w=!0;for(var x=arguments.length,A=new Array(x),D=0;D<x;D++)A[D]=arguments[D];C.apply(this,A)}}}(h||o);var m=p.readable||p.readable!==!1&&l.readable,v=p.writable||p.writable!==!1&&l.writable,f=function(){l.writable||c()},u=l._writableState&&l._writableState.finished,c=function(){v=!1,u=!0,m||h.call(l)},d=l._readableState&&l._readableState.endEmitted,_=function(){m=!1,d=!0,v||h.call(l)},g=function(C){h.call(l,C)},y=function(){var C;return m&&!d?(l._readableState&&l._readableState.ended||(C=new a),h.call(l,C)):v&&!u?(l._writableState&&l._writableState.ended||(C=new a),h.call(l,C)):void 0},b=function(){l.req.on("finish",c)};return function(C){return C.setHeader&&typeof C.abort=="function"}(l)?(l.on("complete",c),l.on("abort",y),l.req?b():l.on("request",b)):v&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",_),l.on("finish",c),p.error!==!1&&l.on("error",g),l.on("close",y),function(){l.removeListener("complete",c),l.removeListener("abort",y),l.removeListener("request",b),l.req&&l.req.removeListener("finish",c),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",c),l.removeListener("end",_),l.removeListener("error",g),l.removeListener("close",y)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var a,o=r("../../../errors").codes,s=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function p(u){if(u)throw u}function h(u,c,d,_){_=function(b){var C=!1;return function(){C||(C=!0,b.apply(void 0,arguments))}}(_);var g=!1;u.on("close",function(){g=!0}),a===void 0&&(a=r("./end-of-stream")),a(u,{readable:c,writable:d},function(b){if(b)return _(b);g=!0,_()});var y=!1;return function(b){if(!g&&!y)return y=!0,function(C){return C.setHeader&&typeof C.abort=="function"}(u)?u.abort():typeof u.destroy=="function"?u.destroy():void _(b||new l("pipe"))}}function m(u){u()}function v(u,c){return u.pipe(c)}function f(u){return u.length?typeof u[u.length-1]!="function"?p:u.pop():p}n.exports=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];var _,g=f(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new s("streams");var y=c.map(function(b,C){var w=C<c.length-1;return h(b,w,C>0,function(x){_||(_=x),x&&y.forEach(m),w||(y.forEach(m),g(_))})});return c.reduce(v)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var a=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,s,l,p){var h=function(m,v,f){return m.highWaterMark!=null?m.highWaterMark:v?m[f]:null}(s,p,l);if(h!=null){if(!isFinite(h)||Math.floor(h)!==h||h<0)throw new a(p?l:"highWaterMark",h);return Math.floor(h)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:367}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){function a(s){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}var o=function(s){var l=Object.prototype,p=l.hasOwnProperty,h=typeof Symbol=="function"?Symbol:{},m=h.iterator||"@@iterator",v=h.asyncIterator||"@@asyncIterator",f=h.toStringTag||"@@toStringTag";function u(T,I,M){return Object.defineProperty(T,I,{value:M,enumerable:!0,configurable:!0,writable:!0}),T[I]}try{u({},"")}catch{u=function(I,M,N){return I[M]=N}}function c(T,I,M,N){var j=I&&I.prototype instanceof g?I:g,H=Object.create(j.prototype),U=new O(N||[]);return H._invoke=function(W,G,K){var Q="suspendedStart";return function($,L){if(Q==="executing")throw new Error("Generator is already running");if(Q==="completed"){if($==="throw")throw L;return R()}for(K.method=$,K.arg=L;;){var F=K.delegate;if(F){var z=k(F,K);if(z){if(z===_)continue;return z}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(Q==="suspendedStart")throw Q="completed",K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);Q="executing";var Z=d(W,G,K);if(Z.type==="normal"){if(Q=K.done?"completed":"suspendedYield",Z.arg===_)continue;return{value:Z.arg,done:K.done}}Z.type==="throw"&&(Q="completed",K.method="throw",K.arg=Z.arg)}}}(T,M,U),H}function d(T,I,M){try{return{type:"normal",arg:T.call(I,M)}}catch(N){return{type:"throw",arg:N}}}s.wrap=c;var _={};function g(){}function y(){}function b(){}var C={};C[m]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(S([])));x&&x!==l&&p.call(x,m)&&(C=x);var A=b.prototype=g.prototype=Object.create(C);function D(T){["next","throw","return"].forEach(function(I){u(T,I,function(M){return this._invoke(I,M)})})}function P(T,I){var M;this._invoke=function(N,j){function H(){return new I(function(U,W){(function G(K,Q,$,L){var F=d(T[K],T,Q);if(F.type!=="throw"){var z=F.arg,Z=z.value;return Z&&a(Z)==="object"&&p.call(Z,"__await")?I.resolve(Z.__await).then(function(J){G("next",J,$,L)},function(J){G("throw",J,$,L)}):I.resolve(Z).then(function(J){z.value=J,$(z)},function(J){return G("throw",J,$,L)})}L(F.arg)})(N,j,U,W)})}return M=M?M.then(H,H):H()}}function k(T,I){var M=T.iterator[I.method];if(M===void 0){if(I.delegate=null,I.method==="throw"){if(T.iterator.return&&(I.method="return",I.arg=void 0,k(T,I),I.method==="throw"))return _;I.method="throw",I.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var N=d(M,T.iterator,I.arg);if(N.type==="throw")return I.method="throw",I.arg=N.arg,I.delegate=null,_;var j=N.arg;return j?j.done?(I[T.resultName]=j.value,I.next=T.nextLoc,I.method!=="return"&&(I.method="next",I.arg=void 0),I.delegate=null,_):j:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,_)}function B(T){var I={tryLoc:T[0]};1 in T&&(I.catchLoc=T[1]),2 in T&&(I.finallyLoc=T[2],I.afterLoc=T[3]),this.tryEntries.push(I)}function E(T){var I=T.completion||{};I.type="normal",delete I.arg,T.completion=I}function O(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(B,this),this.reset(!0)}function S(T){if(T){var I=T[m];if(I)return I.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var M=-1,N=function j(){for(;++M<T.length;)if(p.call(T,M))return j.value=T[M],j.done=!1,j;return j.value=void 0,j.done=!0,j};return N.next=N}}return{next:R}}function R(){return{value:void 0,done:!0}}return y.prototype=A.constructor=b,b.constructor=y,y.displayName=u(b,f,"GeneratorFunction"),s.isGeneratorFunction=function(T){var I=typeof T=="function"&&T.constructor;return!!I&&(I===y||(I.displayName||I.name)==="GeneratorFunction")},s.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,b):(T.__proto__=b,u(T,f,"GeneratorFunction")),T.prototype=Object.create(A),T},s.awrap=function(T){return{__await:T}},D(P.prototype),P.prototype[v]=function(){return this},s.AsyncIterator=P,s.async=function(T,I,M,N,j){j===void 0&&(j=Promise);var H=new P(c(T,I,M,N),j);return s.isGeneratorFunction(I)?H:H.next().then(function(U){return U.done?U.value:H.next()})},D(A),u(A,f,"Generator"),A[m]=function(){return this},A.toString=function(){return"[object Generator]"},s.keys=function(T){var I=[];for(var M in T)I.push(M);return I.reverse(),function N(){for(;I.length;){var j=I.pop();if(j in T)return N.value=j,N.done=!1,N}return N.done=!0,N}},s.values=S,O.prototype={constructor:O,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!T)for(var I in this)I.charAt(0)==="t"&&p.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var I=this;function M(G,K){return H.type="throw",H.arg=T,I.next=G,K&&(I.method="next",I.arg=void 0),!!K}for(var N=this.tryEntries.length-1;N>=0;--N){var j=this.tryEntries[N],H=j.completion;if(j.tryLoc==="root")return M("end");if(j.tryLoc<=this.prev){var U=p.call(j,"catchLoc"),W=p.call(j,"finallyLoc");if(U&&W){if(this.prev<j.catchLoc)return M(j.catchLoc,!0);if(this.prev<j.finallyLoc)return M(j.finallyLoc)}else if(U){if(this.prev<j.catchLoc)return M(j.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return M(j.finallyLoc)}}}},abrupt:function(T,I){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.tryLoc<=this.prev&&p.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var j=N;break}}j&&(T==="break"||T==="continue")&&j.tryLoc<=I&&I<=j.finallyLoc&&(j=null);var H=j?j.completion:{};return H.type=T,H.arg=I,j?(this.method="next",this.next=j.finallyLoc,_):this.complete(H)},complete:function(T,I){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&I&&(this.next=I),_},finish:function(T){for(var I=this.tryEntries.length-1;I>=0;--I){var M=this.tryEntries[I];if(M.finallyLoc===T)return this.complete(M.completion,M.afterLoc),E(M),_}},catch:function(T){for(var I=this.tryEntries.length-1;I>=0;--I){var M=this.tryEntries[I];if(M.tryLoc===T){var N=M.completion;if(N.type==="throw"){var j=N.arg;E(M)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(T,I,M){return this.delegate={iterator:S(T),resultName:I,nextLoc:M},this.method==="next"&&(this.arg=void 0),_}},s}((n===void 0?"undefined":a(n))==="object"?n.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(r,n,i){var a=r("buffer").Buffer,o=r("inherits"),s=r("hash-base"),l=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],u=[1352829926,1548603684,1836072691,2053994217,0];function c(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(w,x){return w<<x|w>>>32-x}function _(w,x,A,D,P,k,B,E){return d(w+(x^A^D)+k+B|0,E)+P|0}function g(w,x,A,D,P,k,B,E){return d(w+(x&A|~x&D)+k+B|0,E)+P|0}function y(w,x,A,D,P,k,B,E){return d(w+((x|~A)^D)+k+B|0,E)+P|0}function b(w,x,A,D,P,k,B,E){return d(w+(x&D|A&~D)+k+B|0,E)+P|0}function C(w,x,A,D,P,k,B,E){return d(w+(x^(A|~D))+k+B|0,E)+P|0}o(c,s),c.prototype._update=function(){for(var w=l,x=0;x<16;++x)w[x]=this._block.readInt32LE(4*x);for(var A=0|this._a,D=0|this._b,P=0|this._c,k=0|this._d,B=0|this._e,E=0|this._a,O=0|this._b,S=0|this._c,R=0|this._d,T=0|this._e,I=0;I<80;I+=1){var M,N;I<16?(M=_(A,D,P,k,B,w[p[I]],f[0],m[I]),N=C(E,O,S,R,T,w[h[I]],u[0],v[I])):I<32?(M=g(A,D,P,k,B,w[p[I]],f[1],m[I]),N=b(E,O,S,R,T,w[h[I]],u[1],v[I])):I<48?(M=y(A,D,P,k,B,w[p[I]],f[2],m[I]),N=y(E,O,S,R,T,w[h[I]],u[2],v[I])):I<64?(M=b(A,D,P,k,B,w[p[I]],f[3],m[I]),N=g(E,O,S,R,T,w[h[I]],u[3],v[I])):(M=C(A,D,P,k,B,w[p[I]],f[4],m[I]),N=_(E,O,S,R,T,w[h[I]],u[4],v[I])),A=B,B=k,k=d(P,10),P=D,D=M,E=T,T=R,R=d(S,10),S=O,O=N}var j=this._b+P+R|0;this._b=this._c+k+T|0,this._c=this._d+B+E|0,this._d=this._e+A+O|0,this._e=this._a+D+S|0,this._a=j},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var w=a.alloc?a.alloc(20):new a(20);return w.writeInt32LE(this._a,0),w.writeInt32LE(this._b,4),w.writeInt32LE(this._c,8),w.writeInt32LE(this._d,12),w.writeInt32LE(this._e,16),w},n.exports=c},{buffer:216,"hash-base":370,inherits:387}],494:[function(r,n,i){var a=r("buffer"),o=a.Buffer;function s(p,h){for(var m in p)h[m]=p[m]}function l(p,h,m){return o(p,h,m)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(s(a,i),i.Buffer=l),s(o,l),l.from=function(p,h,m){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,h,m)},l.alloc=function(p,h,m){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=o(p);return h!==void 0?typeof m=="string"?v.fill(h,m):v.fill(h):v.fill(0),v},l.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},l.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(p)}},{buffer:216}],495:[function(r,n,i){(function(a){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}var s,l=r("buffer"),p=l.Buffer,h={};for(s in l)l.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(h[s]=l[s]);var m=h.Buffer={};for(s in p)p.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(m[s]=p[s]);if(h.Buffer.prototype=p.prototype,m.from&&m.from!==Uint8Array.from||(m.from=function(v,f,u){if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+o(v));if(v&&v.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(v));return p(v,f,u)}),m.alloc||(m.alloc=function(v,f,u){if(typeof v!="number")throw new TypeError('The "size" argument must be of type number. Received type '+o(v));if(v<0||v>=2*(1<<30))throw new RangeError('The value "'+v+'" is invalid for option "size"');var c=p(v);return f&&f.length!==0?typeof u=="string"?c.fill(f,u):c.fill(f):c.fill(0),c}),!h.kStringMaxLength)try{h.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}h.constants||(h.constants={MAX_LENGTH:h.kMaxLength},h.kStringMaxLength&&(h.constants.MAX_STRING_LENGTH=h.kStringMaxLength)),n.exports=h}).call(this,r("_process"))},{_process:467,buffer:216}],496:[function(r,n,i){function a(G,K){var Q;if(typeof Symbol>"u"||G[Symbol.iterator]==null){if(Array.isArray(G)||(Q=p(G))||K&&G&&typeof G.length=="number"){Q&&(G=Q);var $=0,L=function(){};return{s:L,n:function(){return $>=G.length?{done:!0}:{done:!1,value:G[$++]}},e:function(J){throw J},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,z=!0,Z=!1;return{s:function(){Q=G[Symbol.iterator]()},n:function(){var J=Q.next();return z=J.done,J},e:function(J){Z=!0,F=J},f:function(){try{z||Q.return==null||Q.return()}finally{if(Z)throw F}}}}function o(G){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(G)}function s(G,K){for(var Q=0;Q<K.length;Q++){var $=K[Q];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(G,$.key,$)}}function l(G){return function(K){if(Array.isArray(K))return h(K)}(G)||function(K){if(typeof Symbol<"u"&&Symbol.iterator in Object(K))return Array.from(K)}(G)||p(G)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(G,K){if(G){if(typeof G=="string")return h(G,K);var Q=Object.prototype.toString.call(G).slice(8,-1);return Q==="Object"&&G.constructor&&(Q=G.constructor.name),Q==="Map"||Q==="Set"?Array.from(G):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?h(G,K):void 0}}function h(G,K){(K==null||K>G.length)&&(K=G.length);for(var Q=0,$=new Array(K);Q<K;Q++)$[Q]=G[Q];return $}Object.defineProperty(i,"__esModule",{value:!0});var m=r("xmlchars/xml/1.0/ed5"),v=r("xmlchars/xml/1.1/ed2"),f=r("xmlchars/xmlns/1.0/ed3"),u=m.isS,c=m.isChar,d=m.isNameStartChar,_=m.isNameChar,g=m.S_LIST,y=m.NAME_RE,b=v.isChar,C=f.isNCNameStartChar,w=f.isNCNameChar,x=f.NC_NAME_RE,A="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",P={__proto__:null,xml:A,xmlns:D},k={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=61,E=63,O=function(G){return G===34||G===39},S=[34,39],R=[].concat(S,[91,62]),T=[].concat(S,[60,93]),I=[B,E].concat(l(g)),M=[].concat(l(g),[62,38,60]);function N(G,K,Q){switch(K){case"xml":Q!==A&&G.fail("xml prefix must be bound to ".concat(A,"."));break;case"xmlns":Q!==D&&G.fail("xmlns prefix must be bound to ".concat(D,"."))}switch(Q){case D:G.fail(K===""?"the default namespace may not be set to ".concat(Q,"."):'may not assign a prefix (even "xmlns") to the URI '.concat(D,"."));break;case A:switch(K){case"xml":break;case"":G.fail("the default namespace may not be set to ".concat(Q,"."));break;default:G.fail("may not assign the xml namespace to another prefix.")}}}var j=function(G){return x.test(G)},H=function(G){return y.test(G)};i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var U={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},W=function(){function G($){(function(z,Z){if(!(z instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,G),this.opt=$??{},this.fragmentOpt=!!this.opt.fragment;var L=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,L){this.nameStartCheck=C,this.nameCheck=w,this.isName=j,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},P);var F=this.opt.additionalNamespaces;F!=null&&(function(z,Z){for(var J=0,ee=Object.keys(Z);J<ee.length;J++){var pe=ee[J];N(z,pe,Z[pe])}}(this,F),Object.assign(this.ns,F))}else this.nameStartCheck=d,this.nameCheck=_,this.isName=H,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var K,Q;return K=G,(Q=[{key:"_init",value:function(){var $;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var L=this.fragmentOpt;this.state=L?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=L,this.xmlDeclPossible=!L,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var F=this.opt.defaultXMLVersion;if(F===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");F="1.0"}this.setXMLVersion(F),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(k),($=this.readyHandler)===null||$===void 0||$.call(this)}},{key:"on",value:function($,L){this[U[$]]=L}},{key:"off",value:function($){this[U[$]]=void 0}},{key:"makeError",value:function($){var L,F=(L=this.fileName)!==null&&L!==void 0?L:"";return this.trackPosition&&(F.length>0&&(F+=":"),F+="".concat(this.line,":").concat(this.column)),F.length>0&&(F+=": "),new Error(F+$)}},{key:"fail",value:function($){var L=this.makeError($),F=this.errorHandler;if(F===void 0)throw L;return F(L),this}},{key:"write",value:function($){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var L=!1;$===null?(L=!0,$=""):o($)==="object"&&($=$.toString()),this.carriedFromPrevious!==void 0&&($="".concat(this.carriedFromPrevious).concat($),this.carriedFromPrevious=void 0);var F=$.length,z=$.charCodeAt(F-1);!L&&(z===13||z>=55296&&z<=56319)&&(this.carriedFromPrevious=$[F-1],F--,$=$.slice(0,F));var Z=this.stateTable;for(this.chunk=$,this.i=0;this.i<F;)Z[this.state].call(this);return this.chunkPosition+=F,L?this.end():this}},{key:"close",value:function(){return this.write(null)}},{key:"getCode10",value:function(){var $=this.chunk,L=this.i;if(this.prevI=L,this.i=L+1,L>=$.length)return-1;var F=$.charCodeAt(L);if(this.column++,F<55296){if(F>=32||F===9)return F;switch(F){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return $.charCodeAt(L+1)===10&&(this.i=L+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),F}}if(F>56319)return F>=57344&&F<=65533||this.fail("disallowed character."),F;var z=65536+1024*(F-55296)+($.charCodeAt(L+1)-56320);return this.i=L+2,z>1114111&&this.fail("disallowed character."),z}},{key:"getCode11",value:function(){var $=this.chunk,L=this.i;if(this.prevI=L,this.i=L+1,L>=$.length)return-1;var F=$.charCodeAt(L);if(this.column++,F<55296){if(F>31&&F<127||F>159&&F!==8232||F===9)return F;switch(F){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:var z=$.charCodeAt(L+1);z!==10&&z!==133||(this.i=L+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),F}}if(F>56319)return F>=57344&&F<=65533||this.fail("disallowed character."),F;var Z=65536+1024*(F-55296)+($.charCodeAt(L+1)-56320);return this.i=L+2,Z>1114111&&this.fail("disallowed character."),Z}},{key:"getCodeNorm",value:function(){var $=this.getCode();return $===-2?10:$}},{key:"unget",value:function(){this.i=this.prevI,this.column--}},{key:"captureTo",value:function($){for(var L=this.i,F=this.chunk;;){var z=this.getCode(),Z=z===-2,J=Z?10:z;if(J===-1||$.includes(J))return this.text+=F.slice(L,this.prevI),J;Z&&(this.text+="".concat(F.slice(L,this.prevI),`
`),L=this.i)}}},{key:"captureToChar",value:function($){for(var L=this.i,F=this.chunk;;){var z=this.getCode();switch(z){case-2:this.text+="".concat(F.slice(L,this.prevI),`
`),L=this.i,z=10;break;case-1:return this.text+=F.slice(L),!1}if(z===$)return this.text+=F.slice(L,this.prevI),!0}}},{key:"captureNameChars",value:function(){for(var $=this.chunk,L=this.i;;){var F=this.getCode();if(F===-1)return this.name+=$.slice(L),-1;if(!_(F))return this.name+=$.slice(L,this.prevI),F===-2?10:F}}},{key:"skipSpaces",value:function(){for(;;){var $=this.getCodeNorm();if($===-1||!u($))return $}}},{key:"setXMLVersion",value:function($){this.currentXMLVersion=$,$==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}},{key:"sBegin",value:function(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}},{key:"sBeginWhitespace",value:function(){var $=this.i,L=this.skipSpaces();switch(this.prevI!==$&&(this.xmlDeclPossible=!1),L){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}},{key:"sDoctype",value:function(){var $,L=this.captureTo(R);switch(L){case 62:($=this.doctypeHandler)===null||$===void 0||$.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(L),L===91?this.state=4:O(L)&&(this.state=3,this.q=L)}}},{key:"sDoctypeQuote",value:function(){var $=this.q;this.captureToChar($)&&(this.text+=String.fromCodePoint($),this.q=null,this.state=2)}},{key:"sDTD",value:function(){var $=this.captureTo(T);$!==-1&&(this.text+=String.fromCodePoint($),$===93?this.state=2:$===60?this.state=6:O($)&&(this.state=5,this.q=$))}},{key:"sDTDQuoted",value:function(){var $=this.q;this.captureToChar($)&&(this.text+=String.fromCodePoint($),this.state=4,this.q=null)}},{key:"sDTDOpenWaka",value:function(){var $=this.getCodeNorm();switch(this.text+=String.fromCodePoint($),$){case 33:this.state=7,this.openWakaBang="";break;case E:this.state=11;break;default:this.state=4}}},{key:"sDTDOpenWakaBang",value:function(){var $=String.fromCodePoint(this.getCodeNorm()),L=this.openWakaBang+=$;this.text+=$,L!=="-"&&(this.state=L==="--"?8:4,this.openWakaBang="")}},{key:"sDTDComment",value:function(){this.captureToChar(45)&&(this.text+="-",this.state=9)}},{key:"sDTDCommentEnding",value:function(){var $=this.getCodeNorm();this.text+=String.fromCodePoint($),this.state=$===45?10:8}},{key:"sDTDCommentEnded",value:function(){var $=this.getCodeNorm();this.text+=String.fromCodePoint($),$===62?this.state=4:(this.fail("malformed comment."),this.state=8)}},{key:"sDTDPI",value:function(){this.captureToChar(E)&&(this.text+="?",this.state=12)}},{key:"sDTDPIEnding",value:function(){var $=this.getCodeNorm();this.text+=String.fromCodePoint($),$===62&&(this.state=4)}},{key:"sText",value:function(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}},{key:"sEntity",value:function(){var $=this.i,L=this.chunk;e:for(;;)switch(this.getCode()){case-2:this.entity+="".concat(L.slice($,this.prevI),`
`),$=this.i;break;case 59:var F=this.entityReturnState,z=this.entity+L.slice($,this.prevI);this.state=F;var Z=void 0;z===""?(this.fail("empty entity name."),Z="&;"):(Z=this.parseEntity(z),this.entity=""),F===13&&this.textHandler===void 0||(this.text+=Z);break e;case-1:this.entity+=L.slice($);break e}}},{key:"sOpenWaka",value:function(){var $=this.getCode();if(d($))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch($){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case E:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}},{key:"sOpenWakaBang",value:function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}},{key:"sComment",value:function(){this.captureToChar(45)&&(this.state=18)}},{key:"sCommentEnding",value:function(){var $,L=this.getCodeNorm();L===45?(this.state=19,($=this.commentHandler)===null||$===void 0||$.call(this,this.text),this.text=""):(this.text+="-".concat(String.fromCodePoint(L)),this.state=17)}},{key:"sCommentEnded",value:function(){var $=this.getCodeNorm();$!==62?(this.fail("malformed comment."),this.text+="--".concat(String.fromCodePoint($)),this.state=17):this.state=13}},{key:"sCData",value:function(){this.captureToChar(93)&&(this.state=21)}},{key:"sCDataEnding",value:function(){var $=this.getCodeNorm();$===93?this.state=22:(this.text+="]".concat(String.fromCodePoint($)),this.state=20)}},{key:"sCDataEnding2",value:function(){var $,L=this.getCodeNorm();switch(L){case 62:($=this.cdataHandler)===null||$===void 0||$.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]".concat(String.fromCodePoint(L)),this.state=20}}},{key:"sPIFirstChar",value:function(){var $=this.getCodeNorm();this.nameStartCheck($)?(this.piTarget+=String.fromCodePoint($),this.state=24):$===E||u($)?(this.fail("processing instruction without a target."),this.state=$===E?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint($),this.state=24)}},{key:"sPIRest",value:function(){for(var $=this.chunk,L=this.i;;){var F=this.getCodeNorm();if(F===-1)return void(this.piTarget+=$.slice(L));if(!this.nameCheck(F)){this.piTarget+=$.slice(L,this.prevI);var z=F===E;z||u(F)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=z?33:27):this.state=z?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(F));break}}}},{key:"sPIBody",value:function(){if(this.text.length===0){var $=this.getCodeNorm();$===E?this.state=26:u($)||(this.text=String.fromCodePoint($))}else this.captureToChar(E)&&(this.state=26)}},{key:"sPIEnding",value:function(){var $,L=this.getCodeNorm();if(L===62){var F=this.piTarget;F.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),($=this.piHandler)===null||$===void 0||$.call(this,{target:F,body:this.text}),this.piTarget=this.text="",this.state=13}else L===E?this.text+="?":(this.text+="?".concat(String.fromCodePoint(L)),this.state=25);this.xmlDeclPossible=!1}},{key:"sXMLDeclNameStart",value:function(){var $=this.skipSpaces();$!==E?$!==-1&&(this.state=28,this.name=String.fromCodePoint($)):this.state=33}},{key:"sXMLDeclName",value:function(){var $=this.captureTo(I);if($===E)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u($)||$===B){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name ".concat(this.xmlDeclExpects[0],"."));break;default:this.fail("expected one of ".concat(this.xmlDeclExpects.join(", ")))}this.state=$===B?30:29}}},{key:"sXMLDeclEq",value:function(){var $=this.getCodeNorm();if($===E)return this.state=33,void this.fail("XML declaration is incomplete.");u($)||($!==B&&this.fail("value required."),this.state=30)}},{key:"sXMLDeclValueStart",value:function(){var $=this.getCodeNorm();if($===E)return this.state=33,void this.fail("XML declaration is incomplete.");u($)||(O($)?this.q=$:(this.fail("value must be quoted."),this.q=32),this.state=31)}},{key:"sXMLDeclValue",value:function(){var $=this.captureTo([this.q,E]);if($===E)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if($!==-1){var L=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var F=L;this.xmlDecl.version=F,/^1\.[0-9]+$/.test(F)?this.opt.forceXMLVersion||this.setXMLVersion(F):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(L)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=L;break;case"standalone":L!=="yes"&&L!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=L}this.name="",this.state=32}}},{key:"sXMLDeclSeparator",value:function(){var $=this.getCodeNorm();$!==E?(u($)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}},{key:"sXMLDeclEnding",value:function(){var $;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),($=this.xmldeclHandler)===null||$===void 0||$.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}},{key:"sOpenTag",value:function(){var $,L=this.captureNameChars();if(L!==-1){var F=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=F.ns=Object.create(null)),($=this.openTagStartHandler)===null||$===void 0||$.call(this,F),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),L){case 62:this.openTag();break;case 47:this.state=35;break;default:u(L)||this.fail("disallowed character in tag name."),this.state=36}}}},{key:"sOpenTagSlash",value:function(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}},{key:"sAttrib",value:function(){var $=this.skipSpaces();$!==-1&&(d($)?(this.unget(),this.state=37):$===62?this.openTag():$===47?this.state=35:this.fail("disallowed character in attribute name."))}},{key:"sAttribName",value:function(){var $=this.captureNameChars();$===B?this.state=39:u($)?this.state=38:$===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):$!==-1&&this.fail("disallowed character in attribute name.")}},{key:"sAttribNameSawWhite",value:function(){var $=this.skipSpaces();switch($){case-1:return;case B:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",$===62?this.openTag():d($)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}},{key:"sAttribValue",value:function(){var $=this.getCodeNorm();O($)?(this.q=$,this.state=40):u($)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}},{key:"sAttribValueQuoted",value:function(){for(var $=this.q,L=this.chunk,F=this.i;;)switch(this.getCode()){case $:return this.pushAttrib(this.name,this.text+L.slice(F,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=L.slice(F,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+="".concat(L.slice(F,this.prevI)," "),F=this.i;break;case 60:return this.text+=L.slice(F,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=L.slice(F))}}},{key:"sAttribValueClosed",value:function(){var $=this.getCodeNorm();u($)?this.state=36:$===62?this.openTag():$===47?this.state=35:d($)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}},{key:"sAttribValueUnquoted",value:function(){var $=this.captureTo(M);switch($){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",$===62?this.openTag():this.state=36}}},{key:"sCloseTag",value:function(){var $=this.captureNameChars();$===62?this.closeTag():u($)?this.state=44:$!==-1&&this.fail("disallowed character in closing tag.")}},{key:"sCloseTagSawWhite",value:function(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}},{key:"handleTextInRoot",value:function(){var $=this.i,L=this.forbiddenState,F=this.chunk,z=this.textHandler;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,z!==void 0){var Z=this.text,J=F.slice($,this.prevI);Z.length!==0?(z(Z+J),this.text=""):J.length!==0&&z(J)}L=0;break e;case 38:this.state=14,this.entityReturnState=13,z!==void 0&&(this.text+=F.slice($,this.prevI)),L=0;break e;case 93:switch(L){case 0:L=1;break;case 1:L=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:L===2&&this.fail('the string "]]>" is disallowed in char data.'),L=0;break;case-2:z!==void 0&&(this.text+="".concat(F.slice($,this.prevI),`
`)),$=this.i,L=0;break;case-1:z!==void 0&&(this.text+=F.slice($));break e;default:L=0}this.forbiddenState=L}},{key:"handleTextOutsideRoot",value:function(){var $=this.i,L=this.chunk,F=this.textHandler,z=!1;e:for(;;){var Z=this.getCode();switch(Z){case 60:if(this.state=15,F!==void 0){var J=this.text,ee=L.slice($,this.prevI);J.length!==0?(F(J+ee),this.text=""):ee.length!==0&&F(ee)}break e;case 38:this.state=14,this.entityReturnState=13,F!==void 0&&(this.text+=L.slice($,this.prevI)),z=!0;break e;case-2:F!==void 0&&(this.text+="".concat(L.slice($,this.prevI),`
`)),$=this.i;break;case-1:F!==void 0&&(this.text+=L.slice($));break e;default:u(Z)||(z=!0)}}z&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}},{key:"pushAttribNS",value:function($,L){var F,z=this.qname($),Z=z.prefix,J=z.local,ee={name:$,prefix:Z,local:J,value:L};if(this.attribList.push(ee),(F=this.attributeHandler)===null||F===void 0||F.call(this,ee),Z==="xmlns"){var pe=L.trim();this.currentXMLVersion==="1.0"&&pe===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[J]=pe,N(this,J,pe)}else if($==="xmlns"){var le=L.trim();this.topNS[""]=le,N(this,"",le)}}},{key:"pushAttribPlain",value:function($,L){var F,z={name:$,value:L};this.attribList.push(z),(F=this.attributeHandler)===null||F===void 0||F.call(this,z)}},{key:"end",value:function(){var $,L;this.sawRoot||this.fail("document must contain a root element.");for(var F=this.tags;F.length>0;){var z=F.pop();this.fail("unclosed tag: ".concat(z.name))}this.state!==0&&this.state!==13&&this.fail("unexpected end.");var Z=this.text;return Z.length!==0&&(($=this.textHandler)===null||$===void 0||$.call(this,Z),this.text=""),this._closed=!0,(L=this.endHandler)===null||L===void 0||L.call(this),this._init(),this}},{key:"resolve",value:function($){var L,F,z=this.topNS[$];if(z!==void 0)return z;for(var Z=this.tags,J=Z.length-1;J>=0;J--)if((z=Z[J].ns[$])!==void 0)return z;return(z=this.ns[$])!==void 0?z:(F=(L=this.opt).resolvePrefix)===null||F===void 0?void 0:F.call(L,$)}},{key:"qname",value:function($){var L=$.indexOf(":");if(L===-1)return{prefix:"",local:$};var F=$.slice(L+1),z=$.slice(0,L);return(z===""||F===""||F.includes(":"))&&this.fail("malformed name: ".concat($,".")),{prefix:z,local:F}}},{key:"processAttribsNS",value:function(){var $,L=this.attribList,F=this.tag,z=this.qname(F.name),Z=z.prefix,J=z.local;F.prefix=Z,F.local=J;var ee=F.uri=($=this.resolve(Z))!==null&&$!==void 0?$:"";if(Z!==""&&(Z==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),ee===""&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(Z),".")),F.uri=Z)),L.length!==0){var pe,le=F.attributes,ye=new Set,ke=a(L);try{for(ke.s();!(pe=ke.n()).done;){var be=pe.value,Je=be.name,je=be.prefix,Be=be.local,$e=void 0,nt=void 0;je===""?($e=Je==="xmlns"?D:"",nt=Je):(($e=this.resolve(je))===void 0&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(je),".")),$e=je),nt="{".concat($e,"}").concat(Be)),ye.has(nt)&&this.fail("duplicate attribute: ".concat(nt,".")),ye.add(nt),be.uri=$e,le[Je]=be}}catch(Se){ke.e(Se)}finally{ke.f()}this.attribList=[]}}},{key:"processAttribsPlain",value:function(){var $,L=this.attribList,F=this.tag.attributes,z=a(L);try{for(z.s();!($=z.n()).done;){var Z=$.value,J=Z.name,ee=Z.value;F[J]!==void 0&&this.fail("duplicate attribute: ".concat(J,".")),F[J]=ee}}catch(pe){z.e(pe)}finally{z.f()}this.attribList=[]}},{key:"openTag",value:function(){var $;this.processAttribs();var L=this.tags,F=this.tag;F.isSelfClosing=!1,($=this.openTagHandler)===null||$===void 0||$.call(this,F),L.push(F),this.state=13,this.name=""}},{key:"openSelfClosingTag",value:function(){var $,L,F;this.processAttribs();var z=this.tags,Z=this.tag;Z.isSelfClosing=!0,($=this.openTagHandler)===null||$===void 0||$.call(this,Z),(L=this.closeTagHandler)===null||L===void 0||L.call(this,Z),(this.tag=(F=z[z.length-1])!==null&&F!==void 0?F:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}},{key:"closeTag",value:function(){var $=this.tags,L=this.name;if(this.state=13,this.name="",L==="")return this.fail("weird empty close tag."),void(this.text+="</>");for(var F=this.closeTagHandler,z=$.length;z-- >0;){var Z=this.tag=$.pop();if(this.topNS=Z.ns,F==null||F(Z),Z.name===L)break;this.fail("unexpected close tag.")}z===0?this.closedRoot=!0:z<0&&(this.fail("unmatched closing tag: ".concat(L,".")),this.text+="</".concat(L,">"))}},{key:"parseEntity",value:function($){if($[0]!=="#"){var L=this.ENTITIES[$];return L!==void 0?L:(this.fail(this.isName($)?"undefined entity.":"disallowed character in entity name."),"&".concat($,";"))}var F=NaN;return $[1]==="x"&&/^#x[0-9a-f]+$/i.test($)?F=parseInt($.slice(2),16):/^#[0-9]+$/.test($)&&(F=parseInt($.slice(1),10)),this.isChar(F)?String.fromCodePoint(F):(this.fail("malformed character entity."),"&".concat($,";"))}},{key:"closed",get:function(){return this._closed}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}])&&s(K.prototype,Q),G}();i.SaxesParser=W},{"xmlchars/xml/1.0/ed5":541,"xmlchars/xml/1.1/ed2":542,"xmlchars/xmlns/1.0/ed3":543}],497:[function(r,n,i){(function(a){n.exports=typeof a=="function"?a:function(){var o=[].slice.apply(arguments);o.splice(1,0,0),setTimeout.apply(null,o)}}).call(this,r("timers").setImmediate)},{timers:521}],498:[function(r,n,i){var a=r("safe-buffer").Buffer;function o(s,l){this._block=a.alloc(s),this._finalSize=l,this._blockSize=s,this._len=0}o.prototype.update=function(s,l){typeof s=="string"&&(l=l||"utf8",s=a.from(s,l));for(var p=this._block,h=this._blockSize,m=s.length,v=this._len,f=0;f<m;){for(var u=v%h,c=Math.min(m-f,h-u),d=0;d<c;d++)p[u+d]=s[f+d];f+=c,(v+=c)%h==0&&this._update(p)}return this._len+=m,this},o.prototype.digest=function(s){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var p=8*this._len;if(p<=4294967295)this._block.writeUInt32BE(p,this._blockSize-4);else{var h=(4294967295&p)>>>0,m=(p-h)/4294967296;this._block.writeUInt32BE(m,this._blockSize-8),this._block.writeUInt32BE(h,this._blockSize-4)}this._update(this._block);var v=this._hash();return s?v.toString(s):v},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],499:[function(r,n,i){var a=n.exports=function(o){o=o.toLowerCase();var s=a[o];if(!s)throw new Error(o+" is not supported (we accept pull requests)");return new s};a.sha=r("./sha"),a.sha1=r("./sha1"),a.sha224=r("./sha224"),a.sha256=r("./sha256"),a.sha384=r("./sha384"),a.sha512=r("./sha512")},{"./sha":500,"./sha1":501,"./sha224":502,"./sha256":503,"./sha384":504,"./sha512":505}],500:[function(r,n,i){var a=r("inherits"),o=r("./hash"),s=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);function h(){this.init(),this._w=p,o.call(this,64,56)}function m(f){return f<<30|f>>>2}function v(f,u,c,d){return f===0?u&c|~u&d:f===2?u&c|u&d|c&d:u^c^d}a(h,o),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(f){for(var u,c=this._w,d=0|this._a,_=0|this._b,g=0|this._c,y=0|this._d,b=0|this._e,C=0;C<16;++C)c[C]=f.readInt32BE(4*C);for(;C<80;++C)c[C]=c[C-3]^c[C-8]^c[C-14]^c[C-16];for(var w=0;w<80;++w){var x=~~(w/20),A=0|((u=d)<<5|u>>>27)+v(x,_,g,y)+b+c[w]+l[x];b=y,y=g,g=m(_),_=d,d=A}this._a=d+this._a|0,this._b=_+this._b|0,this._c=g+this._c|0,this._d=y+this._d|0,this._e=b+this._e|0},h.prototype._hash=function(){var f=s.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=h},{"./hash":498,inherits:387,"safe-buffer":494}],501:[function(r,n,i){var a=r("inherits"),o=r("./hash"),s=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);function h(){this.init(),this._w=p,o.call(this,64,56)}function m(u){return u<<5|u>>>27}function v(u){return u<<30|u>>>2}function f(u,c,d,_){return u===0?c&d|~c&_:u===2?c&d|c&_|d&_:c^d^_}a(h,o),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(u){for(var c,d=this._w,_=0|this._a,g=0|this._b,y=0|this._c,b=0|this._d,C=0|this._e,w=0;w<16;++w)d[w]=u.readInt32BE(4*w);for(;w<80;++w)d[w]=(c=d[w-3]^d[w-8]^d[w-14]^d[w-16])<<1|c>>>31;for(var x=0;x<80;++x){var A=~~(x/20),D=m(_)+f(A,g,y,b)+C+d[x]+l[A]|0;C=b,b=y,y=v(g),g=_,_=D}this._a=_+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=C+this._e|0},h.prototype._hash=function(){var u=s.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},n.exports=h},{"./hash":498,inherits:387,"safe-buffer":494}],502:[function(r,n,i){var a=r("inherits"),o=r("./sha256"),s=r("./hash"),l=r("safe-buffer").Buffer,p=new Array(64);function h(){this.init(),this._w=p,s.call(this,64,56)}a(h,o),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var m=l.allocUnsafe(28);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m},n.exports=h},{"./hash":498,"./sha256":503,inherits:387,"safe-buffer":494}],503:[function(r,n,i){var a=r("inherits"),o=r("./hash"),s=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);function h(){this.init(),this._w=p,o.call(this,64,56)}function m(d,_,g){return g^d&(_^g)}function v(d,_,g){return d&_|g&(d|_)}function f(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function u(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function c(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}a(h,o),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(d){for(var _,g=this._w,y=0|this._a,b=0|this._b,C=0|this._c,w=0|this._d,x=0|this._e,A=0|this._f,D=0|this._g,P=0|this._h,k=0;k<16;++k)g[k]=d.readInt32BE(4*k);for(;k<64;++k)g[k]=0|(((_=g[k-2])>>>17|_<<15)^(_>>>19|_<<13)^_>>>10)+g[k-7]+c(g[k-15])+g[k-16];for(var B=0;B<64;++B){var E=P+u(x)+m(x,A,D)+l[B]+g[B]|0,O=f(y)+v(y,b,C)|0;P=D,D=A,A=x,x=w+E|0,w=C,C=b,b=y,y=E+O|0}this._a=y+this._a|0,this._b=b+this._b|0,this._c=C+this._c|0,this._d=w+this._d|0,this._e=x+this._e|0,this._f=A+this._f|0,this._g=D+this._g|0,this._h=P+this._h|0},h.prototype._hash=function(){var d=s.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},n.exports=h},{"./hash":498,inherits:387,"safe-buffer":494}],504:[function(r,n,i){var a=r("inherits"),o=r("./sha512"),s=r("./hash"),l=r("safe-buffer").Buffer,p=new Array(160);function h(){this.init(),this._w=p,s.call(this,128,112)}a(h,o),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var m=l.allocUnsafe(48);function v(f,u,c){m.writeInt32BE(f,c),m.writeInt32BE(u,c+4)}return v(this._ah,this._al,0),v(this._bh,this._bl,8),v(this._ch,this._cl,16),v(this._dh,this._dl,24),v(this._eh,this._el,32),v(this._fh,this._fl,40),m},n.exports=h},{"./hash":498,"./sha512":505,inherits:387,"safe-buffer":494}],505:[function(r,n,i){var a=r("inherits"),o=r("./hash"),s=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],p=new Array(160);function h(){this.init(),this._w=p,o.call(this,128,112)}function m(b,C,w){return w^b&(C^w)}function v(b,C,w){return b&C|w&(b|C)}function f(b,C){return(b>>>28|C<<4)^(C>>>2|b<<30)^(C>>>7|b<<25)}function u(b,C){return(b>>>14|C<<18)^(b>>>18|C<<14)^(C>>>9|b<<23)}function c(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^b>>>7}function d(b,C){return(b>>>1|C<<31)^(b>>>8|C<<24)^(b>>>7|C<<25)}function _(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^b>>>6}function g(b,C){return(b>>>19|C<<13)^(C>>>29|b<<3)^(b>>>6|C<<26)}function y(b,C){return b>>>0<C>>>0?1:0}a(h,o),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(b){for(var C=this._w,w=0|this._ah,x=0|this._bh,A=0|this._ch,D=0|this._dh,P=0|this._eh,k=0|this._fh,B=0|this._gh,E=0|this._hh,O=0|this._al,S=0|this._bl,R=0|this._cl,T=0|this._dl,I=0|this._el,M=0|this._fl,N=0|this._gl,j=0|this._hl,H=0;H<32;H+=2)C[H]=b.readInt32BE(4*H),C[H+1]=b.readInt32BE(4*H+4);for(;H<160;H+=2){var U=C[H-30],W=C[H-30+1],G=c(U,W),K=d(W,U),Q=_(U=C[H-4],W=C[H-4+1]),$=g(W,U),L=C[H-14],F=C[H-14+1],z=C[H-32],Z=C[H-32+1],J=K+F|0,ee=G+L+y(J,K)|0;ee=(ee=ee+Q+y(J=J+$|0,$)|0)+z+y(J=J+Z|0,Z)|0,C[H]=ee,C[H+1]=J}for(var pe=0;pe<160;pe+=2){ee=C[pe],J=C[pe+1];var le=v(w,x,A),ye=v(O,S,R),ke=f(w,O),be=f(O,w),Je=u(P,I),je=u(I,P),Be=l[pe],$e=l[pe+1],nt=m(P,k,B),Se=m(I,M,N),re=j+je|0,ue=E+Je+y(re,j)|0;ue=(ue=(ue=ue+nt+y(re=re+Se|0,Se)|0)+Be+y(re=re+$e|0,$e)|0)+ee+y(re=re+J|0,J)|0;var se=be+ye|0,me=ke+le+y(se,be)|0;E=B,j=N,B=k,N=M,k=P,M=I,P=D+ue+y(I=T+re|0,T)|0,D=A,T=R,A=x,R=S,x=w,S=O,w=ue+me+y(O=re+se|0,re)|0}this._al=this._al+O|0,this._bl=this._bl+S|0,this._cl=this._cl+R|0,this._dl=this._dl+T|0,this._el=this._el+I|0,this._fl=this._fl+M|0,this._gl=this._gl+N|0,this._hl=this._hl+j|0,this._ah=this._ah+w+y(this._al,O)|0,this._bh=this._bh+x+y(this._bl,S)|0,this._ch=this._ch+A+y(this._cl,R)|0,this._dh=this._dh+D+y(this._dl,T)|0,this._eh=this._eh+P+y(this._el,I)|0,this._fh=this._fh+k+y(this._fl,M)|0,this._gh=this._gh+B+y(this._gl,N)|0,this._hh=this._hh+E+y(this._hl,j)|0},h.prototype._hash=function(){var b=s.allocUnsafe(64);function C(w,x,A){b.writeInt32BE(w,A),b.writeInt32BE(x,A+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),b},n.exports=h},{"./hash":498,inherits:387,"safe-buffer":494}],506:[function(r,n,i){n.exports=o;var a=r("events").EventEmitter;function o(){a.call(this)}r("inherits")(o,a),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(s,l){var p=this;function h(_){s.writable&&s.write(_)===!1&&p.pause&&p.pause()}function m(){p.readable&&p.resume&&p.resume()}p.on("data",h),s.on("drain",m),s._isStdio||l&&l.end===!1||(p.on("end",f),p.on("close",u));var v=!1;function f(){v||(v=!0,s.end())}function u(){v||(v=!0,typeof s.destroy=="function"&&s.destroy())}function c(_){if(d(),a.listenerCount(this,"error")===0)throw _}function d(){p.removeListener("data",h),s.removeListener("drain",m),p.removeListener("end",f),p.removeListener("close",u),p.removeListener("error",c),s.removeListener("error",c),p.removeListener("end",d),p.removeListener("close",d),s.removeListener("close",d)}return p.on("error",c),s.on("error",c),p.on("end",d),p.on("close",d),s.on("close",d),s.emit("pipe",p),s}},{events:367,inherits:387,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var a=r("process-nextick-args"),o=Object.keys||function(d){var _=[];for(var g in d)_.push(g);return _};n.exports=f;var s=Object.create(r("core-util-is"));s.inherits=r("inherits");var l=r("./_stream_readable"),p=r("./_stream_writable");s.inherits(f,l);for(var h=o(p.prototype),m=0;m<h.length;m++){var v=h[m];f.prototype[v]||(f.prototype[v]=p.prototype[v])}function f(d){if(!(this instanceof f))return new f(d);l.call(this,d),p.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||a.nextTick(c,this)}function c(d){d.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),f.prototype._destroy=function(d,_){this.push(null),this.end(),a.nextTick(_,d)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":328,inherits:387,"process-nextick-args":466}],509:[function(r,n,i){n.exports=s;var a=r("./_stream_transform"),o=Object.create(r("core-util-is"));function s(l){if(!(this instanceof s))return new s(l);a.call(this,l)}o.inherits=r("inherits"),o.inherits(s,a),s.prototype._transform=function(l,p,h){h(null,l)}},{"./_stream_transform":511,"core-util-is":328,inherits:387}],510:[function(r,n,i){(function(a,o){var s=r("process-nextick-args");n.exports=w;var l,p=r("isarray");w.ReadableState=C,r("events").EventEmitter;var h=function(j,H){return j.listeners(H).length},m=r("./internal/streams/stream"),v=r("safe-buffer").Buffer,f=o.Uint8Array||function(){},u=Object.create(r("core-util-is"));u.inherits=r("inherits");var c=r("util"),d=void 0;d=c&&c.debuglog?c.debuglog("stream"):function(){};var _,g=r("./internal/streams/BufferList"),y=r("./internal/streams/destroy");u.inherits(w,m);var b=["error","close","destroy","pause","resume"];function C(j,H){j=j||{};var U=H instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!j.objectMode,U&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var W=j.highWaterMark,G=j.readableHighWaterMark,K=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:U&&(G||G===0)?G:K,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(_||(_=r("string_decoder/").StringDecoder),this.decoder=new _(j.encoding),this.encoding=j.encoding)}function w(j){if(l=l||r("./_stream_duplex"),!(this instanceof w))return new w(j);this._readableState=new C(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),m.call(this)}function x(j,H,U,W,G){var K,Q=j._readableState;return H===null?(Q.reading=!1,function($,L){if(!L.ended){if(L.decoder){var F=L.decoder.end();F&&F.length&&(L.buffer.push(F),L.length+=L.objectMode?1:F.length)}L.ended=!0,P($)}}(j,Q)):(G||(K=function($,L){var F;z=L,v.isBuffer(z)||z instanceof f||typeof L=="string"||L===void 0||$.objectMode||(F=new TypeError("Invalid non-string/buffer chunk"));var z;return F}(Q,H)),K?j.emit("error",K):Q.objectMode||H&&H.length>0?(typeof H=="string"||Q.objectMode||Object.getPrototypeOf(H)===v.prototype||(H=function($){return v.from($)}(H)),W?Q.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):A(j,Q,H,!0):Q.ended?j.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!U?(H=Q.decoder.write(H),Q.objectMode||H.length!==0?A(j,Q,H,!1):B(j,Q)):A(j,Q,H,!1))):W||(Q.reading=!1)),function($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)}(Q)}function A(j,H,U,W){H.flowing&&H.length===0&&!H.sync?(j.emit("data",U),j.read(0)):(H.length+=H.objectMode?1:U.length,W?H.buffer.unshift(U):H.buffer.push(U),H.needReadable&&P(j)),B(j,H)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(j,H){this.push(null),H(j)},w.prototype.push=function(j,H){var U,W=this._readableState;return W.objectMode?U=!0:typeof j=="string"&&((H=H||W.defaultEncoding)!==W.encoding&&(j=v.from(j,H),H=""),U=!0),x(this,j,H,!1,U)},w.prototype.unshift=function(j){return x(this,j,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(j){return _||(_=r("string_decoder/").StringDecoder),this._readableState.decoder=new _(j),this._readableState.encoding=j,this};function D(j,H){return j<=0||H.length===0&&H.ended?0:H.objectMode?1:j!=j?H.flowing&&H.length?H.buffer.head.data.length:H.length:(j>H.highWaterMark&&(H.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(j)),j<=H.length?j:H.ended?H.length:(H.needReadable=!0,0))}function P(j){var H=j._readableState;H.needReadable=!1,H.emittedReadable||(d("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?s.nextTick(k,j):k(j))}function k(j){d("emit readable"),j.emit("readable"),R(j)}function B(j,H){H.readingMore||(H.readingMore=!0,s.nextTick(E,j,H))}function E(j,H){for(var U=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(d("maybeReadMore read 0"),j.read(0),U!==H.length);)U=H.length;H.readingMore=!1}function O(j){d("readable nexttick read 0"),j.read(0)}function S(j,H){H.reading||(d("resume read 0"),j.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,j.emit("resume"),R(j),H.flowing&&!H.reading&&j.read(0)}function R(j){var H=j._readableState;for(d("flow",H.flowing);H.flowing&&j.read()!==null;);}function T(j,H){return H.length===0?null:(H.objectMode?U=H.buffer.shift():!j||j>=H.length?(U=H.decoder?H.buffer.join(""):H.buffer.length===1?H.buffer.head.data:H.buffer.concat(H.length),H.buffer.clear()):U=function(W,G,K){var Q;return W<G.head.data.length?(Q=G.head.data.slice(0,W),G.head.data=G.head.data.slice(W)):Q=W===G.head.data.length?G.shift():K?function($,L){var F=L.head,z=1,Z=F.data;for($-=Z.length;F=F.next;){var J=F.data,ee=$>J.length?J.length:$;if(ee===J.length?Z+=J:Z+=J.slice(0,$),($-=ee)===0){ee===J.length?(++z,F.next?L.head=F.next:L.head=L.tail=null):(L.head=F,F.data=J.slice(ee));break}++z}return L.length-=z,Z}(W,G):function($,L){var F=v.allocUnsafe($),z=L.head,Z=1;for(z.data.copy(F),$-=z.data.length;z=z.next;){var J=z.data,ee=$>J.length?J.length:$;if(J.copy(F,F.length-$,0,ee),($-=ee)===0){ee===J.length?(++Z,z.next?L.head=z.next:L.head=L.tail=null):(L.head=z,z.data=J.slice(ee));break}++Z}return L.length-=Z,F}(W,G),Q}(j,H.buffer,H.decoder),U);var U}function I(j){var H=j._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,s.nextTick(M,H,j))}function M(j,H){j.endEmitted||j.length!==0||(j.endEmitted=!0,H.readable=!1,H.emit("end"))}function N(j,H){for(var U=0,W=j.length;U<W;U++)if(j[U]===H)return U;return-1}w.prototype.read=function(j){d("read",j),j=parseInt(j,10);var H=this._readableState,U=j;if(j!==0&&(H.emittedReadable=!1),j===0&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return d("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?I(this):P(this),null;if((j=D(j,H))===0&&H.ended)return H.length===0&&I(this),null;var W,G=H.needReadable;return d("need readable",G),(H.length===0||H.length-j<H.highWaterMark)&&d("length less than watermark",G=!0),H.ended||H.reading?d("reading or ended",G=!1):G&&(d("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(j=D(U,H))),(W=j>0?T(j,H):null)===null?(H.needReadable=!0,j=0):H.length-=j,H.length===0&&(H.ended||(H.needReadable=!0),U!==j&&H.ended&&I(this)),W!==null&&this.emit("data",W),W},w.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(j,H){var U=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=j;break;case 1:W.pipes=[W.pipes,j];break;default:W.pipes.push(j)}W.pipesCount+=1,d("pipe count=%d opts=%j",W.pipesCount,H);var G=(!H||H.end!==!1)&&j!==a.stdout&&j!==a.stderr?Q:pe;function K(le,ye){d("onunpipe"),le===U&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,d("cleanup"),j.removeListener("close",J),j.removeListener("finish",ee),j.removeListener("drain",$),j.removeListener("error",Z),j.removeListener("unpipe",K),U.removeListener("end",Q),U.removeListener("end",pe),U.removeListener("data",z),L=!0,!W.awaitDrain||j._writableState&&!j._writableState.needDrain||$())}function Q(){d("onend"),j.end()}W.endEmitted?s.nextTick(G):U.once("end",G),j.on("unpipe",K);var $=function(le){return function(){var ye=le._readableState;d("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&h(le,"data")&&(ye.flowing=!0,R(le))}}(U);j.on("drain",$);var L=!1,F=!1;function z(le){d("ondata"),F=!1,j.write(le)!==!1||F||((W.pipesCount===1&&W.pipes===j||W.pipesCount>1&&N(W.pipes,j)!==-1)&&!L&&(d("false write response, pause",U._readableState.awaitDrain),U._readableState.awaitDrain++,F=!0),U.pause())}function Z(le){d("onerror",le),pe(),j.removeListener("error",Z),h(j,"error")===0&&j.emit("error",le)}function J(){j.removeListener("finish",ee),pe()}function ee(){d("onfinish"),j.removeListener("close",J),pe()}function pe(){d("unpipe"),U.unpipe(j)}return U.on("data",z),function(le,ye,ke){if(typeof le.prependListener=="function")return le.prependListener(ye,ke);le._events&&le._events[ye]?p(le._events[ye])?le._events[ye].unshift(ke):le._events[ye]=[ke,le._events[ye]]:le.on(ye,ke)}(j,"error",Z),j.once("close",J),j.once("finish",ee),j.emit("pipe",U),W.flowing||(d("pipe resume"),U.resume()),j},w.prototype.unpipe=function(j){var H=this._readableState,U={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return j&&j!==H.pipes||(j||(j=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,j&&j.emit("unpipe",this,U)),this;if(!j){var W=H.pipes,G=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var K=0;K<G;K++)W[K].emit("unpipe",this,U);return this}var Q=N(H.pipes,j);return Q===-1||(H.pipes.splice(Q,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),j.emit("unpipe",this,U)),this},w.prototype.on=function(j,H){var U=m.prototype.on.call(this,j,H);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&P(this):s.nextTick(O,this))}return U},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var j=this._readableState;return j.flowing||(d("resume"),j.flowing=!0,function(H,U){U.resumeScheduled||(U.resumeScheduled=!0,s.nextTick(S,H,U))}(this,j)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(j){var H=this,U=this._readableState,W=!1;for(var G in j.on("end",function(){if(d("wrapped end"),U.decoder&&!U.ended){var Q=U.decoder.end();Q&&Q.length&&H.push(Q)}H.push(null)}),j.on("data",function(Q){d("wrapped data"),U.decoder&&(Q=U.decoder.write(Q)),U.objectMode&&Q==null||(U.objectMode||Q&&Q.length)&&(H.push(Q)||(W=!0,j.pause()))}),j)this[G]===void 0&&typeof j[G]=="function"&&(this[G]=function(Q){return function(){return j[Q].apply(j,arguments)}}(G));for(var K=0;K<b.length;K++)j.on(b[K],this.emit.bind(this,b[K]));return this._read=function(Q){d("wrapped _read",Q),W&&(W=!1,j.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=T}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":328,events:367,inherits:387,isarray:389,"process-nextick-args":466,"safe-buffer":494,"string_decoder/":520,util:185}],511:[function(r,n,i){n.exports=l;var a=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function s(m,v){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(!u)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,v!=null&&this.push(v),u(m);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function l(m){if(!(this instanceof l))return new l(m);a.call(this,m),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",p)}function p(){var m=this;typeof this._flush=="function"?this._flush(function(v,f){h(m,v,f)}):h(this,null,null)}function h(m,v,f){if(v)return m.emit("error",v);if(f!=null&&m.push(f),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}o.inherits=r("inherits"),o.inherits(l,a),l.prototype.push=function(m,v){return this._transformState.needTransform=!1,a.prototype.push.call(this,m,v)},l.prototype._transform=function(m,v,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(m,v,f){var u=this._transformState;if(u.writecb=f,u.writechunk=m,u.writeencoding=v,!u.transforming){var c=this._readableState;(u.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},l.prototype._read=function(m){var v=this._transformState;v.writechunk!==null&&v.writecb&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},l.prototype._destroy=function(m,v){var f=this;a.prototype._destroy.call(this,m,function(u){v(u),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":328,inherits:387}],512:[function(r,n,i){(function(a,o,s){var l=r("process-nextick-args");function p(B){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(O,S,R){var T=O.entry;for(O.entry=null;T;){var I=T.callback;S.pendingcb--,I(R),T=T.next}S.corkedRequestsFree?S.corkedRequestsFree.next=O:S.corkedRequestsFree=O})(E,B)}}n.exports=C;var h,m=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?s:l.nextTick;C.WritableState=b;var v=Object.create(r("core-util-is"));v.inherits=r("inherits");var f={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),c=r("safe-buffer").Buffer,d=o.Uint8Array||function(){},_,g=r("./internal/streams/destroy");function y(){}function b(B,E){h=h||r("./_stream_duplex"),B=B||{};var O=E instanceof h;this.objectMode=!!B.objectMode,O&&(this.objectMode=this.objectMode||!!B.writableObjectMode);var S=B.highWaterMark,R=B.writableHighWaterMark,T=this.objectMode?16:16384;this.highWaterMark=S||S===0?S:O&&(R||R===0)?R:T,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=B.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){(function(N,j){var H=N._writableState,U=H.sync,W=H.writecb;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(H),j)(function(K,Q,$,L,F){--Q.pendingcb,$?(l.nextTick(F,L),l.nextTick(k,K,Q),K._writableState.errorEmitted=!0,K.emit("error",L)):(F(L),K._writableState.errorEmitted=!0,K.emit("error",L),k(K,Q))})(N,H,U,j,W);else{var G=D(H);G||H.corked||H.bufferProcessing||!H.bufferedRequest||A(N,H),U?m(x,N,H,G,W):x(N,H,G,W)}})(E,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function C(B){if(h=h||r("./_stream_duplex"),!(_.call(C,this)||this instanceof h))return new C(B);this._writableState=new b(B,this),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),u.call(this)}function w(B,E,O,S,R,T,I){E.writelen=S,E.writecb=I,E.writing=!0,E.sync=!0,O?B._writev(R,E.onwrite):B._write(R,T,E.onwrite),E.sync=!1}function x(B,E,O,S){O||function(R,T){T.length===0&&T.needDrain&&(T.needDrain=!1,R.emit("drain"))}(B,E),E.pendingcb--,S(),k(B,E)}function A(B,E){E.bufferProcessing=!0;var O=E.bufferedRequest;if(B._writev&&O&&O.next){var S=E.bufferedRequestCount,R=new Array(S),T=E.corkedRequestsFree;T.entry=O;for(var I=0,M=!0;O;)R[I]=O,O.isBuf||(M=!1),O=O.next,I+=1;R.allBuffers=M,w(B,E,!0,E.length,R,"",T.finish),E.pendingcb++,E.lastBufferedRequest=null,T.next?(E.corkedRequestsFree=T.next,T.next=null):E.corkedRequestsFree=new p(E),E.bufferedRequestCount=0}else{for(;O;){var N=O.chunk,j=O.encoding,H=O.callback;if(w(B,E,!1,E.objectMode?1:N.length,N,j,H),O=O.next,E.bufferedRequestCount--,E.writing)break}O===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=O,E.bufferProcessing=!1}function D(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function P(B,E){B._final(function(O){E.pendingcb--,O&&B.emit("error",O),E.prefinished=!0,B.emit("prefinish"),k(B,E)})}function k(B,E){var O=D(E);return O&&(function(S,R){R.prefinished||R.finalCalled||(typeof S._final=="function"?(R.pendingcb++,R.finalCalled=!0,l.nextTick(P,S,R)):(R.prefinished=!0,S.emit("prefinish")))}(B,E),E.pendingcb===0&&(E.finished=!0,B.emit("finish"))),O}v.inherits(C,u),b.prototype.getBuffer=function(){for(var B=this.bufferedRequest,E=[];B;)E.push(B),B=B.next;return E},function(){try{Object.defineProperty(b.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(B){return!!_.call(this,B)||this===C&&B&&B._writableState instanceof b}})):_=function(B){return B instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(B,E,O){var S,R=this._writableState,T=!1,I=!R.objectMode&&(S=B,c.isBuffer(S)||S instanceof d);return I&&!c.isBuffer(B)&&(B=function(M){return c.from(M)}(B)),typeof E=="function"&&(O=E,E=null),I?E="buffer":E||(E=R.defaultEncoding),typeof O!="function"&&(O=y),R.ended?function(M,N){var j=new Error("write after end");M.emit("error",j),l.nextTick(N,j)}(this,O):(I||function(M,N,j,H){var U=!0,W=!1;return j===null?W=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||N.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(M.emit("error",W),l.nextTick(H,W),U=!1),U}(this,R,B,O))&&(R.pendingcb++,T=function(M,N,j,H,U,W){if(!j){var G=function(L,F,z){return L.objectMode||L.decodeStrings===!1||typeof F!="string"||(F=c.from(F,z)),F}(N,H,U);H!==G&&(j=!0,U="buffer",H=G)}var K=N.objectMode?1:H.length;N.length+=K;var Q=N.length<N.highWaterMark;if(Q||(N.needDrain=!0),N.writing||N.corked){var $=N.lastBufferedRequest;N.lastBufferedRequest={chunk:H,encoding:U,isBuf:j,callback:W,next:null},$?$.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else w(M,N,!1,K,H,U,W);return Q}(this,R,I,B,E,O)),T},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.finished||B.bufferProcessing||!B.bufferedRequest||A(this,B))},C.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(B,E,O){O(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(B,E,O){var S=this._writableState;typeof B=="function"?(O=B,B=null,E=null):typeof E=="function"&&(O=E,E=null),B!=null&&this.write(B,E),S.corked&&(S.corked=1,this.uncork()),S.ending||S.finished||function(R,T,I){T.ending=!0,k(R,T),I&&(T.finished?l.nextTick(I):R.once("finish",I)),T.ended=!0,R.writable=!1}(this,S,O)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),C.prototype.destroy=g.destroy,C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(B,E){this.end(),E(B)}}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":328,inherits:387,"process-nextick-args":466,"safe-buffer":494,timers:521,"util-deprecate":522}],513:[function(r,n,i){var a=r("safe-buffer").Buffer,o=r("util");n.exports=function(){function s(){(function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(l){var p={data:l,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},s.prototype.unshift=function(l){var p={data:l,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},s.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(l){if(this.length===0)return"";for(var p=this.head,h=""+p.data;p=p.next;)h+=l+p.data;return h},s.prototype.concat=function(l){if(this.length===0)return a.alloc(0);if(this.length===1)return this.head.data;for(var p,h,m,v=a.allocUnsafe(l>>>0),f=this.head,u=0;f;)p=f.data,h=v,m=u,p.copy(h,m),u+=f.data.length,f=f.next;return v},s}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var s=o.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":494,util:185}],514:[function(r,n,i){var a=r("process-nextick-args");function o(s,l){s.emit("error",l)}n.exports={destroy:function(s,l){var p=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(l?l(s):!s||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(v){!l&&v?(a.nextTick(o,p,v),p._writableState&&(p._writableState.errorEmitted=!0)):l&&l(v)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:367}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){var a=r("safe-buffer").Buffer,o=a.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(d){var _;switch(this.encoding=function(g){var y=function(b){if(!b)return"utf8";for(var C;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(C)return;b=(""+b).toLowerCase(),C=!0}}(g);if(typeof y!="string"&&(a.isEncoding===o||!o(g)))throw new Error("Unknown encoding: "+g);return y||g}(d),this.encoding){case"utf16le":this.text=h,this.end=m,_=4;break;case"utf8":this.fillLast=p,_=4;break;case"base64":this.text=v,this.end=f,_=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(_)}function l(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function p(d){var _=this.lastTotal-this.lastNeed,g=function(y,b,C){if((192&b[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&b.length>1){if((192&b[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&b.length>2&&(192&b[2])!=128)return y.lastNeed=2,"�"}}(this,d);return g!==void 0?g:this.lastNeed<=d.length?(d.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,_,0,d.length),void(this.lastNeed-=d.length))}function h(d,_){if((d.length-_)%2==0){var g=d.toString("utf16le",_);if(g){var y=g.charCodeAt(g.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",_,d.length-1)}function m(d){var _=d&&d.length?this.write(d):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,g)}return _}function v(d,_){var g=(d.length-_)%3;return g===0?d.toString("base64",_):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",_,d.length-g))}function f(d){var _=d&&d.length?this.write(d):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function u(d){return d.toString(this.encoding)}function c(d){return d&&d.length?this.write(d):""}i.StringDecoder=s,s.prototype.write=function(d){if(d.length===0)return"";var _,g;if(this.lastNeed){if((_=this.fillLast(d))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<d.length?_?_+this.text(d,g):this.text(d,g):_||""},s.prototype.end=function(d){var _=d&&d.length?this.write(d):"";return this.lastNeed?_+"�":_},s.prototype.text=function(d,_){var g=function(b,C,w){var x=C.length-1;if(x<w)return 0;var A=l(C[x]);return A>=0?(A>0&&(b.lastNeed=A-1),A):--x<w||A===-2?0:(A=l(C[x]))>=0?(A>0&&(b.lastNeed=A-2),A):--x<w||A===-2?0:(A=l(C[x]))>=0?(A>0&&(A===2?A=0:b.lastNeed=A-3),A):0}(this,d,_);if(!this.lastNeed)return d.toString("utf8",_);this.lastTotal=g;var y=d.length-(g-this.lastNeed);return d.copy(this.lastChar,0,y),d.toString("utf8",_,y)},s.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},{"safe-buffer":494}],521:[function(r,n,i){(function(a,o){var s=r("process/browser.js").nextTick,l=Function.prototype.apply,p=Array.prototype.slice,h={},m=0;function v(f,u){this._id=f,this._clearFn=u}i.setTimeout=function(){return new v(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new v(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(f){f.close()},v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(f,u){clearTimeout(f._idleTimeoutId),f._idleTimeout=u},i.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},i._unrefActive=i.active=function(f){clearTimeout(f._idleTimeoutId);var u=f._idleTimeout;u>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},u))},i.setImmediate=typeof a=="function"?a:function(f){var u=m++,c=!(arguments.length<2)&&p.call(arguments,1);return h[u]=!0,s(function(){h[u]&&(c?f.apply(null,c):f.call(null),i.clearImmediate(u))}),u},i.clearImmediate=typeof o=="function"?o:function(f){delete h[f]}}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:521}],522:[function(r,n,i){(function(a){function o(s){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[s];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(s,l){if(o("noDeprecation"))return s;var p=!1;return function(){if(!p){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),p=!0}return s.apply(this,arguments)}}}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],523:[function(r,n,i){typeof Object.create=="function"?n.exports=function(a,o){a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,o){a.super_=o;var s=function(){};s.prototype=o.prototype,a.prototype=new s,a.prototype.constructor=a}},{}],524:[function(r,n,i){function a(o){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}n.exports=function(o){return o&&a(o)==="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],525:[function(r,n,i){(function(a,o){function s(T){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(T)}var l=/%[sdj%]/g;i.format=function(T){if(!C(T)){for(var I=[],M=0;M<arguments.length;M++)I.push(m(arguments[M]));return I.join(" ")}M=1;for(var N=arguments,j=N.length,H=String(T).replace(l,function(W){if(W==="%%")return"%";if(M>=j)return W;switch(W){case"%s":return String(N[M++]);case"%d":return Number(N[M++]);case"%j":try{return JSON.stringify(N[M++])}catch{return"[Circular]"}default:return W}}),U=N[M];M<j;U=N[++M])y(U)||!A(U)?H+=" "+U:H+=" "+m(U);return H},i.deprecate=function(T,I){if(w(o.process))return function(){return i.deprecate(T,I).apply(this,arguments)};if(a.noDeprecation===!0)return T;var M=!1;return function(){if(!M){if(a.throwDeprecation)throw new Error(I);a.traceDeprecation?console.trace(I):console.error(I),M=!0}return T.apply(this,arguments)}};var p,h={};function m(T,I){var M={seen:[],stylize:f};return arguments.length>=3&&(M.depth=arguments[2]),arguments.length>=4&&(M.colors=arguments[3]),g(I)?M.showHidden=I:I&&i._extend(M,I),w(M.showHidden)&&(M.showHidden=!1),w(M.depth)&&(M.depth=2),w(M.colors)&&(M.colors=!1),w(M.customInspect)&&(M.customInspect=!0),M.colors&&(M.stylize=v),u(M,T,M.depth)}function v(T,I){var M=m.styles[I];return M?"\x1B["+m.colors[M][0]+"m"+T+"\x1B["+m.colors[M][1]+"m":T}function f(T,I){return T}function u(T,I,M){if(T.customInspect&&I&&k(I.inspect)&&I.inspect!==i.inspect&&(!I.constructor||I.constructor.prototype!==I)){var N=I.inspect(M,T);return C(N)||(N=u(T,N,M)),N}var j=function(L,F){if(w(F))return L.stylize("undefined","undefined");if(C(F)){var z="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(z,"string")}if(b(F))return L.stylize(""+F,"number");if(g(F))return L.stylize(""+F,"boolean");if(y(F))return L.stylize("null","null")}(T,I);if(j)return j;var H=Object.keys(I),U=function(L){var F={};return L.forEach(function(z,Z){F[z]=!0}),F}(H);if(T.showHidden&&(H=Object.getOwnPropertyNames(I)),P(I)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return c(I);if(H.length===0){if(k(I)){var W=I.name?": "+I.name:"";return T.stylize("[Function"+W+"]","special")}if(x(I))return T.stylize(RegExp.prototype.toString.call(I),"regexp");if(D(I))return T.stylize(Date.prototype.toString.call(I),"date");if(P(I))return c(I)}var G,K="",Q=!1,$=["{","}"];return _(I)&&(Q=!0,$=["[","]"]),k(I)&&(K=" [Function"+(I.name?": "+I.name:"")+"]"),x(I)&&(K=" "+RegExp.prototype.toString.call(I)),D(I)&&(K=" "+Date.prototype.toUTCString.call(I)),P(I)&&(K=" "+c(I)),H.length!==0||Q&&I.length!=0?M<0?x(I)?T.stylize(RegExp.prototype.toString.call(I),"regexp"):T.stylize("[Object]","special"):(T.seen.push(I),G=Q?function(L,F,z,Z,J){for(var ee=[],pe=0,le=F.length;pe<le;++pe)R(F,String(pe))?ee.push(d(L,F,z,Z,String(pe),!0)):ee.push("");return J.forEach(function(ye){ye.match(/^\d+$/)||ee.push(d(L,F,z,Z,ye,!0))}),ee}(T,I,M,U,H):H.map(function(L){return d(T,I,M,U,L,Q)}),T.seen.pop(),function(L,F,z){return L.reduce(function(Z,J){return J.indexOf(`
`)>=0,Z+J.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(F===""?"":F+`
 `)+" "+L.join(`,
  `)+" "+z[1]:z[0]+F+" "+L.join(", ")+" "+z[1]}(G,K,$)):$[0]+K+$[1]}function c(T){return"["+Error.prototype.toString.call(T)+"]"}function d(T,I,M,N,j,H){var U,W,G;if((G=Object.getOwnPropertyDescriptor(I,j)||{value:I[j]}).get?W=G.set?T.stylize("[Getter/Setter]","special"):T.stylize("[Getter]","special"):G.set&&(W=T.stylize("[Setter]","special")),R(N,j)||(U="["+j+"]"),W||(T.seen.indexOf(G.value)<0?(W=y(M)?u(T,G.value,null):u(T,G.value,M-1)).indexOf(`
`)>-1&&(W=H?W.split(`
`).map(function(K){return"  "+K}).join(`
`).substr(2):`
`+W.split(`
`).map(function(K){return"   "+K}).join(`
`)):W=T.stylize("[Circular]","special")),w(U)){if(H&&j.match(/^\d+$/))return W;(U=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=T.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=T.stylize(U,"string"))}return U+": "+W}function _(T){return Array.isArray(T)}function g(T){return typeof T=="boolean"}function y(T){return T===null}function b(T){return typeof T=="number"}function C(T){return typeof T=="string"}function w(T){return T===void 0}function x(T){return A(T)&&B(T)==="[object RegExp]"}function A(T){return s(T)==="object"&&T!==null}function D(T){return A(T)&&B(T)==="[object Date]"}function P(T){return A(T)&&(B(T)==="[object Error]"||T instanceof Error)}function k(T){return typeof T=="function"}function B(T){return Object.prototype.toString.call(T)}function E(T){return T<10?"0"+T.toString(10):T.toString(10)}i.debuglog=function(T){if(w(p)&&(p=a.env.NODE_DEBUG||""),T=T.toUpperCase(),!h[T])if(new RegExp("\\b"+T+"\\b","i").test(p)){var I=a.pid;h[T]=function(){var M=i.format.apply(i,arguments);console.error("%s %d: %s",T,I,M)}}else h[T]=function(){};return h[T]},i.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=_,i.isBoolean=g,i.isNull=y,i.isNullOrUndefined=function(T){return T==null},i.isNumber=b,i.isString=C,i.isSymbol=function(T){return s(T)==="symbol"},i.isUndefined=w,i.isRegExp=x,i.isObject=A,i.isDate=D,i.isError=P,i.isFunction=k,i.isPrimitive=function(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||s(T)==="symbol"||T===void 0},i.isBuffer=r("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var T=new Date,I=[E(T.getHours()),E(T.getMinutes()),E(T.getSeconds())].join(":");return[T.getDate(),O[T.getMonth()],I].join(" ")}function R(T,I){return Object.prototype.hasOwnProperty.call(T,I)}i.log=function(){console.log("%s - %s",S(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(T,I){if(!I||!A(I))return T;for(var M=Object.keys(I),N=M.length;N--;)T[M[N]]=I[M[N]];return T}}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":524,_process:467,inherits:523}],526:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return f.default}});var a=u(r("./v1.js")),o=u(r("./v3.js")),s=u(r("./v4.js")),l=u(r("./v5.js")),p=u(r("./nil.js")),h=u(r("./version.js")),m=u(r("./validate.js")),v=u(r("./stringify.js")),f=u(r("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}},{"./nil.js":528,"./parse.js":529,"./stringify.js":533,"./v1.js":534,"./v3.js":535,"./v4.js":537,"./v5.js":538,"./validate.js":539,"./version.js":540}],527:[function(r,n,i){function a(f){return 14+(f+64>>>9<<4)+1}function o(f,u){var c=(65535&f)+(65535&u);return(f>>16)+(u>>16)+(c>>16)<<16|65535&c}function s(f,u,c,d,_,g){return o((y=o(o(u,f),o(d,g)))<<(b=_)|y>>>32-b,c);var y,b}function l(f,u,c,d,_,g,y){return s(u&c|~u&d,f,u,_,g,y)}function p(f,u,c,d,_,g,y){return s(u&d|c&~d,f,u,_,g,y)}function h(f,u,c,d,_,g,y){return s(u^c^d,f,u,_,g,y)}function m(f,u,c,d,_,g,y){return s(c^(u|~d),f,u,_,g,y)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var v=function(f){if(typeof f=="string"){var u=unescape(encodeURIComponent(f));f=new Uint8Array(u.length);for(var c=0;c<u.length;++c)f[c]=u.charCodeAt(c)}return function(d){for(var _=[],g=32*d.length,y=0;y<g;y+=8){var b=d[y>>5]>>>y%32&255,C=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);_.push(C)}return _}(function(d,_){d[_>>5]|=128<<_%32,d[a(_)-1]=_;for(var g=1732584193,y=-271733879,b=-1732584194,C=271733878,w=0;w<d.length;w+=16){var x=g,A=y,D=b,P=C;g=l(g,y,b,C,d[w],7,-680876936),C=l(C,g,y,b,d[w+1],12,-389564586),b=l(b,C,g,y,d[w+2],17,606105819),y=l(y,b,C,g,d[w+3],22,-1044525330),g=l(g,y,b,C,d[w+4],7,-176418897),C=l(C,g,y,b,d[w+5],12,1200080426),b=l(b,C,g,y,d[w+6],17,-1473231341),y=l(y,b,C,g,d[w+7],22,-45705983),g=l(g,y,b,C,d[w+8],7,1770035416),C=l(C,g,y,b,d[w+9],12,-1958414417),b=l(b,C,g,y,d[w+10],17,-42063),y=l(y,b,C,g,d[w+11],22,-1990404162),g=l(g,y,b,C,d[w+12],7,1804603682),C=l(C,g,y,b,d[w+13],12,-40341101),b=l(b,C,g,y,d[w+14],17,-1502002290),y=l(y,b,C,g,d[w+15],22,1236535329),g=p(g,y,b,C,d[w+1],5,-165796510),C=p(C,g,y,b,d[w+6],9,-1069501632),b=p(b,C,g,y,d[w+11],14,643717713),y=p(y,b,C,g,d[w],20,-373897302),g=p(g,y,b,C,d[w+5],5,-701558691),C=p(C,g,y,b,d[w+10],9,38016083),b=p(b,C,g,y,d[w+15],14,-660478335),y=p(y,b,C,g,d[w+4],20,-405537848),g=p(g,y,b,C,d[w+9],5,568446438),C=p(C,g,y,b,d[w+14],9,-1019803690),b=p(b,C,g,y,d[w+3],14,-187363961),y=p(y,b,C,g,d[w+8],20,1163531501),g=p(g,y,b,C,d[w+13],5,-1444681467),C=p(C,g,y,b,d[w+2],9,-51403784),b=p(b,C,g,y,d[w+7],14,1735328473),y=p(y,b,C,g,d[w+12],20,-1926607734),g=h(g,y,b,C,d[w+5],4,-378558),C=h(C,g,y,b,d[w+8],11,-2022574463),b=h(b,C,g,y,d[w+11],16,1839030562),y=h(y,b,C,g,d[w+14],23,-35309556),g=h(g,y,b,C,d[w+1],4,-1530992060),C=h(C,g,y,b,d[w+4],11,1272893353),b=h(b,C,g,y,d[w+7],16,-155497632),y=h(y,b,C,g,d[w+10],23,-1094730640),g=h(g,y,b,C,d[w+13],4,681279174),C=h(C,g,y,b,d[w],11,-358537222),b=h(b,C,g,y,d[w+3],16,-722521979),y=h(y,b,C,g,d[w+6],23,76029189),g=h(g,y,b,C,d[w+9],4,-640364487),C=h(C,g,y,b,d[w+12],11,-421815835),b=h(b,C,g,y,d[w+15],16,530742520),y=h(y,b,C,g,d[w+2],23,-995338651),g=m(g,y,b,C,d[w],6,-198630844),C=m(C,g,y,b,d[w+7],10,1126891415),b=m(b,C,g,y,d[w+14],15,-1416354905),y=m(y,b,C,g,d[w+5],21,-57434055),g=m(g,y,b,C,d[w+12],6,1700485571),C=m(C,g,y,b,d[w+3],10,-1894986606),b=m(b,C,g,y,d[w+10],15,-1051523),y=m(y,b,C,g,d[w+1],21,-2054922799),g=m(g,y,b,C,d[w+8],6,1873313359),C=m(C,g,y,b,d[w+15],10,-30611744),b=m(b,C,g,y,d[w+6],15,-1560198380),y=m(y,b,C,g,d[w+13],21,1309151649),g=m(g,y,b,C,d[w+4],6,-145523070),C=m(C,g,y,b,d[w+11],10,-1120210379),b=m(b,C,g,y,d[w+2],15,718787259),y=m(y,b,C,g,d[w+9],21,-343485551),g=o(g,x),y=o(y,A),b=o(b,D),C=o(C,P)}return[g,y,b,C]}(function(d){if(d.length===0)return[];for(var _=8*d.length,g=new Uint32Array(a(_)),y=0;y<_;y+=8)g[y>>5]|=(255&d[y/8])<<y%32;return g}(f),8*f.length))};i.default=v},{}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],529:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=r("./validate.js"))&&a.__esModule?a:{default:a},s=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");var p,h=new Uint8Array(16);return h[0]=(p=parseInt(l.slice(0,8),16))>>>24,h[1]=p>>>16&255,h[2]=p>>>8&255,h[3]=255&p,h[4]=(p=parseInt(l.slice(9,13),16))>>>8,h[5]=255&p,h[6]=(p=parseInt(l.slice(14,18),16))>>>8,h[7]=255&p,h[8]=(p=parseInt(l.slice(19,23),16))>>>8,h[9]=255&p,h[10]=(p=parseInt(l.slice(24,36),16))/1099511627776&255,h[11]=p/4294967296&255,h[12]=p>>>24&255,h[13]=p>>>16&255,h[14]=p>>>8&255,h[15]=255&p,h};i.default=s},{"./validate.js":539}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)};var a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16)},{}],532:[function(r,n,i){function a(l,p,h,m){switch(l){case 0:return p&h^~p&m;case 1:return p^h^m;case 2:return p&h^p&m^h&m;case 3:return p^h^m}}function o(l,p){return l<<p|l>>>32-p}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=function(l){var p=[1518500249,1859775393,2400959708,3395469782],h=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){var m=unescape(encodeURIComponent(l));l=[];for(var v=0;v<m.length;++v)l.push(m.charCodeAt(v))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);for(var f=l.length/4+2,u=Math.ceil(f/16),c=new Array(u),d=0;d<u;++d){for(var _=new Uint32Array(16),g=0;g<16;++g)_[g]=l[64*d+4*g]<<24|l[64*d+4*g+1]<<16|l[64*d+4*g+2]<<8|l[64*d+4*g+3];c[d]=_}c[u-1][14]=8*(l.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(l.length-1)&4294967295;for(var y=0;y<u;++y){for(var b=new Uint32Array(80),C=0;C<16;++C)b[C]=c[y][C];for(var w=16;w<80;++w)b[w]=o(b[w-3]^b[w-8]^b[w-14]^b[w-16],1);for(var x=h[0],A=h[1],D=h[2],P=h[3],k=h[4],B=0;B<80;++B){var E=Math.floor(B/20),O=o(x,5)+a(E,A,D,P)+k+p[E]+b[B]>>>0;k=P,P=D,D=o(A,30)>>>0,A=x,x=O}h[0]=h[0]+x>>>0,h[1]=h[1]+A>>>0,h[2]=h[2]+D>>>0,h[3]=h[3]+P>>>0,h[4]=h[4]+k>>>0}return[h[0]>>24&255,h[0]>>16&255,h[0]>>8&255,255&h[0],h[1]>>24&255,h[1]>>16&255,h[1]>>8&255,255&h[1],h[2]>>24&255,h[2]>>16&255,h[2]>>8&255,255&h[2],h[3]>>24&255,h[3]>>16&255,h[3]>>8&255,255&h[3],h[4]>>24&255,h[4]>>16&255,h[4]>>8&255,255&h[4]]};i.default=s},{}],533:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;for(var a,o=(a=r("./validate.js"))&&a.__esModule?a:{default:a},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var p=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=(s[h[m+0]]+s[h[m+1]]+s[h[m+2]]+s[h[m+3]]+"-"+s[h[m+4]]+s[h[m+5]]+"-"+s[h[m+6]]+s[h[m+7]]+"-"+s[h[m+8]]+s[h[m+9]]+"-"+s[h[m+10]]+s[h[m+11]]+s[h[m+12]]+s[h[m+13]]+s[h[m+14]]+s[h[m+15]]).toLowerCase();if(!(0,o.default)(v))throw TypeError("Stringified UUID is invalid");return v};i.default=p},{"./validate.js":539}],534:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o,s=p(r("./rng.js")),l=p(r("./stringify.js"));function p(f){return f&&f.__esModule?f:{default:f}}var h=0,m=0,v=function(f,u,c){var d=u&&c||0,_=u||new Array(16),g=(f=f||{}).node||a,y=f.clockseq!==void 0?f.clockseq:o;if(g==null||y==null){var b=f.random||(f.rng||s.default)();g==null&&(g=a=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),y==null&&(y=o=16383&(b[6]<<8|b[7]))}var C=f.msecs!==void 0?f.msecs:Date.now(),w=f.nsecs!==void 0?f.nsecs:m+1,x=C-h+(w-m)/1e4;if(x<0&&f.clockseq===void 0&&(y=y+1&16383),(x<0||C>h)&&f.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=C,m=w,o=y;var A=(1e4*(268435455&(C+=122192928e5))+w)%4294967296;_[d++]=A>>>24&255,_[d++]=A>>>16&255,_[d++]=A>>>8&255,_[d++]=255&A;var D=C/4294967296*1e4&268435455;_[d++]=D>>>8&255,_[d++]=255&D,_[d++]=D>>>24&15|16,_[d++]=D>>>16&255,_[d++]=y>>>8|128,_[d++]=255&y;for(var P=0;P<6;++P)_[d+P]=g[P];return u||(0,l.default)(_)};i.default=v},{"./rng.js":531,"./stringify.js":533}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(r("./v35.js")),o=s(r("./md5.js"));function s(p){return p&&p.__esModule?p:{default:p}}var l=(0,a.default)("v3",48,o.default);i.default=l},{"./md5.js":527,"./v35.js":536}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(h,m,v){function f(u,c,d,_){if(typeof u=="string"&&(u=function(b){b=unescape(encodeURIComponent(b));for(var C=[],w=0;w<b.length;++w)C.push(b.charCodeAt(w));return C}(u)),typeof c=="string"&&(c=(0,o.default)(c)),c.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+u.length);if(g.set(c),g.set(u,c.length),(g=v(g))[6]=15&g[6]|m,g[8]=63&g[8]|128,d){_=_||0;for(var y=0;y<16;++y)d[_+y]=g[y];return d}return(0,a.default)(g)}try{f.name=h}catch{}return f.DNS=l,f.URL=p,f},i.URL=i.DNS=void 0;var a=s(r("./stringify.js")),o=s(r("./parse.js"));function s(h){return h&&h.__esModule?h:{default:h}}var l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;var p="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=p},{"./parse.js":529,"./stringify.js":533}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(r("./rng.js")),o=s(r("./stringify.js"));function s(p){return p&&p.__esModule?p:{default:p}}var l=function(p,h,m){var v=(p=p||{}).random||(p.rng||a.default)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,h){m=m||0;for(var f=0;f<16;++f)h[m+f]=v[f];return h}return(0,o.default)(v)};i.default=l},{"./rng.js":531,"./stringify.js":533}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(r("./v35.js")),o=s(r("./sha1.js"));function s(p){return p&&p.__esModule?p:{default:p}}var l=(0,a.default)("v5",80,o.default);i.default=l},{"./sha1.js":532,"./v35.js":536}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=r("./regex.js"))&&a.__esModule?a:{default:a},s=function(l){return typeof l=="string"&&o.default.test(l)};i.default=s},{"./regex.js":530}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=r("./validate.js"))&&a.__esModule?a:{default:a},s=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=s},{"./validate.js":539}],541:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],542:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],543:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(o){return a(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(M8);var r0e=M8.exports,Ta=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:globalThis;function n0e(t,e){return typeof e>"u"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function yb(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){eg(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function YR(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ZR=Ta.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),eg=Ta.saveAs||(typeof window!="object"||window!==Ta?function(){}:"download"in HTMLAnchorElement.prototype&&!ZR?function(e,r,n){var i=Ta.URL||Ta.webkitURL,a=document.createElement("a");r=r||e.name||"download",a.download=r,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?YR(a.href)?yb(e,r,n):lm(a,a.target="_blank"):lm(a)):(a.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){lm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,n){if(r=r||e.name||"download",typeof e=="string")if(YR(e))yb(e,r,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){lm(i)})}else navigator.msSaveOrOpenBlob(n0e(e,n),r)}:function(e,r,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return yb(e,r,n);var a=e.type==="application/octet-stream",o=/constructor/i.test(Ta.HTMLElement)||Ta.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&o||ZR)&&typeof FileReader<"u"){var l=new FileReader;l.onloadend=function(){var m=l.result;m=s?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},l.readAsDataURL(e)}else{var p=Ta.URL||Ta.webkitURL,h=p.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout(function(){p.revokeObjectURL(h)},4e4)}});Ta.saveAs=eg.saveAs=eg;var i0e={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function a0e(){return i0e[Ii.locale()]}var QR=1632,B8={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},o0e=/a+/g,s0e=/E/g,l0e=/dE+/g,u0e=/L/g,c0e=/h/g,d0e=/./g;function h0e(t,e){var r,n;if(e>0){for(r=t!=="decimal"?".":"",n=0;n<e;n++)r+="0";return r}return""}function f0e(t){for(var e,r=0;r<t.length;r++)if(e=t.charCodeAt(r),e>=QR&&e<QR+10)return!0;return!1}function p0e(t){var e=(_t.format(new Date(2009,8,8,6,5,4),t)||"").toString(),r=Ix(n=>_t.format(n,t));return r&&(r=v0e(r),r=m0e(e)+r),r}function m0e(t){var e=a0e(),r=e?e.toString(16):"",n="";if(f0e(t)){for(;r.length<3;)r="0"+r;n="[$-2010"+r+"]"}else r&&(n="[$-"+r+"]");return n}function v0e(t){return t.split("/").join("\\/").split("'").map(function(e,r){return r%2===0?e.replace(o0e,"AM/PM").replace(l0e,"d").replace(s0e,"d").replace(u0e,"M").replace(c0e,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(d0e,"\\$&"):"'"}).join("")}function g0e(t,e,r){var n,i;return t==="currency"?i=nr.getOpenXmlCurrencyFormat(r):i=B8[t.toLowerCase()],i&&(n=la(i,h0e(t,e))),n}function _0e(t){return!t||t.length<2?!1:L8(t)}function y0e(t,e){return!t||t.length<4||t[0]!==e?!1:L8(t.substring(1,t.length-1))}function L8(t){return t?/^[@=\t\r]/.test(t)?!0:/^[+-]/.test(t)?!qt(t):!1:!1}var bb={formatObjectConverter(t,e){var r={format:t,precision:t&&t.precision,dataType:e};return rt(t)?Y(r,t,{format:t.formatter||t.type,currency:t.currency}):r},convertFormat(t,e,r,n){if(q(t)){if(r==="date")return p0e(t);if(tt(t)&&B8[t.toLowerCase()])return g0e(t,e,n)}},encode(t){var e=!1;if(_0e(t)?e=!0:y0e(t,'"')&&(t=t.substring(1,t.length-1),e=!0),e){var r="".concat('"').concat('"');return`"'`+t.replaceAll('"',r)+'"'}return t}},b0e="dx-export-loadpanel";class C0e{constructor(e,r,n,i){this._$targetElement=r,this._$container=n,this._loadPanel=e._createComponent(V("<div>").addClass(b0e).appendTo(this._$container),Vg,this.getOptions(i))}getDefaultOptions(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}}getOptions(e){return q(e.text)?e.message=e.text:e.message=he.format("dxDataGrid-exporting"),Y(this.getDefaultOptions(),e)}show(){this._loadPanel.option("position",Te.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()}dispose(){V(this._loadPanel.element()).remove(),delete this._loadPanel}}var w0e=7,x0e=255,F8={getFullOptions(t){var e=Y({},t);if(!(q(e.worksheet)&&rt(e.worksheet)))throw Error('The "worksheet" field must contain an object.');if(!q(e.topLeftCell))e.topLeftCell={row:1,column:1};else if(tt(e.topLeftCell)){var{row:r,col:n}=e.worksheet.getCell(e.topLeftCell);e.topLeftCell={row:r,column:n}}return q(e.keepColumnWidths)||(e.keepColumnWidths=!0),q(e.loadPanel)||(e.loadPanel={}),q(e.loadPanel.enabled)||(e.loadPanel.enabled=!0),q(e.encodeExecutableContent)||(e.encodeExecutableContent=!1),e},convertDateForExcelJS:t=>new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())),setNumberFormat(t,e){t.numFmt=e},getCellStyles(t){var e=t.getStyles();return e.forEach(r=>{var n=this.tryConvertToExcelNumberFormat(r.format,r.dataType);q(n)&&(n=n.replace(/&quot;/g,'"')),r.numberFormat=n}),e},tryConvertToExcelNumberFormat(t,e){var r=bb.formatObjectConverter(t,e),n=r.currency;return t=r.format,e=r.dataType,bb.convertFormat(t,r.precision,e,n)},setAlignment(t,e,r){var n;t.alignment=(n=t.alignment)!==null&&n!==void 0?n:{},q(e)&&(t.alignment.wrapText=e),q(r)&&(t.alignment.horizontal=r),t.alignment.vertical="top"},setColumnsWidth(t,e,r){if(q(e))for(var n=0;n<e.length;n++){var i=e[n];typeof i=="number"&&isFinite(i)&&(t.getColumn(r+n).width=Math.min(x0e,Math.floor(i/w0e*100)/100))}},export(t,e,r,n){var i,{component:a,worksheet:o,topLeftCell:s,keepColumnWidths:l,selectedRowsOnly:p,loadPanel:h,encodeExecutableContent:m}=t,v=a.getDataProvider(p),f=((i=a._getInternalInstance)===null||i===void 0?void 0:i.call(a))||a,u=f.option("loadPanel")&&f.option("loadPanel").enabled;u&&a.option("loadPanel.enabled",!1);var c;if(h.enabled&&lt()){var d=r(a),_=n(a);c=new C0e(a,d,_,h),c.show()}var g=!!a.option("wordWrapEnabled");o.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};var y={from:{row:s.row,column:s.column},to:{row:s.row,column:s.column}};return new Promise(b=>{v.ready().done(()=>{var C=v.getColumns(),w=v.getRowsCount(),x=new e(a,v,o,t);l&&this.setColumnsWidth(o,v.getColumnsWidths(),y.from.column),x._exportAllFieldHeaders(C,this.setAlignment);var A=x._getFieldHeaderRowsCount();y.to.row=y.from.row+A;for(var D=this.getCellStyles(v),P=0;P<w;P++){var k=y.from.row+A+P,B=o.getRow(k),E=0;x._isRowFieldHeadersRow(P)&&(E=v.getRowAreaColCount(),x._exportFieldHeaders("row",k,0,E,this.setAlignment)),x._trySetOutlineLevel(B,P),this.exportRow(v,x,B,P,E,C.length,g,D,m),y.to.row=k}x.mergedRangesManager.applyMergedRages(),y.to.column+=C.length>0?C.length-1:0;var O=o.views[0]||{};a.option("rtlEnabled")&&(O.rightToLeft=!0),x._isFrozenZone(v)&&(Object.keys(O).indexOf("state")===-1&&Y(O,x._getWorksheetFrozenState(y)),x._trySetAutoFilter(y)),Object.keys(O).length>0&&(o.views=[O]),b(y)}).always(()=>{u&&a.option("loadPanel.enabled",u),h.enabled&&lt()&&c.dispose()})})},exportRow(t,e,r,n,i,a,o,s,l){for(var p=i;p<a;p++){var h=t.getCellData(n,p,!0),m=r.getCell(e._getFirstColumnIndex()+p);e.mergedRangesManager.updateMergedRanges(m,n,p,e);var v=e.mergedRangesManager.findMergedCellInfo(n,p,e._isHeaderCell(n,p));if(q(v)&&m!==v.masterCell)m.style=v.masterCell.style,m.value=v.masterCell.value;else if(Kn(h.value)?m.value=this.convertDateForExcelJS(h.value):m.value=h.value,q(m.value)){var{bold:f,alignment:u,numberFormat:c}=s[t.getStyleId(n,p)];q(c)?this.setNumberFormat(m,c):tt(m.value)&&/^[@=+-]/.test(m.value)&&this.setNumberFormat(m,"@"),e._trySetFont(m,f),this.setAlignment(m,o,u)}e._customizeCell(m,h.cellSourceData),l&&(m.value=bb.encode(m.value))}}};class S0e{constructor(e,r){this.dataProvider=e,this.worksheet=r,this.mergedCells=[],this.mergedRanges=[]}updateMergedRanges(e,r,n,i){if(i._isHeaderCell(r,n)&&!this.isCellInMergedRanges(r,n)){var{rowspan:a,colspan:o}=this.dataProvider.getCellMerging(r,n),s=o||a;if(s){var l=i._allowToMergeRange(r,n,a,o);if(this.updateMergedCells(e,r,n,a,o),l){var p=i._isInfoCell(r,n)&&i._allowExportRowFieldHeaders();this.mergedRanges.push({masterCell:e,rowspan:a-(p&&a>0),colspan:o})}}}}isCellInMergedRanges(e,r){return this.mergedCells[e]&&this.mergedCells[e][r]}findMergedCellInfo(e,r,n){if(n&&this.isCellInMergedRanges(e,r))return this.mergedCells[e][r]}updateMergedCells(e,r,n,i,a){for(var o=r;o<=r+i;o++)for(var s=n;s<=n+a;s++)this.mergedCells[o]||(this.mergedCells[o]=[]),this.mergedCells[o][s]={masterCell:e}}addMergedRange(e,r,n){this.mergedRanges.push({masterCell:e,rowspan:r,colspan:n})}applyMergedRages(){this.mergedRanges.forEach(e=>{var r=e.masterCell.fullAddress.row,n=e.masterCell.fullAddress.col,i=r+e.rowspan,a=n+e.colspan;this.worksheet.mergeCells(r,n,i,a)})}}class E0e{constructor(e,r,n,i){this.component=e,this.dataProvider=r,this.worksheet=n,this.mergedRangesManager=new S0e(r,n),this.topLeftCell=i.topLeftCell,this.customizeCell=i.customizeCell,this.autoFilterEnabled=i.autoFilterEnabled}_getFirstColumnIndex(){return this.topLeftCell.column}_getFieldHeaderRowsCount(){return 0}_trySetAutoFilter(e){if(this.autoFilterEnabled&&!q(this.worksheet.autoFilter)&&this.dataProvider.getRowsCount()>0){var r={from:{row:e.from.row+this.dataProvider.getHeaderRowCount()-1,column:e.from.column},to:e.to};this.worksheet.autoFilter=r}}_trySetFont(e,r){q(r)&&(e.font=e.font||{},e.font.bold=r)}_getWorksheetFrozenState(e){return{state:"frozen",ySplit:e.from.row+this.dataProvider.getFrozenArea().y-1}}_trySetOutlineLevel(e,r){r>=this.dataProvider.getHeaderRowCount()&&(e.outlineLevel=this.dataProvider.getGroupLevel(r))}_isFrozenZone(e){return e.getHeaderRowCount()>0}_isHeaderCell(e){return e<this.dataProvider.getHeaderRowCount()}_isInfoCell(){return!1}_allowToMergeRange(){return!0}_getAllFieldHeaders(){return[]}_customizeCell(e,r){Me(this.customizeCell)&&this.customizeCell({excelCell:e,gridCell:r})}_exportFieldHeaders(){}_exportAllFieldHeaders(){}_isRowFieldHeadersRow(){}}function I0e(t){return F8.export(T0e(t),E0e,O0e,k0e)}function T0e(t){if(!(q(t)&&rt(t)))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(q(t.component)&&rt(t.component)&&t.component.NAME==="dxDataGrid"))throw Error('The "component" field must contain a DataGrid instance.');return q(t.selectedRowsOnly)||(t.selectedRowsOnly=!1),q(t.autoFilterEnabled)||(t.autoFilterEnabled=!1),F8.getFullOptions(t)}function O0e(t){return t.getView("rowsView").element()}function k0e(t){return t.getView("rowsView").element().parent()}function A0e(){const t=e=>{const r=new r0e.Workbook,n=r.addWorksheet("Main sheet");I0e({component:e.component,worksheet:n,autoFilterEnabled:!0}).then(()=>{r.xlsx.writeBuffer().then(i=>{eg(new Blob([i],{type:"application/octet-stream"}),"DataGrid.xlsx")})}),e.cancel=!0};return We.jsx("div",{children:We.jsxs(m_,{id:"gridContainer",dataSource:YS,keyExpr:"EmployeeID",showBorders:!0,onExporting:t,children:[We.jsx(P8,{mode:"multiple"}),We.jsx(D8,{visible:!0}),We.jsx(A8,{autoExpandAll:!0}),We.jsx(Ut,{dataField:"FullName"}),We.jsx(Ut,{dataField:"City"}),We.jsx(Ut,{dataField:"State",groupIndex:0}),We.jsx(Ut,{dataField:"Position",width:130}),We.jsx(Ut,{dataField:"BirthDate",dataType:"date",width:100}),We.jsx(Ut,{dataField:"HireDate",dataType:"date",width:100}),We.jsx(k8,{enabled:!0,allowExportSelectedData:!0})]})})}const D0e=[{ID:1,Prefix:"Mr.",FirstName:"John",LastName:"Heart",Position:"CEO",State:"California",BirthDate:"1964/03/16"},{ID:2,Prefix:"Mrs.",FirstName:"Olivia",LastName:"Peyton",Position:"Sales Assistant",State:"California",BirthDate:"1981/06/03"},{ID:3,Prefix:"Mr.",FirstName:"Robert",LastName:"Reagan",Position:"CMO",State:"Arkansas",BirthDate:"1974/09/07"},{ID:4,Prefix:"Ms.",FirstName:"Greta",LastName:"Sims",Position:"HR Manager",State:"Georgia",BirthDate:"1977/11/22"},{ID:5,Prefix:"Mr.",FirstName:"Brett",LastName:"Wade",Position:"IT Manager",State:"Idaho",BirthDate:"1968/12/01"},{ID:6,Prefix:"Mrs.",FirstName:"Sandra",LastName:"Johnson",Position:"Controller",State:"Utah",BirthDate:"1974/11/15"},{ID:7,Prefix:"Mr.",FirstName:"Kevin",LastName:"Carter",Position:"Shipping Manager",State:"California",BirthDate:"1978/01/09"},{ID:8,Prefix:"Ms.",FirstName:"Cynthia",LastName:"Stanwick",Position:"HR Assistant",State:"Arkansas",BirthDate:"1985/06/05"},{ID:9,Prefix:"Dr.",FirstName:"Kent",LastName:"Samuelson",Position:"Ombudsman",State:"Missouri",BirthDate:"1972/09/11"}],R0e=[{ID:1,Subject:"Prepare 2013 Financial",StartDate:"2013/01/15",DueDate:"2013/01/31",Status:"Completed",Priority:"High",Completion:100,EmployeeID:8},{ID:2,Subject:"Prepare 3013 Marketing Plan",StartDate:"2013/01/01",DueDate:"2013/01/31",Status:"Completed",Priority:"High",Completion:100,EmployeeID:5},{ID:3,Subject:"Update Personnel Files",StartDate:"2013/02/03",DueDate:"2013/02/28",Status:"Completed",Priority:"High",Completion:100,EmployeeID:2},{ID:4,Subject:"Review Health Insurance Options Under the Affordable Care Act",StartDate:"2013/02/12",DueDate:"2013/04/25",Status:"In Progress",Priority:"High",Completion:50,EmployeeID:2},{ID:5,Subject:"Choose between PPO and HMO Health Plan",StartDate:"2013/02/15",DueDate:"2013/04/15",Status:"In Progress",Priority:"High",Completion:75,EmployeeID:1},{ID:6,Subject:"Google AdWords Strategy",StartDate:"2013/02/16",DueDate:"2013/02/28",Status:"Completed",Priority:"High",Completion:100,EmployeeID:1},{ID:7,Subject:"New Brochures",StartDate:"2013/02/17",DueDate:"2013/02/24",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:1},{ID:11,Subject:"Rollout of New Website and Marketing Brochures",StartDate:"2013/02/20",DueDate:"2013/02/28",Status:"Completed",Priority:"High",Completion:100,EmployeeID:5},{ID:12,Subject:"Update Sales Strategy Documents",StartDate:"2013/02/20",DueDate:"2013/02/22",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:9},{ID:15,Subject:"Review 2012 Sales Report and Approve 2013 Plans",StartDate:"2013/02/23",DueDate:"2013/02/28",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:5},{ID:16,Subject:"Deliver R&D Plans for 2013",StartDate:"2013/03/01",DueDate:"2013/03/10",Status:"Completed",Priority:"High",Completion:100,EmployeeID:3},{ID:20,Subject:"Approve Hiring of John Jeffers",StartDate:"2013/03/02",DueDate:"2013/03/12",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:4},{ID:20,Subject:"Approve Hiring of John Jeffers",StartDate:"2013/03/02",DueDate:"2013/03/12",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:6},{ID:21,Subject:"Non-Compete Agreements",StartDate:"2013/03/12",DueDate:"2013/03/14",Status:"Completed",Priority:"Low",Completion:100,EmployeeID:2},{ID:22,Subject:"Update NDA Agreement",StartDate:"2013/03/14",DueDate:"2013/03/16",Status:"Completed",Priority:"High",Completion:100,EmployeeID:1},{ID:23,Subject:"Update Employee Files with New NDA",StartDate:"2013/03/16",DueDate:"2013/03/26",Status:"Need Assistance",Priority:"Normal",Completion:90,EmployeeID:4},{ID:24,Subject:"Update Employee Files with New NDA",StartDate:"2013/03/16",DueDate:"2013/03/26",Status:"Need Assistance",Priority:"Normal",Completion:90,EmployeeID:6},{ID:25,Subject:"Sign Updated NDA",StartDate:"2013/03/20",DueDate:"2013/03/25",Status:"Completed",Priority:"Urgent",Completion:100,EmployeeID:7},{ID:26,Subject:"Sign Updated NDA",StartDate:"2013/03/20",DueDate:"2013/03/25",Status:"Completed",Priority:"Urgent",Completion:100,EmployeeID:8},{ID:27,Subject:"Sign Updated NDA",StartDate:"2013/03/20",DueDate:"2013/03/25",Status:"Need Assistance",Priority:"Urgent",Completion:25,EmployeeID:9},{ID:35,Subject:"Update Revenue Projections",StartDate:"2013/03/24",DueDate:"2013/04/07",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:8},{ID:36,Subject:"Review Revenue Projections",StartDate:"2013/03/25",DueDate:"2013/04/06",Status:"Completed",Priority:"High",Completion:100,EmployeeID:9},{ID:40,Subject:"Provide New Health Insurance Docs",StartDate:"2013/03/28",DueDate:"2013/04/07",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:4},{ID:41,Subject:"Provide New Health Insurance Docs",StartDate:"2013/03/28",DueDate:"2013/04/07",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:6},{ID:50,Subject:"Give Final Approval for Refunds",StartDate:"2013/05/05",DueDate:"2013/05/15",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:2},{ID:52,Subject:"Review Product Recall Report by Engineering Team",StartDate:"2013/05/17",DueDate:"2013/05/20",Status:"Completed",Priority:"High",Completion:100,EmployeeID:1},{ID:55,Subject:"Review Overtime Report",StartDate:"2013/06/10",DueDate:"2013/06/14",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:7},{ID:60,Subject:"Refund Request Template",StartDate:"2013/06/17",DueDate:"2014/04/01",Status:"Deferred",Priority:"Normal",Completion:0,EmployeeID:9},{ID:71,Subject:"Upgrade Server Hardware",StartDate:"2013/07/22",DueDate:"2013/07/31",Status:"Completed",Priority:"Urgent",Completion:100,EmployeeID:7},{ID:72,Subject:"Upgrade Personal Computers",StartDate:"2013/07/24",DueDate:"2014/04/30",Status:"In Progress",Priority:"Normal",Completion:85,EmployeeID:7},{ID:74,Subject:"Decide on Mobile Devices to Use in the Field",StartDate:"2013/07/30",DueDate:"2013/08/02",Status:"Completed",Priority:"High",Completion:100,EmployeeID:3},{ID:78,Subject:"Try New Touch-Enabled WinForms Apps",StartDate:"2013/08/11",DueDate:"2013/08/15",Status:"Completed",Priority:"Normal",Completion:100,EmployeeID:3},{ID:81,Subject:"Review Site Up-Time Report",StartDate:"2013/08/24",DueDate:"2013/08/30",Status:"Completed",Priority:"Urgent",Completion:100,EmployeeID:5},{ID:99,Subject:"Submit D&B Number to ISP for Credit Approval",StartDate:"2013/11/04",DueDate:"2013/11/07",Status:"Completed",Priority:"High",Completion:100,EmployeeID:8},{ID:117,Subject:"Approval on Converting to New HDMI Specification",StartDate:"2014/01/11",DueDate:"2014/01/31",Status:"Deferred",Priority:"Normal",Completion:75,EmployeeID:3},{ID:138,Subject:"Review HR Budget Company Wide",StartDate:"2014/03/20",DueDate:"2014/03/25",Status:"In Progress",Priority:"Normal",Completion:40,EmployeeID:6},{ID:145,Subject:"Final Budget Review",StartDate:"2014/03/26",DueDate:"2014/03/27",Status:"In Progress",Priority:"High",Completion:25,EmployeeID:6}],N8={getEmployees(){return D0e},getTasks(){return R0e}},P0e=N8.getTasks();class M0e extends Na.Component{constructor(e){super(e),this.dataSource=B0e(e.data.key)}render(){const{FirstName:e,LastName:r}=this.props.data.data;return We.jsxs(Na.Fragment,{children:[We.jsx("div",{className:"master-detail-caption",children:`${e} ${r}'s Tasks:`}),We.jsxs(XS,{dataSource:this.dataSource,showBorders:!0,columnAutoWidth:!0,children:[We.jsx(Ut,{dataField:"Subject"}),We.jsx(Ut,{dataField:"StartDate",dataType:"date"}),We.jsx(Ut,{dataField:"DueDate",dataType:"date"}),We.jsx(Ut,{dataField:"Priority"}),We.jsx(Ut,{caption:"Completed",dataType:"boolean",calculateCellValue:this.completedValue})]})]})}completedValue(e){return e.Status==="Completed"}}function B0e(t){return new Va({store:new Tc({data:P0e,key:"ID"}),filter:["EmployeeID","=",t]})}const L0e=N8.getEmployees();class F0e extends Na.Component{render(){return We.jsxs(m_,{id:"grid-container",dataSource:L0e,keyExpr:"ID",showBorders:!0,children:[We.jsx(Ut,{dataField:"Prefix",width:70,caption:"Title"}),We.jsx(Ut,{dataField:"FirstName"}),We.jsx(Ut,{dataField:"LastName"}),We.jsx(Ut,{dataField:"Position",width:170}),We.jsx(Ut,{dataField:"State",width:125}),We.jsx(Ut,{dataField:"BirthDate",dataType:"date"}),We.jsx(R8,{enabled:!0,component:M0e})]})}}function N0e(){return We.jsx("div",{className:"App",children:We.jsxs(z1,{children:[We.jsxs(W1,{children:[We.jsx(Ks,{children:"Demo 1"}),We.jsx(Ks,{children:"Demo 2"}),We.jsx(Ks,{children:"Demo 3"}),We.jsx(Ks,{children:"Demo 4"}),We.jsx(Ks,{children:"Demo 5"})]}),We.jsxs(qs,{children:[We.jsx("h2",{className:"center-text",children:"Simple Grid"}),We.jsx("p",{className:"center-text",children:"Here you can change the column position"}),We.jsx(k_e,{})]}),We.jsxs(qs,{children:[We.jsx("h2",{className:"center-text",children:"Grid with Column resize"}),We.jsx(J_e,{})]}),We.jsxs(qs,{children:[We.jsx("h2",{className:"center-text",children:"Hide/Unhide column"}),We.jsx(e0e,{})]}),We.jsxs(qs,{children:[We.jsx("h2",{className:"center-text",children:"Export"}),We.jsx(A0e,{})]}),We.jsxs(qs,{children:[We.jsx("h2",{className:"center-text",children:"Export"}),We.jsx(F0e,{})]})]})})}Cb.createRoot(document.getElementById("root")).render(We.jsx(Na.StrictMode,{children:We.jsx(N0e,{})}));
